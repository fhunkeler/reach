/*!
 * The MIT License (MIT)
 * 
 * Copyright (c) 2015 Webcom
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["Reach"] = factory();
	else
		root["Reach"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Reach=undefined;var _classCallCheck2=__webpack_require__(1),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(2),_createClass3=_interopRequireDefault(_createClass2),_adapter=__webpack_require__(21),_adapter2=_interopRequireDefault(_adapter),_actions=__webpack_require__(22),_actions2=_interopRequireDefault(_actions),_datarefs=__webpack_require__(23),_datarefs2=_interopRequireDefault(_datarefs),_reach=__webpack_require__(24),_reach2=_interopRequireDefault(_reach),_room=__webpack_require__(48),_room2=_interopRequireDefault(_room),_webrtcmngr=__webpack_require__(50),_webrtcmngr2=_interopRequireDefault(_webrtcmngr);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var Reach=exports.Reach=function(){function Reach(){var url=arguments.length<=0||arguments[0]===undefined?'http://webcom.orange.com/base/webrtc':arguments[0];(0,_classCallCheck3.default)(this,Reach);this.datarefs=(0,_datarefs2.default)(url);this.webrtcmngr=(0,_webrtcmngr2.default)(this.datarefs);this.webrtcmngr.setWebrtcManger(this.webrtcmngr);}(0,_createClass3.default)(Reach,[{key:'Room',value:function Room(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _room2.default.apply(undefined,args.concat([this.datarefs,this.webrtcmngr]));}},{key:'Reach',value:function Reach(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return _reach2.default.apply(undefined,args.concat([this.datarefs]));}}],[{key:'version',get:function get(){return ('1.0.5');}},{key:'actions',get:function get(){return _actions2.default;}}]);return Reach;}();module.exports=Reach;

/***/ },
/* 1 */
/***/ function(module, exports) {

	"use strict";
	
	exports.__esModule = true;
	
	exports.default = function (instance, Constructor) {
	  if (!(instance instanceof Constructor)) {
	    throw new TypeError("Cannot call a class as a function");
	  }
	};

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	exports.__esModule = true;
	
	var _defineProperty = __webpack_require__(3);
	
	var _defineProperty2 = _interopRequireDefault(_defineProperty);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	exports.default = function () {
	  function defineProperties(target, props) {
	    for (var i = 0; i < props.length; i++) {
	      var descriptor = props[i];
	      descriptor.enumerable = descriptor.enumerable || false;
	      descriptor.configurable = true;
	      if ("value" in descriptor) descriptor.writable = true;
	      (0, _defineProperty2.default)(target, descriptor.key, descriptor);
	    }
	  }
	
	  return function (Constructor, protoProps, staticProps) {
	    if (protoProps) defineProperties(Constructor.prototype, protoProps);
	    if (staticProps) defineProperties(Constructor, staticProps);
	    return Constructor;
	  };
	}();

/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(4), __esModule: true };

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(5);
	var $Object = __webpack_require__(8).Object;
	module.exports = function defineProperty(it, key, desc){
	  return $Object.defineProperty(it, key, desc);
	};

/***/ },
/* 5 */
/***/ function(module, exports, __webpack_require__) {

	var $export = __webpack_require__(6);
	// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)
	$export($export.S + $export.F * !__webpack_require__(16), 'Object', {defineProperty: __webpack_require__(12).f});

/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

	var global    = __webpack_require__(7)
	  , core      = __webpack_require__(8)
	  , ctx       = __webpack_require__(9)
	  , hide      = __webpack_require__(11)
	  , PROTOTYPE = 'prototype';
	
	var $export = function(type, name, source){
	  var IS_FORCED = type & $export.F
	    , IS_GLOBAL = type & $export.G
	    , IS_STATIC = type & $export.S
	    , IS_PROTO  = type & $export.P
	    , IS_BIND   = type & $export.B
	    , IS_WRAP   = type & $export.W
	    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})
	    , expProto  = exports[PROTOTYPE]
	    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]
	    , key, own, out;
	  if(IS_GLOBAL)source = name;
	  for(key in source){
	    // contains in native
	    own = !IS_FORCED && target && target[key] !== undefined;
	    if(own && key in exports)continue;
	    // export native or passed
	    out = own ? target[key] : source[key];
	    // prevent global pollution for namespaces
	    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
	    // bind timers to global for call from export context
	    : IS_BIND && own ? ctx(out, global)
	    // wrap global constructors for prevent change them in library
	    : IS_WRAP && target[key] == out ? (function(C){
	      var F = function(a, b, c){
	        if(this instanceof C){
	          switch(arguments.length){
	            case 0: return new C;
	            case 1: return new C(a);
	            case 2: return new C(a, b);
	          } return new C(a, b, c);
	        } return C.apply(this, arguments);
	      };
	      F[PROTOTYPE] = C[PROTOTYPE];
	      return F;
	    // make static versions for prototype methods
	    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
	    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%
	    if(IS_PROTO){
	      (exports.virtual || (exports.virtual = {}))[key] = out;
	      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%
	      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);
	    }
	  }
	};
	// type bitmap
	$export.F = 1;   // forced
	$export.G = 2;   // global
	$export.S = 4;   // static
	$export.P = 8;   // proto
	$export.B = 16;  // bind
	$export.W = 32;  // wrap
	$export.U = 64;  // safe
	$export.R = 128; // real proto method for `library` 
	module.exports = $export;

/***/ },
/* 7 */
/***/ function(module, exports) {

	// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
	var global = module.exports = typeof window != 'undefined' && window.Math == Math
	  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();
	if(typeof __g == 'number')__g = global; // eslint-disable-line no-undef

/***/ },
/* 8 */
/***/ function(module, exports) {

	var core = module.exports = {version: '2.4.0'};
	if(typeof __e == 'number')__e = core; // eslint-disable-line no-undef

/***/ },
/* 9 */
/***/ function(module, exports, __webpack_require__) {

	// optional / simple context binding
	var aFunction = __webpack_require__(10);
	module.exports = function(fn, that, length){
	  aFunction(fn);
	  if(that === undefined)return fn;
	  switch(length){
	    case 1: return function(a){
	      return fn.call(that, a);
	    };
	    case 2: return function(a, b){
	      return fn.call(that, a, b);
	    };
	    case 3: return function(a, b, c){
	      return fn.call(that, a, b, c);
	    };
	  }
	  return function(/* ...args */){
	    return fn.apply(that, arguments);
	  };
	};

/***/ },
/* 10 */
/***/ function(module, exports) {

	module.exports = function(it){
	  if(typeof it != 'function')throw TypeError(it + ' is not a function!');
	  return it;
	};

/***/ },
/* 11 */
/***/ function(module, exports, __webpack_require__) {

	var dP         = __webpack_require__(12)
	  , createDesc = __webpack_require__(20);
	module.exports = __webpack_require__(16) ? function(object, key, value){
	  return dP.f(object, key, createDesc(1, value));
	} : function(object, key, value){
	  object[key] = value;
	  return object;
	};

/***/ },
/* 12 */
/***/ function(module, exports, __webpack_require__) {

	var anObject       = __webpack_require__(13)
	  , IE8_DOM_DEFINE = __webpack_require__(15)
	  , toPrimitive    = __webpack_require__(19)
	  , dP             = Object.defineProperty;
	
	exports.f = __webpack_require__(16) ? Object.defineProperty : function defineProperty(O, P, Attributes){
	  anObject(O);
	  P = toPrimitive(P, true);
	  anObject(Attributes);
	  if(IE8_DOM_DEFINE)try {
	    return dP(O, P, Attributes);
	  } catch(e){ /* empty */ }
	  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');
	  if('value' in Attributes)O[P] = Attributes.value;
	  return O;
	};

/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

	var isObject = __webpack_require__(14);
	module.exports = function(it){
	  if(!isObject(it))throw TypeError(it + ' is not an object!');
	  return it;
	};

/***/ },
/* 14 */
/***/ function(module, exports) {

	module.exports = function(it){
	  return typeof it === 'object' ? it !== null : typeof it === 'function';
	};

/***/ },
/* 15 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = !__webpack_require__(16) && !__webpack_require__(17)(function(){
	  return Object.defineProperty(__webpack_require__(18)('div'), 'a', {get: function(){ return 7; }}).a != 7;
	});

/***/ },
/* 16 */
/***/ function(module, exports, __webpack_require__) {

	// Thank's IE8 for his funny defineProperty
	module.exports = !__webpack_require__(17)(function(){
	  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;
	});

/***/ },
/* 17 */
/***/ function(module, exports) {

	module.exports = function(exec){
	  try {
	    return !!exec();
	  } catch(e){
	    return true;
	  }
	};

/***/ },
/* 18 */
/***/ function(module, exports, __webpack_require__) {

	var isObject = __webpack_require__(14)
	  , document = __webpack_require__(7).document
	  // in old IE typeof document.createElement is 'object'
	  , is = isObject(document) && isObject(document.createElement);
	module.exports = function(it){
	  return is ? document.createElement(it) : {};
	};

/***/ },
/* 19 */
/***/ function(module, exports, __webpack_require__) {

	// 7.1.1 ToPrimitive(input [, PreferredType])
	var isObject = __webpack_require__(14);
	// instead of the ES6 spec version, we didn't implement @@toPrimitive case
	// and the second argument - flag - preferred type is a string
	module.exports = function(it, S){
	  if(!isObject(it))return it;
	  var fn, val;
	  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;
	  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;
	  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;
	  throw TypeError("Can't convert object to primitive value");
	};

/***/ },
/* 20 */
/***/ function(module, exports) {

	module.exports = function(bitmap, value){
	  return {
	    enumerable  : !(bitmap & 1),
	    configurable: !(bitmap & 2),
	    writable    : !(bitmap & 4),
	    value       : value
	  };
	};

/***/ },
/* 21 */
/***/ function(module, exports) {

	'use strict';window.RTCPeerConnection=null;window.getUserMedia=null;window.attachMediaStream=null;window.reattachMediaStream=null;window.webrtcDetectedBrowser=null;window.webrtcDetectedVersion=null;function fixIceServer(iceServer){if(iceServer.hasOwnProperty('urls')){iceServer.url=iceServer.urls;delete iceServer.urls;}if(iceServer.hasOwnProperty('url')&&iceServer.url.toLowerCase().startsWith('turns')&&navigator.mozGetUserMedia){console.warn('(ReachSDK::maybeFixConfiguration) '+'turns detected on firefox -> ignore this entry');}}function maybeFixConfiguration(pcConfig){if(pcConfig===null){return;}if(pcConfig.iceServers&&pcConfig.iceServers.length>0){var mTempsServers=[];for(var i=pcConfig.iceServers.length-1;i>=0;i--){var iceServer=pcConfig.iceServers[i];fixIceServer(iceServer);mTempsServers.push(iceServer);}pcConfig.iceServers=mTempsServers;}}function createTurnServerConfig(url,username,password){var legacy=arguments.length<=3||arguments[3]===undefined?false:arguments[3],iceServer=void 0;if(legacy){var turn_url_parts=url.split('?');if(turn_url_parts.length===1||turn_url_parts[1].indexOf('transport=udp')===0){iceServer={url:turn_url_parts[0],credential:password,username:username};}}else {iceServer={url:url,credential:password,username:username};}return iceServer;}if(navigator.mozGetUserMedia){window.webrtcDetectedBrowser='firefox';window.webrtcDetectedVersion=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);window.RTCPeerConnection=function(pcConfig,pcConstraints){maybeFixConfiguration(pcConfig);return new mozRTCPeerConnection(pcConfig,pcConstraints);};window.RTCSessionDescription=mozRTCSessionDescription;window.RTCIceCandidate=mozRTCIceCandidate;window.getUserMedia=navigator.mozGetUserMedia.bind(navigator);navigator.getUserMedia=getUserMedia;window.createIceServer=function(url,username,password){var iceServer=null,url_parts=url.split(':');if(url_parts[0].indexOf('stun')===0){iceServer={url:url};}else if(url_parts[0].indexOf('turn')===0){iceServer=createTurnServerConfig(url,username,password,window.webrtcDetectedVersion<27);}return iceServer;};window.createIceServers=function(urls,username,password){var iceServers=[];for(var i=0;i<urls.length;i++){var iceServer=window.createIceServer(urls[i],username,password);if(iceServer!==null){iceServers.push(iceServer);}}return iceServers;};window.detachMediaStream=function(element){if(element){element.mozSrcObject=null;element.pause();}};window.attachMediaStream=function(element,stream){try{if(element&&stream){element.mozSrcObject=stream;if(element.play&&typeof element.play=='function'){element.play();}else {console.warn('(ReachSDK::attachMediaStream)element.play not available');}}else {console.error('ReachSDK::attachMediaStream->parameters not valid');}}catch(e){console.error('(ReachSDK::attachMediaStream)Exception='+e);}};window.reattachMediaStream=function(to,from){if(to&&from){to.mozSrcObject=from.mozSrcObject;to.play();}else {console.error('ReachSDK::reattachMediaStream->parameters not valid');}};if(!MediaStream.prototype.getVideoTracks){MediaStream.prototype.getVideoTracks=function(){return [];};}if(!MediaStream.prototype.getAudioTracks){MediaStream.prototype.getAudioTracks=function(){return [];};}}else if(navigator.webkitGetUserMedia){window.webrtcDetectedBrowser='chrome';window.webrtcDetectedVersion=parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10);window.createIceServer=function(url,username,password){var iceServer=null,url_parts=url.split(':');if(url_parts[0].indexOf('stun')===0){iceServer={url:url};}else if(url_parts[0].indexOf('turn')===0){iceServer=createTurnServerConfig(url,password,username);}return iceServer;};window.createIceServers=function(urls,username,password){var iceServers=[];if(window.webrtcDetectedVersion>=34){iceServers={urls:urls,credential:password,username:username};}else {for(var i=0;i<urls.length;i++){var iceServer=window.createIceServer(urls[i],username,password);if(iceServer!==null){iceServers.push(iceServer);}}}return iceServers;};window.RTCPeerConnection=function(pcConfig,pcConstraints){if(window.webrtcDetectedVersion<34){maybeFixConfiguration(pcConfig);}return new webkitRTCPeerConnection(pcConfig,pcConstraints);};window.getUserMedia=navigator.webkitGetUserMedia.bind(navigator);navigator.getUserMedia=getUserMedia;window.attachMediaStream=function(element,stream){try{if(element&&stream){element.src=URL.createObjectURL(stream);element.autoplay=true;}else {console.error('ReachSDK::attachMediaStream ->parameters not valid');}}catch(e){console.error('(ReachSDK::attachMediaStream)Exception='+e);}};window.detachMediaStream=function(element){if(element){if(typeof element.srcObject!=='undefined'){element.srcObject='';}else if(typeof element.mozSrcObject!=='undefined'){element.mozSrcObject='';}else if(typeof element.src!=='undefined'){element.src='';}else {console.log('Error attaching stream to element.');}}};window.reattachMediaStream=function(to,from){if(to&&from){to.src=from.src;}else {console.error('ReachSDK::reattachMediaStream media stream->parameters not valid');}};}else {throw new Error('Browser does not appear to be WebRTC-capable');}

/***/ },
/* 22 */
/***/ function(module, exports) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default={ACTION_TYPE_AUDIO:'audio',ACTION_TYPE_VIDEO:'video',ACTION_TYPE_CHAT:'chat',ACTION_TYPE_AUDIO_VIDEO:'audio-video',ACTION_TYPE_SCREEN_SHARING:'screen-sharing',ACTION_TYPE_CALL:'call'};

/***/ },
/* 23 */
/***/ function(module, exports) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(WEBCOMBASE_URL){var _datastore=null,_rooms=null,_reach=null,_webrtc=null,_sipPhoneNumbers=null;function _initChildren(){_rooms=_datastore.child('roomsList');_reach=_datastore.child('reach');_webrtc=_datastore.child('webrtc');_sipPhoneNumbers=_datastore.child('sipPhoneNumbers');}function _init(){_datastore=new Webcom(WEBCOMBASE_URL);_initChildren();}function _setWebcomBaseUrl(p_webcombase_url){_datastore=new Webcom(p_webcombase_url);_initChildren();}function _getWebcomBaseUrl(){if(_datastore){return _datastore.toString();}return undefined;}function _setDatastore(p_datastore){_datastore=p_datastore;_initChildren();}function _getDatastore(){return _datastore;}function _setRooms(p_rooms){_rooms=p_rooms;}function _getRooms(){return _rooms;}function _setReach(p_reach){_reach=p_reach;}function _getReach(){return _reach;}function _setWebrtc(p_webrtc){_webrtc=p_webrtc;}function _getWebrtc(){return _webrtc;}function _setSipPhoneNumbers(p_sipPhoneNumbers){_sipPhoneNumbers=p_sipPhoneNumbers;}function _getSipPhoneNumbers(){return _sipPhoneNumbers;}_init();return {setWebcomBaseUrl:_setWebcomBaseUrl,getWebcomBaseUrl:_getWebcomBaseUrl,setDatastore:_setDatastore,getDatastore:_getDatastore,setRooms:_setRooms,getRooms:_getRooms,setReach:_setReach,getReach:_getReach,setWebrtc:_setWebrtc,getWebrtc:_getWebrtc,setSipPhoneNumbers:_setSipPhoneNumbers,getSipPhoneNumbers:_getSipPhoneNumbers};};

/***/ },
/* 24 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _keys=__webpack_require__(25),_keys2=_interopRequireDefault(_keys),_stringify=__webpack_require__(45),_stringify2=_interopRequireDefault(_stringify),_utils=__webpack_require__(47),_utils2=_interopRequireDefault(_utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var INVITATION_ONGOING='ONGOING',INVITATION_ACCEPTED='ACCEPTED',INVITATION_REJECTED='REJECTED',INVITATION_CANCELED='CANCELED',DEVICE_STATUS_CONNECTED='CONNECTED',ROOM_STATUS_OPEN='OPEN',reach=function reach(p_me,datarefs){var me=p_me,dataref=datarefs.getReach(),onUserAddedCb=null,onUserChangedCb=null,onUserRemovedCb=null,newInviteCb=null,onRoomInviteChangedCb=null,mOutgoingInvites=[],mIncomingInvitation=[],automaticRejectTimeOut=null,automaticRejectReason=null,mDeviceId=null;function init(){mDeviceId=dataref.child('userList/'+me+'/connectedList/'+_utils2.default.appInstanceId);mDeviceId.onDisconnect().remove();mDeviceId.child('status').set(DEVICE_STATUS_CONNECTED);try{(function(){var description=mDeviceId.child('description');if(_utils2.default.appInstanceId){description.child('appInstanceId').set(_utils2.default.appInstanceId);}var navigatorData={},properties=['appCodeName','appName','appVersion','buildID','cookieEnabled','language','onLine','oscpu','platform','product','productSub','securityPolicy','userAgent','vendor','vendorSub'];properties.forEach(function(property){if(navigator[property]){navigatorData[property]=navigator[property];}});description.child('navigator').set(navigatorData);})();}catch(e){console.error('(ReachSDK::reach::init)failed to get information about device. error='+e);}dataref.child('userList/'+me+'/wasInsideReach').set(true);}function _isConnected(p_userId,p_cb){console.log('(ReachSDK::reach::_isConnected)userId: '+p_userId);dataref.child('userList/'+p_userId+'/connectedList').once('value',function(snapshot){if(p_cb&&typeof p_cb=='function'){p_cb(snapshot.val()!==null);}});}function _isRegistered(p_userId,p_cb){console.log('(ReachSDK::reach::_isRegistered)userId: '+p_userId);dataref.child('userList/'+p_userId+'/wasInsideReach').once('value',function(snapshot){if(p_cb&&typeof p_cb=='function'){p_cb(snapshot.val()!==null);}});}function _setConnectedStatus(p_status){if(mDeviceId){mDeviceId.child('status').set(p_status);}}function _setOnUserAdded(p_cb){if(onUserAddedCb){dataref.child('userList').off('child_added',onUserAddedCb);onUserAddedCb=null;}if(p_cb&&typeof p_cb=='function'){onUserAddedCb=function onUserAddedCb(snapshot){console.log('(ReachSDK::reach::onUserAddedCb) '+snapshot.name()+'='+(0,_stringify2.default)(snapshot.val()));var obj={};obj[snapshot.name()]=snapshot.val();p_cb(obj);};dataref.child('userList').on('child_added',onUserAddedCb);}}function _setOnUserChanged(p_cb){if(onUserChangedCb){dataref.child('userList').off('child_changed',onUserChangedCb);onUserChangedCb=null;}if(p_cb&&typeof p_cb=='function'){onUserChangedCb=function onUserChangedCb(snapshot){console.log('(ReachSDK::reach::onUserChangedCb) '+snapshot.name()+'='+(0,_stringify2.default)(snapshot.val()));var obj={};obj[snapshot.name()]=snapshot.val();p_cb(obj);};dataref.child('userList').on('child_changed',onUserChangedCb);}}function _setOnUserRemoved(p_cb){if(onUserRemovedCb){dataref.child('userList').off('child_removed',onUserRemovedCb);onUserRemovedCb=null;}if(p_cb&&typeof p_cb=='function'){onUserRemovedCb=function onUserRemovedCb(snapshot){console.log('(ReachSDK::reach::onUserRemovedCb) '+snapshot.name()+'='+(0,_stringify2.default)(snapshot.val()));var obj={};obj[snapshot.name()]=snapshot.val();p_cb(obj);};dataref.child('userList').on('child_removed',onUserRemovedCb);}}function _setOnNewRoomInvitation(p_onNewRoomInviteCb){if(newInviteCb){dataref.child('invitationList/'+me).off('child_added',newInviteCb);newInviteCb=null;}if(p_onNewRoomInviteCb&&typeof p_onNewRoomInviteCb=='function'){newInviteCb=function newInviteCb(snapshot){if(snapshot.val().status===INVITATION_ONGOING){(function(){console.log('(ReachSDK::reach::_setOnNewRoomInvitation)new Invite received,id) '+snapshot.name()+',content='+(0,_stringify2.default)(snapshot.val()));var invitationId=snapshot.name();if(!mIncomingInvitation){mIncomingInvitation=[];}if(mIncomingInvitation[invitationId]){if(mIncomingInvitation[invitationId].timeout){clearTimeout(mIncomingInvitation[invitationId].timeout);}delete mIncomingInvitation[invitationId];}mIncomingInvitation[invitationId]={};var obj={};obj[invitationId]=snapshot.val();p_onNewRoomInviteCb(obj);var invitationRef=dataref.child('invitationList/'+me+'/'+invitationId);if(automaticRejectTimeOut){mIncomingInvitation[invitationId].timeout=setTimeout(function(){if(automaticRejectTimeOut){console.log('(ReachSDK::reach::_setOnNewRoomInvitation)automatic reject of Invite received='+(0,_stringify2.default)(snapshot.val()));invitationRef.onDisconnect().cancel();if(automaticRejectReason){invitationRef.update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_REJECTED,status_info:automaticRejectReason});}else {invitationRef.update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_REJECTED});}}},automaticRejectTimeOut);}invitationRef.once('child_changed',function(snapshot){if(snapshot&&snapshot.name()==='status'){snapshot.ref().parent().once('value',function(snapshot2){var cb_invitationId=void 0,cb_obj_content=void 0;if(snapshot2){cb_invitationId=snapshot.ref().parent().name();cb_obj_content=snapshot2.val();var cb_obj={};cb_obj[cb_invitationId]=cb_obj_content;if(mIncomingInvitation&&mIncomingInvitation[cb_invitationId]&&mIncomingInvitation[cb_invitationId].timeout){clearTimeout(mIncomingInvitation[cb_invitationId].timeout);}console.log('(ReachSDK::reach::_setOnNewRoomInvitation)Invite changed,id=) '+cb_invitationId+', new content='+(0,_stringify2.default)(cb_obj_content));if(cb_obj&&onRoomInviteChangedCb){onRoomInviteChangedCb(cb_obj);}delete mIncomingInvitation[cb_invitationId];}});}});})();}};dataref.child('invitationList/'+me).on('child_added',newInviteCb);}}function _setOnRoomInvitationChanged(p_onRoomInviteChangedCb){if(onRoomInviteChangedCb){onRoomInviteChangedCb=null;}if(p_onRoomInviteChangedCb&&typeof p_onRoomInviteChangedCb=='function'){onRoomInviteChangedCb=p_onRoomInviteChangedCb;}}function _setNewRoomInvitationTimeout(p_timeout,p_reason){if(automaticRejectTimeOut){automaticRejectTimeOut=null;}if(automaticRejectReason){automaticRejectReason=null;}if(p_timeout&&p_timeout===parseInt(p_timeout,10)&&p_timeout>0){console.log('(ReachSDK::reach::_setNewRoomInvitationTimeout)timeout='+p_timeout);automaticRejectTimeOut=p_timeout;}if(p_reason){automaticRejectReason=p_reason;}}function _isUserPresentInRoom(p_roomId,p_user,p_cb){console.log('(ReachSDK::reach::_isUserPresentInRoom)p_roomId='+p_roomId+' p_user='+p_user);if(!(p_roomId&&typeof p_roomId=='string')){console.error('(ReachSDK::reach::_isUserPresentInRoom)parameter p_roomid is incorrect. Expecting non empty string');return;}if(!(p_user&&typeof p_user=='string')){console.error('(ReachSDK::reach::_isUserPresentInRoom)parameter p_user is incorrect. Expecting non empty string');return;}if(!(p_cb&&typeof p_cb=='function')){console.error('(ReachSDK::reach::_isUserPresentInRoom)parameter p_cb is incorrect. if defined, expecting a function');return;}datarefs.getRooms().child(p_roomId+'/participantList/'+p_user+'/wasInsideRoom').once('value',function(snapshot){var wasPresent=snapshot.val()!==null;console.log('(ReachSDK::reach::_isUserPresentInRoom)p_roomId='+p_roomId+',p_user='+p_user+',result='+wasPresent);p_cb(wasPresent,p_roomId,p_user);});}function _cancelInvitation(p_roomId,p_guestIds,p_cb){if(!(p_roomId&&typeof p_roomId=='string')){console.error('(ReachSDK::reach::_cancelInvitation)parameter p_roomid is incorrect. Expecting non empty string');return;}if(p_guestIds&&!p_guestIds instanceof Array){console.error('(ReachSDK::reach::_cancelInvitation)parameter p_guestIds is incorrect. Expecting an Array');return;}console.log(' (ReachSDK::reach::_cancelInvitation)p_roomId='+p_roomId+', p_guestIds='+(0,_stringify2.default)(p_guestIds));if(mOutgoingInvites&&mOutgoingInvites[p_roomId]){if(p_guestIds){p_guestIds.forEach(function(guestId,i){if(!(guestId&&typeof guestId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_guestIds['+i+'] is incorrect. Expecting non empty string');}else if(mOutgoingInvites[p_roomId][guestId]){if(mOutgoingInvites[p_roomId][guestId].InviteDataref){mOutgoingInvites[p_roomId][guestId].InviteDataref.onDisconnect().cancel();if(mOutgoingInvites[p_roomId][guestId].InviteChangedCb&&typeof mOutgoingInvites[p_roomId][guestId].InviteChangedCb=='function'){mOutgoingInvites[p_roomId][guestId].InviteDataref.off('child_changed',mOutgoingInvites[p_roomId][guestId].InviteChangedCb);}mOutgoingInvites[p_roomId][guestId].InviteDataref.once('value',function(dataSnapshot){var cb_status=void 0,cb_guestId=void 0,cb_roomId=void 0;if(dataSnapshot&&dataSnapshot.val()){cb_status=dataSnapshot.val().status;cb_roomId=dataSnapshot.val().room;cb_guestId=dataSnapshot.ref().parent().name();if(cb_status&&cb_status===INVITATION_ONGOING){mOutgoingInvites[cb_roomId][cb_guestId].InviteDataref.update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_CANCELED});if(mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb&&typeof mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb=='function'){mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb(cb_roomId,cb_guestId,INVITATION_CANCELED);}console.log('(ReachSDK::reach::_cancelInvitation)deleting Invite to room '+cb_roomId+' for invitee '+cb_guestId);}else {console.warn('(ReachSDK::reach::_cancelInvitation)cannot delete intivation to room '+cb_roomId+' for guest '+cb_guestId+' Invitation has been removed/rejected/accepted');}}delete mOutgoingInvites[p_roomId][guestId];if(p_cb&&typeof p_cb=='function'){p_cb(guestId);}});}else {delete mOutgoingInvites[p_roomId][guestId];if(p_cb&&typeof p_cb=='function'){p_cb(guestId);}}}else {if(p_cb&&typeof p_cb=='function'){p_cb(guestId);}}});}else {(0,_keys2.default)(mOutgoingInvites[p_roomId]).forEach(function(invitee){_cancelInvitation(p_roomId,[invitee],p_cb);});}}else {console.warn('(ReachSDK::reach::_cancelInvitation) Invite to room '+p_roomId+' not found');}}function _inviteToRoom(p_roomId,p_guestIds,p_topic,p_statusChangedCb){if(!(p_roomId&&typeof p_roomId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_roomid is incorrect. Expecting non empty string');return;}if(!(p_topic&&typeof p_topic=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_topic is incorrect. Expecting non empty string');return;}if(p_statusChangedCb&&typeof p_statusChangedCb!='function'){console.warn('(ReachSDK::reach::inviteToRoom)parameter p_statusChangedCb is incorrect. if defined, expecting a function');}if(!(p_guestIds&&p_guestIds instanceof Array)){console.error('(ReachSDK::reach::inviteToRoom)parameter p_guestIds is incorrect. Expecting an Array');return;}datarefs.getRooms().child(p_roomId).child('commonDataList').update({status:ROOM_STATUS_OPEN,owner:me});var _isUserPresentInRoomCb=function _isUserPresentInRoomCb(isAlreadyPresent,p_roomId2,p_guestId2){if(!isAlreadyPresent){datarefs.getRooms().child(p_roomId2+'/participantList/'+p_guestId2).update({connected:false,wasInsideRoom:false});}},_InviteChangedCb=function _InviteChangedCb(snapshot){console.log('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)');if(snapshot&&snapshot.name()==='status'){var cb_guestId2=snapshot.ref().parent().parent().name();console.log('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cb_guestId2='+cb_guestId2);if(mOutgoingInvites&&mOutgoingInvites[p_roomId]&&mOutgoingInvites[p_roomId][cb_guestId2]&&mOutgoingInvites[p_roomId][cb_guestId2].InviteChangedCb){mOutgoingInvites[p_roomId][cb_guestId2].InviteDataref.off('child_changed',mOutgoingInvites[p_roomId][cb_guestId2].InviteChangedCb);}snapshot.ref().parent().once('value',function(snapshot2){var cb_status=void 0,cb_guestId=void 0,cb_roomId=void 0,cb_status_info=void 0;if(snapshot2){cb_status=snapshot2.val().status;cb_roomId=snapshot2.val().room;cb_status_info=snapshot2.val().status_info;cb_guestId=snapshot2.ref().parent().name();console.log('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)roomId='+cb_roomId+' invitee='+cb_guestId+' new invitation status='+cb_status+' status info='+cb_status_info);if(mOutgoingInvites&&mOutgoingInvites[cb_roomId]&&mOutgoingInvites[cb_roomId][cb_guestId]&&mOutgoingInvites[cb_roomId][cb_guestId].InviteDataref){mOutgoingInvites[cb_roomId][cb_guestId].InviteDataref.onDisconnect().cancel();if(mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb&&typeof mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb=='function'){mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb(cb_roomId,cb_guestId,cb_status,cb_status_info);}else {console.warn('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cannot retrieve mathing p_statusChangedCb');}delete mOutgoingInvites[cb_roomId][cb_guestId];}else {console.warn('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cannot retrieve mathing mOutgoingInvite');}}else {console.warn('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cannot retrieve invitation');}});}};p_guestIds.forEach(function(mGuestId,i){if(!(mGuestId&&typeof mGuestId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_guestIds['+i+'] is incorrect. Expecting non empty string');}else {console.log('(ReachSDK::reach::inviteToRoom)roomId='+p_roomId+' invitee='+mGuestId.toString());if(mOutgoingInvites[p_roomId]&&mOutgoingInvites[p_roomId][mGuestId]){_cancelInvitation(p_roomId,[mGuestId],function(p_guestId){if(p_guestId&&p_guestId===mGuestId){_inviteToRoom(p_roomId,[p_guestId],p_topic,p_statusChangedCb);}});return;}if(!mOutgoingInvites[p_roomId]){mOutgoingInvites[p_roomId]=[];}mOutgoingInvites[p_roomId][mGuestId]={};_isUserPresentInRoom(p_roomId,mGuestId,_isUserPresentInRoomCb);mOutgoingInvites[p_roomId][mGuestId].InviteDataref=dataref.child('invitationList').child(mGuestId).push({from:me,room:p_roomId,timestamp_creation:Webcom.ServerValue.TIMESTAMP,topic:p_topic,status:INVITATION_ONGOING});console.log('(ReachSDK::reach::inviteToRoom)InviteDataref='+mOutgoingInvites[p_roomId][mGuestId].InviteDataref.toString());mOutgoingInvites[p_roomId][mGuestId].InviteChangedCb=_InviteChangedCb;mOutgoingInvites[p_roomId][mGuestId].InviteDataref.on('child_changed',mOutgoingInvites[p_roomId][mGuestId].InviteChangedCb);mOutgoingInvites[p_roomId][mGuestId].statusChangedCb=p_statusChangedCb;mOutgoingInvites[p_roomId][mGuestId].InviteDataref.onDisconnect().update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_CANCELED});}});}function _acceptInvitation(p_invitation){var inviteId=(0,_keys2.default)(p_invitation)[0];if(!inviteId){console.error('(ReachSDK::reach::_acceptInvitation)parameter p_invitation is incorrect. cannot get invitation Id');return;}if(!p_invitation[inviteId]){console.error('(ReachSDK::reach::_acceptInvitation)parameter p_invitation is incorrect. cannot get invitation data');return;}dataref.child('invitationList/'+me+'/'+inviteId).once('value',function(dataSnapshot){var cb_status=void 0,cb_guestId=void 0,cb_invitationId=void 0;if(dataSnapshot&&dataSnapshot.val()){cb_invitationId=dataSnapshot.name();cb_status=dataSnapshot.val().status;cb_guestId=dataSnapshot.ref().parent().name();if(cb_status&&cb_status===INVITATION_ONGOING){console.log('(ReachSDK::reach::_acceptInvitation)inviteId='+inviteId+',data='+(0,_stringify2.default)(p_invitation[inviteId]));dataref.child('invitationList/'+cb_guestId+'/'+cb_invitationId).update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_ACCEPTED});}else {console.warn('(ReachSDK::reach::_acceptInvitation)inviteId='+cb_invitationId+',data='+(0,_stringify2.default)(p_invitation[inviteId])+', cannot be accepted. It has been removed or canceled');}}});}function _rejectInvitation(p_invitation,p_reason){var inviteId=(0,_keys2.default)(p_invitation)[0];if(!inviteId){console.error('(ReachSDK::reach::_rejectInvitation)parameter p_invitation is incorrect. cannot get invitation Id');return;}if(!p_invitation[inviteId]){console.error('(ReachSDK::reach::_rejectInvitation)parameter p_invitation is incorrect. cannot get invitation data');return;}dataref.child('invitationList/'+me+'/'+inviteId).once('value',function(dataSnapshot){var cb_status=void 0,cb_guestId=void 0,cb_invitationId=void 0;if(dataSnapshot&&dataSnapshot.val()){cb_invitationId=dataSnapshot.name();cb_status=dataSnapshot.val().status;cb_guestId=dataSnapshot.ref().parent().name();if(cb_status&&cb_status===INVITATION_ONGOING){console.log('(ReachSDK::reach::_rejectInvitation)inviteId='+inviteId+',data='+(0,_stringify2.default)(p_invitation[inviteId]));if(p_reason){dataref.child('invitationList/'+cb_guestId+'/'+cb_invitationId).update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status_info:p_reason,status:INVITATION_REJECTED});}else {dataref.child('invitationList/'+cb_guestId+'/'+cb_invitationId).update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_REJECTED});}}else {console.warn('(ReachSDK::reach::_rejectInvitation)inviteId='+cb_invitationId+',data='+(0,_stringify2.default)(p_invitation[inviteId])+', cannot be rejected. It has been removed or canceled');}}});}function _isRoomActive(p_invitation,p_cb){if(p_invitation&&p_cb&&typeof p_cb=='function'){(function(){var inviteId=(0,_keys2.default)(p_invitation)[0];console.log('(ReachSDK::reach::_isRoomActive)inviteId='+inviteId);var roomId=p_invitation[inviteId].room;datarefs.getRooms().child(roomId+'/commonDataList/status').once('value',function(snapshot){var opened=snapshot&&snapshot.val()&&snapshot.val()===ROOM_STATUS_OPEN;console.log('(ReachSDK::reach::_isRoomActive)inviteId='+inviteId+' result='+opened);p_cb(opened);});})();}}function _archiveInvitations(p_userId,p_cb){console.log('(ReachSDK::reach::_archiveInvitations)userId='+p_userId);dataref.child('invitationList/'+me).once('value',function(snapshot){if(snapshot&&snapshot.hasChildren()){(function(){var nbChildren=snapshot.numChildren(),nbChildrenProcessed=0;snapshot.forEach(function(childSnapshot){if(childSnapshot&&childSnapshot.val()){console.log('(ReachSDK::reach::_archiveInvitations)userId='+p_userId+' inviteId='+childSnapshot.name());if(childSnapshot.val().status===INVITATION_REJECTED||childSnapshot.val().status===INVITATION_CANCELED){dataref.child('invitationListHistory/'+p_userId+'/'+childSnapshot.name()).update(childSnapshot.val());childSnapshot.ref().remove();nbChildrenProcessed++;if(nbChildrenProcessed>=nbChildren&&p_cb&&typeof p_cb=='function'){p_cb();}}else {var inviteData={};inviteData[childSnapshot.name()]=childSnapshot.val();_isRoomActive(inviteData,function(isActive){if(isActive){nbChildrenProcessed++;if(nbChildrenProcessed>=nbChildren&&p_cb&&typeof p_cb=='function'){p_cb();}}else {if(childSnapshot.val().status===INVITATION_ONGOING){var newValue=childSnapshot.val();newValue.status=INVITATION_CANCELED;dataref.child('invitationListHistory/'+p_userId+'/'+childSnapshot.name()).set(newValue);}else {dataref.child('invitationListHistory/'+p_userId+'/'+childSnapshot.name()).set(childSnapshot.val());}childSnapshot.ref().remove();nbChildrenProcessed++;if(nbChildrenProcessed>=nbChildren&&p_cb&&typeof p_cb=='function'){p_cb();}}});}}else {if(p_cb&&typeof p_cb=='function'){p_cb();}}});})();}else {if(p_cb&&typeof p_cb=='function'){p_cb();}}});}function _close(){console.log('(ReachSDK::reach::_close)');if(newInviteCb){dataref.child('invitationList').child(me).off('child_added',newInviteCb);newInviteCb=null;}if(onUserAddedCb){dataref.child('userList').off('child_added',onUserAddedCb);onUserAddedCb=null;}if(onUserChangedCb){dataref.child('userList').off('child_changed',onUserChangedCb);onUserChangedCb=null;}if(onUserRemovedCb){dataref.child('userList').off('child_removed',onUserRemovedCb);onUserRemovedCb=null;}if(mOutgoingInvites){mOutgoingInvites.forEach(function(roomId){mOutgoingInvites[roomId].forEach(function(invitee){if(invitee.InviteDataref){invitee.InviteDataref.onDisconnect().cancel();invitee.InviteDataref.update({status:INVITATION_CANCELED,timestamp_end:Webcom.ServerValue.TIMESTAMP});}});});mOutgoingInvites=[];}if(automaticRejectTimeOut){automaticRejectTimeOut=null;}if(automaticRejectReason){automaticRejectReason=null;}if(mDeviceId){mDeviceId.remove();mDeviceId=null;}}init();return {getMe:function getMe(){return me;},isConnected:_isConnected,isRegistered:_isRegistered,setConnectedStatus:_setConnectedStatus,setOnUserAdded:_setOnUserAdded,setOnUserChanged:_setOnUserChanged,setOnUserRemoved:_setOnUserRemoved,inviteToRoom:_inviteToRoom,cancelInvitation:_cancelInvitation,setOnNewRoomInvitation:_setOnNewRoomInvitation,setOnRoomInvitationChanged:_setOnRoomInvitationChanged,setNewRoomInvitationTimeout:_setNewRoomInvitationTimeout,archiveMyInvitations:function archiveMyInvitations(p_cb){return _archiveInvitations(me,p_cb);},acceptInvitation:_acceptInvitation,rejectInvitation:_rejectInvitation,on:function on(p_evt,p_cb){switch(p_evt){case 'newRoomInvitation':_setOnNewRoomInvitation(p_cb);break;case 'roomInvitationChanged':_setOnRoomInvitationChanged(p_cb);break;case 'userAdded':_setOnUserAdded(p_cb);break;case 'userChanged':_setOnUserChanged(p_cb);break;case 'userRemoved':_setOnUserRemoved(p_cb);break;default:console.error('reach.set: no such event');return -1;}},close:_close};};exports.default=reach;

/***/ },
/* 25 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(26), __esModule: true };

/***/ },
/* 26 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(27);
	module.exports = __webpack_require__(8).Object.keys;

/***/ },
/* 27 */
/***/ function(module, exports, __webpack_require__) {

	// 19.1.2.14 Object.keys(O)
	var toObject = __webpack_require__(28)
	  , $keys    = __webpack_require__(30);
	
	__webpack_require__(44)('keys', function(){
	  return function keys(it){
	    return $keys(toObject(it));
	  };
	});

/***/ },
/* 28 */
/***/ function(module, exports, __webpack_require__) {

	// 7.1.13 ToObject(argument)
	var defined = __webpack_require__(29);
	module.exports = function(it){
	  return Object(defined(it));
	};

/***/ },
/* 29 */
/***/ function(module, exports) {

	// 7.2.1 RequireObjectCoercible(argument)
	module.exports = function(it){
	  if(it == undefined)throw TypeError("Can't call method on  " + it);
	  return it;
	};

/***/ },
/* 30 */
/***/ function(module, exports, __webpack_require__) {

	// 19.1.2.14 / 15.2.3.14 Object.keys(O)
	var $keys       = __webpack_require__(31)
	  , enumBugKeys = __webpack_require__(43);
	
	module.exports = Object.keys || function keys(O){
	  return $keys(O, enumBugKeys);
	};

/***/ },
/* 31 */
/***/ function(module, exports, __webpack_require__) {

	var has          = __webpack_require__(32)
	  , toIObject    = __webpack_require__(33)
	  , arrayIndexOf = __webpack_require__(36)(false)
	  , IE_PROTO     = __webpack_require__(40)('IE_PROTO');
	
	module.exports = function(object, names){
	  var O      = toIObject(object)
	    , i      = 0
	    , result = []
	    , key;
	  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);
	  // Don't enum bug & hidden keys
	  while(names.length > i)if(has(O, key = names[i++])){
	    ~arrayIndexOf(result, key) || result.push(key);
	  }
	  return result;
	};

/***/ },
/* 32 */
/***/ function(module, exports) {

	var hasOwnProperty = {}.hasOwnProperty;
	module.exports = function(it, key){
	  return hasOwnProperty.call(it, key);
	};

/***/ },
/* 33 */
/***/ function(module, exports, __webpack_require__) {

	// to indexed object, toObject with fallback for non-array-like ES3 strings
	var IObject = __webpack_require__(34)
	  , defined = __webpack_require__(29);
	module.exports = function(it){
	  return IObject(defined(it));
	};

/***/ },
/* 34 */
/***/ function(module, exports, __webpack_require__) {

	// fallback for non-array-like ES3 and non-enumerable old V8 strings
	var cof = __webpack_require__(35);
	module.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){
	  return cof(it) == 'String' ? it.split('') : Object(it);
	};

/***/ },
/* 35 */
/***/ function(module, exports) {

	var toString = {}.toString;
	
	module.exports = function(it){
	  return toString.call(it).slice(8, -1);
	};

/***/ },
/* 36 */
/***/ function(module, exports, __webpack_require__) {

	// false -> Array#indexOf
	// true  -> Array#includes
	var toIObject = __webpack_require__(33)
	  , toLength  = __webpack_require__(37)
	  , toIndex   = __webpack_require__(39);
	module.exports = function(IS_INCLUDES){
	  return function($this, el, fromIndex){
	    var O      = toIObject($this)
	      , length = toLength(O.length)
	      , index  = toIndex(fromIndex, length)
	      , value;
	    // Array#includes uses SameValueZero equality algorithm
	    if(IS_INCLUDES && el != el)while(length > index){
	      value = O[index++];
	      if(value != value)return true;
	    // Array#toIndex ignores holes, Array#includes - not
	    } else for(;length > index; index++)if(IS_INCLUDES || index in O){
	      if(O[index] === el)return IS_INCLUDES || index || 0;
	    } return !IS_INCLUDES && -1;
	  };
	};

/***/ },
/* 37 */
/***/ function(module, exports, __webpack_require__) {

	// 7.1.15 ToLength
	var toInteger = __webpack_require__(38)
	  , min       = Math.min;
	module.exports = function(it){
	  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
	};

/***/ },
/* 38 */
/***/ function(module, exports) {

	// 7.1.4 ToInteger
	var ceil  = Math.ceil
	  , floor = Math.floor;
	module.exports = function(it){
	  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
	};

/***/ },
/* 39 */
/***/ function(module, exports, __webpack_require__) {

	var toInteger = __webpack_require__(38)
	  , max       = Math.max
	  , min       = Math.min;
	module.exports = function(index, length){
	  index = toInteger(index);
	  return index < 0 ? max(index + length, 0) : min(index, length);
	};

/***/ },
/* 40 */
/***/ function(module, exports, __webpack_require__) {

	var shared = __webpack_require__(41)('keys')
	  , uid    = __webpack_require__(42);
	module.exports = function(key){
	  return shared[key] || (shared[key] = uid(key));
	};

/***/ },
/* 41 */
/***/ function(module, exports, __webpack_require__) {

	var global = __webpack_require__(7)
	  , SHARED = '__core-js_shared__'
	  , store  = global[SHARED] || (global[SHARED] = {});
	module.exports = function(key){
	  return store[key] || (store[key] = {});
	};

/***/ },
/* 42 */
/***/ function(module, exports) {

	var id = 0
	  , px = Math.random();
	module.exports = function(key){
	  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
	};

/***/ },
/* 43 */
/***/ function(module, exports) {

	// IE 8- don't enum bug keys
	module.exports = (
	  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
	).split(',');

/***/ },
/* 44 */
/***/ function(module, exports, __webpack_require__) {

	// most Object methods by ES6 should accept primitives
	var $export = __webpack_require__(6)
	  , core    = __webpack_require__(8)
	  , fails   = __webpack_require__(17);
	module.exports = function(KEY, exec){
	  var fn  = (core.Object || {})[KEY] || Object[KEY]
	    , exp = {};
	  exp[KEY] = exec(fn);
	  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);
	};

/***/ },
/* 45 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(46), __esModule: true };

/***/ },
/* 46 */
/***/ function(module, exports, __webpack_require__) {

	var core  = __webpack_require__(8)
	  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});
	module.exports = function stringify(it){ // eslint-disable-line no-unused-vars
	  return $JSON.stringify.apply($JSON, arguments);
	};

/***/ },
/* 47 */
/***/ function(module, exports) {

	"use strict";Object.defineProperty(exports,"__esModule",{value:true});var utils=function(){function s4(){return Math.floor((1+Math.random())*0x10000).toString(16).substring(1);}function _guid(){return ""+s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4();}var _appInstanceId=_guid();return {appInstanceId:_appInstanceId};}();exports.default=utils;

/***/ },
/* 48 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _keys=__webpack_require__(25),_keys2=_interopRequireDefault(_keys),_stringify=__webpack_require__(45),_stringify2=_interopRequireDefault(_stringify);exports.default=function(p_me,p_roomId,datarefs,webrtcmngr){var roomId=p_roomId,me=p_me,dataref=datarefs.getRooms().child(roomId),roomWebrtcStacks={},mAvailableStreams=[],mStreams=[],mMutedStreams=[],remoteUnpublishedCb=null,instantMessageListCb=null,publishedMediaListCb=null,publishedMediaListCbForAvailableStream=null,unPublishedMediaListCb=null,unPublishedMediaListCbForAvailableStream=null,participantListJoinAddedCb=null,participantListJoinChangedCb=null,participantListLeaveCb=null;function _addAvailableStream(data){console.log('(ReachSDK::room['+roomId+']::_addAvailableStream)data='+(0,_stringify2.default)(data));mAvailableStreams.push(data);}function _removeAvailableStream(streamId){console.log('(ReachSDK::room['+roomId+']::_removeAvailableStream)streamId='+streamId);if(mAvailableStreams&&streamId){for(var i=mAvailableStreams.length-1;i>=0;i--){if(mAvailableStreams[i]&&(0,_keys2.default)(mAvailableStreams[i])[0]&&(0,_keys2.default)(mAvailableStreams[i])[0]===streamId){delete mAvailableStreams[i];}}}}function initWebcomListener(){if(!publishedMediaListCbForAvailableStream){publishedMediaListCbForAvailableStream=function publishedMediaListCbForAvailableStream(snapshot){var obj={},name=snapshot.name(),value=snapshot.val();console.log('(ReachSDK::room['+roomId+']::onPublishedStreamForAvailableStream)stream='+(0,_stringify2.default)(value));obj[name]=value;obj[name].roomId=roomId;_addAvailableStream(obj);};dataref.child('publishedMediaList').on('child_added',publishedMediaListCbForAvailableStream);}if(!unPublishedMediaListCbForAvailableStream){unPublishedMediaListCbForAvailableStream=function unPublishedMediaListCbForAvailableStream(snapshot){var streamId=snapshot.name();console.log('(ReachSDK::room['+roomId+']::onUnPublishedStreamForAvailableStream)stream='+streamId);_removeAvailableStream(streamId);};dataref.child('publishedMediaList').on('child_removed',unPublishedMediaListCbForAvailableStream);}}function init(){dataref.child('participantList/'+me).update({connected:true,wasInsideRoom:true});dataref.child('participantList/'+me+'/connected').onDisconnect().set(false);initWebcomListener();}function _getRoomId(){return roomId;}function _getMe(){return me;}function _setOnParticipantJoin(p_cb){var participantListRef=dataref.child('participantList');if(participantListJoinAddedCb){participantListRef.off('child_added',participantListJoinAddedCb);participantListJoinAddedCb=null;}if(participantListJoinChangedCb){participantListRef.off('child_changed',participantListJoinChangedCb);participantListJoinChangedCb=null;}if(p_cb&&typeof p_cb=='function'){participantListJoinAddedCb=function participantListJoinAddedCb(snapshot){var user=snapshot.name();if(snapshot.val()&&snapshot.val().connected&&snapshot.val().wasInsideRoom){console.log('(ReachSDK::room['+roomId+']::_setOnParticipantJoin) user has joined: '+user);p_cb(user);}};participantListRef.on('child_added',participantListJoinAddedCb);participantListJoinChangedCb=function participantListJoinChangedCb(snapshot){var user=snapshot.name();if(snapshot.val()&&snapshot.val().connected&&snapshot.val().wasInsideRoom){console.log('(ReachSDK::room['+roomId+']::_setOnParticipantJoin) user has joined: '+user);p_cb(user);}};participantListRef.on('child_changed',participantListJoinChangedCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnParticipantJoin)parameter incorrect. Expected function');}}function _setOnParticipantLeave(p_cb){if(participantListLeaveCb){dataref.child('participantList').off('child_changed',participantListLeaveCb);participantListLeaveCb=null;}if(p_cb&&typeof p_cb=='function'){participantListLeaveCb=function participantListLeaveCb(snapshot){var user=snapshot.name();if(snapshot.val()&&!snapshot.val().connected&&snapshot.val().wasInsideRoom){console.log('(ReachSDK::room['+roomId+']::_setOnParticipantLeave) user has left: '+user);p_cb(user);}};dataref.child('participantList').on('child_changed',participantListLeaveCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnParticipantLeave)parameter incorrect. Expected function');}}function _sendInstantMessage(p_message){if(p_message!==''){console.log('(ReachSDK::room['+roomId+']::sendInstantMessage)message='+p_message);dataref.child('instantMessageList').push({from:me,message:p_message,timestamp:Webcom.ServerValue.TIMESTAMP});}}function _setOnInstantMessage(p_cb){if(instantMessageListCb){dataref.child('instantMessageList').off('child_added',instantMessageListCb);instantMessageListCb=null;}if(p_cb&&typeof p_cb=='function'){instantMessageListCb=function instantMessageListCb(snapshot){var obj=snapshot.val();console.log('(ReachSDK::room['+roomId+']::_setOnInstantMessage)receive InstantMessage='+(0,_stringify2.default)(obj));p_cb(obj);};dataref.child('instantMessageList').on('child_added',instantMessageListCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnInstantMessage)parameter incorrect. Expected function');}}function _publishStream(streamId,localVid,p_actionType,getLocalStreamCb){console.log('(ReachSDK::room['+roomId+']::publishStream)roomId='+roomId+',streamId='+streamId+',me='+me+',actionType='+p_actionType);if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter streamId is incorrect. Expecting non empty string');return;}var localDataRef=dataref.child('publishedMediaList').child(streamId),remoteDataRef=localDataRef.child('subscribersList'),pubAndSubscribe=function pubAndSubscribe(){localDataRef.set({from:me,appInstanceId:_utils2.default.appInstanceId,actionType:p_actionType});localDataRef.onDisconnect().remove();var addSubscribersListCb=function addSubscribersListCb(snapshot){var remoteAppInstanceId=snapshot.name(),data=snapshot.val(),_subscriberId=data.userId,_peercoId=data.peercoId,_peercoRef=data.peercoRef,isAudioMute=mMutedStreams[streamId]&&mMutedStreams[streamId].audio,isVideoMute=mMutedStreams[streamId]&&mMutedStreams[streamId].video,streamStackId=streamId+'_pub';console.log('(ReachSDK::room['+roomId+']::publishStream::addSubscribersListCb)subscriber '+_subscriberId+' to stream '+streamId+' added '+(0,_stringify2.default)(data));if(!roomWebrtcStacks[streamStackId]){roomWebrtcStacks[streamStackId]=[];}var mStackId=webrtcmngr.createWebrtc(localVid,remoteAppInstanceId,function(){console.log('(ReachSDK::room['+roomId+']::publishStream::addSubscribersListCb)subscriber '+_subscriberId+' to stream '+streamId+' connection lost');},true,p_actionType,_peercoId,_peercoRef,isAudioMute,isVideoMute);roomWebrtcStacks[streamStackId].push({stackId:mStackId,subscriberId:_subscriberId,isPublish:true,peercoId:_peercoId,peercoRef:_peercoRef,streamId:streamId});},removeSubscribersListCb=function removeSubscribersListCb(snapshot){var subscriberId=snapshot.val().userId,streamStacks=roomWebrtcStacks[streamId+'_pub'];if(subscriberId&&streamStacks){console.log('(ReachSDK::room['+roomId+']::publishStream::removeSubscribersListCb)subscriber '+subscriberId+' to stream '+streamId+' removed');for(var i=streamStacks.length-1;i>=0;i--){if(streamStacks[i].subscriberId===subscriberId){webrtcmngr.closeWebrtc(streamStacks[i].stackId,true);roomWebrtcStacks[streamId+'_pub'].splice(i,1);}}}};mStreams[streamId]={addSubscribersListCb:addSubscribersListCb,removeSubscribersListCb:removeSubscribersListCb};remoteDataRef.on('child_added',addSubscribersListCb);remoteDataRef.on('child_removed',removeSubscribersListCb);};if(p_actionType){if(p_actionType===_actions2.default.ACTION_TYPE_VIDEO){_localstream2.default.connectLocalVideoStream(localVid,pubAndSubscribe,getLocalStreamCb);}else if(p_actionType===_actions2.default.ACTION_TYPE_AUDIO){_localstream2.default.connectLocalAudioStream(localVid,pubAndSubscribe,getLocalStreamCb);}else if(p_actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){_localstream2.default.connectLocalAudioVideoStream(localVid,pubAndSubscribe,getLocalStreamCb);}}}function _setOnPublishedStream(p_cb){if(publishedMediaListCb){dataref.child('publishedMediaList').off('child_added',publishedMediaListCb);publishedMediaListCb=null;}if(p_cb&&typeof p_cb=='function'){publishedMediaListCb=function publishedMediaListCb(snapshot){var obj={},name=snapshot.name();obj[name]=snapshot.val();obj[name].roomId=roomId;p_cb(obj);};dataref.child('publishedMediaList').on('child_added',publishedMediaListCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnPublishedStream)parameter incorrect. Expected function');}}function _unPublishStream(streamId,callback){console.log('(ReachSDK::room['+roomId+']::unPublishStream)streamId '+streamId);var localDataRef=dataref.child('publishedMediaList/'+streamId),remoteDataRef=localDataRef.child('subscribersList'),streamStacksId=streamId+'_pub';if(mStreams[streamId]&&mStreams[streamId].addSubscribersListCb){remoteDataRef.off('child_added',mStreams[streamId].addSubscribersListCb);}if(mStreams[streamId]&&mStreams[streamId].removeSubscribersListCb){remoteDataRef.off('child_removed',mStreams[streamId].removeSubscribersListCb);}delete mStreams[streamId];delete mMutedStreams[streamId];localDataRef.onDisconnect().cancel();localDataRef.remove();if(roomWebrtcStacks[streamStacksId]&&roomWebrtcStacks[streamStacksId].length>0){(function(){var nbStack=roomWebrtcStacks[streamStacksId].length,closeCb=function closeCb(){nbStack--;if(nbStack<1){delete roomWebrtcStacks[streamStacksId];if(callback&&typeof callback=='function'){callback();}}};for(var i=nbStack-1;i>=0;i--){webrtcmngr.closeWebrtc(roomWebrtcStacks[streamStacksId][i].stackId,true,closeCb);}_localstream2.default.close();})();}else {delete roomWebrtcStacks[streamStacksId];if(callback&&typeof callback=='function'){callback();}}}function _setOnUnPublishedStream(p_cb){if(unPublishedMediaListCb){dataref.child('publishedMediaList').off('child_removed',unPublishedMediaListCb);unPublishedMediaListCb=null;}if(p_cb&&typeof p_cb=='function'){unPublishedMediaListCb=function unPublishedMediaListCb(snapshot){p_cb(snapshot.name());};dataref.child('publishedMediaList').on('child_removed',unPublishedMediaListCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnUnPublishedStream)parameter incorrect. Expected function');}}function _subscribeToStream(streamData,remoteVid,getRemoteStreamCb){var streamId=(0,_keys2.default)(streamData)[0],actionType=streamData[streamId].actionType;console.log('(ReachSDK::room['+roomId+']::subscribeToStream)streamId '+streamId);if(mStreams&&mStreams[streamId]){if(actionType){if(actionType===_actions2.default.ACTION_TYPE_VIDEO){_localstream2.default.connectLocalVideoStream(remoteVid,getRemoteStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO){_localstream2.default.connectLocalAudioStream(remoteVid,getRemoteStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){_localstream2.default.connectLocalAudioVideoStream(remoteVid,getRemoteStreamCb);}}return streamId;}var appInstanceId=streamData[streamId].appInstanceId,localDataRef=dataref.child('publishedMediaList').child(streamId),remoteDataRef=localDataRef.child('subscribersList'),streamStacksId=streamId+'_sub',_peercoId=void 0,_peercoRef=void 0;if(!roomWebrtcStacks[streamStacksId]){roomWebrtcStacks[streamStacksId]=[];}else if(roomWebrtcStacks[streamStacksId]&&roomWebrtcStacks[streamStacksId][0]&&roomWebrtcStacks[streamStacksId][0].peercoId){_peercoId=roomWebrtcStacks[streamStacksId][0].peercoId;}var getRandomIntInclusive=function getRandomIntInclusive(min,max){return Math.floor(Math.random()*(max-min+1))+min;};if(!_peercoId){_peercoId=Math.floor(Date.now()).toString()+getRandomIntInclusive(0,1000000);}_peercoRef=datarefs.getWebrtc().push().name();remoteDataRef.child(_utils2.default.appInstanceId).set({ts:Webcom.ServerValue.TIMESTAMP,userId:me,peercoId:_peercoId,peercoRef:_peercoRef});var isAudioMute=mMutedStreams[streamId]&&mMutedStreams[streamId].audio,isVideoMute=mMutedStreams[streamId]&&mMutedStreams[streamId].video,mStackId=webrtcmngr.createWebrtc(remoteVid,appInstanceId,function(){},false,actionType,_peercoId,_peercoRef,isAudioMute,isVideoMute,getRemoteStreamCb);if(!remoteUnpublishedCb){remoteUnpublishedCb=function remoteUnpublishedCb(snapshot){var streamId=snapshot.val().from+'-stream',removedStreamId=streamId+'_sub';console.log('(ReachSDK::room['+roomId+']::remoteUnpublishedCb)streamId '+removedStreamId);if(roomWebrtcStacks[removedStreamId]){var i=0;while(i<roomWebrtcStacks[removedStreamId].length){webrtcmngr.closeWebrtc(roomWebrtcStacks[removedStreamId][i].stackId,false);i++;}delete roomWebrtcStacks[removedStreamId];}};dataref.child('publishedMediaList').on('child_removed',remoteUnpublishedCb);}roomWebrtcStacks[streamStacksId].push({stackId:mStackId,isPublish:false,peercoId:_peercoId,peercoRef:_peercoRef,streamId:streamId});return streamId;}function _unSubscribeFromStream(streamId){console.log('(ReachSDK::room['+roomId+']::unSubscribeFromStream)streamId '+streamId);var localDataRef=dataref.child('publishedMediaList').child(streamId),remoteDataRef=localDataRef.child('subscribersList'),streamStacksId=streamId+'_sub';remoteDataRef.child(_utils2.default.appInstanceId).remove();if(roomWebrtcStacks[streamStacksId]){var i=0;while(i<roomWebrtcStacks[streamStacksId].length){if(roomWebrtcStacks[streamStacksId][i]){webrtcmngr.closeWebrtc(roomWebrtcStacks[streamStacksId][i].stackId,false);}i++;}delete roomWebrtcStacks[streamStacksId];}delete mMutedStreams[streamId];}function _getAvailableStreams(){console.log('(ReachSDK::room['+roomId+']::_getAvailableStreams)');return mAvailableStreams;}function _getAvailableStream(streamId){console.log('(ReachSDK::room['+roomId+']::_getAvailableStream)streamId='+streamId);if(mAvailableStreams&&streamId){for(var i=mAvailableStreams.length-1;i>=0;i--){if(mAvailableStreams[i]&&(0,_keys2.default)(mAvailableStreams[i])[0]&&(0,_keys2.default)(mAvailableStreams[i])[0]===streamId){return mAvailableStreams[i];}}}return null;}function _removeAllAvailableStreams(){console.log('(ReachSDK::room['+roomId+']::_removeAllAvailableStreams');mAvailableStreams=[];}function _muteAudioStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_muteAudioStream)parameter streamId is incorrect. Expecting non empty string');return;}console.log('(ReachSDK::room['+roomId+']::_muteAudioStream)streamId='+streamId);if(!mMutedStreams[streamId]){mMutedStreams[streamId]={};}mMutedStreams[streamId].audio=true;if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.muteAudioWebrtcStack(stacks[i].stackId);}}});}}function _unmuteAudioStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_unmuteAudioStream)parameter streamId is incorrect. Expecting non empty string');return;}if(mMutedStreams[streamId]&&mMutedStreams[streamId].audio){mMutedStreams[streamId].audio=false;}console.log('(ReachSDK::room['+roomId+']::_unmuteAudioStream)streamId='+streamId);if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.unmuteAudioWebrtcStack(stacks[i].stackId);}}});}}function _muteVideoStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_muteVideoStream)parameter streamId is incorrect. Expecting non empty string');return;}console.log('(ReachSDK::room['+roomId+']::_muteVideoStream)streamId='+streamId);if(!mMutedStreams[streamId]){mMutedStreams[streamId]={};}mMutedStreams[streamId].video=true;if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.muteVideoWebrtcStack(stacks[i].stackId);}}});}}function _unmuteVideoStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_unmuteVideoStream)parameter streamId is incorrect. Expecting non empty string');return;}if(mMutedStreams[streamId]&&mMutedStreams[streamId].video){mMutedStreams[streamId].video=false;}console.log('(ReachSDK::room['+roomId+']::_unmuteVideoStream)streamId='+streamId);if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.unmuteVideoWebrtcStack(stacks[i].stackId);}}});}}function _close(updateRoomStatusToClose){console.log('(ReachSDK::room['+roomId+']::_close)room '+roomId+', detroyRoom='+updateRoomStatusToClose);var participantListRef=dataref.child('participantList'),publishedMediaListRef=dataref.child('publishedMediaList');participantListRef.child(me+'/connected').set(false);(0,_keys2.default)(mStreams).forEach(_unPublishStream);mStreams=[];if(instantMessageListCb){dataref.child('instantMessageList').off('child_added',instantMessageListCb);instantMessageListCb=null;}if(publishedMediaListCb){publishedMediaListRef.off('child_added',publishedMediaListCb);publishedMediaListCb=null;}if(publishedMediaListCbForAvailableStream){publishedMediaListRef.off('child_added',publishedMediaListCbForAvailableStream);publishedMediaListCbForAvailableStream=null;}if(unPublishedMediaListCb){publishedMediaListRef.off('child_removed',unPublishedMediaListCb);unPublishedMediaListCb=null;}if(unPublishedMediaListCbForAvailableStream){publishedMediaListRef.off('child_removed',unPublishedMediaListCbForAvailableStream);unPublishedMediaListCbForAvailableStream=null;}if(participantListJoinAddedCb){participantListRef.off('child_added',participantListJoinAddedCb);participantListJoinAddedCb=null;}if(participantListJoinChangedCb){participantListRef.off('child_changed',participantListJoinChangedCb);participantListJoinChangedCb=null;}if(participantListLeaveCb){participantListRef.off('child_changed',participantListLeaveCb);participantListLeaveCb=null;}if(remoteUnpublishedCb){publishedMediaListRef.off('child_removed',remoteUnpublishedCb);remoteUnpublishedCb=null;}(0,_keys2.default)(roomWebrtcStacks).forEach(function(streamStacksId){roomWebrtcStacks[streamStacksId].forEach(function(stack){if(streamStacksId&&stack){(function(){var _streamId=stack.streamId,_stackId=stack.stackId,_isPublish=stack.isPublish;if(_isPublish){_unPublishStream(_streamId);}else {_unSubscribeFromStream(_streamId);}setTimeout(function(){webrtcmngr.clearWebrtcStacks(_stackId);},1000);})();}});});setTimeout(function(){roomWebrtcStacks={};mMutedStreams=[];_removeAllAvailableStreams();},1100);if(updateRoomStatusToClose&&updateRoomStatusToClose===true){dataref.child('commonDataList/status').set(ROOM_STATUS_CLOSE);}_localstream2.default.close();}init();return {getRoomId:_getRoomId,getMe:_getMe,setOnParticipantJoin:_setOnParticipantJoin,setOnParticipantLeave:_setOnParticipantLeave,sendInstantMessage:_sendInstantMessage,setOnInstantMessage:_setOnInstantMessage,publishStream:_publishStream,setOnPublishedStream:_setOnPublishedStream,unPublishStream:_unPublishStream,setOnUnPublishedStream:_setOnUnPublishedStream,subscribeToStream:_subscribeToStream,unSubscribeFromStream:_unSubscribeFromStream,getAvailableStreams:_getAvailableStreams,getAvailableStream:_getAvailableStream,muteAudioStream:_muteAudioStream,unmuteAudioStream:_unmuteAudioStream,muteVideoStream:_muteVideoStream,unmuteVideoStream:_unmuteVideoStream,close:_close,on:function on(evt,p_cb){switch(evt){case 'instantMessage':_setOnInstantMessage(p_cb);break;case 'publishedStream':_setOnPublishedStream(p_cb);break;case 'unPublishedStream':_setOnUnPublishedStream(p_cb);break;case 'participantJoin':_setOnParticipantJoin(p_cb);break;case 'participantLeave':_setOnParticipantLeave(p_cb);break;default:console.err('(ReachSDK::room['+roomId+']::on)unsupported '+evt+' event');break;}}};};var _actions=__webpack_require__(22),_actions2=_interopRequireDefault(_actions),_localstream=__webpack_require__(49),_localstream2=_interopRequireDefault(_localstream),_utils=__webpack_require__(47),_utils2=_interopRequireDefault(_utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var ROOM_STATUS_CLOSE='CLOSE';

/***/ },
/* 49 */
/***/ function(module, exports) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var localstream=function(){var localVideoStreams=[],localAudioStreams=[],localAudioVideoStreams=[],streamVideo=null,streamAudio=null,streamAudioVideo=null,listenersVideo=[],listenersAudio=[],listenersAudioVideo=[],mLocalStreamVideo=null,mLocalStreamAudio=null,mLocalStreamAudioVideo=null,initVideoProgress=false,initAudioProgress=false,initAudioVideoProgress=false;function _initVideo(callback){console.log('(ReachSDK::localstream::initVideo)');if(!initVideoProgress){initVideoProgress=true;navigator.getMedia=getUserMedia;mLocalStreamVideo=document.createElement('VIDEO');mLocalStreamVideo.muted=true;localVideoStreams.push(mLocalStreamVideo);if(streamVideo===null){navigator.getMedia({audio:false,video:true},function(s){streamVideo=s;localVideoStreams.forEach(function(localVideoStream){attachMediaStream(localVideoStream,streamVideo);});localVideoStreams=[];listenersVideo.forEach(function(listenerVideo){listenerVideo(streamVideo);});listenersVideo=[];initVideoProgress=false;if(callback){callback();}},function(error){console.error('Error on webrtcLocalStream - webkitGetUserMedia : error=');console.dir(error);initVideoProgress=false;if(callback){callback(error);}});}else {localVideoStreams.forEach(function(localVideoStream){attachMediaStream(localVideoStream,streamVideo);});localVideoStreams=[];listenersVideo.forEach(function(listenerVideo){listenerVideo(streamVideo);});listenersVideo=[];initVideoProgress=false;}}}function _initAudio(callback){console.log('(ReachSDK::localstream::initAudio)');if(!initAudioProgress){initAudioProgress=true;navigator.getMedia=getUserMedia;mLocalStreamAudio=document.createElement('AUDIO');mLocalStreamAudio.muted=true;localAudioStreams.push(mLocalStreamAudio);if(streamAudio===null){navigator.getMedia({audio:true,video:false},function(s){streamAudio=s;localAudioStreams.forEach(function(localAudioStream){attachMediaStream(localAudioStream,streamAudio);});localAudioStreams=[];listenersAudio.forEach(function(listenerAudio){listenerAudio(streamAudio);});listenersAudio=[];initAudioProgress=false;if(callback){callback();}},function(error){console.error('Error on webrtcLocalStream - webkitGetUserMedia :error=');console.dir(error);initAudioProgress=false;if(callback){callback(error);}});}else {localAudioStreams.forEach(function(localAudioStream){attachMediaStream(localAudioStream,streamAudio);});localAudioStreams=[];listenersAudio.forEach(function(listenerAudio){listenerAudio(streamAudio);});listenersAudio=[];initAudioProgress=false;}}}function _initAudioVideo(callback){console.log('(ReachSDK::localstream::initAudioVideo)');if(!initAudioVideoProgress){initAudioVideoProgress=true;navigator.getMedia=getUserMedia;mLocalStreamAudioVideo=document.createElement('AUDIOVIDEO');mLocalStreamAudioVideo.muted=true;localAudioVideoStreams.push(mLocalStreamAudioVideo);if(streamAudioVideo===null){navigator.getMedia({audio:true,video:true},function(s){streamAudioVideo=s;localAudioVideoStreams.forEach(function(localAudioVideoStream){attachMediaStream(localAudioVideoStream,streamAudioVideo);});localAudioVideoStreams=[];listenersAudioVideo.forEach(function(listenerAudioVideo){listenerAudioVideo(streamAudioVideo);});listenersAudioVideo=[];initAudioVideoProgress=false;if(callback){callback();}},function(error){console.error('(ReachSDK::localstream::initAudioVideo::Error on webrtcLocalStream - webkitGetUserMedia : error=');console.dir(error);initAudioVideoProgress=false;if(callback){callback(error);}});}else {localAudioVideoStreams.forEach(function(localAudioVideoStream){attachMediaStream(localAudioVideoStream,streamAudioVideo);});localAudioVideoStreams=[];listenersAudioVideo.forEach(function(listenerAudioVideo){listenerAudioVideo(streamAudioVideo);});listenersAudioVideo=[];initAudioVideoProgress=false;}}}function _close(){console.log('(ReachSDK::localstream::close)');if(mLocalStreamVideo){detachMediaStream(mLocalStreamVideo);mLocalStreamVideo=null;}if(streamAudioVideo){streamAudioVideo.getTracks().forEach(function(track){track.stop();});streamAudioVideo=null;}if(streamVideo){streamVideo.stop();streamVideo=null;}initVideoProgress=false;if(mLocalStreamAudio){detachMediaStream(mLocalStreamAudio);mLocalStreamAudio=null;}if(streamAudio){streamAudio.stop();streamAudio=null;}initAudioProgress=false;if(mLocalStreamAudioVideo){detachMediaStream(mLocalStreamAudioVideo);mLocalStreamAudioVideo=null;}if(streamAudioVideo){streamAudioVideo.stop();streamAudioVideo=null;}initAudioVideoProgress=false;}return {getVideoStream:function getVideoStream(){return streamVideo;},addVideoListener:function addVideoListener(cb){listenersVideo.push(cb);},initVideo:function initVideo(){_initVideo();},connectLocalVideoStream:function connectLocalVideoStream(videoElt,publishStreamCb,getLocalStreamCb){if(videoElt){videoElt.muted=true;if(streamVideo){console.log('(ReachSDK::localstream::connectLocalVideoStream)use existing streamVideo');attachMediaStream(videoElt,streamVideo);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamVideo);}}else {localVideoStreams.push(videoElt);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersVideo.push(getLocalStreamCb);}_initVideo(publishStreamCb);}}else {if(!streamVideo){if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersVideo.push(getLocalStreamCb);}_initVideo(publishStreamCb);}else {if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamVideo);}}}},getAudioStream:function getAudioStream(){return streamAudio;},addAudioListener:function addAudioListener(cb){listenersAudio.push(cb);},initAudio:function initAudio(){_initAudio();},connectLocalAudioStream:function connectLocalAudioStream(AudioElt,publishStreamCb,getLocalStreamCb){if(AudioElt){AudioElt.muted=true;if(streamAudio){console.log('(ReachSDK::localstream::connectLocalAudioStream)use existing streamAudio');attachMediaStream(AudioElt,streamAudio);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamAudio);}}else {localAudioStreams.push(AudioElt);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudio.push(getLocalStreamCb);}_initAudio(publishStreamCb);}}else {if(!streamAudio){if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudio.push(getLocalStreamCb);}_initAudio(publishStreamCb);}else {if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamAudio);}}}},getAudioVideoStream:function getAudioVideoStream(){return streamAudioVideo;},addAudioVideoListener:function addAudioVideoListener(cb){listenersAudioVideo.push(cb);},initAudioVideo:function initAudioVideo(){_initAudioVideo();},connectLocalAudioVideoStream:function connectLocalAudioVideoStream(AudioVideoElt,publishStreamCb,getLocalStreamCb){if(AudioVideoElt){AudioVideoElt.muted=true;if(streamAudioVideo){console.log('(ReachSDK::localstream::connectLocalAudioVideoStream)use existing streamAudioVideo');attachMediaStream(AudioVideoElt,streamAudioVideo);if(getLocalStreamCb){getLocalStreamCb(streamAudioVideo);}}else {localAudioVideoStreams.push(AudioVideoElt);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudioVideo.push(getLocalStreamCb);}_initAudioVideo(publishStreamCb);}}else {if(!streamAudioVideo){if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudioVideo.push(getLocalStreamCb);}_initAudioVideo(publishStreamCb);}else {if(getLocalStreamCb){getLocalStreamCb(streamAudioVideo);}}}},close:function close(){_close();}};}();exports.default=localstream;

/***/ },
/* 50 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _utils=__webpack_require__(47),_utils2=_interopRequireDefault(_utils),_webrtc=__webpack_require__(51),_webrtc2=_interopRequireDefault(_webrtc);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var webrtcmngr=function webrtcmngr(datarefs){var _this=this,webrtcStacks=[],virtualWebrtcStacks=[],mwebrtcmngr_reference=void 0;function _createWebrtc(p_Vid,p_remoteAppInstId,p_onCloseCb,p_isPublish,p_actionType,p_peercoId,p_peercoRef,p_mutedAudio,p_muteVideo,p_getStreamCb){var webrtcStackId=p_peercoId,localDataRef=datarefs.getWebrtc().child(p_peercoRef+'/'+_utils2.default.appInstanceId),remoteDataRef=datarefs.getWebrtc().child(p_peercoRef+'/'+p_remoteAppInstId),virtualWebrtcStack=void 0;if(p_isPublish){virtualWebrtcStack={webRtcStackId:webrtcStackId,localVid:p_Vid};}else {virtualWebrtcStack={webRtcStackId:webrtcStackId,remoteVid:p_Vid};}var id=virtualWebrtcStacks.push(virtualWebrtcStack)-1;if(!webrtcStacks[webrtcStackId]){console.debug('ReachSDK::webrtcmngr::createWebrtc->create a new real webrtcStack');var webRtcStack=(0,_webrtc2.default)(mwebrtcmngr_reference,p_isPublish,localDataRef,remoteDataRef,webrtcStackId,p_actionType,p_mutedAudio,p_muteVideo);webRtcStack.setOnClose(p_onCloseCb);if(p_isPublish){webrtcStacks[webrtcStackId]={stack:webRtcStack,isPublished:1,isSubscribed:0};webRtcStack.connectLocalStream(p_Vid,p_getStreamCb);}else {webrtcStacks[webrtcStackId]={stack:webRtcStack,isPublished:0,isSubscribed:1};webRtcStack.connectRemoteStream(p_Vid,p_getStreamCb);}}else {console.debug('ReachSDK::webrtcmngr::createWebrtc->use existing real webrtcStack');if(p_isPublish){webrtcStacks[webrtcStackId].isPublished++;webrtcStacks[webrtcStackId].stack.connectLocalStream(p_Vid,p_getStreamCb);}else {webrtcStacks[webrtcStackId].isSubscribed++;webrtcStacks[webrtcStackId].stack.connectRemoteStream(p_Vid,p_getStreamCb);}}console.debug('ReachSDK::webrtcmngr::createWebrtc->webrtcStack:'+webrtcStackId+' new isPublished count ='+webrtcStacks[webrtcStackId].isPublished+' new isSubscribed count ='+webrtcStacks[webrtcStackId].isSubscribed);return id;}function _closeWebrtc(id,p_isUnPublish,callback){console.debug('ReachSDK::webrtcmngr::closeWebrtc->id='+id);if(!virtualWebrtcStacks[id]){console.warn('ReachSDK::webrtcmngr::closeWebrtc: virtualstack '+id+' not found');if(callback&&typeof callback=='function'){callback();}return false;}var webrtcStackId=virtualWebrtcStacks[id].webRtcStackId;if(webrtcStackId&&webrtcStacks[webrtcStackId]){if(p_isUnPublish&&webrtcStacks[webrtcStackId].isPublished>0){webrtcStacks[webrtcStackId].isPublished--;}else if(!p_isUnPublish&&webrtcStacks[webrtcStackId].isSubscribed>0){webrtcStacks[webrtcStackId].isSubscribed--;}if(webrtcStacks[webrtcStackId].isPublished<1&&webrtcStacks[webrtcStackId].isSubscribed<1){console.debug('ReachSDK::webrtcmngr::closeWebrtc->destroy  real webrtcStack:'+webrtcStackId);webrtcStacks[webrtcStackId].stack.close(callback);webrtcStacks[webrtcStackId]=null;}else {console.debug('ReachSDK::webrtcmngr::closeWebrtc->decrement  real webrtcStack:'+webrtcStackId+' new isPublished count ='+webrtcStacks[webrtcStackId].isPublished+' new isSubscribed count ='+webrtcStacks[webrtcStackId].isSubscribed);if(callback&&typeof callback=='function'){callback();}}}else {if(callback&&typeof callback=='function'){callback();}console.warn('ReachSDK::webrtcmngr::closeWebrtc cannot found real stack');}if(virtualWebrtcStacks[id].remoteVid){detachMediaStream(virtualWebrtcStacks[id].remoteVid);}virtualWebrtcStacks.splice(id,1);return true;}function _clearWebrtcStacks(webrtcStackId){console.debug('ReachSDK::webrtcmngr::clearWebrtcStacks id='+webrtcStackId);if(webrtcStackId&&webrtcStacks&&webrtcStacks[webrtcStackId]){webrtcStacks[webrtcStackId]=null;}return true;}function _muteAudioWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.muteAudio();}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}function _unmuteAudioWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+',webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.unmuteAudio();}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}function _muteVideoWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.muteVideo();}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}function _unmuteVideoWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+', webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.unmuteVideo();}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}function _setWebrtcManger(webrtcmngr){mwebrtcmngr_reference=webrtcmngr;}return {createWebrtc:function createWebrtc(p_Vid,p_remoteAppInstId,p_onCloseCb,p_isPublish,p_actionType,p_peercoId,p_peercoRef,p_mutedAudio,p_muteVideo,p_getStreamCb){return _createWebrtc.bind(_this)(p_Vid,p_remoteAppInstId,p_onCloseCb,p_isPublish,p_actionType,p_peercoId,p_peercoRef,p_mutedAudio,p_muteVideo,p_getStreamCb);},closeWebrtc:_closeWebrtc,clearWebrtcStacks:_clearWebrtcStacks,muteAudioWebrtcStack:_muteAudioWebrtcStack,unmuteAudioWebrtcStack:_unmuteAudioWebrtcStack,muteVideoWebrtcStack:_muteVideoWebrtcStack,unmuteVideoWebrtcStack:_unmuteVideoWebrtcStack,setWebrtcManger:_setWebrtcManger};};exports.default=webrtcmngr;

/***/ },
/* 51 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _stringify=__webpack_require__(45),_stringify2=_interopRequireDefault(_stringify),_actions=__webpack_require__(22),_actions2=_interopRequireDefault(_actions),_localstream=__webpack_require__(49),_localstream2=_interopRequireDefault(_localstream);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var ICE_CONNECTION_STATE_DISCONNECTED='disconnected',ICE_CONNECTION_STATE_CONNECTED='connected',ICE_CONNECTION_STATE_COMPLETED='completed',ICE_CONNECTION_STATE_CHECKING='checking',ICE_CONNECTION_STATE_CLOSED='closed',ICE_CONNECTION_STATE_FAILED='failed',ICE_CONNECTION_STATE_OTHER='other',DEFAULT_ICE_CONFIG={iceServers:[{url:'turns:turn1.webcom.orange.com:443',username:'admin',credential:'webcom1234'},{url:'turn:turn2.webcom.orange.com:443',username:'admin',credential:'webcom1234'},{url:'turns:turn3.webcom.orange.com:443',username:'admin',credential:'webcom1234'}]},webrtc=function webrtc(p_webrtcmngr,p_isPublish,p_localDataRef,p_remoteDataRef,p_webrtcStackId,p_actionType,p_muteAudio,p_muteVideo){var webrtcmngr=p_webrtcmngr,stackId=new Date().getTime(),isPublish=p_isPublish,pc=null,localDataRef=p_localDataRef,remoteDataRef=p_remoteDataRef,iceCandidatesListCb=null,_sdpOfferCb=null,_sdpAnswerCb=null,remotedatarefCb=null,onCloseCb=null,webrtcStackId=p_webrtcStackId,actionType=p_actionType,config=null,myPeerConnection=null,myRTCSessionDescription=null,myRTCIceCandidate=null,localStreams=[],remoteStreams=[],remoteStreamsCb=[],receivedStream=null,sentStream=null,isClosed=false,closeInProgress=false,iceConnectionState=null,onCloseCb2=null,isAudioMute=false,isVideoMute=false;console.log('(ReachSDK::webrtc::)stackId=${stackId} isPublish=${isPublish},localDataRef=${localDataRef},remoteDataRef=${remoteDataRef})');var DtlsSrtpKeyAgreement={DtlsSrtpKeyAgreement:true},optional={optional:[DtlsSrtpKeyAgreement]},publisherMediaConstraints={mandatory:{OfferToReceiveAudio:false,OfferToReceiveVideo:false}},subscriberMediaConstraints={mandatory:{OfferToReceiveAudio:true,OfferToReceiveVideo:true}};function onError(e){console.log('(ReachSDK::webrtc::)stackId='+stackId+'error='+e);console.dir(e);}function getIceServersConfigFromServer(callbackOk,callbackKo){console.log('ReachSDK::webrtc::getIceServersConfigFromServer');if(localDataRef){localDataRef.root().child('config').once('value',function(snapshot){var _config=snapshot?snapshot.val():null;if(_config){if(typeof callbackOk=='function'){callbackOk(_config);}}else if(typeof callbackKo=='function'){callbackKo();}},function(error){if(typeof callbackKo=='function'){callbackKo(error);}});}else if(typeof callbackKo=='function'){callbackKo();}}function startListeningToRemoteIceCandidate(){remoteDataRef.child('iceCandidatesList').on('child_added',iceCandidatesListCb);}function stopListeningToRemoteIceCandidate(){remoteDataRef.child('iceCandidatesList').off('child_added',iceCandidatesListCb);}function _muteTracks(enabled,tracks){if(tracks){tracks.forEach(function(track){if(track){track.enabled=enabled;}});}}function _muteAudioTracks(mute){isAudioMute=mute;var stream=isPublish&&sentStream?sentStream:!isPublish&&receivedStream?receivedStream:null;if(stream){_muteTracks(!isAudioMute,stream.getAudioTracks());}}function _muteAudio(){console.log('(ReachSDK::webrtc::_muteAudio)stackId='+stackId);_muteAudioTracks(true);}function _unmuteAudio(){console.log('(ReachSDK::webrtc::_unmuteAudio)stackId='+stackId);_muteAudioTracks(false);}function _muteVideoTracks(mute){isVideoMute=mute;var stream=isPublish&&sentStream?sentStream:!isPublish&&receivedStream?receivedStream:null;if(stream){_muteTracks(!isVideoMute,stream.getVideoTracks());}}function _muteVideo(){console.log('(ReachSDK::webrtc::_muteVideo)stackId='+stackId);_muteVideoTracks(true);}function _unmuteVideo(){console.log('(ReachSDK::webrtc::_unmuteVideo)stackId='+stackId);_muteVideoTracks(false);}function _initlocalStream(callback){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' get local video stream and renders to local video');if(actionType){var initlocalStream=void 0;if(actionType===_actions2.default.ACTION_TYPE_VIDEO){initlocalStream=function initlocalStream(){console.log('(ReachSDK::webrtc::_initlocalStream)initlocalStream_video');if(_localstream2.default.getVideoStream()&&_localstream2.default.getVideoStream().clone&&typeof _localstream2.default.getVideoStream().clone=='function'){sentStream=_localstream2.default.getVideoStream().clone();}else {sentStream=_localstream2.default.getVideoStream();}if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}pc.addStream(sentStream);for(var i=0;i<localStreams.length;i++){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' rendering local video to '+localStreams[i].id);attachMediaStream(localStreams[i],_localstream2.default.getVideoStream());}if(callback&&typeof callback=='function'){callback();}};if(_localstream2.default.getVideoStream()){initlocalStream();}else {_localstream2.default.addVideoListener(initlocalStream);_localstream2.default.initVideo();}}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO){initlocalStream=function initlocalStream(){console.log('(ReachSDK::webrtc::_initlocalStream)initlocalStream_audio');if(_localstream2.default.getAudioStream()&&_localstream2.default.getAudioStream().clone&&typeof _localstream2.default.getAudioStream().clone=='function'){sentStream=_localstream2.default.getAudioStream().clone();}else {sentStream=_localstream2.default.getAudioStream();}if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}pc.addStream(sentStream);for(var i=0;i<localStreams.length;i++){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' rendering local Audio to '+localStreams[i].id);attachMediaStream(localStreams[i],_localstream2.default.getAudioStream());}if(callback&&typeof callback=='function'){callback();}};if(_localstream2.default.getAudioStream()){initlocalStream();}else {_localstream2.default.addAudioListener(initlocalStream);_localstream2.default.initAudio();}}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){initlocalStream=function initlocalStream(){console.log('(ReachSDK::webrtc::_initlocalStream)initlocalStream_audio_video');if(_localstream2.default.getAudioVideoStream()&&_localstream2.default.getAudioVideoStream().clone&&typeof _localstream2.default.getAudioVideoStream().clone=='function'){sentStream=_localstream2.default.getAudioVideoStream().clone();}else {sentStream=_localstream2.default.getAudioVideoStream();}if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}pc.addStream(sentStream);for(var i=0;i<localStreams.length;i++){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' rendering local AudioVideo to '+localStreams[i].id);attachMediaStream(localStreams[i],_localstream2.default.getAudioVideoStream());}if(callback&&typeof callback=='function'){callback();}};if(_localstream2.default.getAudioVideoStream()){initlocalStream();}else {_localstream2.default.addAudioVideoListener(initlocalStream);_localstream2.default.initAudioVideo();}}}else {console.warn('(ReachSDK::webrtc::_initlocalStream)no actionType specified');}}function _initSdpCallbacks(){console.debug('(ReachSDK::webrtc::_initSdpCallbacks)stackId='+stackId);if(isPublish){if(_sdpOfferCb){remoteDataRef.off('child_added',_sdpOfferCb);}_sdpAnswerCb=function sdpAnswerCb(snapshot){if(!isClosed&&snapshot.name()==='sdpAnswer'){var data=snapshot.val();console.debug('(ReachSDK::webrtc::sdpAnswerCb)stackId='+stackId+'-received sdpAnswer: '+(0,_stringify2.default)(data));pc.setRemoteDescription(new myRTCSessionDescription(data),function(){console.debug('(ReachSDK::webrtc::sdpAnswerCb)stackId='+stackId+'-remote description set');startListeningToRemoteIceCandidate();},onError);remoteDataRef.off('child_added',_sdpAnswerCb);}};remoteDataRef.on('child_added',_sdpAnswerCb);}else {if(_sdpAnswerCb){remoteDataRef.off('child_added',_sdpAnswerCb);}_sdpOfferCb=function sdpOfferCb(snapshot){if(!isClosed&&snapshot.name()==='sdpOffer'){var data=snapshot.val();console.debug('(ReachSDK::webrtc::sdpOfferCb)stackId='+stackId+'-received sdpOffer: '+(0,_stringify2.default)(data));pc.setRemoteDescription(new myRTCSessionDescription(data),function(){pc.createAnswer(function(description){console.log('(ReachSDK::webrtc::sdpOfferCb)stackId='+stackId+'-sending answer');pc.setLocalDescription(description,function(){console.debug('(ReachSDK::webrtc::sdpOfferCb)stackId='+stackId+'-set sdpAnswer in base : '+(0,_stringify2.default)(description));localDataRef.child('sdpAnswer').set(JSON.parse((0,_stringify2.default)(description)));startListeningToRemoteIceCandidate();},onError);},onError,subscriberMediaConstraints);},onError);remoteDataRef.off('child_added',_sdpOfferCb);}};remoteDataRef.on('child_added',_sdpOfferCb);}}function _closeSdpCallbacks(){if(_sdpAnswerCb){remoteDataRef.off('child_added',_sdpAnswerCb);_sdpAnswerCb=null;}if(_sdpOfferCb){remoteDataRef.off('child_added',_sdpOfferCb);_sdpOfferCb=null;}}function sendOffer(){console.log('(webrtc::sendOffer)stackid='+stackId+'-creating sdpOffer');pc.createOffer(function(description){pc.setLocalDescription(description,function(){console.debug('(ReachSDK::webrtc::createOffer)stackId='+stackId+'-set sdpOffer in base : '+(0,_stringify2.default)(description));localDataRef.child('sdpOffer').set(JSON.parse((0,_stringify2.default)(description)));},onError);},onError,publisherMediaConstraints);}function _close(callback){if(!closeInProgress&&!isClosed){closeInProgress=true;onCloseCb2=callback;console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closing webrtc stack');if(pc){pc.close();}if(remotedatarefCb){remoteDataRef.off('child_added',remotedatarefCb);remotedatarefCb=null;}if(iceCandidatesListCb){stopListeningToRemoteIceCandidate();iceCandidatesListCb=null;}_closeSdpCallbacks();for(var i=0;i<localStreams.length;i++){if(localStreams[i]){detachMediaStream(localStreams[i]);console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-stopping local video to '+localStreams[i].id);}}for(var j=0;j<remoteStreams.length;j++){if(remoteStreams[j]){detachMediaStream(remoteStreams[j]);console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-stopping remote vid to '+remoteStreams[j].id);}}isClosed=true;console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closing webrtc stack -> waiting for ICE_CONNECTION_STATE_DISCONNECTED');if(isClosed&&(iceConnectionState===ICE_CONNECTION_STATE_DISCONNECTED||iceConnectionState===ICE_CONNECTION_STATE_CLOSED||iceConnectionState===ICE_CONNECTION_STATE_FAILED)){console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closed webrtc stack complete');pc=null;closeInProgress=false;webrtcmngr.clearWebrtcStacks(webrtcStackId);if(onCloseCb2&&typeof onCloseCb2=='function'){onCloseCb2();}}}else {console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closing webrtc stack already in progress');}}function _connectLocalStream(videoElt,getStreamCb){if(actionType){if(actionType===_actions2.default.ACTION_TYPE_VIDEO){_localstream2.default.connectLocalVideoStream(videoElt,getStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO){_localstream2.default.connectLocalAudioStream(videoElt,getStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){_localstream2.default.connectLocalAudioVideoStream(videoElt,getStreamCb);}}}function _connectRemoteStream(videoElt,getStreamCb){if(videoElt){if(receivedStream){attachMediaStream(videoElt,receivedStream);if(getStreamCb&&typeof getStreamCb=='function'){getStreamCb(receivedStream);}}else {remoteStreams.push(videoElt);if(getStreamCb&&typeof getStreamCb=='function'){remoteStreamsCb.push(getStreamCb);}}}else {if(receivedStream){if(getStreamCb&&typeof getStreamCb=='function'){getStreamCb(receivedStream);}}else {if(getStreamCb&&typeof getStreamCb=='function'){remoteStreamsCb.push(getStreamCb);}}}}function init_pc(){console.log('(ReachSDK::webrtc::init_pc)stackId='+stackId+'_config=',(0,_stringify2.default)(config));pc=new myPeerConnection(config,optional);pc.onicecandidate=function(e){if(e.candidate){console.log('(ReachSDK::webrtc::pc.onicecandidate)stackId='+stackId+' send ice candidate='+(0,_stringify2.default)(e.candidate));localDataRef.child('iceCandidatesList').push({label:e.candidate.sdpMLineIndex,id:e.candidate.sdpMid,candidate:e.candidate.candidate});}};pc.onaddstream=function(e){console.debug('(ReachSDK::webrtc::onaddstream)stackId='+stackId+'-stream:'+(0,_stringify2.default)(e.stream));if(e&&e.stream){receivedStream=e.stream;if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}}};pc.oniceconnectionstatechange=function(){if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_CHECKING){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-checking');iceConnectionState=ICE_CONNECTION_STATE_CHECKING;}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_CONNECTED){iceConnectionState=ICE_CONNECTION_STATE_CONNECTED;console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-connected');if(receivedStream){remoteStreams.forEach(function(remoteStream){if(remoteStream){console.debug('(ReachSDK::webrtc::onaddstream)pc.onaddstream stackId='+stackId+'-rendering remote vid to '+remoteStream.id);attachMediaStream(remoteStream,receivedStream);}});remoteStreamsCb.forEach(function(remoteStreamCb){if(remoteStreamCb){remoteStreamCb(receivedStream);}});remoteStreamsCb=[];}stopListeningToRemoteIceCandidate();}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_COMPLETED){iceConnectionState=ICE_CONNECTION_STATE_COMPLETED;console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-'+ICE_CONNECTION_STATE_COMPLETED);stopListeningToRemoteIceCandidate();}if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_DISCONNECTED){iceConnectionState=ICE_CONNECTION_STATE_DISCONNECTED;console.log('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-remote disconnection, closing peer connection');}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_CLOSED){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-closed');iceConnectionState=ICE_CONNECTION_STATE_CLOSED;_close();}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_FAILED){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-failed');iceConnectionState=ICE_CONNECTION_STATE_FAILED;}else {if(pc){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-'+pc.iceConnectionState);}else {console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-pc = null');}iceConnectionState=ICE_CONNECTION_STATE_OTHER;}if(isClosed&&(iceConnectionState===ICE_CONNECTION_STATE_DISCONNECTED||iceConnectionState===ICE_CONNECTION_STATE_CLOSED||iceConnectionState===ICE_CONNECTION_STATE_FAILED)){console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closed webrtc stack complete');pc=null;closeInProgress=false;webrtcmngr.clearWebrtcStacks(webrtcStackId);if(onCloseCb&&typeof onCloseCb=='function'){onCloseCb();}if(onCloseCb2&&typeof onCloseCb2=='function'){onCloseCb2();}}};iceCandidatesListCb=function iceCandidatesListCb(snapshot){var data=snapshot.val(),candidate=new myRTCIceCandidate({sdpMLineIndex:data.label,candidate:data.candidate,sdpMid:data.id});console.log('(ReachSDK::webrtc::iceCandidatesListCb)stackId='+stackId+'received ice candidate='+(0,_stringify2.default)(candidate));pc.addIceCandidate(candidate);};if(isPublish){_initlocalStream(function(){_initSdpCallbacks();sendOffer();});}else {_initSdpCallbacks();}}(function(){console.log('(ReachSDK::webrtc::init)stackId='+stackId);if(typeof RTCPeerConnection==='function'){myPeerConnection=RTCPeerConnection;}else {console.error('(ReachSDK::webrtc::init)stackId='+stackId+' error=Webrtc is not supported on this browser !');throw new Error('Webrtc is not supported on this browser !');}if(typeof RTCSessionDescription==='function'){myRTCSessionDescription=RTCSessionDescription;}else {console.error('(ReachSDK::webrtc::init)stackId='+stackId+' error2=Webrtc is not supported on this browser !');throw new Error('Webrtc is not supported on this browser !');}if(typeof RTCIceCandidate==='function'){myRTCIceCandidate=RTCIceCandidate;}else {console.error('(ReachSDK::webrtc::init)stackId='+stackId+' error3=Webrtc is not supported on this browser !');throw new Error('Webrtc is not supported on this browser !');}if(p_muteAudio){isAudioMute=true;}if(p_muteVideo){isVideoMute=true;}getIceServersConfigFromServer(function(_config){config=_config;console.log('(ReachSDK::webrtc::) use server config=',(0,_stringify2.default)(config));init_pc();},function(){if(typeof DEFAULT_ICE_CONFIG!=='undefined'){config=DEFAULT_ICE_CONFIG;console.log('(ReachSDK::webrtc::) use DEFAULT_ICE_CONFIG config=',(0,_stringify2.default)(config));}else {console.log('(ReachSDK::webrtc::) no ice  config');}init_pc();});})();return {setOnClose:function setOnClose(cb){onCloseCb=cb;},close:function close(cb){console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-close requested');_close(cb);},connectLocalStream:_connectLocalStream,connectRemoteStream:_connectRemoteStream,muteAudio:_muteAudio,unmuteAudio:_unmuteAudio,muteVideo:_muteVideo,unmuteVideo:_unmuteVideo};};exports.default=webrtc;

/***/ }
/******/ ])
});
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA2ZTY2NDJmOWJiZDY4ODRhNzIwOCIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGlkZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwid2VicGFjazovLy8uL3NyYy9hZGFwdGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hY3Rpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhcmVmcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVhY2guanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMtaW50ZXJuYWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29mLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLWtleS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2hhcmVkLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcm9vbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvbG9jYWxzdHJlYW0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYnJ0Y21uZ3IuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3dlYnJ0Yy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCxPO0FDVkE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsdUJBQWU7QUFDZjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7O0FBR0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FB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USxDQUNkLFFBQVEsS0FBUixzQ0FBbUQsT0FBbkQscUJBQ0EsT0FBTyxFQUFQLEVBQ0EsQ0FoQkssQ0F1Qk4sbUJBQW9CLG1CQXZCZCxDQTZCTixvQkFBcUIsb0JBN0JmLENBaUNOLFVBQVcsVUFqQ0wsQ0FxQ04sWUFBYSxZQXJDUCxDQXlDTixVQUFXLFVBekNMLENBNkNOLFlBQWEsWUE3Q1AsQ0FBUCxDQStDQSxDQTU0QkQsQyxnQkE4NEJlLE0iLCJmaWxlIjoicmVhY2gtZGVidWcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gd2VicGFja1VuaXZlcnNhbE1vZHVsZURlZmluaXRpb24ocm9vdCwgZmFjdG9yeSkge1xuXHRpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIG1vZHVsZSA9PT0gJ29iamVjdCcpXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdGVsc2UgaWYodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuXHRcdGRlZmluZShbXSwgZmFjdG9yeSk7XG5cdGVsc2UgaWYodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKVxuXHRcdGV4cG9ydHNbXCJSZWFjaFwiXSA9IGZhY3RvcnkoKTtcblx0ZWxzZVxuXHRcdHJvb3RbXCJSZWFjaFwiXSA9IGZhY3RvcnkoKTtcbn0pKHRoaXMsIGZ1bmN0aW9uKCkge1xucmV0dXJuIFxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIHdlYnBhY2svdW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvblxuICoqLyIsIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKVxuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuXG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRleHBvcnRzOiB7fSxcbiBcdFx0XHRpZDogbW9kdWxlSWQsXG4gXHRcdFx0bG9hZGVkOiBmYWxzZVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKDApO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay9ib290c3RyYXAgNmU2NjQyZjliYmQ2ODg0YTcyMDhcbiAqKi8iLCIvLyBQb2x5ZmlsbHMgZm9yIFdlYlJUQ1xuXG5cbi8vIFRPRE8gMTlrIG1pbmlmaWVkLCB3ZSBjYW4gZG8gbGVzcyBtYXliZVxuLyogZXNsaW50IG5vLXVudXNlZC12YXJzOjAgKi9cbmltcG9ydCBhZGFwdGVyanMgZnJvbSAnLi9hZGFwdGVyJztcblxuaW1wb3J0IGFjdGlvbnMgZnJvbSAnLi9hY3Rpb25zJztcbmltcG9ydCBkYXRhcmVmcyBmcm9tICcuL2RhdGFyZWZzJztcbmltcG9ydCByZWFjaCBmcm9tICcuL3JlYWNoJztcbmltcG9ydCByb29tIGZyb20gJy4vcm9vbSc7XG5pbXBvcnQgd2VicnRjbW5nciBmcm9tICcuL3dlYnJ0Y21uZ3InO1xuXG5leHBvcnQgY2xhc3MgUmVhY2gge1xuXHRjb25zdHJ1Y3Rvcih1cmw9ICdodHRwOi8vd2ViY29tLm9yYW5nZS5jb20vYmFzZS93ZWJydGMnKSB7XG5cdFx0dGhpcy5kYXRhcmVmcyA9IGRhdGFyZWZzKHVybCk7XG5cdFx0dGhpcy53ZWJydGNtbmdyID0gd2VicnRjbW5ncih0aGlzLmRhdGFyZWZzKTtcblx0XHR0aGlzLndlYnJ0Y21uZ3Iuc2V0V2VicnRjTWFuZ2VyKHRoaXMud2VicnRjbW5ncik7XG5cdH1cblxuXHRSb29tKC4uLmFyZ3MpIHtcblx0XHRyZXR1cm4gcm9vbSguLi5hcmdzLCB0aGlzLmRhdGFyZWZzLCB0aGlzLndlYnJ0Y21uZ3IpO1xuXHR9XG5cblx0UmVhY2goLi4uYXJncykge1xuXHRcdHJldHVybiByZWFjaCguLi5hcmdzLCB0aGlzLmRhdGFyZWZzKTtcblx0fVxuXG5cdHN0YXRpYyBnZXQgdmVyc2lvbigpIHtcblx0XHRyZXR1cm4gU0RLX1ZFUlNJT047IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblx0fVxuXHRzdGF0aWMgZ2V0IGFjdGlvbnMoKSB7XG5cdFx0cmV0dXJuIGFjdGlvbnM7XG5cdH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBSZWFjaDtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9pbmRleC5qc1xuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5leHBvcnRzLmRlZmF1bHQgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanNcbiAqKiBtb2R1bGUgaWQgPSAxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eSA9IHJlcXVpcmUoXCJiYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qc1xuICoqIG1vZHVsZSBpZCA9IDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanNcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2Mpe1xuICByZXR1cm4gJE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcclxuLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcclxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSwgJ09iamVjdCcsIHtkZWZpbmVQcm9wZXJ0eTogcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGNvcmUgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGN0eCAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgaGlkZSAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkZcbiAgICAsIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0LkdcbiAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcbiAgICAsIElTX1BST1RPICA9IHR5cGUgJiAkZXhwb3J0LlBcbiAgICAsIElTX0JJTkQgICA9IHR5cGUgJiAkZXhwb3J0LkJcbiAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0LldcbiAgICAsIGV4cG9ydHMgICA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pXG4gICAgLCBleHBQcm90byAgPSBleHBvcnRzW1BST1RPVFlQRV1cbiAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cbiAgICAsIGtleSwgb3duLCBvdXQ7XG4gIGlmKElTX0dMT0JBTClzb3VyY2UgPSBuYW1lO1xuICBmb3Ioa2V5IGluIHNvdXJjZSl7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICBpZihvd24gJiYga2V5IGluIGV4cG9ydHMpY29udGludWU7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldO1xuICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldXG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuICAgIC8vIHdyYXAgZ2xvYmFsIGNvbnN0cnVjdG9ycyBmb3IgcHJldmVudCBjaGFuZ2UgdGhlbSBpbiBsaWJyYXJ5XG4gICAgOiBJU19XUkFQICYmIHRhcmdldFtrZXldID09IG91dCA/IChmdW5jdGlvbihDKXtcbiAgICAgIHZhciBGID0gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICAgIGlmKHRoaXMgaW5zdGFuY2VvZiBDKXtcbiAgICAgICAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQztcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDKGEpO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEMoYSwgYik7XG4gICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG4gICAgICAgIH0gcmV0dXJuIEMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgICByZXR1cm4gRjtcbiAgICAvLyBtYWtlIHN0YXRpYyB2ZXJzaW9ucyBmb3IgcHJvdG90eXBlIG1ldGhvZHNcbiAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLm1ldGhvZHMuJU5BTUUlXG4gICAgaWYoSVNfUFJPVE8pe1xuICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuICAgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLnByb3RvdHlwZS4lTkFNRSVcbiAgICAgIGlmKHR5cGUgJiAkZXhwb3J0LlIgJiYgZXhwUHJvdG8gJiYgIWV4cFByb3RvW2tleV0paGlkZShleHBQcm90bywga2V5LCBvdXQpO1xuICAgIH1cbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWAgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanNcbiAqKiBtb2R1bGUgaWQgPSA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanNcbiAqKiBtb2R1bGUgaWQgPSA3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcyLjQuMCd9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzXG4gKiogbW9kdWxlIGlkID0gOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKXtcbiAgYUZ1bmN0aW9uKGZuKTtcbiAgaWYodGhhdCA9PT0gdW5kZWZpbmVkKXJldHVybiBmbjtcbiAgc3dpdGNoKGxlbmd0aCl7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oYSl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKGEsIGIpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbihhLCBiLCBjKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKC8qIC4uLmFyZ3MgKi8pe1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qc1xuICoqIG1vZHVsZSBpZCA9IDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZih0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZFAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzXG4gKiogbW9kdWxlIGlkID0gMTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGRQICAgICAgICAgICAgID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyl7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZignZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKU9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanNcbiAqKiBtb2R1bGUgaWQgPSAxMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSAxM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcclxuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnZGl2JyksICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XHJcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qc1xuICoqIG1vZHVsZSBpZCA9IDE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzXG4gKiogbW9kdWxlIGlkID0gMTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudFxuICAvLyBpbiBvbGQgSUUgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCdcbiAgLCBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgUyl7XG4gIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZih0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIGlmKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qc1xuICoqIG1vZHVsZSBpZCA9IDIwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxuICogIyVMXG4gKiBXZWJjb20gc2VydmljZVxuICpcbiAqIE1vZHVsZSBuYW1lOiBjb20ub3JhbmdlLndlYnJ0Yzp3ZWJjb20tc2VydmljZVxuICogVmVyc2lvbjogICAgIDAuMC4xLVNOQVBTSE9UXG4gKiBDcmVhdGVkOiAgICAgMjAxNC0wNC0wMVxuICogJSVcbiAqIENvcHlyaWdodCAoQykgMjAxMyAtIDIwMTUgT3JhbmdlIExhYnNcbiAqICUlXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGNvbmZpZGVudGlhbCBhbmQgcHJvcHJpZXRhcnkgaW5mb3JtYXRpb24gb2YgT3JhbmdlLlxuICogWW91IHNoYWxsIG5vdCBkaXNjbG9zZSBzdWNoIENvbmZpZGVudGlhbCBJbmZvcm1hdGlvbiBhbmQgc2hhbGwgdXNlIGl0IG9ubHkgaW5cbiAqIGFjY29yZGFuY2Ugd2l0aCB0aGUgdGVybXMgb2YgdGhlIGFncmVlbWVudCB5b3UgZW50ZXJlZCBpbnRvLlxuICogVW5hdXRob3JpemVkIGNvcHlpbmcgb2YgdGhpcyBmaWxlLCB2aWEgYW55IG1lZGl1bSBpcyBzdHJpY3RseSBwcm9oaWJpdGVkLlxuICpcbiAqIElmIHlvdSBhcmUgT3JhbmdlIGVtcGxveWVlIHlvdSBzaGFsbCB1c2UgdGhpcyBzb2Z0d2FyZSBpbiBhY2NvcmRhbmNlIHdpdGhcbiAqIHRoZSBPcmFuZ2UgU291cmNlIENoYXJ0ZXIgKGh0dHA6Ly9vcGVuc291cmNlLml0bi5mdGdyb3VwL2luZGV4LnBocC9PcmFuZ2VfU291cmNlKS5cbiAqICNMJVxuICovXG5cblxuLyogZ2xvYmFsIE1lZGlhU3RyZWFtLCB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbiwgbW96UlRDUGVlckNvbm5lY3Rpb24sIG1velJUQ0ljZUNhbmRpZGF0ZSwgbW96UlRDU2Vzc2lvbkRlc2NyaXB0aW9uICovXG5cbi8qKlxuICogQGZpbGUgYWRhcHQuanMgLSBKUyBmaWxlIHRvIHVzZSBzbyBhcyB0byBnZXQgc29tZSBhZGFwdGVkIG1ldGhvZHNcbiAqIEBkZXNjcmlwdGlvbiBUaGlzIGZpbGUgcHJvdmlkZXMgbWV0aG9kcyB0byBoYW5kbGUgSUNFIHNlcnZlcnMsIHVzZXIgbWVkaWFzIG9yIFJUQyBQZWVyIENvbm5lY3Rpb24gZm9yIGV4YW1wbGUuIE1lZGlhIHN0cmVhbVxuICogbWV0aG9kcyBhcmUgYWxzbyBwcm92aWRlZCBzbyBhcyB0byBhdHRhY2gsIHJyZWF0dGFjaCBvciByZW1vdmUgZXhpc3Rpbmcgc3RyZWFtcy5cbiAqIEBhdXRob3IgV2ViY29tXG4gKiBAY29weXJpZ2h0IE9yYW5nZSBMYWJzIChDKSAyMDEzIC0gMjAxNFxuICogQGxpY2VuY2UgT3JhbmdlXG4gKlxuICogVmVyc2lvbiBkb2MgOiAxLjMuMFxuICovXG5cblxuLyogKioqKioqKioqICpcbiAqIFZhcmlhYmxlcyAqXG4gKiAqKioqKioqKiogKi9cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gVGhlIFJUQyBQZWVyIENvbm5lY3Rpb24gdG8gdXNlLiBUaGlzIG9iamVjdCBwcm92aWRlcyB0aGUgY2hhbm5lbHMgdG8gdXNlXG4gKiB0byBlc3RhYmxpc2ggdGhlIGNvbW11bmljYXRpb24gYW5kIHNlbmQgZGF0YSBiZXR3ZWVuIHBhcnRpY2lwYW50cy4gVGhpcyBvYmplY3RcbiAqIGlzIGF2YWlsYWJsZSBvbmx5IG9uIHVwIHRvIGRhdGUgd2ViIGJyb3dzZXJzIChDaHJvbWUgMzEsIEZpcmVmb3ggMzUsIE9wZXJhIDI3KS5cbiAqL1xud2luZG93LlJUQ1BlZXJDb25uZWN0aW9uID0gbnVsbDtcbi8qKlxuICogQGRlc2NyaXB0aW9uIFRoZSB1c2VyIG1lZGlhIHBpY2tlZCBmcm9tIHRoZSB3ZWIgYnJvd3NlciBjb250YWluaW5nIHRoZSB2aWRlbyBhbmQgYXVkaW8gc3RyZWFtcyBnb3R0ZW4gZnJvbSB0aGVcbiAqIHdlYmNhbXMgYW5kIG1pY3JvcGhvbmVzLiBUaGlzIG1lZGlhIHJldHJpZXZtZW50IGlzIGF2YWlsYWJsZSBvbmx5IGZvciBtb2Rlcm4gd2ViIGJyb3dzZXJzIHNpbmNlIEZpcmVmb3ggMTcsIENocm9tZSAyMSBvciBPcGVyYSAxOC5cbiAqL1xud2luZG93LmdldFVzZXJNZWRpYSA9IG51bGw7XG4vKlxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRvIHVzZSB0byBhdHRhY2ggdGhlIG1lZGlhIHN0cmVhbSB3aGljaCB3aWxsIGJlIGludGVncmF0ZWQgdG8gYW4gSFRNTCBvYmplY3QgYXMgYSB2aWRlby5cbiAqL1xud2luZG93LmF0dGFjaE1lZGlhU3RyZWFtID0gbnVsbDtcbi8qXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdG8gdXNlIHRvIHJlYXR0YWNoIHRoZSBtZWRpYSBzdHJlYW1cbiAqL1xud2luZG93LnJlYXR0YWNoTWVkaWFTdHJlYW0gPSBudWxsO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gVGhlIGRldGVjdGVkIGJyb3dzZXIgc3Vwb3J0aW5nIFdlYlJUQyAoRmlyZWZveCBvciBDaHJvbWUpXG4gKi9cbndpbmRvdy53ZWJydGNEZXRlY3RlZEJyb3dzZXIgPSBudWxsO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gVGhlIGRldGVjdGVkIHZlcnNpb24gb2YgdGhlIFdlYlJUQyBjYXBhYmxlIGRldGVjdGVkIGJyb3dlci4gVGhpcyB2ZXJzaW9uIHdpbGwgYmUgdXNlZCB0byBtYW5hZ2UgbmV0d29ya3MgYXNwZWN0cyBsaWtlIFRVUk4uXG4gKi9cbndpbmRvdy53ZWJydGNEZXRlY3RlZFZlcnNpb24gPSBudWxsO1xuXG4vKipcbiAqIEZpeCBpY2Ugc2VydmVyIGNvbmZpZyBvYmplY3RcbiAqIEBwYXJhbSBpY2VTZXJ2ZXJcbiAqL1xuZnVuY3Rpb24gZml4SWNlU2VydmVyKGljZVNlcnZlcikge1xuXHRpZiAoaWNlU2VydmVyLmhhc093blByb3BlcnR5KCd1cmxzJykpIHtcblx0XHRpY2VTZXJ2ZXIudXJsID0gaWNlU2VydmVyLnVybHM7XG5cdFx0ZGVsZXRlIGljZVNlcnZlci51cmxzO1xuXHR9XG5cdGlmIChpY2VTZXJ2ZXIuaGFzT3duUHJvcGVydHkoJ3VybCcpICYmXG5cdFx0aWNlU2VydmVyLnVybC50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ3R1cm5zJykgJiZcblx0XHRuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhKSB7XG5cdFx0Y29uc29sZS53YXJuKCcoUmVhY2hTREs6Om1heWJlRml4Q29uZmlndXJhdGlvbikgJyArXG5cdFx0J3R1cm5zIGRldGVjdGVkIG9uIGZpcmVmb3ggLT4gaWdub3JlIHRoaXMgZW50cnknKTtcblx0fVxufVxuXG4vKipcbiAqIEZpeCBwZWVyIGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbiBpc3N1ZXMgaWYgbmVlZGVkLCBzcGVjaWFsbHkgYWJvdXQgSUNFIHNlcnZlcnNcbiAqIEBwYXJhbSBwY0NvbmZpZyAtIFRoZSBwZWVyIGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbiB0byBmaXggaWYgbm90IG51bGxcbiAqL1xuZnVuY3Rpb24gbWF5YmVGaXhDb25maWd1cmF0aW9uKHBjQ29uZmlnKSB7XG5cdGlmIChwY0NvbmZpZyA9PT0gbnVsbCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGlmIChwY0NvbmZpZy5pY2VTZXJ2ZXJzICYmIHBjQ29uZmlnLmljZVNlcnZlcnMubGVuZ3RoID4gMCkge1xuXHRcdGNvbnN0IG1UZW1wc1NlcnZlcnMgPSBbXTtcblx0XHRmb3IgKGxldCBpID0gcGNDb25maWcuaWNlU2VydmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0Y29uc3QgaWNlU2VydmVyID0gcGNDb25maWcuaWNlU2VydmVyc1tpXTtcblx0XHRcdGZpeEljZVNlcnZlcihpY2VTZXJ2ZXIpO1xuXHRcdFx0bVRlbXBzU2VydmVycy5wdXNoKGljZVNlcnZlcik7XG5cdFx0fVxuXHRcdHBjQ29uZmlnLmljZVNlcnZlcnMgPSBtVGVtcHNTZXJ2ZXJzO1xuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyB0dXJuIGNvbmZpZyBvYmplY3RcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7U3RyaW5nfSB1c2VybmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGxlZ2FjeVxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVHVyblNlcnZlckNvbmZpZyh1cmwsIHVzZXJuYW1lLCBwYXNzd29yZCwgbGVnYWN5PSBmYWxzZSkge1xuXHRsZXQgaWNlU2VydmVyO1xuXG5cdGlmIChsZWdhY3kpIHtcblx0XHQvLyBDcmVhdGUgaWNlU2VydmVyIHdpdGggdHVybiB1cmwuXG5cdFx0Ly8gSWdub3JlIHRoZSB0cmFuc3BvcnQgcGFyYW1ldGVyIGZyb20gVFVSTiB1cmwgZm9yIEZGIHZlcnNpb24gPD0yNy5cblx0XHRjb25zdCB0dXJuX3VybF9wYXJ0cyA9IHVybC5zcGxpdCgnPycpO1xuXHRcdC8vIFJldHVybiBudWxsIGZvciBjcmVhdGVJY2VTZXJ2ZXIgaWYgdHJhbnNwb3J0PXRjcC5cblx0XHRpZiAodHVybl91cmxfcGFydHMubGVuZ3RoID09PSAxIHx8XG5cdFx0XHR0dXJuX3VybF9wYXJ0c1sxXS5pbmRleE9mKCd0cmFuc3BvcnQ9dWRwJykgPT09IDApIHtcblx0XHRcdGljZVNlcnZlciA9IHtcblx0XHRcdFx0dXJsOiB0dXJuX3VybF9wYXJ0c1swXSxcblx0XHRcdFx0J2NyZWRlbnRpYWwnOiBwYXNzd29yZCxcblx0XHRcdFx0dXNlcm5hbWVcblx0XHRcdH07XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8vIEZGIDI3IGFuZCBhYm92ZSBzdXBwb3J0cyB0cmFuc3BvcnQgcGFyYW1ldGVycyBpbiBUVVJOIHVybCxcblx0XHQvLyBTbyBwYXNzaW5nIGluIHRoZSBmdWxsIHVybCB0byBjcmVhdGUgaWNlU2VydmVyLlxuXHRcdGljZVNlcnZlciA9IHtcblx0XHRcdHVybCxcblx0XHRcdGNyZWRlbnRpYWw6IHBhc3N3b3JkLFxuXHRcdFx0dXNlcm5hbWVcblx0XHR9O1xuXHR9XG5cblx0cmV0dXJuIGljZVNlcnZlcjtcbn1cblxuXG4vKiAqKioqKioqKiogKlxuICogU2NyaXB0aW5nICpcbiAqICoqKioqKioqKiAqL1xuXG4vKlxuICogSWYgdGhlIHdlYiBicm93c2VyIGluIHVzZSBpcyBGaXJlZm94XG4gKi9cbmlmIChuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhKSB7XG5cdHdpbmRvdy53ZWJydGNEZXRlY3RlZEJyb3dzZXIgPSAnZmlyZWZveCc7XG5cblx0d2luZG93LndlYnJ0Y0RldGVjdGVkVmVyc2lvbiA9XG5cdFx0cGFyc2VJbnQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRmlyZWZveFxcLyhbMC05XSspXFwuLylbMV0sIDEwKTtcblxuXHQvKipcblx0ICogVGhlIFJUQ1BlZXJDb25uZWN0aW9uIG9iamV0IGJhc2VkIG9uIG1vemtpdC5cblx0ICogSWYgbmVlZGVkLCB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGUgcGVlciBjb25uZWN0aW9uIHdpbGwgYmUgZml4ZWQuXG5cdCAqIEBwYXJhbSBwY0NvbmZpZyAtIFRoZSBwZWVyIGNvbm5lY3Rpb24gY29uZmlnXG5cdCAqIEBwYXJhbSBwY0NvbnN0cmFpbnRzIC0gVGhlIHBlZXIgY29ubmVjdGlvbiBjb25zdHJhaW50c1xuXHQgKi9cblx0d2luZG93LlJUQ1BlZXJDb25uZWN0aW9uID0gZnVuY3Rpb24gKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKSB7XG5cdFx0Ly8gLnVybHMgaXMgbm90IHN1cHBvcnRlZCBpbiBGRiB5ZXQuXG5cdFx0bWF5YmVGaXhDb25maWd1cmF0aW9uKHBjQ29uZmlnKTtcblx0XHRyZXR1cm4gbmV3IG1velJUQ1BlZXJDb25uZWN0aW9uKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKTtcblx0fTtcblxuXHQvLyBUaGUgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uIG9iamVjdC5cblx0d2luZG93LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbiA9IG1velJUQ1Nlc3Npb25EZXNjcmlwdGlvbjtcblxuXHQvLyBUaGUgUlRDSWNlQ2FuZGlkYXRlIG9iamVjdC5cblx0d2luZG93LlJUQ0ljZUNhbmRpZGF0ZSA9IG1velJUQ0ljZUNhbmRpZGF0ZTtcblxuXHQvLyBHZXQgVXNlck1lZGlhIChvbmx5IGRpZmZlcmVuY2UgaXMgdGhlIHByZWZpeCkuXG5cdHdpbmRvdy5nZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yKTtcblx0bmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9IGdldFVzZXJNZWRpYTtcblxuXG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgdGhlIElDRSBzZXJ2ZXIgZm9yIHRoZSBVUkwgZm9yIEZpcmVmb3guXG5cdCAqIFRoZSBTVFVOIGFuZCBUVVJOIHNlcnZlcnMgd2lsbCBiZSBjb25zaWRlcmVkLiBJbiBjYXNlIG9mIGEgVFVSTiBzZXJ2ZXIgaXMgaW4gdXNlLCBjcmVkZW50aWFscyBhbmQgdXNlcm5hbWVzIHdpbGwgYmUgZ290LlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB1c2UgdG8gZ2V0IHRoZSBJQ0Ugc2VydmVyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSAtIFRoZSB1c2VybmFtZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgLSBUaGUgcGFzc3dvcmRcblx0ICovXG5cdHdpbmRvdy5jcmVhdGVJY2VTZXJ2ZXIgPSAodXJsLCB1c2VybmFtZSwgcGFzc3dvcmQpID0+IHtcblx0XHRsZXQgaWNlU2VydmVyID0gbnVsbDtcblx0XHRjb25zdCB1cmxfcGFydHMgPSB1cmwuc3BsaXQoJzonKTtcblx0XHRpZiAodXJsX3BhcnRzWzBdLmluZGV4T2YoJ3N0dW4nKSA9PT0gMCkge1xuXHRcdFx0Ly8gQ3JlYXRlIGljZVNlcnZlciB3aXRoIHN0dW4gdXJsLlxuXHRcdFx0aWNlU2VydmVyID0ge1xuXHRcdFx0XHR1cmxcblx0XHRcdH07XG5cdFx0fSBlbHNlIGlmICh1cmxfcGFydHNbMF0uaW5kZXhPZigndHVybicpID09PSAwKSB7XG5cdFx0XHRpY2VTZXJ2ZXIgPSBjcmVhdGVUdXJuU2VydmVyQ29uZmlnKFx0dXJsLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dXNlcm5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwYXNzd29yZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdpbmRvdy53ZWJydGNEZXRlY3RlZFZlcnNpb24gPCAyNyk7XG5cdFx0fVxuXHRcdHJldHVybiBpY2VTZXJ2ZXI7XG5cdH07XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgdGhlIElDRSBzZXJ2ZXJzIGZyb20gc29tZSBVUkxzLiBUaGUgU1RVTiBhbmQgVFVSTiBzZXZlcnMgY29uc3RyYWludHMgd2lsbCBiZSBoYW5kbGVkLlxuXHQgKiBAcGFyYW0ge2FycmF5fSB1cmxzIC0gVGhlIHVybHMgdG8gdXNlIHRvIGdldCB0aGUgSUNFIHNlcnZlclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUgLSBUaGUgdXNlcm5hbWVcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIC0gVGhlIHBhc3N3b3JkXG5cdCAqL1xuXHR3aW5kb3cuY3JlYXRlSWNlU2VydmVycyA9IGZ1bmN0aW9uICh1cmxzLCB1c2VybmFtZSwgcGFzc3dvcmQpIHtcblx0XHRjb25zdCBpY2VTZXJ2ZXJzID0gW107XG5cdFx0Ly8gVXNlIC51cmwgZm9yIEZpcmVGb3guXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB1cmxzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBpY2VTZXJ2ZXIgPSB3aW5kb3cuY3JlYXRlSWNlU2VydmVyKHVybHNbaV0sXG5cdFx0XHRcdHVzZXJuYW1lLFxuXHRcdFx0XHRwYXNzd29yZCk7XG5cdFx0XHRpZiAoaWNlU2VydmVyICE9PSBudWxsKSB7XG5cdFx0XHRcdGljZVNlcnZlcnMucHVzaChpY2VTZXJ2ZXIpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gaWNlU2VydmVycztcblx0fTtcblxuXHQvKipcblx0ICogRGV0YWNoIHRoZSBtZWRpYSBzdHJlYW0gZnJvbSB0aGUgZWxlbWVudC5cblx0ICogVGhlIGVsZW1lbnQgd2lsbCBoYXZlIGl0cyBzcmMgY29udGVudCBjaGFuZ2VkIHRvIG51bGwgYW5kIHdpbGwgYmUgcGF1c2VkLlxuXHQgKiBAcGFyYW0ge3ZpZGVvIHRhZ30gZWxlbWVudCAtIFRoZSB2aWRlbyB0YWcgd2hlcmUgdGhlIHN0cmVhbSBpcyBkaXNwbGF5ZWRcblx0ICovXG5cdHdpbmRvdy5kZXRhY2hNZWRpYVN0cmVhbSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG5cdFx0aWYgKGVsZW1lbnQpIHtcblx0XHRcdGVsZW1lbnQubW96U3JjT2JqZWN0ID0gbnVsbDtcblx0XHRcdGVsZW1lbnQucGF1c2UoKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEF0dGFjaCBhIG1lZGlhIHN0cmVhbSB0byBhbiBlbGVtZW50LlxuXHQgKiBUaGUgc3JjIGF0dHJpYnV0ZSBvZiB0aGUgZWxlbWVudCB3aWxsIGJlIGRlZmluZWQgd2l0aCB0aGUgc3RyZWFtIGFuZCB3aWxsIGJlIHBsYXllZC5cblx0ICogQHBhcmFtIHt2aWRlbyB0YWd9IGVsZW1lbnQgLSBUaGUgdmlkZW8gdGFnIHdoZXJlIHRoZSBzdHJlYW0gaXMgZGlzcGxheWVkXG5cdCAqIEBwYXJhbSBzdHJlYW0gLSBUaGUgc3RyZWFtIHRvIGF0dGFjaCB0byB0aGUgZWxlbWVudFxuXHQgKi9cblx0d2luZG93LmF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24gKGVsZW1lbnQsIHN0cmVhbSkge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoZWxlbWVudCAmJiBzdHJlYW0pIHtcblx0XHRcdFx0ZWxlbWVudC5tb3pTcmNPYmplY3QgPSBzdHJlYW07XG5cdFx0XHRcdGlmIChlbGVtZW50LnBsYXkgJiYgdHlwZW9mIGVsZW1lbnQucGxheSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0ZWxlbWVudC5wbGF5KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCcoUmVhY2hTREs6OmF0dGFjaE1lZGlhU3RyZWFtKWVsZW1lbnQucGxheSBub3QgYXZhaWxhYmxlJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ1JlYWNoU0RLOjphdHRhY2hNZWRpYVN0cmVhbS0+cGFyYW1ldGVycyBub3QgdmFsaWQnKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OmF0dGFjaE1lZGlhU3RyZWFtKUV4Y2VwdGlvbj0ke2V9YCk7XG5cdFx0fVxuXG5cblx0fTtcblxuXHQvKipcblx0ICogQXR0YWNoIGFnYWluIGEgbWVkaWEgc3RyZWFtIHRvIGFuIGVsZW1lbnQuXG5cdCAqIFRoZSBcImZyb21cIiBlbGVtZW50IHdpbGwgaGF2ZSBpdHMgc3JjIHZhbHVlIGNvcGllZCB0byB0aGUgXCJ0b1wiIG9iamVjdCBiZWZvcmUgcGxheWluZyBpdC5cblx0ICogQHBhcmFtIHt2aWRlbyB0YWd9IHRvIC0gVGhlIHZpZGVvIHRhZyB3aGVyZSB0aGUgc3RyZWFtIHNob3VsZCBiZSBwdXRcblx0ICogQHBhcmFtIHt2aWRlbyB0YWd9IGZyb20gLSBUaGUgdmlkZW8gdGFnIHdoZXJlIHRoZSBzdHJlYW0gc2hvdWxkIGJlIHRha2VuXG5cdCAqL1xuXHR3aW5kb3cucmVhdHRhY2hNZWRpYVN0cmVhbSA9IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuXHRcdGlmICh0byAmJiBmcm9tKSB7XG5cdFx0XHR0by5tb3pTcmNPYmplY3QgPSBmcm9tLm1velNyY09iamVjdDtcblx0XHRcdHRvLnBsYXkoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcignUmVhY2hTREs6OnJlYXR0YWNoTWVkaWFTdHJlYW0tPnBhcmFtZXRlcnMgbm90IHZhbGlkJyk7XG5cdFx0fVxuXHR9O1xuXG5cdC8vIEZha2UgZ2V0e1ZpZGVvLEF1ZGlvfVRyYWNrc1xuXHRpZiAoIU1lZGlhU3RyZWFtLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcykge1xuXHRcdE1lZGlhU3RyZWFtLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9O1xuXHR9XG5cblx0aWYgKCFNZWRpYVN0cmVhbS5wcm90b3R5cGUuZ2V0QXVkaW9UcmFja3MpIHtcblx0XHRNZWRpYVN0cmVhbS5wcm90b3R5cGUuZ2V0QXVkaW9UcmFja3MgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fTtcblx0fVxuXG5cdC8qXG5cdCAqIElmIHRoZSB3ZWIgYnJvd3NlciBpbiB1c2UgaXMgQ2hyb21lXG5cdCAqL1xufSBlbHNlIGlmIChuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhKSB7XG5cdHdpbmRvdy53ZWJydGNEZXRlY3RlZEJyb3dzZXIgPSAnY2hyb21lJztcblx0d2luZG93LndlYnJ0Y0RldGVjdGVkVmVyc2lvbiA9XG5cdFx0cGFyc2VJbnQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb20oZXxpdW0pXFwvKFswLTldKylcXC4vKVsyXSwgMTApO1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIHRoZSBJQ0Ugc2VydmVyIGZyb20gdGhlIFVSTCBhbmQgaGFuZGxlcyBTVFVOIC8gVFVSTiBzZXJ2ZXJzIGNvbnN0cmFpbnRzIGJ5IHJldHJpZXZpbmcgY3JlZGVudGlhbHMgYW5kIHVzZXJuYW1lcyBpZiBuZWVkZWQuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHVzZSB0byBnZXQgdGhlIElDRSBzZXJ2ZXJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gVGhlIHVzZXJuYW1lXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCAtIFRoZSBwYXNzd29yZFxuXHQgKi9cblx0d2luZG93LmNyZWF0ZUljZVNlcnZlciA9IGZ1bmN0aW9uICh1cmwsIHVzZXJuYW1lLCBwYXNzd29yZCkge1xuXHRcdGxldCBpY2VTZXJ2ZXIgPSBudWxsO1xuXHRcdGNvbnN0IHVybF9wYXJ0cyA9IHVybC5zcGxpdCgnOicpO1xuXHRcdGlmICh1cmxfcGFydHNbMF0uaW5kZXhPZignc3R1bicpID09PSAwKSB7XG5cdFx0XHQvLyBDcmVhdGUgaWNlU2VydmVyIHdpdGggc3R1biB1cmwuXG5cdFx0XHRpY2VTZXJ2ZXIgPSB7XG5cdFx0XHRcdHVybFxuXHRcdFx0fTtcblx0XHR9IGVsc2UgaWYgKHVybF9wYXJ0c1swXS5pbmRleE9mKCd0dXJuJykgPT09IDApIHtcblx0XHRcdC8vIENocm9tZSBNMjggJiBhYm92ZSB1c2VzIGJlbG93IFRVUk4gZm9ybWF0LlxuXHRcdFx0aWNlU2VydmVyID0gY3JlYXRlVHVyblNlcnZlckNvbmZpZyh1cmwsIHBhc3N3b3JkLCB1c2VybmFtZSk7XG5cdFx0fVxuXHRcdHJldHVybiBpY2VTZXJ2ZXI7XG5cdH07XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgdGhlIElDRSBzZXJ2ZXJzIGZyb20gdGhlIFVSTCBmb3IgQ2hyb21lIE0zNCBhbmQgYWJvdmVcblx0ICogQHBhcmFtIHthcnJheX0gdXJscyAtIFRoZSB1cmxzIHRvIHVzZSB0byBnZXQgdGhlIElDRSBzZXJ2ZXJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gVGhlIHVzZXJuYW1lXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCAtIFRoZSBwYXNzd29yZFxuXHQgKi9cblx0d2luZG93LmNyZWF0ZUljZVNlcnZlcnMgPSBmdW5jdGlvbiAodXJscywgdXNlcm5hbWUsIHBhc3N3b3JkKSB7XG5cdFx0bGV0IGljZVNlcnZlcnMgPSBbXTtcblx0XHRpZiAod2luZG93LndlYnJ0Y0RldGVjdGVkVmVyc2lvbiA+PSAzNCkge1xuXHRcdFx0Ly8gLnVybHMgaXMgc3VwcG9ydGVkIHNpbmNlIENocm9tZSBNMzQuXG5cdFx0XHRpY2VTZXJ2ZXJzID0ge1xuXHRcdFx0XHR1cmxzLFxuXHRcdFx0XHRjcmVkZW50aWFsOiBwYXNzd29yZCxcblx0XHRcdFx0dXNlcm5hbWVcblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdXJscy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRjb25zdCBpY2VTZXJ2ZXIgPSB3aW5kb3cuY3JlYXRlSWNlU2VydmVyKHVybHNbaV0sXG5cdFx0XHRcdFx0dXNlcm5hbWUsXG5cdFx0XHRcdFx0cGFzc3dvcmQpO1xuXHRcdFx0XHRpZiAoaWNlU2VydmVyICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0aWNlU2VydmVycy5wdXNoKGljZVNlcnZlcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGljZVNlcnZlcnM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBSVEMgUGVlciBDb25uZWN0aW9uIG9iamVjdC4gSWYgbmVlZGVkLCBpdHMgcGVlciBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gd2lsbCBiZSBmaXhlZFxuXHQgKiBAcGFyYW0gcGNDb25maWcgLSBUaGUgcGVlciBjb25uZWN0aW9uIGNvbmZpZ1xuXHQgKiBAcGFyYW0gcGNDb25zdHJhaW50cyAtIFRoZSBwZWVyIGNvbm5lY3Rpb24gY29uc3RyYWludHNcblx0ICovXG5cdHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChwY0NvbmZpZywgcGNDb25zdHJhaW50cykge1xuXHRcdC8vIC51cmxzIGlzIHN1cHBvcnRlZCBzaW5jZSBDaHJvbWUgTTM0LlxuXHRcdGlmICh3aW5kb3cud2VicnRjRGV0ZWN0ZWRWZXJzaW9uIDwgMzQpIHtcblx0XHRcdG1heWJlRml4Q29uZmlndXJhdGlvbihwY0NvbmZpZyk7XG5cdFx0fVxuXHRcdHJldHVybiBuZXcgd2Via2l0UlRDUGVlckNvbm5lY3Rpb24ocGNDb25maWcsIHBjQ29uc3RyYWludHMpO1xuXHR9O1xuXG5cdC8vIEdldCBVc2VyTWVkaWEgKG9ubHkgZGlmZmVyZW5jZSBpcyB0aGUgcHJlZml4KS5cblx0Ly8gQ29kZSBmcm9tIEFkYW0gQmFydGguXG5cdHdpbmRvdy5nZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yKTtcblx0bmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9IGdldFVzZXJNZWRpYTtcblxuLy8gIC8vIEF0dGFjaCBhIG1lZGlhIHN0cmVhbSB0byBhbiBlbGVtZW50LlxuLy8gIGF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24oZWxlbWVudCwgc3RyZWFtKSB7XG4vLyAgICBpZiAodHlwZW9mIGVsZW1lbnQuc3JjT2JqZWN0ICE9PSAndW5kZWZpbmVkJykge1xuLy8gICAgICBlbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbi8vICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQubW96U3JjT2JqZWN0ICE9PSAndW5kZWZpbmVkJykge1xuLy8gICAgICBlbGVtZW50Lm1velNyY09iamVjdCA9IHN0cmVhbTtcbi8vICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQuc3JjICE9PSAndW5kZWZpbmVkJykge1xuLy8gICAgICBlbGVtZW50LnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKTtcbi8vICAgIH0gZWxzZSB7XG4vLyAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBhdHRhY2hpbmcgc3RyZWFtIHRvIGVsZW1lbnQuJyk7XG4vLyAgICB9XG4vLyAgfTtcblxuXHQvKipcblx0ICogQXR0YWNoIGEgbWVkaWEgc3RyZWFtIHRvIGFuIGVsZW1lbnQuXG5cdCAqIFRoZSBzcmMgYXR0cmlidXRlIG9mIHRoZSBlbGVtZW50IHdpbGwgYmUgZGVmaW5lZCB3aXRoIHRoZSBzdHJlYW0gYW5kIHdpbGwgYmUgcGxheWVkLlxuXHQgKiBAcGFyYW0ge3ZpZGVvIHRhZ30gZWxlbWVudCAtIFRoZSB2aWRlbyB0YWcgd2hlcmUgdGhlIHN0cmVhbSBpcyBkaXNwbGF5ZWRcblx0ICogQHBhcmFtIHN0cmVhbSAtIFRoZSBzdHJlYW0gdG8gYXR0YWNoIHRvIHRoZSBlbGVtZW50XG5cdCAqL1xuXHR3aW5kb3cuYXR0YWNoTWVkaWFTdHJlYW0gPSBmdW5jdGlvbiAoZWxlbWVudCwgc3RyZWFtKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmIChlbGVtZW50ICYmIHN0cmVhbSkge1xuXHRcdFx0XHQvLyBlbGVtZW50LnNyYyA9IHdlYmtpdFVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKTtcblx0XHRcdFx0ZWxlbWVudC5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHN0cmVhbSk7XG5cdFx0XHRcdGVsZW1lbnQuYXV0b3BsYXkgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignUmVhY2hTREs6OmF0dGFjaE1lZGlhU3RyZWFtIC0+cGFyYW1ldGVycyBub3QgdmFsaWQnKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OmF0dGFjaE1lZGlhU3RyZWFtKUV4Y2VwdGlvbj0ke2V9YCk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBEZXRhY2ggdGhlIG1lZGlhIHN0cmVhbSBmcm9tIHRoZSBlbGVtZW50IGJ5IGFzc2luZ2VkIG51bGwgdmFsdWUgdG8gaXRzIHNyYyBhdHRyaWJ1dGUuXG5cdCAqIEBwYXJhbSB7dmlkZW8gdGFnfSBlbGVtZW50IC0gVGhlIHZpZGVvIHRhZyB3aGVyZSB0aGUgc3RyZWFtIGlzIGRpc3BsYXllZFxuXHQgKi9cblx0d2luZG93LmRldGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcblx0XHRpZiAoZWxlbWVudCkge1xuXHRcdFx0aWYgKHR5cGVvZiBlbGVtZW50LnNyY09iamVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0ZWxlbWVudC5zcmNPYmplY3QgPSAnJztcblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQubW96U3JjT2JqZWN0ICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRlbGVtZW50Lm1velNyY09iamVjdCA9ICcnO1xuXHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgZWxlbWVudC5zcmMgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdGVsZW1lbnQuc3JjID0gJyc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnRXJyb3IgYXR0YWNoaW5nIHN0cmVhbSB0byBlbGVtZW50LicpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHR9O1xuXG5cdC8qKlxuXHQgKiBBdHRhY2ggYWdhaW4gYSBtZWRpYSBzdHJlYW0gdG8gYW4gZWxlbWVudC5cblx0ICogVGhlIFwiZnJvbVwiIGVsZW1lbnQgd2lsbCBoYXZlIGl0cyBzcmMgdmFsdWUgY29waWVkIHRvIHRoZSBcInRvXCIgb2JqZWN0IGJlZm9yZSBwbGF5aW5nIGl0LlxuXHQgKiBAcGFyYW0ge3ZpZGVvIHRhZ30gdG8gLSBUaGUgdmlkZW8gdGFnIHdoZXJlIHRoZSBzdHJlYW0gc2hvdWxkIGJlIHB1dFxuXHQgKiBAcGFyYW0ge3ZpZGVvIHRhZ30gZnJvbSAtIFRoZSB2aWRlbyB0YWcgd2hlcmUgdGhlIHN0cmVhbSBzaG91bGQgYmUgdGFrZW5cblx0ICovXG5cdHdpbmRvdy5yZWF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG5cdFx0aWYgKHRvICYmIGZyb20pIHtcblx0XHRcdHRvLnNyYyA9IGZyb20uc3JjO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdSZWFjaFNESzo6cmVhdHRhY2hNZWRpYVN0cmVhbSBtZWRpYSBzdHJlYW0tPnBhcmFtZXRlcnMgbm90IHZhbGlkJyk7XG5cdFx0fVxuXHR9O1xuXG59IGVsc2Uge1xuXHR0aHJvdyBuZXcgRXJyb3IoJ0Jyb3dzZXIgZG9lcyBub3QgYXBwZWFyIHRvIGJlIFdlYlJUQy1jYXBhYmxlJyk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hZGFwdGVyLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQge1xuXG5cdC8qKlxuXHQgKiBBdWRpbyBjb21tdW5pY2F0aW9uIHNlcnZpY2Vcblx0ICogQGNvbnN0YW50XG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqL1xuXHRBQ1RJT05fVFlQRV9BVURJTzogJ2F1ZGlvJyxcblx0LyoqXG5cdCAqIFZpZGVvIGNvbW11bmljYXRpb24gc2VydmljZVxuXHQgKiBAY29uc3RhbnRcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICovXG5cdEFDVElPTl9UWVBFX1ZJREVPOiAndmlkZW8nLFxuXHQvKipcblx0ICogQ2hhdCBjb21tdW5pY2F0aW9uIHNlcnZpY2Vcblx0ICogQGNvbnN0YW50XG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqL1xuXHRBQ1RJT05fVFlQRV9DSEFUOiAnY2hhdCcsXG5cdC8qKlxuXHQgKiBBdWRpbyBhbmQgdmlkZW8gY29tbXVuaWNhdGlvbiBzZXJ2aWNlXG5cdCAqIEBjb25zdGFudFxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKi9cblx0QUNUSU9OX1RZUEVfQVVESU9fVklERU86ICdhdWRpby12aWRlbycsXG5cdC8qKlxuXHQgKiBTY3JlZW4tc2hhcmluZyBzZXJ2aWNlXG5cdCAqIEBjb25zdGFudFxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKi9cblx0QUNUSU9OX1RZUEVfU0NSRUVOX1NIQVJJTkc6ICdzY3JlZW4tc2hhcmluZycsXG5cdC8qKlxuXHQgKiBDYWxsIGNvbW11bmljYXRpb24gc2VydmljZVxuXHQgKiBAY29uc3RhbnRcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICovXG5cdEFDVElPTl9UWVBFX0NBTEw6ICdjYWxsJ1xufTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hY3Rpb25zLmpzXG4gKiovIiwiLyoqXG4gKiBAZmlsZSBkYXRhcmVmcy5qcyAtIEpTIGZpbGUgbW9kZWxpemluZyBhIGRhdGFyZWYsIGkuZS4gYSBwb2ludGVyIHRvIHRoZSBXZWJjb20geHdpdGggZGVkaWNhdGVkIG5vZGVzIGZvciByb29tcywgcmVhY2ggc2VydmljZSBhbmQgV2ViUlRDIGNvbW11bmljYXRpb25zLlxuICogQGF1dGhvciBXZWJjb21cbiAqL1xuXG4vKmVzbGludCBjb21wbGV4aXR5OjEsIG1heC1zdGF0ZW1lbnRzOiAxLCBtYXgtbGVuOiAxKi9cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgZGF0YXJlZiB3aXRoIHNldmVyYWwgbm9kZXMgaW4gaXQgd2hpY2ggYXJlIHBvaW50aW5nIHRvIHNvbWUgbG9jYXRpb25zIGluIHRoZSBkYXRhYmFzZS5cbiAqIFRoZSBkYXRhcmVmcyBjYW4gYmUgY29uc2lkZXJlZCBhcyBhIFdlYmNvbSBvYmplY3QgcG9pbnRpbmcgdG8gYSBiYXNlIFVSTC4gVGhpcyBub2RlIGNvbnRhaW5zIGNoaWxkcmVuIG5vZGVzIGZvclxuICogcmVhY2ggc2VydmljZSwgcm9vbXMgYW5kIFdlYlJUQyBjb21tdW5pY2F0aW9ucy5cbiAqXG4gKiBXYXJuaW5nIDogd2hlbiB1c2VkIHdpdGggZGVtbyBVSSwgdGhpcyBmaWxlIGlzIG5vdCBpbXBvcnRlZDogIGRlbW8gVUkgaGFzZSBpdHMgb3duIGNvbmZpZ3VyYXRpb24gc3lzdGVtIChpbXBvcnQganNvbiBjb25maWcgd2l0aCBhIHBocCBzZXJ2ZXIgbW9kdWxlKVxuICogVGhlc2Ugbm9kZXMgYXJlIDpcbiAqICAgICAgIC0gcm9vbXNcbiAqICAgICAgIC0gcmVhY2hcbiAqICAgICAgIC0gd2VicnRjXG4gKiAgICAgICAtIHNpcFBob25lTnVtYmVyc1xuICogICAgICAgLSBkYXRhc3RvcmUsIGkuZS4gdGhlIFdlYmNvbSBvYmplY3RcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihXRUJDT01CQVNFX1VSTCkge1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGRhdGFzdG9yZSBpbiB0aGUgbWFpbiBvYmplY3Qgd2hpY2ggY2FuIGJlIGNvbnNpZGVyZWQgaGFzIHRoZSByb290IG5vZGUgb2YgdGhlIGJhc2UuXG5cdCAqIEl0IGNvbnRhaW5zIHRoZSBpbnN0YW5jaWF0ZWQgV2ViY29tIGRlZmluZWQgYnkgYSBXRUJDT01CQVNFX1VSTFxuXHQgKiBUaGUgbWFpbiBub2RlcyBjb250YWluaW5nIHRoZSByb29tcywgdGhlIFNJUCBwaG9uZSBudW1iZXJzIGFuZCB0aGUgcmVhY2ggYW5kIFdlYlJUQyBkYXRhIGFyZSBjaGlsZHJlbiBvZiB0aGlzIG5vZGUuXG5cdCAqL1xuXHRsZXQgX2RhdGFzdG9yZSA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSByb29tcyBvZiB0aGUgY29tbXVuaWNhdGlvbiBzeXN0ZW0uXG5cdCAqIEVhY2ggXCJyb29tXCIgbm9kZSBwb3NzZXNzZXMgdGhlIHBhcnRpY2lwYW50cyBhbmQgdGhlIGV4Y2hhbmdlZCBpbnN0YW50IG1lc3NhZ2VzIGZvciBleGFtcGxlLlxuXHQgKiBJbiB0aGUgZGF0YWJhc2UsIHRoaXMgbm9kZSBpcyBpZGVudGlmaWVkIGJ5IFwicm9vbXNMaXN0XCIuXG5cdCAqL1xuXHRsZXQgX3Jvb21zID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIGRhdGEgYWJvdXQgdGhlIHJlYWNoIHNlcnZpY2UgdXNlZCB0byBwdXQgaW4gcmVsYXRpb24gdXNlcnMuXG5cdCAqIEluIHRoZSBkYXRhYmFzZSwgdGhpcyBub2RlIGlzIGlkZW50aWZpZWQgYnkgXCJyZWFjaFwiLlxuXHQgKi9cblx0bGV0IF9yZWFjaCA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBkYXRhIGFib3V0IHRoZSBXZWJSVEMgZmVhdHVyZS5cblx0ICogSW4gdGhlIGRhdGFiYXNlLCB0aGlzIG5vZGUgaXMgaWRlbnRpZmllZCBieSBcIndlYnJ0Y1wiLlxuXHQgKi9cblx0bGV0IF93ZWJydGMgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgU0lQIHBob25lIG51bWJlcnMuXG5cdCAqIEluIHRoZSBkYXRhYmFzZSwgdGhpcyBub2RlIGlzIGlkZW50aWZpZWQgYnkgXCJzaXBQaG9uZU51bWJlcnNcIi5cblx0ICovXG5cdGxldCBfc2lwUGhvbmVOdW1iZXJzID0gbnVsbDtcblxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgY2hpbGRyZW4gbm9kZXMsIGkuZS4gY3JlYXRlcyBmb3IgZWFjaCBvZiB0aGVtIGEgZGVkaWNhdGVkIG5vZGUgaW4gdGhlIGRhdGFiYXNlXG5cdCAqIHVuZGVyIHRoZSBtYWluIG5vZGUgKGRhdGEgc3RvcmUpLiBDcmVhdGVkIG5vZGVzIGFyZSBcInJvb21zTGlzdFwiLCBcInJlYWNoXCIsIFwid2VicnRjXCIsIFwic2lwUGhvbmVOdW1iZXJzXCIuXG5cdCAqL1xuXHRmdW5jdGlvbiBfaW5pdENoaWxkcmVuKCkge1xuXHRcdF9yb29tcyA9IF9kYXRhc3RvcmUuY2hpbGQoJ3Jvb21zTGlzdCcpO1xuXHRcdF9yZWFjaCA9IF9kYXRhc3RvcmUuY2hpbGQoJ3JlYWNoJyk7XG5cdFx0X3dlYnJ0YyA9IF9kYXRhc3RvcmUuY2hpbGQoJ3dlYnJ0YycpO1xuXHRcdF9zaXBQaG9uZU51bWJlcnMgPSBfZGF0YXN0b3JlLmNoaWxkKCdzaXBQaG9uZU51bWJlcnMnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24gd2hpY2ggaW5zdGFudGlhdGVzIHRoZSBXZWJjb20gc3RvcmVkIGluIHRoZSBkYXRhIHN0b3JlLlxuXHQgKiBBbGwgdGhlIGNoaWxkcmVuIG5vZGVzbmFyZSBkZWZpbmVzIGhlcmUuXG5cdCAqL1xuXHRmdW5jdGlvbiBfaW5pdCgpIHtcblx0XHRfZGF0YXN0b3JlID0gbmV3IFdlYmNvbShXRUJDT01CQVNFX1VSTCk7XG5cdFx0X2luaXRDaGlsZHJlbigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIFdlYmNvbSBVUkwgYW5kIHJlaW5pdCB0aGUgY2hpbGRyZW4uXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3dlYmNvbWJhc2VfdXJsIC0gVGhlIFVSTCBvZiB0aGUgV2ViY29tXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0V2ViY29tQmFzZVVybChwX3dlYmNvbWJhc2VfdXJsKSB7XG5cdFx0X2RhdGFzdG9yZSA9IG5ldyBXZWJjb20ocF93ZWJjb21iYXNlX3VybCk7XG5cdFx0X2luaXRDaGlsZHJlbigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIHJldHVybiB0aGUgV2ViY29tIFVSTC5cblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRXZWJjb21CYXNlVXJsKCkge1xuXHRcdGlmIChfZGF0YXN0b3JlKSB7XG5cdFx0XHRyZXR1cm4gX2RhdGFzdG9yZS50b1N0cmluZygpO1xuXHRcdH1cblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIGRhdGFzdG9yZSBhbmQgcmVpbml0IHRoZSBjaGlsZHJlbi5cblx0ICogQHBhcmFtIHtXZWJjb219IHBfZGF0YXN0b3JlIC0gQSBXZWJjb20gb2JqZWN0IHdoaWNoIGlzIHRoZSBuZXcgZGF0YSBzdG9yZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldERhdGFzdG9yZShwX2RhdGFzdG9yZSkge1xuXHRcdF9kYXRhc3RvcmU9cF9kYXRhc3RvcmU7XG5cdFx0X2luaXRDaGlsZHJlbigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGRhdGFzdG9yZVxuXHQgKiBAcmV0dXJuIHtXZWJjb219IC0gVGhlIGRhdGEgc3RvcmUgYXMgYSBXZWJjb21cblx0ICovXG5cdGZ1bmN0aW9uIF9nZXREYXRhc3RvcmUoKSB7XG5cdFx0cmV0dXJuIF9kYXRhc3RvcmU7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIGEgbmV3IHJvb21zIG5vZGVcblx0ICogQHBhcmFtIHBfcm9vbXMgLSBBIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIHJvb21zXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0Um9vbXMocF9yb29tcykge1xuXHRcdF9yb29tcz1wX3Jvb21zO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIHJvb3Qgbm9kZSBvZiB0aGUgcm9vbXMuXG5cdCAqIEByZXR1cm4gLSBUaGUgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgcm9vbXMgbGlzdFxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldFJvb21zKCkge1xuXHRcdHJldHVybiBfcm9vbXM7XG5cdH1cblxuXHQvKipcblx0ICogRGVmaW5lcyBhIG5ldyByZWFjaCBub2RlXG5cdCAqIEBwYXJhbSBwX3JlYWNoIC0gQSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBkYXRhIGFib3V0IHRoZSByZWFjaCBzZXJ2aWNlXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0UmVhY2gocF9yZWFjaCkge1xuXHRcdF9yZWFjaD1wX3JlYWNoO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIHJlYWNoIG5vZGUgb2YgdGhlIHJvb21zLlxuXHQgKiBAcmV0dXJuIC0gVGhlIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSByZWFjaCBzZXJ2aWNlXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0UmVhY2goKSB7XG5cdFx0cmV0dXJuIF9yZWFjaDtcblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIGEgbmV3IHdlYnJ0YyBub2RlXG5cdCAqIEBwYXJhbSBwX3dlYnJ0YyAtIEEgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgV2ViUlRDIGZlYXR1cmVcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRXZWJydGMocF93ZWJydGMpIHtcblx0XHRfd2VicnRjPXBfd2VicnRjO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIFdlYlJUQyBub2RlXG5cdCAqIEByZXR1cm4gLSBUaGUgbm9kZSBjb250YWluaWcgYWxsIHRoZSBkYXRhIGFib3V0IHRoZSBXZWJSVEMgZmVhdHVyZVxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldFdlYnJ0YygpIHtcblx0XHRyZXR1cm4gX3dlYnJ0Yztcblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIGEgbm9kZSBjb250YWluaW5nIHRoZSBTSVAgcGhvbmUgbnVtYmVyc1xuXHQgKiBAcGFyYW0gcF9zaXBQaG9uZU51bWJlcnMgLSBUaGUgcm9vdCBub2RlIGNvbnRhaW5pbmcgdGhlIFNJUCBwaG9uZSBudW1iZXJzXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0U2lwUGhvbmVOdW1iZXJzKHBfc2lwUGhvbmVOdW1iZXJzKSB7XG5cdFx0X3NpcFBob25lTnVtYmVycz1wX3NpcFBob25lTnVtYmVycztcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSByb290IG5vZGUgY29udGFpbmluZyB0aGUgU0lQIHBob25lIG51bWJlcnNcblx0ICogQHJldHVybiAtIFRoZSByb290IG5vZGUgd2l0aCB0aGUgU0lQIG51bWJlcnNcblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRTaXBQaG9uZU51bWJlcnMoKSB7XG5cdFx0cmV0dXJuIF9zaXBQaG9uZU51bWJlcnM7XG5cdH1cblxuXHRfaW5pdCgpO1xuXG5cdHJldHVybiB7XG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyB0aGUgV2ViY29tIFVSTCBhbmQgcmVpbml0IHRoZSBjaGlsZHJlbi5cblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcF93ZWJjb21iYXNlX3VybCAtIFRoZSBVUkwgb2YgdGhlIFdlYmNvbVxuXHRcdCAqL1xuXHRcdHNldFdlYmNvbUJhc2VVcmwgOiBfc2V0V2ViY29tQmFzZVVybCxcblx0XHQvKipcblx0XHQgKiByZXR1cm4gdGhlIFdlYmNvbSBVUkwuXG5cblx0XHQgKi9cblx0XHRnZXRXZWJjb21CYXNlVXJsIDogX2dldFdlYmNvbUJhc2VVcmwsXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyB0aGUgZGF0YXN0b3JlIGFuZCByZWluaXQgdGhlIGNoaWxkcmVuLlxuXHRcdCAqIEBwYXJhbSB7V2ViY29tfSBwX2RhdGFzdG9yZSAtIEEgV2ViY29tIG9iamVjdCB3aGljaCBpcyB0aGUgbmV3IGRhdGEgc3RvcmVcblx0XHQgKi9cblx0XHRzZXREYXRhc3RvcmUgOiBfc2V0RGF0YXN0b3JlLFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIGRhdGFzdG9yZVxuXHRcdCAqIEByZXR1cm4ge1dlYmNvbX0gLSBUaGUgZGF0YSBzdG9yZSBhcyBhIFdlYmNvbVxuXHRcdCAqL1xuXHRcdGdldERhdGFzdG9yZSA6IF9nZXREYXRhc3RvcmUsXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyBhIG5ldyByb29tcyBub2RlXG5cdFx0ICogQHBhcmFtIHBfcm9vbXMgLSBBIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIHJvb21zXG5cdFx0ICovXG5cdFx0c2V0Um9vbXMgOiBfc2V0Um9vbXMsXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgcm9vdCBub2RlIG9mIHRoZSByb29tcy5cblx0XHQgKiBAcmV0dXJuIC0gVGhlIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIHJvb21zIGxpc3Rcblx0XHQgKi9cblx0XHRnZXRSb29tcyA6IF9nZXRSb29tcyxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIGEgbmV3IHJlYWNoIG5vZGVcblx0XHQgKiBAcGFyYW0gcF9yZWFjaCAtIEEgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgcmVhY2ggc2VydmljZVxuXHRcdCAqL1xuXHRcdHNldFJlYWNoIDogX3NldFJlYWNoLFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHJlYWNoIG5vZGUgb2YgdGhlIHJvb21zLlxuXHRcdCAqIEByZXR1cm4gLSBUaGUgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlYWNoIHNlcnZpY2Vcblx0XHQgKi9cblx0XHRnZXRSZWFjaCA6IF9nZXRSZWFjaCxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIGEgbmV3IHdlYnJ0YyBub2RlXG5cdFx0ICogQHBhcmFtIHBfd2VicnRjIC0gQSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBkYXRhIGFib3V0IHRoZSBXZWJSVEMgZmVhdHVyZVxuXHRcdCAqL1xuXHRcdHNldFdlYnJ0YyA6IF9zZXRXZWJydGMsXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgV2ViUlRDIG5vZGVcblx0XHQgKiBAcmV0dXJuIC0gVGhlIG5vZGUgY29udGFpbmlnIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgV2ViUlRDIGZlYXR1cmVcblx0XHQgKi9cblx0XHRnZXRXZWJydGMgOiBfZ2V0V2VicnRjLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgYSBub2RlIGNvbnRhaW5pbmcgdGhlIFNJUCBwaG9uZSBudW1iZXJzXG5cdFx0ICogQHBhcmFtIHBfc2lwUGhvbmVOdW1iZXJzIC0gVGhlIHJvb3Qgbm9kZSBjb250YWluaW5nIHRoZSBTSVAgcGhvbmUgbnVtYmVyc1xuXHRcdCAqL1xuXHRcdHNldFNpcFBob25lTnVtYmVycyA6IF9zZXRTaXBQaG9uZU51bWJlcnMsXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgcm9vdCBub2RlIGNvbnRhaW5pbmcgdGhlIFNJUCBwaG9uZSBudW1iZXJzXG5cdFx0ICogQHJldHVybiAtIFRoZSByb290IG5vZGUgd2l0aCB0aGUgU0lQIG51bWJlcnNcblx0XHQgKi9cblx0XHRnZXRTaXBQaG9uZU51bWJlcnMgOiBfZ2V0U2lwUGhvbmVOdW1iZXJzXG5cdH07XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZGF0YXJlZnMuanNcbiAqKi8iLCIvKipcbiAqIEBmaWxlIHJlYWNoLmpzIC0gSlMgZmlsZSB0byB1c2UgZm9yIHRoZSByZWFjaCBzZXJ2aWNlLiBUaGlzIHNlcnZpY2UgYWxsb3dzIHRvIGNyZWF0ZSBhIGRlZGljYXRlZCByb29tIGZvciB1c2VycyBzbyBhcyB0byBwcm92aWRlIHRoZW0gYSBjb21tdW5pY2F0aW9uIHN1aXRlLlxuICogQGF1dGhvciBXZWJjb21cbiAqL1xuXG4vKmVzbGludCBjb21wbGV4aXR5OjEsIG1heC1zdGF0ZW1lbnRzOiAxLCBtYXgtbGVuOiAxKi9cblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMnO1xuXG4vKipcbiAqIElOVklURSBzdGF0dXMgOiBvbmdvaW5nIHN0YXR1c1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJTlZJVEFUSU9OX09OR09JTkcgPSAnT05HT0lORyc7XG5cbi8qKlxuICogSU5WSVRFIHN0YXR1cyA6IGFjY2VwdGVkIHN0YXR1c1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJTlZJVEFUSU9OX0FDQ0VQVEVEID0gJ0FDQ0VQVEVEJztcblxuLyoqXG4gKiBJTlZJVEUgc3RhdHVzIDogcmVmdXNlZCBzdGF0dXNcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSU5WSVRBVElPTl9SRUpFQ1RFRCA9ICdSRUpFQ1RFRCc7XG5cbi8qKlxuICogSU5WSVRFIHN0YXR1cyA6IGNhbmNlbGVkIHN0YXR1c1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJTlZJVEFUSU9OX0NBTkNFTEVEID0gJ0NBTkNFTEVEJztcblxuLyoqXG4gKiBERVZJQ0VfU1RBVFVTX0NPTk5FVEVEIHN0YXR1cyA6IGNvbm5lY3RlZCBzdGF0dXNcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgREVWSUNFX1NUQVRVU19DT05ORUNURUQgPSAnQ09OTkVDVEVEJztcblxuLyoqXG4gKiBST09NX1NUQVRVU19PUEVOIHN0YXR1cyA6IHJvb20gaXMgb3BlbiAvIGFjdGl2ZVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBST09NX1NUQVRVU19PUEVOID0gJ09QRU4nO1xuXG5cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBkZXNjcmlwdGlvbiBUaGUgcmVhY2ggb2JqZWN0IHdpdGggaXRzIHN0cmVhbXMsIGZsYWdzIGFuZCBjYWxsYmFja3MuXG4gKiBUaGlzIG9iamVjdCBpcyB1c2VkIHNvIGFzIHRvIG1ha2UgaW4gY29ubmVjdGlvbiBzZXZlcmFsIHVzZXJzLiBUaGUgcm9vbSBJbnZpdGVzIG1hbmFnZW1lbnQgKGFjY2VwdCAvIHJlZnVzZSAvIGNhbmNlbCksIHRoZSB1c2VyIG1hbmFnZW1lbnQgKGFkZCAvIHJlbW92ZSkgYW5kXG4gKiB0aGUgSW52aXRlIGFyZSBoYW5kbGVkIGhlcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gcF9tZSAtIFRoZSB1c2VyIGlkZW50aWZpZXJcbiAqL1xuY29uc3QgcmVhY2ggPSBmdW5jdGlvbiAocF9tZSwgZGF0YXJlZnMpIHtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSB1c2VyIGlkZW50aWZpZXIuIFRoaXMgaWRlbnRpZmllciB3aWxsIGJlIHVzZSB0byBjcmVhdGUgYSBkZWRpY2F0ZWQgbm9kZSBpbiB0aGUgZGF0YWJhc2UgZm9yIHRoaXMgdXNlci5cblx0ICovXG5cdGNvbnN0IG1lID0gcF9tZTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgZGF0YSByZWYgcG9pbnRlciBmb3IgdGhlIHJlYWNoIHBhcnQuIEl0IGNhbiBiZSBjb25zaWRlcmVkIGFzIGEgcG9pbnRlciB0byB0aGUgZGF0YWJhc2UgdG8gdXNlIHRvIG5hdmlnYXRlIGludG8gaXQgYW5kIG1vZGlmeSBpdHMgY29udGVudC5cblx0ICovXG5cdGNvbnN0IGRhdGFyZWYgPSBkYXRhcmVmcy5nZXRSZWFjaCgpO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIGhhbmRsaW5nIHRoZSB1c2VyIGFkZGluZ1xuXHQgKi9cblx0bGV0IG9uVXNlckFkZGVkQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIGhhbmRsaW5nIHRoZSB1c2VyIGNoYW5nZXNcblx0ICovXG5cdGxldCBvblVzZXJDaGFuZ2VkQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIGhhbmRsaW5nIHRoZSB1c2VyIHJlbW92YWxcblx0ICovXG5cdGxldCBvblVzZXJSZW1vdmVkQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIGZvciBuZXcgSW52aXRlIHJlY2VpdmVkXG5cdCAqL1xuXHRsZXQgbmV3SW52aXRlQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIGZvciBJbnZpdGUgcmVjZWl2ZWQgY2hhbmdlc1xuXHQgKi9cblx0bGV0IG9uUm9vbUludml0ZUNoYW5nZWRDYiA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIGFsbCBvdXRnb2luZyBJbnZpdGVcblx0ICovXG5cdGxldCBtT3V0Z29pbmdJbnZpdGVzID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyBhbGwgaW5jb21pbmcgSW52aXRhdGlvblxuXHQgKi9cblx0bGV0IG1JbmNvbWluZ0ludml0YXRpb24gPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiB0aGUgdGltZW91dCB0byByZWplY3QgYXV0b21hdGljYWxseSB0aGUgSW52aXRlXG5cdCAqL1xuXHRsZXQgYXV0b21hdGljUmVqZWN0VGltZU91dCA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiB0aGUgcmVhc29uIHRvIHJlamVjdCBhdXRvbWF0aWNhbGx5IHRoZSBJbnZpdGVcblx0ICovXG5cdGxldCBhdXRvbWF0aWNSZWplY3RSZWFzb24gPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gdGhlIGN1cnJlbnQgZGV2aWNlIElkXG5cdCAqL1xuXHRsZXQgbURldmljZUlkID0gbnVsbDtcblxuXHQvKipcblx0KiBJbml0aWFsaXNhdGlvbiBmdW5jdGlvbi4gVXBkYXRlcyB0aGUgZGF0YXJlZiBhYm91dCB0aGUgdXNlciBpZGVudGlmaWVyIGluIHRoZSB1c2VyIGxpc3QgOlxuXHQqIGl0IHdpbGwgZGlzY29ubmVjdCBhbmQgcmVjb25uZWN0IGl0LlxuXHQqL1xuXHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdG1EZXZpY2VJZCA9IGRhdGFyZWYuY2hpbGQoYHVzZXJMaXN0LyR7bWV9L2Nvbm5lY3RlZExpc3QvJHt1dGlscy5hcHBJbnN0YW5jZUlkfWApO1xuXHRcdG1EZXZpY2VJZC5vbkRpc2Nvbm5lY3QoKS5yZW1vdmUoKTtcblx0XHRtRGV2aWNlSWQuY2hpbGQoJ3N0YXR1cycpLnNldChERVZJQ0VfU1RBVFVTX0NPTk5FQ1RFRCk7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGRlc2NyaXB0aW9uID0gbURldmljZUlkLmNoaWxkKCdkZXNjcmlwdGlvbicpO1xuXHRcdFx0aWYgKHV0aWxzLmFwcEluc3RhbmNlSWQpIHtcblx0XHRcdFx0ZGVzY3JpcHRpb24uY2hpbGQoJ2FwcEluc3RhbmNlSWQnKS5zZXQodXRpbHMuYXBwSW5zdGFuY2VJZCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0XG5cdFx0XHRcdG5hdmlnYXRvckRhdGEgPSB7fSxcblx0XHRcdFx0cHJvcGVydGllcyA9IFtcblx0XHRcdFx0XHQnYXBwQ29kZU5hbWUnLFxuXHRcdFx0XHRcdCdhcHBOYW1lJyxcblx0XHRcdFx0XHQnYXBwVmVyc2lvbicsXG5cdFx0XHRcdFx0J2J1aWxkSUQnLFxuXHRcdFx0XHRcdCdjb29raWVFbmFibGVkJyxcblx0XHRcdFx0XHQnbGFuZ3VhZ2UnLFxuXHRcdFx0XHRcdCdvbkxpbmUnLFxuXHRcdFx0XHRcdCdvc2NwdScsXG5cdFx0XHRcdFx0J3BsYXRmb3JtJyxcblx0XHRcdFx0XHQncHJvZHVjdCcsXG5cdFx0XHRcdFx0J3Byb2R1Y3RTdWInLFxuXHRcdFx0XHRcdCdzZWN1cml0eVBvbGljeScsXG5cdFx0XHRcdFx0J3VzZXJBZ2VudCcsXG5cdFx0XHRcdFx0J3ZlbmRvcicsXG5cdFx0XHRcdFx0J3ZlbmRvclN1Yidcblx0XHRcdFx0XTtcblx0XHRcdHByb3BlcnRpZXMuZm9yRWFjaCgocHJvcGVydHkpID0+IHtcblx0XHRcdFx0aWYobmF2aWdhdG9yW3Byb3BlcnR5XSkge1xuXHRcdFx0XHRcdG5hdmlnYXRvckRhdGFbcHJvcGVydHldID0gbmF2aWdhdG9yW3Byb3BlcnR5XTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRkZXNjcmlwdGlvbi5jaGlsZCgnbmF2aWdhdG9yJykuc2V0KG5hdmlnYXRvckRhdGEpO1xuXG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyZWFjaDo6aW5pdClmYWlsZWQgdG8gZ2V0IGluZm9ybWF0aW9uIGFib3V0IGRldmljZS4gZXJyb3I9JHtlfWApO1xuXHRcdH1cblx0XHRkYXRhcmVmLmNoaWxkKGB1c2VyTGlzdC8ke21lfS93YXNJbnNpZGVSZWFjaGApLnNldCh0cnVlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBjaGVjayBpZiBhIHVzZXIgaXMgY29ubmVjdGVkXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3VzZXJJZCAtIHRoZSB1c2VyIElkXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSB0aGUgY2FsbGJhY2sgdHJpZ2dlcnMgdG8gcmV0dXJuIHRoZSByZXN1bHQuIFRoZSByZXN1bHQgd2lsbCBiZSBwYXNzZWQgaW4gcGFyYW1ldGVyIGFzIGJvb2xlYW4gOiB0cnVlID0gY29ubmVjdGVkIC8gZmFsc2UgPSBub3QgY29ubmVjdGVkXG5cdCAqL1xuXHRmdW5jdGlvbiBfaXNDb25uZWN0ZWQocF91c2VySWQscF9jYikge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfaXNDb25uZWN0ZWQpdXNlcklkOiAke3BfdXNlcklkfWApO1xuXHRcdGRhdGFyZWYuY2hpbGQoYHVzZXJMaXN0LyR7cF91c2VySWR9L2Nvbm5lY3RlZExpc3RgKS5vbmNlKCd2YWx1ZScsIChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0Ly8gb25Vc2VyQ29ubmVjdGVkQ2IuIFVzZXIgaXMgY29ubmVjdGVkIGlmIHNuYXBzaG90IHZhbHVlIGlzIG5vdCBudWxsXG5cdFx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHBfY2Ioc25hcHNob3QudmFsKCkgIT09IG51bGwpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIGNoZWNrIGlmIGEgdXNlciBpcyByZWdpc3RlclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF91c2VySWQgLSB0aGUgdXNlciBJZFxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gdGhlIGNhbGxiYWNrIHRyaWdnZXJzIHRvIHJldHVybiB0aGUgcmVzdWx0LiBUaGUgcmVzdWx0IHdpbGwgYmUgcGFzc2VkIGluIHBhcmFtZXRlciBhcyBib29sZWFuIDogdHJ1ZSA9IHJlZ2lzdGVyZWQgLyBmYWxzZSA9IG5vdCByZWdpc3RlcmVkXG5cdCAqL1xuXHRmdW5jdGlvbiBfaXNSZWdpc3RlcmVkKHBfdXNlcklkLHBfY2IpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2lzUmVnaXN0ZXJlZCl1c2VySWQ6ICR7cF91c2VySWR9YCk7XG5cdFx0ZGF0YXJlZi5jaGlsZChgdXNlckxpc3QvJHtwX3VzZXJJZH0vd2FzSW5zaWRlUmVhY2hgKS5vbmNlKCd2YWx1ZScsIChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0Ly8gb25Vc2VyUmVnaXN0ZXJlZENiLiBVc2VyIGlzIHJlZ2lzdGVyZWQgaWYgc25hcHNob3QgdmFsdWUgaXMgbm90IG51bGxcblx0XHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0cF9jYihzbmFwc2hvdC52YWwoKSAhPT0gbnVsbCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogc2V0IHRoZSBkZXZpY2Ugc3RhdHVzIChERVZJQ0VfU1RBVFVTX0NPTk5FQ1RFRClcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBfc3RhdHVzIC0gdGhlIG5ldyBzdGF0dXNcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRDb25uZWN0ZWRTdGF0dXMocF9zdGF0dXMpIHtcblx0XHRpZiAobURldmljZUlkKSB7XG5cdFx0XHRtRGV2aWNlSWQuY2hpbGQoJ3N0YXR1cycpLnNldChwX3N0YXR1cyk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIG5ldyB1c2VyIGlzIGFkZGVkXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2sgdG8gdXNlXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0T25Vc2VyQWRkZWQocF9jYikge1xuXHRcdGlmIChvblVzZXJBZGRlZENiKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCd1c2VyTGlzdCcpLm9mZignY2hpbGRfYWRkZWQnLCBvblVzZXJBZGRlZENiKTtcblx0XHRcdG9uVXNlckFkZGVkQ2IgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRvblVzZXJBZGRlZENiID0gZnVuY3Rpb24oc25hcHNob3QpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Om9uVXNlckFkZGVkQ2IpICR7c25hcHNob3QubmFtZSgpfT0ke0pTT04uc3RyaW5naWZ5KHNuYXBzaG90LnZhbCgpKX1gKTtcblx0XHRcdFx0Y29uc3Qgb2JqID0ge307XG5cdFx0XHRcdG9ialtzbmFwc2hvdC5uYW1lKCldID0gc25hcHNob3QudmFsKCk7XG5cdFx0XHRcdHBfY2Iob2JqKTtcblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCd1c2VyTGlzdCcpLm9uKCdjaGlsZF9hZGRlZCcsIG9uVXNlckFkZGVkQ2IpO1xuXHRcdH1cblx0fVxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIHRoZSB1c2VyIGhhcyBjaGFuZ2VkXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2sgdG8gdXNlXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0T25Vc2VyQ2hhbmdlZChwX2NiKSB7XG5cdFx0aWYgKG9uVXNlckNoYW5nZWRDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vZmYoJ2NoaWxkX2NoYW5nZWQnLCBvblVzZXJDaGFuZ2VkQ2IpO1xuXHRcdFx0b25Vc2VyQ2hhbmdlZENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0b25Vc2VyQ2hhbmdlZENiID0gZnVuY3Rpb24oc25hcHNob3QpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Om9uVXNlckNoYW5nZWRDYikgJHtzbmFwc2hvdC5uYW1lKCl9PSR7SlNPTi5zdHJpbmdpZnkoc25hcHNob3QudmFsKCkpfWApO1xuXHRcdFx0XHRjb25zdCBvYmogPSB7fTtcblx0XHRcdFx0b2JqW3NuYXBzaG90Lm5hbWUoKV09c25hcHNob3QudmFsKCk7XG5cdFx0XHRcdHBfY2Iob2JqKTtcblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCd1c2VyTGlzdCcpLm9uKCdjaGlsZF9jaGFuZ2VkJywgb25Vc2VyQ2hhbmdlZENiKTtcblx0XHR9XG5cblx0fVxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIGEgdXNlciBoYXMgYmVlbiByZW1vdmVkLlxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrIHRvIHVzZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE9uVXNlclJlbW92ZWQocF9jYikge1xuXHRcdGlmIChvblVzZXJSZW1vdmVkQ2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3VzZXJMaXN0Jykub2ZmKCdjaGlsZF9yZW1vdmVkJyxvblVzZXJSZW1vdmVkQ2IpO1xuXHRcdFx0b25Vc2VyUmVtb3ZlZENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0b25Vc2VyUmVtb3ZlZENiID0gZnVuY3Rpb24oc25hcHNob3QpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Om9uVXNlclJlbW92ZWRDYikgJHtzbmFwc2hvdC5uYW1lKCl9PSR7SlNPTi5zdHJpbmdpZnkoc25hcHNob3QudmFsKCkpfWApO1xuXHRcdFx0XHRjb25zdCBvYmogPSB7fTtcblx0XHRcdFx0b2JqW3NuYXBzaG90Lm5hbWUoKV09c25hcHNob3QudmFsKCk7XG5cdFx0XHRcdHBfY2Iob2JqKTtcblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCd1c2VyTGlzdCcpLm9uKCdjaGlsZF9yZW1vdmVkJyxvblVzZXJSZW1vdmVkQ2IpO1xuXHRcdH1cblxuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIHJvb20gSW52aXRlIGhhcyBiZWVuIHJlY2VpdmVkLlxuXHQgKiBPdGhlciBjYWxsYmFja3Mgd2lsbCBiZSB0cmlnZ2VyZWQgYWJvdXQgSW52aXRlIGxpc3RzLlxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX29uTmV3Um9vbUludml0ZUNiIC0gVGhlIGNhbGxiYWNrIHRyaWdnZXJzIHdoZW4gYSBJbnZpdGUgaXMgcmVjZWl2ZWQgKHN0YXR1cyA9IG9uIGdvaW5nKVxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE9uTmV3Um9vbUludml0YXRpb24ocF9vbk5ld1Jvb21JbnZpdGVDYikge1xuXG5cdFx0aWYgKG5ld0ludml0ZUNiKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdC8ke21lfWApLm9mZignY2hpbGRfYWRkZWQnLG5ld0ludml0ZUNiKTtcblx0XHRcdG5ld0ludml0ZUNiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocF9vbk5ld1Jvb21JbnZpdGVDYiAmJiB0eXBlb2YgcF9vbk5ld1Jvb21JbnZpdGVDYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRuZXdJbnZpdGVDYiA9IChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRpZiAoc25hcHNob3QudmFsKCkuc3RhdHVzPT09IElOVklUQVRJT05fT05HT0lORykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfc2V0T25OZXdSb29tSW52aXRhdGlvbiluZXcgSW52aXRlIHJlY2VpdmVkLGlkKSAke3NuYXBzaG90Lm5hbWUoKX0sY29udGVudD0ke0pTT04uc3RyaW5naWZ5KHNuYXBzaG90LnZhbCgpKX1gKTtcblx0XHRcdFx0XHRjb25zdCBpbnZpdGF0aW9uSWQgPSBzbmFwc2hvdC5uYW1lKCk7XG5cdFx0XHRcdFx0aWYgKCFtSW5jb21pbmdJbnZpdGF0aW9uKSB7XG5cdFx0XHRcdFx0XHRtSW5jb21pbmdJbnZpdGF0aW9uID0gW107XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChtSW5jb21pbmdJbnZpdGF0aW9uW2ludml0YXRpb25JZF0pIHtcblx0XHRcdFx0XHRcdGlmIChtSW5jb21pbmdJbnZpdGF0aW9uW2ludml0YXRpb25JZF0udGltZW91dCkge1xuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQobUluY29taW5nSW52aXRhdGlvbltpbnZpdGF0aW9uSWRdLnRpbWVvdXQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZGVsZXRlIG1JbmNvbWluZ0ludml0YXRpb25baW52aXRhdGlvbklkXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bUluY29taW5nSW52aXRhdGlvbltpbnZpdGF0aW9uSWRdPXt9O1xuXG5cdFx0XHRcdFx0Y29uc3Qgb2JqID0ge307XG5cdFx0XHRcdFx0b2JqW2ludml0YXRpb25JZF0gPSBzbmFwc2hvdC52YWwoKTtcblx0XHRcdFx0XHRwX29uTmV3Um9vbUludml0ZUNiKG9iaik7XG5cblx0XHRcdFx0XHRjb25zdCBpbnZpdGF0aW9uUmVmID0gZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3QvJHttZX0vJHtpbnZpdGF0aW9uSWR9YCk7XG5cblx0XHRcdFx0XHRpZiAoYXV0b21hdGljUmVqZWN0VGltZU91dCkge1xuXHRcdFx0XHRcdFx0bUluY29taW5nSW52aXRhdGlvbltpbnZpdGF0aW9uSWRdLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKGF1dG9tYXRpY1JlamVjdFRpbWVPdXQpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X3NldE9uTmV3Um9vbUludml0YXRpb24pYXV0b21hdGljIHJlamVjdCBvZiBJbnZpdGUgcmVjZWl2ZWQ9JHtKU09OLnN0cmluZ2lmeShzbmFwc2hvdC52YWwoKSl9YCk7XG5cdFx0XHRcdFx0XHRcdFx0aW52aXRhdGlvblJlZi5vbkRpc2Nvbm5lY3QoKS5jYW5jZWwoKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoYXV0b21hdGljUmVqZWN0UmVhc29uKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpbnZpdGF0aW9uUmVmLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRpbWVzdGFtcF9lbmQ6IFdlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN0YXR1czogSU5WSVRBVElPTl9SRUpFQ1RFRCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3RhdHVzX2luZm86IGF1dG9tYXRpY1JlamVjdFJlYXNvblxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGludml0YXRpb25SZWYudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGltZXN0YW1wX2VuZDogV2ViY29tLlNlcnZlclZhbHVlLlRJTUVTVEFNUCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3RhdHVzOiBJTlZJVEFUSU9OX1JFSkVDVEVEXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIGF1dG9tYXRpY1JlamVjdFRpbWVPdXQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGludml0YXRpb25SZWYub25jZSgnY2hpbGRfY2hhbmdlZCcsIChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYoc25hcHNob3QgJiYgc25hcHNob3QubmFtZSgpID09PSAnc3RhdHVzJykge1xuXHRcdFx0XHRcdFx0XHRzbmFwc2hvdC5yZWYoKS5wYXJlbnQoKS5vbmNlKCd2YWx1ZScsIChzbmFwc2hvdDIpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRsZXQgY2JfaW52aXRhdGlvbklkLGNiX29ial9jb250ZW50O1xuXHRcdFx0XHRcdFx0XHRcdGlmIChzbmFwc2hvdDIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNiX2ludml0YXRpb25JZCA9IHNuYXBzaG90LnJlZigpLnBhcmVudCgpLm5hbWUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdGNiX29ial9jb250ZW50PSBzbmFwc2hvdDIudmFsKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBjYl9vYmogPSB7fTtcblx0XHRcdFx0XHRcdFx0XHRcdGNiX29ialtjYl9pbnZpdGF0aW9uSWRdID0gY2Jfb2JqX2NvbnRlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAobUluY29taW5nSW52aXRhdGlvbiAmJiBtSW5jb21pbmdJbnZpdGF0aW9uW2NiX2ludml0YXRpb25JZF0gJiYgbUluY29taW5nSW52aXRhdGlvbltjYl9pbnZpdGF0aW9uSWRdLnRpbWVvdXQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KG1JbmNvbWluZ0ludml0YXRpb25bY2JfaW52aXRhdGlvbklkXS50aW1lb3V0KTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfc2V0T25OZXdSb29tSW52aXRhdGlvbilJbnZpdGUgY2hhbmdlZCxpZD0pICR7Y2JfaW52aXRhdGlvbklkfSwgbmV3IGNvbnRlbnQ9JHtKU09OLnN0cmluZ2lmeShjYl9vYmpfY29udGVudCl9YCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoY2Jfb2JqICYmIG9uUm9vbUludml0ZUNoYW5nZWRDYiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0b25Sb29tSW52aXRlQ2hhbmdlZENiKGNiX29iaik7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRkZWxldGUgbUluY29taW5nSW52aXRhdGlvbltjYl9pbnZpdGF0aW9uSWRdO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0LyR7bWV9YCkub24oJ2NoaWxkX2FkZGVkJywgbmV3SW52aXRlQ2IpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSByb29tIEludml0ZSBoYXMgYmVlbiBjaGFuZ2VkLlxuXHQgKiBPdGhlciBjYWxsYmFja3Mgd2lsbCBiZSB0cmlnZ2VyZWQgYWJvdXQgSW52aXRlIGxpc3RzLlxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX29uUm9vbUludml0ZUNoYW5nZWRDYiAtIFRoZSBjYWxsYmFjayB0cmlnZ2VycyB3aGVuIHRoZSBzYXR1cyBvbiB0aGUgSW52aXRlIHJlY2VpdmVkIGhhcyBjaGFuZ2VkIChzdGF0dXMgPSBhY2NlcHRlZC9yZWplY3RlZC9jYW5jZWxlZClcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRPblJvb21JbnZpdGF0aW9uQ2hhbmdlZChwX29uUm9vbUludml0ZUNoYW5nZWRDYikge1xuXG5cdFx0aWYgKG9uUm9vbUludml0ZUNoYW5nZWRDYikge1xuXHRcdFx0b25Sb29tSW52aXRlQ2hhbmdlZENiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocF9vblJvb21JbnZpdGVDaGFuZ2VkQ2IgJiYgdHlwZW9mIHBfb25Sb29tSW52aXRlQ2hhbmdlZENiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdG9uUm9vbUludml0ZUNoYW5nZWRDYiA9IHBfb25Sb29tSW52aXRlQ2hhbmdlZENiO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIGEgdGltZW91dCB0byByZWplY3QgYXV0b21hdGljYWxseSB0aGUgaW5jb21pbmcgSW52aXRlXG5cdCAqIEBwYXJhbSB7aW50ZWdlcn0gcF90aW1lb3V0IC0gVGhlIGRlbGF5XG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3JlYXNvbiAtIG9wdGlvbmFsIGluZm8gYWJvdXQgdGhlIHJlamVjdFxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE5ld1Jvb21JbnZpdGF0aW9uVGltZW91dChwX3RpbWVvdXQscF9yZWFzb24pIHtcblx0XHRpZiAoYXV0b21hdGljUmVqZWN0VGltZU91dCkge1xuXHRcdFx0YXV0b21hdGljUmVqZWN0VGltZU91dCA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChhdXRvbWF0aWNSZWplY3RSZWFzb24pIHtcblx0XHRcdGF1dG9tYXRpY1JlamVjdFJlYXNvbiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHBfdGltZW91dFx0JiYgcF90aW1lb3V0ID09PSBwYXJzZUludChwX3RpbWVvdXQsIDEwKSAmJiBwX3RpbWVvdXQ+MCkge1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9zZXROZXdSb29tSW52aXRhdGlvblRpbWVvdXQpdGltZW91dD0ke3BfdGltZW91dH1gKTtcblx0XHRcdGF1dG9tYXRpY1JlamVjdFRpbWVPdXQ9cF90aW1lb3V0O1xuXHRcdH1cblx0XHRpZiAocF9yZWFzb24pIHtcblx0XHRcdGF1dG9tYXRpY1JlamVjdFJlYXNvbj1wX3JlYXNvbjtcblx0XHR9XG5cdH1cblxuXG5cdC8qKlxuXHQgKiB0ZXN0IGlmIHBfdXNlciAgaXMgYWxyZWFkeSBwcmVzZW50IGluIHRoZSBwYXJ0aWNpcGFudCBsaXN0IG9mIHRoZSByb29tIHBfcm9vbUlkXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3Jvb21JZCAtIFRoZSByb29tIHVzZWQgYXMgdGhlIG5hbWUgb2YgYSBicmFuY2ggaXMgdGhlIGRhdGFiYXNlXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3VzZXIgLSBUaGUgdXNlciBJZFxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHRpZ2dlciB0byBnZXQgdGhlIHJlc3VsdC4gSXQgd2lsbCBjb250YWludHMgYSBwYXJhbWV0ZXIgPSB0cnVlIGlzIGFscmVhZHkgcHJlc2VudCwgZmFsc2UgZWl0aGVyLlxuXHQgKi9cblx0ZnVuY3Rpb24gX2lzVXNlclByZXNlbnRJblJvb20ocF9yb29tSWQscF91c2VyLHBfY2IpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2lzVXNlclByZXNlbnRJblJvb20pcF9yb29tSWQ9JHtwX3Jvb21JZH0gcF91c2VyPSR7cF91c2VyfWApO1xuXHRcdGlmICghKHBfcm9vbUlkICYmIHR5cGVvZiBwX3Jvb21JZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Ol9pc1VzZXJQcmVzZW50SW5Sb29tKXBhcmFtZXRlciBwX3Jvb21pZCBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICghKHBfdXNlciAmJiB0eXBlb2YgcF91c2VyID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6X2lzVXNlclByZXNlbnRJblJvb20pcGFyYW1ldGVyIHBfdXNlciBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICghKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Ol9pc1VzZXJQcmVzZW50SW5Sb29tKXBhcmFtZXRlciBwX2NiIGlzIGluY29ycmVjdC4gaWYgZGVmaW5lZCwgZXhwZWN0aW5nIGEgZnVuY3Rpb24nKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZGF0YXJlZnMuZ2V0Um9vbXMoKS5jaGlsZChgJHtwX3Jvb21JZH0vcGFydGljaXBhbnRMaXN0LyR7cF91c2VyfS93YXNJbnNpZGVSb29tYCkub25jZSgndmFsdWUnLCAoc25hcHNob3QpID0+IHtcblx0XHRcdGNvbnN0IHdhc1ByZXNlbnQgPSAoc25hcHNob3QudmFsKCkgIT09IG51bGwpO1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9pc1VzZXJQcmVzZW50SW5Sb29tKXBfcm9vbUlkPSR7cF9yb29tSWR9LHBfdXNlcj0ke3BfdXNlcn0scmVzdWx0PSR7d2FzUHJlc2VudH1gKTtcblx0XHRcdHBfY2Iod2FzUHJlc2VudCwgcF9yb29tSWQsIHBfdXNlcik7XG5cdFx0fSk7XG5cblx0fVxuXG5cblx0LyoqXG5cdCAqIENhbmNlbHMgdGhlIEludml0ZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF9yb29tSWQgLSBUaGUgcm9vbSBJZCBvZiB0aGUgSW52aXRlXG5cdCAqIEBwYXJhbSB7YXJyYXlbc3RpbmddfSBwX2d1ZXN0SWRzIC0gb3B0aW9uYWwgOiBBbiBhcnJheSBwb3NzZXNzaW5nIHRoZSBpZGVudGlmaWVycyBvZiB0aGUgaW52aXRlZXMuIChpZiB1bmRlZmluZWQgLCAgYWxsIGludml0ZWUgd2lsbCBoYXZlIHRoZWlyIEludml0ZSBjYW5jZWxlZClcblx0ICogQHBhcmFtIHtzdHJpbmd9IGludml0ZUlkIC0gVGhlIGludml0ZSBpZGVudGlmaWVyXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gdGhlIG9wZXJhdGlvbiBpcyBjb21wbGV0ZSAuIHRoaXMgY2FsbGJhY2sgd2lsbCBjb250YWludCBhcyBwYXJhbWV0ZXIgdGhlIHJlbGF0ZWQgZ3Vlc3RJZFxuXHQgKi9cblx0ZnVuY3Rpb24gX2NhbmNlbEludml0YXRpb24ocF9yb29tSWQsIHBfZ3Vlc3RJZHMsIHBfY2IpIHtcblx0XHRpZiAoIShwX3Jvb21JZCAmJiB0eXBlb2YgcF9yb29tSWQgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjpfY2FuY2VsSW52aXRhdGlvbilwYXJhbWV0ZXIgcF9yb29taWQgaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZycpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAocF9ndWVzdElkcyAmJiAhIHBfZ3Vlc3RJZHMgaW5zdGFuY2VvZiBBcnJheSApIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Ol9jYW5jZWxJbnZpdGF0aW9uKXBhcmFtZXRlciBwX2d1ZXN0SWRzIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIGFuIEFycmF5Jyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKGAgKFJlYWNoU0RLOjpyZWFjaDo6X2NhbmNlbEludml0YXRpb24pcF9yb29tSWQ9JHtwX3Jvb21JZH0sIHBfZ3Vlc3RJZHM9JHtKU09OLnN0cmluZ2lmeShwX2d1ZXN0SWRzKX1gKTtcblx0XHRpZiAobU91dGdvaW5nSW52aXRlcyAmJiBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXSkge1xuXHRcdFx0aWYgKHBfZ3Vlc3RJZHMpIHtcblx0XHRcdFx0cF9ndWVzdElkcy5mb3JFYWNoKChndWVzdElkLCBpKSA9PiB7XG5cdFx0XHRcdFx0aWYgKCEoZ3Vlc3RJZCAmJiB0eXBlb2YgZ3Vlc3RJZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbSlwYXJhbWV0ZXIgcF9ndWVzdElkc1ske2l9XSBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nYCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtndWVzdElkXSkge1xuXHRcdFx0XHRcdFx0aWYgKG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2d1ZXN0SWRdLkludml0ZURhdGFyZWYpIHtcblx0XHRcdFx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bZ3Vlc3RJZF0uSW52aXRlRGF0YXJlZi5vbkRpc2Nvbm5lY3QoKS5jYW5jZWwoKTtcblx0XHRcdFx0XHRcdFx0aWYgKG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2d1ZXN0SWRdLkludml0ZUNoYW5nZWRDYiAmJiB0eXBlb2YgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bZ3Vlc3RJZF0uSW52aXRlQ2hhbmdlZENiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtndWVzdElkXS5JbnZpdGVEYXRhcmVmLm9mZignY2hpbGRfY2hhbmdlZCcsIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2d1ZXN0SWRdLkludml0ZUNoYW5nZWRDYik7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtndWVzdElkXS5JbnZpdGVEYXRhcmVmLm9uY2UoJ3ZhbHVlJywgKGRhdGFTbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGxldCBjYl9zdGF0dXMsIGNiX2d1ZXN0SWQsIGNiX3Jvb21JZDtcblx0XHRcdFx0XHRcdFx0XHRpZiAoZGF0YVNuYXBzaG90ICYmIGRhdGFTbmFwc2hvdC52YWwoKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2Jfc3RhdHVzPSBkYXRhU25hcHNob3QudmFsKCkuc3RhdHVzO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2Jfcm9vbUlkPSBkYXRhU25hcHNob3QudmFsKCkucm9vbTtcblx0XHRcdFx0XHRcdFx0XHRcdGNiX2d1ZXN0SWQ9IGRhdGFTbmFwc2hvdC5yZWYoKS5wYXJlbnQoKS5uYW1lKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoY2Jfc3RhdHVzICYmIGNiX3N0YXR1cz09PUlOVklUQVRJT05fT05HT0lORykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0uSW52aXRlRGF0YXJlZi51cGRhdGUoe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRpbWVzdGFtcF9lbmQ6IFdlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3RhdHVzOiBJTlZJVEFUSU9OX0NBTkNFTEVEXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAobU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLnN0YXR1c0NoYW5nZWRDYiAmJiB0eXBlb2YgbU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLnN0YXR1c0NoYW5nZWRDYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLnN0YXR1c0NoYW5nZWRDYihjYl9yb29tSWQsIGNiX2d1ZXN0SWQsIElOVklUQVRJT05fQ0FOQ0VMRUQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfY2FuY2VsSW52aXRhdGlvbilkZWxldGluZyBJbnZpdGUgdG8gcm9vbSAke2NiX3Jvb21JZH0gZm9yIGludml0ZWUgJHtjYl9ndWVzdElkfWApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OnJlYWNoOjpfY2FuY2VsSW52aXRhdGlvbiljYW5ub3QgZGVsZXRlIGludGl2YXRpb24gdG8gcm9vbSAke2NiX3Jvb21JZH0gZm9yIGd1ZXN0ICR7Y2JfZ3Vlc3RJZH0gSW52aXRhdGlvbiBoYXMgYmVlbiByZW1vdmVkL3JlamVjdGVkL2FjY2VwdGVkYCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGRlbGV0ZSBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtndWVzdElkXTtcblx0XHRcdFx0XHRcdFx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdFx0cF9jYihndWVzdElkKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRkZWxldGUgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bZ3Vlc3RJZF07XG5cdFx0XHRcdFx0XHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdFx0cF9jYihndWVzdElkKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdHBfY2IoZ3Vlc3RJZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0T2JqZWN0LmtleXMobU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF0pLmZvckVhY2goKGludml0ZWUpID0+IHtcblx0XHRcdFx0XHRfY2FuY2VsSW52aXRhdGlvbihwX3Jvb21JZCwgW2ludml0ZWVdLCBwX2NiKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjpyZWFjaDo6X2NhbmNlbEludml0YXRpb24pIEludml0ZSB0byByb29tICR7cF9yb29tSWR9IG5vdCBmb3VuZGApO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBHYXRoZXIgdGhlIGludml0ZWVzIHRvIHRoZSByb29tLlxuXHQgKiBEZWZpbmVzIGEgY2FsbGJhY2sgdG8gdHJpZ2dlciBmb3IgSW52aXRlIGNoYW5nZXMsIGFuZCBjYWxscyBjYWxsYmFja3MgZm9yIHJvb20gaW52aXRlIGFjY2VwdGF0aW9uIG9yIHJlZnVzZS5cblx0ICogRm9yIGVhY2ggaW52aXRlZSBhIG5vZGUgaXMgY3JlYXRlZCBpbiB0aGUgZGF0YWJhc2UgYWJvdXQgdGhlIEludml0ZSBsaXN0LlxuXHQgKiBJbiBhZGR0aW9uLCBhIG5vZGUgaXMgY3JlYXRlZCB0b28gZm9yIGVhY2ggaW52aXRlZSBhYm91dCB0aGUgcGFydGljaXBhbnRMaXN0LlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF9yb29tSWQgLSBUaGUgcm9vbSB1c2VkIGFzIHRoZSBuYW1lIG9mIGEgYnJhbmNoIGlzIHRoZSBkYXRhYmFzZVxuXHQgKiBAcGFyYW0ge2FycmF5W3N0aW5nXX0gcF9ndWVzdElkcyAtIEFuIGFycmF5IHBvc3Nlc3NpbmcgdGhlIGlkZW50aWZpZXJzIG9mIHRoZSBpbnZpdGVlc1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF90b3BpYyAtIGN1c3RvbSBtZXNzYWdlIGZvciBpbnZpdGF0aW9uXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfc3RhdHVzQ2hhbmdlZENiIC0gb3B0aW9uYWwgOiBjYWxsYmFjayBmdW5jdGlvbiB3aGVuIGFuIGludml0ZWUgYWNjZXB0cy9yZWplY3RlZC9jYW5jZWxlZCB0aGUgSW52aXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfaW52aXRlVG9Sb29tKHBfcm9vbUlkLCBwX2d1ZXN0SWRzLCBwX3RvcGljLHBfc3RhdHVzQ2hhbmdlZENiKSB7XG5cdFx0aWYgKCEocF9yb29tSWQgJiYgdHlwZW9mIHBfcm9vbUlkID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tKXBhcmFtZXRlciBwX3Jvb21pZCBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICghKHBfdG9waWMgJiYgdHlwZW9mIHBfdG9waWMgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb20pcGFyYW1ldGVyIHBfdG9waWMgaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZycpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAocF9zdGF0dXNDaGFuZ2VkQ2IgJiYgdHlwZW9mIHBfc3RhdHVzQ2hhbmdlZENiICE9ICdmdW5jdGlvbicpIHtcblx0XHRcdGNvbnNvbGUud2FybignKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tKXBhcmFtZXRlciBwX3N0YXR1c0NoYW5nZWRDYiBpcyBpbmNvcnJlY3QuIGlmIGRlZmluZWQsIGV4cGVjdGluZyBhIGZ1bmN0aW9uJyk7XG5cdFx0fVxuXHRcdGlmICghKHBfZ3Vlc3RJZHMgJiYgcF9ndWVzdElkcyBpbnN0YW5jZW9mIEFycmF5ICkpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbSlwYXJhbWV0ZXIgcF9ndWVzdElkcyBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBhbiBBcnJheScpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRkYXRhcmVmcy5nZXRSb29tcygpLmNoaWxkKHBfcm9vbUlkKS5jaGlsZCgnY29tbW9uRGF0YUxpc3QnKS51cGRhdGUoe1xuXHRcdFx0c3RhdHVzOlJPT01fU1RBVFVTX09QRU4sXG5cdFx0XHRvd25lcjptZVxuXHRcdH0pO1xuXG5cblx0XHRjb25zdCBfaXNVc2VyUHJlc2VudEluUm9vbUNiID0gKGlzQWxyZWFkeVByZXNlbnQsIHBfcm9vbUlkMiwgcF9ndWVzdElkMikgPT4ge1xuXHRcdFx0aWYgKCFpc0FscmVhZHlQcmVzZW50KSB7XG5cdFx0XHRcdGRhdGFyZWZzLmdldFJvb21zKCkuY2hpbGQoYCR7cF9yb29tSWQyfS9wYXJ0aWNpcGFudExpc3QvJHtwX2d1ZXN0SWQyfWApLnVwZGF0ZSh7XG5cdFx0XHRcdFx0Y29ubmVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHR3YXNJbnNpZGVSb29tOiBmYWxzZVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Y29uc3QgX0ludml0ZUNoYW5nZWRDYiA9IChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbTo6X0ludml0ZUNoYW5nZWRDYiknKTtcblx0XHRcdGlmKHNuYXBzaG90ICYmIHNuYXBzaG90Lm5hbWUoKT09PSdzdGF0dXMnKSB7XG5cdFx0XHRcdGNvbnN0IGNiX2d1ZXN0SWQyID0gc25hcHNob3QucmVmKCkucGFyZW50KCkucGFyZW50KCkubmFtZSgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tOjpfSW52aXRlQ2hhbmdlZENiKWNiX2d1ZXN0SWQyPSR7Y2JfZ3Vlc3RJZDJ9YCk7XG5cdFx0XHRcdGlmIChtT3V0Z29pbmdJbnZpdGVzICYmIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdICYmIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2NiX2d1ZXN0SWQyXSAmJiBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtjYl9ndWVzdElkMl0uSW52aXRlQ2hhbmdlZENiICkge1xuXHRcdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2NiX2d1ZXN0SWQyXS5JbnZpdGVEYXRhcmVmLm9mZignY2hpbGRfY2hhbmdlZCcsIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2NiX2d1ZXN0SWQyXS5JbnZpdGVDaGFuZ2VkQ2IpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNuYXBzaG90LnJlZigpLnBhcmVudCgpLm9uY2UoJ3ZhbHVlJywoc25hcHNob3QyKSA9PiB7XG5cdFx0XHRcdFx0bGV0IGNiX3N0YXR1cywgY2JfZ3Vlc3RJZCwgY2Jfcm9vbUlkLCBjYl9zdGF0dXNfaW5mbztcblx0XHRcdFx0XHRpZiAoc25hcHNob3QyKSB7XG5cdFx0XHRcdFx0XHRjYl9zdGF0dXM9IHNuYXBzaG90Mi52YWwoKS5zdGF0dXM7XG5cdFx0XHRcdFx0XHRjYl9yb29tSWQ9IHNuYXBzaG90Mi52YWwoKS5yb29tO1xuXHRcdFx0XHRcdFx0Y2Jfc3RhdHVzX2luZm89IHNuYXBzaG90Mi52YWwoKS5zdGF0dXNfaW5mbztcblx0XHRcdFx0XHRcdGNiX2d1ZXN0SWQ9IHNuYXBzaG90Mi5yZWYoKS5wYXJlbnQoKS5uYW1lKCk7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tOjpfSW52aXRlQ2hhbmdlZENiKXJvb21JZD0ke2NiX3Jvb21JZH0gaW52aXRlZT0ke2NiX2d1ZXN0SWR9IG5ldyBpbnZpdGF0aW9uIHN0YXR1cz0ke2NiX3N0YXR1c30gc3RhdHVzIGluZm89JHtjYl9zdGF0dXNfaW5mb31gKTtcblx0XHRcdFx0XHRcdGlmIChtT3V0Z29pbmdJbnZpdGVzICYmIG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXSAmJiBtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0gJiYgbU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLkludml0ZURhdGFyZWYpIHtcblx0XHRcdFx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLkludml0ZURhdGFyZWYub25EaXNjb25uZWN0KCkuY2FuY2VsKCk7XG5cdFx0XHRcdFx0XHRcdC8vaWYgKG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXS5JbnZpdGVSZW1vdmVDYilcblx0XHRcdFx0XHRcdFx0Ly9cdG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXS5JbnZpdGVEYXRhcmVmLnBhcmVudCgpLm9mZihcImNoaWxkX3JlbW92ZWRcIixtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0uSW52aXRlUmVtb3ZlQ2IpO1xuXHRcdFx0XHRcdFx0XHRpZiAobU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLnN0YXR1c0NoYW5nZWRDYiAmJiB0eXBlb2YgbU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLnN0YXR1c0NoYW5nZWRDYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLnN0YXR1c0NoYW5nZWRDYihjYl9yb29tSWQsY2JfZ3Vlc3RJZCxjYl9zdGF0dXMsY2Jfc3RhdHVzX2luZm8pO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tOjpfSW52aXRlQ2hhbmdlZENiKWNhbm5vdCByZXRyaWV2ZSBtYXRoaW5nIHBfc3RhdHVzQ2hhbmdlZENiJyk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0ZGVsZXRlIG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tOjpfSW52aXRlQ2hhbmdlZENiKWNhbm5vdCByZXRyaWV2ZSBtYXRoaW5nIG1PdXRnb2luZ0ludml0ZScpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJyhSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbTo6X0ludml0ZUNoYW5nZWRDYiljYW5ub3QgcmV0cmlldmUgaW52aXRhdGlvbicpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHBfZ3Vlc3RJZHMuZm9yRWFjaCgobUd1ZXN0SWQsIGkpID0+IHtcblx0XHRcdGlmICghKG1HdWVzdElkICYmIHR5cGVvZiBtR3Vlc3RJZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tKXBhcmFtZXRlciBwX2d1ZXN0SWRzWyR7aX1dIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmdgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb20pcm9vbUlkPSR7cF9yb29tSWR9IGludml0ZWU9JHttR3Vlc3RJZC50b1N0cmluZygpfWApO1xuXG5cdFx0XHRcdGlmIChtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXSAmJiBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0pIHtcblx0XHRcdFx0XHQvL2ludml0YXRpb24gaXMgYWxyZWFkeSBleGlzdGluZyAtPiBjYW5jZWwgaXRcblx0XHRcdFx0XHQvL2lmIChtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZiAmJiBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlUmVtb3ZlQ2IpICBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZi5vZmYoXCJjaGlsZF9yZW1vdmVkXCIsbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZVJlbW92ZUNiKTtcblx0XHRcdFx0XHQvL2lmIChtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZiAmJiBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlQ2hhbmdlZENiKSBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZi5vZmYoXCJjaGlsZF9jaGFuZ2VkXCIsbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZUNoYW5nZWRDYik7XG5cdFx0XHRcdFx0X2NhbmNlbEludml0YXRpb24ocF9yb29tSWQsIFttR3Vlc3RJZF0sIChwX2d1ZXN0SWQpID0+IHtcblx0XHRcdFx0XHRcdGlmIChwX2d1ZXN0SWQgJiYgcF9ndWVzdElkID09PSBtR3Vlc3RJZCkge1xuXHRcdFx0XHRcdFx0XHRfaW52aXRlVG9Sb29tKHBfcm9vbUlkLCBbcF9ndWVzdElkXSwgcF90b3BpYyxwX3N0YXR1c0NoYW5nZWRDYik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXSkge1xuXHRcdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly9pZiAoIW1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXSkge1xuXHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0gPSB7fTtcblx0XHRcdFx0Ly99XG5cblx0XHRcdFx0X2lzVXNlclByZXNlbnRJblJvb20ocF9yb29tSWQsIG1HdWVzdElkLCBfaXNVc2VyUHJlc2VudEluUm9vbUNiKTtcblxuXHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZiA9IGRhdGFyZWYuY2hpbGQoJ2ludml0YXRpb25MaXN0JykuY2hpbGQobUd1ZXN0SWQpLnB1c2goe1xuXHRcdFx0XHRcdGZyb206bWUsXG5cdFx0XHRcdFx0cm9vbTpwX3Jvb21JZCxcblx0XHRcdFx0XHR0aW1lc3RhbXBfY3JlYXRpb246V2ViY29tLlNlcnZlclZhbHVlLlRJTUVTVEFNUCxcblx0XHRcdFx0XHR0b3BpYzpwX3RvcGljLFxuXHRcdFx0XHRcdHN0YXR1czpJTlZJVEFUSU9OX09OR09JTkdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb20pSW52aXRlRGF0YXJlZj0ke21PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVEYXRhcmVmLnRvU3RyaW5nKCl9YCk7XG5cblx0XHRcdFx0Ly9tT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlUmVtb3ZlQ2IgPSBfSW52aXRhdGlvblJlbW92ZUNiO1xuXHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlQ2hhbmdlZENiID0gX0ludml0ZUNoYW5nZWRDYjtcblx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZURhdGFyZWYub24oJ2NoaWxkX2NoYW5nZWQnLCBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlQ2hhbmdlZENiKTtcblx0XHRcdFx0Ly9tT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZi5wYXJlbnQoKS5vbihcImNoaWxkX3JlbW92ZWRcIixtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlUmVtb3ZlQ2IpO1xuXHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uc3RhdHVzQ2hhbmdlZENiID0gcF9zdGF0dXNDaGFuZ2VkQ2I7XG5cblx0XHRcdFx0Ly8gY2FuY2VsZWQgSW52aXRlIG9uIGRpc2Nvbm5lY3Rpb25cblx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZURhdGFyZWYub25EaXNjb25uZWN0KCkudXBkYXRlKHtcblx0XHRcdFx0XHR0aW1lc3RhbXBfZW5kOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QLFxuXHRcdFx0XHRcdHN0YXR1czogSU5WSVRBVElPTl9DQU5DRUxFRFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIE1ha2VzIGFuIGludml0ZSBhY2NlcHRlZCwgYW5kIGRlZmluZXMgdGhlIFwiYWNjZXB0ZWRcIiBmbGFnIG9mIHRoaXMgaW52aXRlIGF0IHRydWUgaW4gdGhlIGRhdGFiYXNlLlxuXHQgKiBAcGFyYW0gcF9pbnZpdGF0aW9uIC1cblx0ICovXG5cdGZ1bmN0aW9uIF9hY2NlcHRJbnZpdGF0aW9uKHBfaW52aXRhdGlvbikge1xuXHRcdGNvbnN0IGludml0ZUlkID0gT2JqZWN0LmtleXMocF9pbnZpdGF0aW9uKVswXTtcblx0XHRpZiAoIWludml0ZUlkKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjpfYWNjZXB0SW52aXRhdGlvbilwYXJhbWV0ZXIgcF9pbnZpdGF0aW9uIGlzIGluY29ycmVjdC4gY2Fubm90IGdldCBpbnZpdGF0aW9uIElkJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICghcF9pbnZpdGF0aW9uW2ludml0ZUlkXSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6X2FjY2VwdEludml0YXRpb24pcGFyYW1ldGVyIHBfaW52aXRhdGlvbiBpcyBpbmNvcnJlY3QuIGNhbm5vdCBnZXQgaW52aXRhdGlvbiBkYXRhJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3QvJHttZX0vJHtpbnZpdGVJZH1gKS5vbmNlKCd2YWx1ZScsIChkYXRhU25hcHNob3QpID0+IHtcblx0XHRcdGxldCBjYl9zdGF0dXMsXG5cdFx0XHRcdGNiX2d1ZXN0SWQsXG5cdFx0XHRcdGNiX2ludml0YXRpb25JZDtcblxuXHRcdFx0aWYgKGRhdGFTbmFwc2hvdCAmJiBkYXRhU25hcHNob3QudmFsKCkpIHtcblx0XHRcdFx0Y2JfaW52aXRhdGlvbklkID0gZGF0YVNuYXBzaG90Lm5hbWUoKTtcblx0XHRcdFx0Y2Jfc3RhdHVzID0gZGF0YVNuYXBzaG90LnZhbCgpLnN0YXR1cztcblx0XHRcdFx0Y2JfZ3Vlc3RJZCA9IGRhdGFTbmFwc2hvdC5yZWYoKS5wYXJlbnQoKS5uYW1lKCk7XG5cdFx0XHRcdGlmIChjYl9zdGF0dXMgJiYgY2Jfc3RhdHVzPT09SU5WSVRBVElPTl9PTkdPSU5HKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9hY2NlcHRJbnZpdGF0aW9uKWludml0ZUlkPSR7aW52aXRlSWR9LGRhdGE9JHtKU09OLnN0cmluZ2lmeShwX2ludml0YXRpb25baW52aXRlSWRdKX1gKTtcblx0XHRcdFx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdC8ke2NiX2d1ZXN0SWR9LyR7Y2JfaW52aXRhdGlvbklkfWApLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHR0aW1lc3RhbXBfZW5kOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QLFxuXHRcdFx0XHRcdFx0c3RhdHVzOiBJTlZJVEFUSU9OX0FDQ0VQVEVEXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OnJlYWNoOjpfYWNjZXB0SW52aXRhdGlvbilpbnZpdGVJZD0ke2NiX2ludml0YXRpb25JZH0sZGF0YT0ke0pTT04uc3RyaW5naWZ5KHBfaW52aXRhdGlvbltpbnZpdGVJZF0pfSwgY2Fubm90IGJlIGFjY2VwdGVkLiBJdCBoYXMgYmVlbiByZW1vdmVkIG9yIGNhbmNlbGVkYCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZWZ1c2VzIHRoZSBpbnZpdGUgYW5kIHNldCB0aGUgXCJhY2NlcHRlZFwiIGZsYWcgb2YgdGhpcyBpbnZpdGUgaW4gdGhlIGRhdGFiYXNlIHRvIGZhbHNlXG5cdCAqIEBwYXJhbSBwX2ludml0YXRpb24gLSBUaGUgaW52aXRlIGRhdGFcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBfcmVhc29uIC0gb3B0aW9uYWwgaW5mbyBhYm91dCB0aGUgcmVqZWN0XG5cdCAqL1xuXHRmdW5jdGlvbiBfcmVqZWN0SW52aXRhdGlvbihwX2ludml0YXRpb24scF9yZWFzb24pIHtcblx0XHRjb25zdCBpbnZpdGVJZCA9IE9iamVjdC5rZXlzKHBfaW52aXRhdGlvbilbMF07XG5cdFx0aWYgKCFpbnZpdGVJZCkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6X3JlamVjdEludml0YXRpb24pcGFyYW1ldGVyIHBfaW52aXRhdGlvbiBpcyBpbmNvcnJlY3QuIGNhbm5vdCBnZXQgaW52aXRhdGlvbiBJZCcpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIXBfaW52aXRhdGlvbltpbnZpdGVJZF0pIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Ol9yZWplY3RJbnZpdGF0aW9uKXBhcmFtZXRlciBwX2ludml0YXRpb24gaXMgaW5jb3JyZWN0LiBjYW5ub3QgZ2V0IGludml0YXRpb24gZGF0YScpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdC8ke21lfS8ke2ludml0ZUlkfWApLm9uY2UoJ3ZhbHVlJywgKGRhdGFTbmFwc2hvdCkgPT4ge1xuXHRcdFx0bGV0IGNiX3N0YXR1cyxjYl9ndWVzdElkLGNiX2ludml0YXRpb25JZDtcblx0XHRcdGlmIChkYXRhU25hcHNob3QgJiYgZGF0YVNuYXBzaG90LnZhbCgpKSB7XG5cdFx0XHRcdGNiX2ludml0YXRpb25JZCA9IGRhdGFTbmFwc2hvdC5uYW1lKCk7XG5cdFx0XHRcdGNiX3N0YXR1cyA9IGRhdGFTbmFwc2hvdC52YWwoKS5zdGF0dXM7XG5cdFx0XHRcdGNiX2d1ZXN0SWQgPSBkYXRhU25hcHNob3QucmVmKCkucGFyZW50KCkubmFtZSgpO1xuXHRcdFx0XHRpZiAoY2Jfc3RhdHVzICYmIGNiX3N0YXR1cyA9PT0gSU5WSVRBVElPTl9PTkdPSU5HKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9yZWplY3RJbnZpdGF0aW9uKWludml0ZUlkPSR7aW52aXRlSWR9LGRhdGE9JHtKU09OLnN0cmluZ2lmeShwX2ludml0YXRpb25baW52aXRlSWRdKX1gKTtcblx0XHRcdFx0XHRpZiAocF9yZWFzb24pIHtcblx0XHRcdFx0XHRcdGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0LyR7Y2JfZ3Vlc3RJZH0vJHtjYl9pbnZpdGF0aW9uSWR9YCkudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0dGltZXN0YW1wX2VuZDogV2ViY29tLlNlcnZlclZhbHVlLlRJTUVTVEFNUCxcblx0XHRcdFx0XHRcdFx0c3RhdHVzX2luZm86IHBfcmVhc29uLFxuXHRcdFx0XHRcdFx0XHRzdGF0dXM6IElOVklUQVRJT05fUkVKRUNURURcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdC8ke2NiX2d1ZXN0SWR9LyR7Y2JfaW52aXRhdGlvbklkfWApLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRcdHRpbWVzdGFtcF9lbmQ6IFdlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVAsXG5cdFx0XHRcdFx0XHRcdHN0YXR1czogSU5WSVRBVElPTl9SRUpFQ1RFRFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjpyZWFjaDo6X3JlamVjdEludml0YXRpb24paW52aXRlSWQ9JHtjYl9pbnZpdGF0aW9uSWR9LGRhdGE9JHtKU09OLnN0cmluZ2lmeShwX2ludml0YXRpb25baW52aXRlSWRdKX0sIGNhbm5vdCBiZSByZWplY3RlZC4gSXQgaGFzIGJlZW4gcmVtb3ZlZCBvciBjYW5jZWxlZGApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogY2hlY2sgaWYgdGhlIHJvb20gY29ycmVzcG9uZGluZyB0byB0aGUgaW52aXRhdGlvbiBpcyBhY3RpdmVcblx0ICogQHBhcmFtIHBfaW52aXRhdGlvbiAtIFRoZSBpbnZpdGF0aW9uIERhdGFcblx0ICogQHBhcmFtIHBfY2IgLSBUaGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB0byBnZXQgdGhlIHJlc3VsdC4gdGhpcyBjYWxsYmFjayB3aWxsIGNvbnRhaW5zIHRoZSBwYXJhbWV0ZXIgdHJ1ZSBpcyB0aGUgcm9vbSBpcyBhY3RpdmVcblx0ICovXG5cdGZ1bmN0aW9uIF9pc1Jvb21BY3RpdmUocF9pbnZpdGF0aW9uLHBfY2IpIHtcblx0XHRpZiAocF9pbnZpdGF0aW9uICYmIHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y29uc3QgaW52aXRlSWQgPSBPYmplY3Qua2V5cyhwX2ludml0YXRpb24pWzBdO1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9pc1Jvb21BY3RpdmUpaW52aXRlSWQ9JHtpbnZpdGVJZH1gKTtcblx0XHRcdGNvbnN0IHJvb21JZCA9IHBfaW52aXRhdGlvbltpbnZpdGVJZF0ucm9vbTtcblxuXHRcdFx0ZGF0YXJlZnMuZ2V0Um9vbXMoKS5jaGlsZChgJHtyb29tSWR9L2NvbW1vbkRhdGFMaXN0L3N0YXR1c2ApLm9uY2UoJ3ZhbHVlJywgKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRcdGNvbnN0IG9wZW5lZCA9IHNuYXBzaG90ICYmIHNuYXBzaG90LnZhbCgpICYmIHNuYXBzaG90LnZhbCgpID09PSBST09NX1NUQVRVU19PUEVOO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2lzUm9vbUFjdGl2ZSlpbnZpdGVJZD0ke2ludml0ZUlkfSByZXN1bHQ9JHtvcGVuZWR9YCk7XG5cdFx0XHRcdHBfY2Iob3BlbmVkKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBtb3ZlIGFsbCB0aGUgbm9uIGFjdGl2ZSBpbnZpdGF0aW9ucyBwcm9jZXNzZWQgb2YgYW4gdXNlciB0byB0aGUgaW52aXRhdGlvbiBMaXN0IEhpc3Rvcnk6XG5cdCAqIEFsbCBpbnZpdGF0aW9ucyB3aXRoIHN0YXR1cyBDYW5jZWxlZCBvciBSZWplY3RlZCB3aWxsIGJlIGFyY2hpdmVkXG5cdCAqIEFsbCBpbnZpdGF0aW9uIHdpdGggc3RhdHVzIE9uZ29pbmcgb3IgQWNjZXB0ZWQgV2lsbCBiZSBhcmNoaXZlZCBpZiB0aGUgY29ycmVzcG9uZGluZyByb29tIGlzIGNsb3NlZFxuXHQgKiBJZiBhbiBpbnZpdGF0aW9uIHdpdGggc3RhdHVzIFwiT25nb2luZ1wiIGlzIGFyY2hpdmVkLCBpdHMgc3RhdHVzIHdpbGwgYmUgc2V0IHRvIGNhbmNlbGVkXG5cdCAqIEBwYXJhbSBwX3VzZXJJZCAtIFRoZSB1c2VyIElkXG5cdCAqIEBwYXJhbSBwX2NiIC0gVGhpcyBjYWxsYmFjayBpcyB0cmlnZ2VyIHdoZW4gYXJjaGl2ZSBpcyBjb21wbGV0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX2FyY2hpdmVJbnZpdGF0aW9ucyhwX3VzZXJJZCwgcF9jYikge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfYXJjaGl2ZUludml0YXRpb25zKXVzZXJJZD0ke3BfdXNlcklkfWApO1xuXHRcdGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0LyR7bWV9YCkub25jZSgndmFsdWUnLCAoc25hcHNob3QpID0+IHtcblx0XHRcdGlmIChzbmFwc2hvdCAmJiBzbmFwc2hvdC5oYXNDaGlsZHJlbigpKSB7XG5cdFx0XHRcdGNvbnN0IG5iQ2hpbGRyZW4gPSBzbmFwc2hvdC5udW1DaGlsZHJlbigpO1xuXHRcdFx0XHRsZXQgbmJDaGlsZHJlblByb2Nlc3NlZCA9IDA7XG5cdFx0XHRcdHNuYXBzaG90LmZvckVhY2goKGNoaWxkU25hcHNob3QpID0+IHtcblx0XHRcdFx0XHRpZiAoY2hpbGRTbmFwc2hvdCAmJiBjaGlsZFNuYXBzaG90LnZhbCgpKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2FyY2hpdmVJbnZpdGF0aW9ucyl1c2VySWQ9JHtwX3VzZXJJZH0gaW52aXRlSWQ9JHtjaGlsZFNuYXBzaG90Lm5hbWUoKX1gKTtcblx0XHRcdFx0XHRcdGlmIChjaGlsZFNuYXBzaG90LnZhbCgpLnN0YXR1cyA9PT0gSU5WSVRBVElPTl9SRUpFQ1RFRCB8fCBjaGlsZFNuYXBzaG90LnZhbCgpLnN0YXR1cyA9PT0gSU5WSVRBVElPTl9DQU5DRUxFRCApIHtcblx0XHRcdFx0XHRcdFx0ZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3RIaXN0b3J5LyR7cF91c2VySWR9LyR7Y2hpbGRTbmFwc2hvdC5uYW1lKCl9YCkudXBkYXRlKGNoaWxkU25hcHNob3QudmFsKCkpO1xuXHRcdFx0XHRcdFx0XHRjaGlsZFNuYXBzaG90LnJlZigpLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHRuYkNoaWxkcmVuUHJvY2Vzc2VkKys7XG5cdFx0XHRcdFx0XHRcdGlmIChuYkNoaWxkcmVuUHJvY2Vzc2VkPj1uYkNoaWxkcmVuICYmIHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdHBfY2IoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgaW52aXRlRGF0YSA9IHt9O1xuXHRcdFx0XHRcdFx0XHRpbnZpdGVEYXRhW2NoaWxkU25hcHNob3QubmFtZSgpXSA9IGNoaWxkU25hcHNob3QudmFsKCk7XG5cdFx0XHRcdFx0XHRcdF9pc1Jvb21BY3RpdmUoaW52aXRlRGF0YSwgKGlzQWN0aXZlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGlzQWN0aXZlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuYkNoaWxkcmVuUHJvY2Vzc2VkKys7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAobmJDaGlsZHJlblByb2Nlc3NlZD49bmJDaGlsZHJlbiAmJiBwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cF9jYigpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoY2hpbGRTbmFwc2hvdC52YWwoKS5zdGF0dXM9PT1JTlZJVEFUSU9OX09OR09JTkcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgbmV3VmFsdWUgPSBjaGlsZFNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRuZXdWYWx1ZS5zdGF0dXMgPSBJTlZJVEFUSU9OX0NBTkNFTEVEO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdEhpc3RvcnkvJHtwX3VzZXJJZH0vJHtjaGlsZFNuYXBzaG90Lm5hbWUoKX1gKS5zZXQobmV3VmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3RIaXN0b3J5LyR7cF91c2VySWR9LyR7Y2hpbGRTbmFwc2hvdC5uYW1lKCl9YCkuc2V0KGNoaWxkU25hcHNob3QudmFsKCkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRTbmFwc2hvdC5yZWYoKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdG5iQ2hpbGRyZW5Qcm9jZXNzZWQrKztcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChuYkNoaWxkcmVuUHJvY2Vzc2VkPj1uYkNoaWxkcmVuICYmIHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRwX2NiKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRwX2NiKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdHBfY2IoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fSk7XG5cdH1cblxuXG5cblxuXG5cdC8qKlxuXHQgKiBDbG9zZSB0aGUgcmVhY2ggc2VydmljZSxcblx0ICogZGlzYWJsZXMgYW5kIGRlbGV0ZXMgYW55IGxpc3RlbmVycy9jYWxsYmFjayBkZWZpbmVkLlxuXHQgKiBjYW5jZWwgYWxsIG91dGdvaW5nIGludml0ZSBub3QgYWxyZWFkeSBwcm9jZXNzZWRcblx0ICogZG8gbm90IGltcGFjdCBpbmNvbWluZyBpbnZpdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9jbG9zZSgpIHtcblx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjpyZWFjaDo6X2Nsb3NlKScpO1xuXG5cdFx0aWYgKG5ld0ludml0ZUNiKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdpbnZpdGF0aW9uTGlzdCcpLmNoaWxkKG1lKS5vZmYoJ2NoaWxkX2FkZGVkJyxuZXdJbnZpdGVDYik7XG5cdFx0XHRuZXdJbnZpdGVDYiA9IG51bGw7XG5cdFx0fVxuLy9cdFx0aWYgKG9uUm9vbUludml0ZUNoYW5nZWRDYikge1xuLy9cdFx0XHRkYXRhcmVmLmNoaWxkKFwiaW52aXRhdGlvbkxpc3RcIikuY2hpbGQobWUpLm9mZihcImNoaWxkX2NoYW5nZWRcIixJbnZpdGVDaGFuZ2VkQ2IpO1xuLy9cdFx0XHRvblJvb21JbnZpdGVDaGFuZ2VkQ2IgPSBudWxsO1xuLy9cdFx0fVxuLy9cbi8vXHRcdGlmIChtVGltZW91dE9uTmV3SW52aXRlQ2IpIHtcbi8vXHRcdFx0ZGF0YXJlZi5jaGlsZChcImludml0YXRpb25MaXN0XCIpLmNoaWxkKG1lKS5vZmYoXCJjaGlsZF9hZGRlZFwiLG1UaW1lb3V0T25OZXdJbnZpdGVDYik7XG4vL1x0XHRcdG1UaW1lb3V0T25OZXdJbnZpdGVDYiA9IG51bGw7XG4vL1x0XHR9XG4vL1x0XHRpZiAobVRpbWVvdXRPbkludml0ZUNoYW5nZWRDYikge1xuLy9cdFx0XHRkYXRhcmVmLmNoaWxkKFwiaW52aXRhdGlvbkxpc3RcIikuY2hpbGQobWUpLm9mZihcImNoaWxkX2NoYW5nZWRcIixtVGltZW91dE9uSW52aXRlQ2hhbmdlZENiKTtcbi8vXHRcdFx0bVRpbWVvdXRPbkludml0ZUNoYW5nZWRDYiA9IG51bGw7XG4vL1x0XHR9XG5cblx0XHRpZiAob25Vc2VyQWRkZWRDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vZmYoJ2NoaWxkX2FkZGVkJywgb25Vc2VyQWRkZWRDYik7XG5cdFx0XHRvblVzZXJBZGRlZENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKG9uVXNlckNoYW5nZWRDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vZmYoJ2NoaWxkX2NoYW5nZWQnLCBvblVzZXJDaGFuZ2VkQ2IpO1xuXHRcdFx0b25Vc2VyQ2hhbmdlZENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKG9uVXNlclJlbW92ZWRDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vZmYoJ2NoaWxkX3JlbW92ZWQnLCBvblVzZXJSZW1vdmVkQ2IpO1xuXHRcdFx0b25Vc2VyUmVtb3ZlZENiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAobU91dGdvaW5nSW52aXRlcykge1xuXHRcdFx0bU91dGdvaW5nSW52aXRlcy5mb3JFYWNoKChyb29tSWQpID0+IHtcblx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1tyb29tSWRdLmZvckVhY2goKGludml0ZWUpID0+IHtcblx0XHRcdFx0XHRpZiAoaW52aXRlZS5JbnZpdGVEYXRhcmVmKSB7XG5cdFx0XHRcdFx0XHRpbnZpdGVlLkludml0ZURhdGFyZWYub25EaXNjb25uZWN0KCkuY2FuY2VsKCk7XG5cdFx0XHRcdFx0XHRpbnZpdGVlLkludml0ZURhdGFyZWYudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0c3RhdHVzOiBJTlZJVEFUSU9OX0NBTkNFTEVELFxuXHRcdFx0XHRcdFx0XHR0aW1lc3RhbXBfZW5kOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0XHRtT3V0Z29pbmdJbnZpdGVzID0gW107XG5cdFx0fVxuXG5cdFx0aWYgKGF1dG9tYXRpY1JlamVjdFRpbWVPdXQpIHtcblx0XHRcdGF1dG9tYXRpY1JlamVjdFRpbWVPdXQgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAoYXV0b21hdGljUmVqZWN0UmVhc29uKSB7XG5cdFx0XHRhdXRvbWF0aWNSZWplY3RSZWFzb24gPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChtRGV2aWNlSWQpIHtcblx0XHRcdG1EZXZpY2VJZC5yZW1vdmUoKTtcblx0XHRcdG1EZXZpY2VJZCA9IG51bGw7XG5cdFx0fVxuXG5cdH1cblxuXHRpbml0KCk7XG5cdHJldHVybiB7XG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgdXNlciBpZGVudGlmaWVyIHVzZWQgaW4gdGhlIGRhdGFiYXNlLiBUaGlzIHZhbHVlXG5cdFx0ICogaWRlbnRpZmllcyB0aGUgdXNlciBpZiB0aGUgV2ViY29tYmFzZS5cblx0XHQgKiBAcmV0dXJuIHtzdHJpbmd9IC0gVGhlIHVzZXIgSURcblx0XHQgKi9cblx0XHRnZXRNZTogKCkgPT4ge1xuXHRcdFx0cmV0dXJuIG1lO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogY2hlY2sgaWYgYSB1c2VyIGlzIGNvbm5lY3RlZFxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3VzZXJJZCAtIHRoZSB1c2VyIElkXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIHRoZSBjYWxsYmFjayB0cmlnZ2VycyB0byByZXR1cm4gdGhlIHJlc3VsdC4gVGhlIHJlc3VsdCB3aWxsIGJlIHBhc3NlZCBpbiBwYXJhbWV0ZXIgYXMgYm9vbGVhbiA6IHRydWUgPSBjb25uZWN0ZWQgLyBmYWxzZSA9IG5vdCBjb25uZWN0ZWRcblx0XHQgKi9cblx0XHRpc0Nvbm5lY3RlZDogX2lzQ29ubmVjdGVkLFxuXHRcdC8qKlxuXHRcdCAqIGNoZWNrIGlmIGEgdXNlciBpcyByZWdpc3RlclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3VzZXJJZCAtIHRoZSB1c2VyIElkXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIHRoZSBjYWxsYmFjayB0cmlnZ2VycyB0byByZXR1cm4gdGhlIHJlc3VsdC4gVGhlIHJlc3VsdCB3aWxsIGJlIHBhc3NlZCBpbiBwYXJhbWV0ZXIgYXMgYm9vbGVhbiA6IHRydWUgPSByZWdpc3RlcmVkIC8gZmFsc2UgPSBub3QgcmVnaXN0ZXJlZFxuXHRcdCAqL1xuXHRcdGlzUmVnaXN0ZXJlZDogX2lzUmVnaXN0ZXJlZCxcblx0XHQvKipcblx0XHQgKiBzZXQgdGhlIGRldmljZSBzdGF0dXMgKERFVklDRV9TVEFUVVNfQ09OTkVDVEVEKVxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0dXMgLSB0aGUgbmV3IHN0YXR1c1xuXHRcdCAqL1xuXHRcdHNldENvbm5lY3RlZFN0YXR1czogX3NldENvbm5lY3RlZFN0YXR1cyxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSBuZXcgdXNlciBpcyBhZGRlZFxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2sgdG8gdXNlXG5cdFx0ICovXG5cdFx0c2V0T25Vc2VyQWRkZWQ6IF9zZXRPblVzZXJBZGRlZCxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gdGhlIHVzZXIgaGFzIGNoYW5nZWRcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrIHRvIHVzZVxuXHRcdCAqL1xuXHRcdHNldE9uVXNlckNoYW5nZWQ6IF9zZXRPblVzZXJDaGFuZ2VkLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIHVzZXIgaGFzIGJlZW4gcmVtb3ZlZC5cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrIHRvIHVzZVxuXHRcdCAqL1xuXHRcdHNldE9uVXNlclJlbW92ZWQ6IF9zZXRPblVzZXJSZW1vdmVkLFxuXHRcdC8qKlxuXHRcdCAqIEdhdGhlciB0aGUgaW52aXRlZXMgdG8gdGhlIHJvb20uXG5cdFx0ICogRGVmaW5lcyBhIGNhbGxiYWNrIHRvIHRyaWdnZXIgZm9yIEludml0ZSBjaGFuZ2VzLCBhbmQgY2FsbHMgY2FsbGJhY2tzIGZvciByb29tIGludml0ZSBhY2NlcHRhdGlvbiBvciByZWZ1c2UuXG5cdFx0ICogRm9yIGVhY2ggaW52aXRlZSBhIG5vZGUgaXMgY3JlYXRlZCBpbiB0aGUgZGF0YWJhc2UgYWJvdXQgdGhlIEludml0ZSBsaXN0LlxuXHRcdCAqIEluIGFkZHRpb24sIGEgbm9kZSBpcyBjcmVhdGVkIHRvbyBmb3IgZWFjaCBpbnZpdGVlIGFib3V0IHRoZSBwYXJ0aWNpcGFudExpc3QuXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHBfcm9vbUlkIC0gVGhlIHJvb20gdXNlZCBhcyB0aGUgbmFtZSBvZiBhIGJyYW5jaCBpcyB0aGUgZGF0YWJhc2Vcblx0XHQgKiBAcGFyYW0ge2FycmF5fSBwX2d1ZXN0SWRzIC0gQW4gYXJyYXkgcG9zc2Vzc2luZyB0aGUgaWRlbnRpZmllcnMgb2YgdGhlIGludml0ZWVzXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHBfdG9waWMgLSBjdXN0b20gbWVzc2FnZSBmb3IgdGhlIGludml0YXRpb25cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX3N0YXR1c0NoYW5nZWRDYiAtIG9wdGlvbmFsIDogY2FsbGJhY2sgZnVuY3Rpb24gd2hlbiBhbiBpbnZpdGVlIGFjY2VwdHMvcmVqZWN0ZWQvY2FuY2VsZWQgdGhlIEludml0ZVxuXHRcdCAqL1xuXHRcdGludml0ZVRvUm9vbTogX2ludml0ZVRvUm9vbSxcblx0XHQvKipcblx0XHQgKiBDYW5jZWxzIHRoZSBJbnZpdGVcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcF9yb29tSWQgLSBUaGUgcm9vbSBJZCBvZiB0aGUgSW52aXRlXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHBfZ3Vlc3RJZHMgLSBvcHRpb25hbCA6IEFuIGFycmF5IHBvc3Nlc3NpbmcgdGhlIGlkZW50aWZpZXJzIG9mIHRoZSBpbnZpdGVlcy4gKGlmIHVuZGVmaW5lZCAsICBhbGwgaW52aXRlZSB3aWxsIGhhdmUgdGhlaXIgSW52aXRlIGNhbmNlbGVkKVxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBpbnZpdGVJZCAtIFRoZSBpbnZpdGUgaWRlbnRpZmllclxuXHRcdCAqL1xuXHRcdGNhbmNlbEludml0YXRpb246IF9jYW5jZWxJbnZpdGF0aW9uLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIHJvb20gaW52aXRlIGhhcyBiZWVuIHJlY2VpdmVkLlxuXHRcdCAqIE90aGVyIGNhbGxiYWNrcyB3aWxsIGJlIHRyaWdnZXJlZCBhYm91dCBJbnZpdGUgbGlzdHMuXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gb25OZXdSb29tSW52aXRhdGlvbkNiIC0gVGhlIGNhbGxiYWNrIHRyaWdnZXJzIHdoZW4gYSBJbnZpdGUgaXMgcmVjZWl2ZWQgKHN0YXR1cyA9IG9uIGdvaW5nKVxuXHRcdCAqL1xuXHRcdHNldE9uTmV3Um9vbUludml0YXRpb246IF9zZXRPbk5ld1Jvb21JbnZpdGF0aW9uLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIHJvb20gaW52aXRlIGhhcyBiZWVuIHJlY2VpdmVkLlxuXHRcdCAqIE90aGVyIGNhbGxiYWNrcyB3aWxsIGJlIHRyaWdnZXJlZCBhYm91dCBJbnZpdGUgbGlzdHMuXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gb25Sb29tSW52aXRhdGlvbkNoYW5nZWRDYiAtIFRoZSBjYWxsYmFjayB0cmlnZ2VycyB3aGVuIHRoZSBzYXR1cyBvbiB0aGUgSW52aXRlIHJlY2VpdmVkIGhhcyBjaGFuZ2VkIChzdGF0dXMgPSBhY2NlcHRlZC9yZWplY3RlZC9jYW5jZWxlZClcblx0XHQgKi9cblx0XHRzZXRPblJvb21JbnZpdGF0aW9uQ2hhbmdlZDogX3NldE9uUm9vbUludml0YXRpb25DaGFuZ2VkLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgYSB0aW1lb3V0IHRvIHJlamVjdCBhdXRvbWF0aWNhbGx5IHRoZSBJbnZpdGVcblx0XHQgKiBPdGhlciBjYWxsYmFja3Mgd2lsbCBiZSB0cmlnZ2VyZWQgYWJvdXQgSW52aXRlIGxpc3RzLlxuXHRcdCAqIEBwYXJhbSB7aW50ZWdlcn0gcF90aW1lb3V0IC0gVGhlIGRlbGF5XG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHBfcmVhc29uIC0gb3B0aW9uYWwgaW5mbyBhYm91dCB0aGUgcmVqZWN0XG5cdFx0ICovXG5cdFx0c2V0TmV3Um9vbUludml0YXRpb25UaW1lb3V0OiBfc2V0TmV3Um9vbUludml0YXRpb25UaW1lb3V0LFxuXG5cdFx0LyoqXG5cdFx0ICogbW92ZSBhbGwgdGhlIG5vbiBhY3RpdmUgaW52aXRhdGlvbnMgcHJvY2Vzc2VkIG9mIGFuIHVzZXIgdG8gdGhlIGludml0YXRpb24gTGlzdCBIaXN0b3J5OlxuXHRcdCAqIEFsbCBpbnZpdGF0aW9ucyB3aXRoIHN0YXR1cyBDYW5jZWxlZCBvciBSZWplY3RlZCB3aWxsIGJlIGFyY2hpdmVkXG5cdFx0ICogQWxsIGludml0YXRpb24gd2l0aCBzdGF0dXMgT25nb2luZyBvciBBY2NlcHRlZCBXaWxsIGJlIGFyY2hpdmVkIGlmIHRoZSBjb3JyZXNwb25kaW5nIHJvb20gaXMgY2xvc2VkXG5cdFx0ICogSWYgYW4gaW52aXRhdGlvbiB3aXRoIHN0YXR1cyBcIk9uZ29pbmdcIiBpcyBhcmNoaXZlZCwgaXRzIHN0YXR1cyB3aWxsIGJlIHNldCB0byBjYW5jZWxlZFxuXHRcdCAqIEBwYXJhbSBwX2NiIC0gVGhpcyBjYWxsYmFjayBpcyB0cmlnZ2VyIHdoZW4gYXJjaGl2ZSBpcyBjb21wbGV0ZVxuXHRcdCAqL1xuXHRcdGFyY2hpdmVNeUludml0YXRpb25zOiAocF9jYikgPT4ge1xuXHRcdFx0cmV0dXJuIF9hcmNoaXZlSW52aXRhdGlvbnMobWUsIHBfY2IpO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogTWFrZXMgYW4gaW52aXRlIGFjY2VwdGVkLCBhbmQgZGVmaW5lcyB0aGUgXCJhY2NlcHRlZFwiIGZsYWcgb2YgdGhpcyBpbnZpdGUgYXQgdHJ1ZSBpbiB0aGUgZGF0YWJhc2UuXG5cdFx0ICogQHBhcmFtIHBfaW52aXRhdGlvbkRhdGEgLVxuXHRcdCAqL1xuXHRcdGFjY2VwdEludml0YXRpb246IF9hY2NlcHRJbnZpdGF0aW9uLFxuXG5cdFx0LyoqXG5cdFx0ICogUmVmdXNlcyB0aGUgaW52aXRlIGFuZCBzZXQgdGhlIFwiYWNjZXB0ZWRcIiBmbGFnIG9mIHRoaXMgaW52aXRlIGluIHRoZSBkYXRhYmFzZSB0byBmYWxzZVxuXHRcdCAqIEBwYXJhbSBwX2ludml0YXRpb25EYXRhIC0gVGhlIGludml0ZSBkYXRhXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHBfcmVhc29uIC0gb3B0aW9uYWwgaW5mbyBhYm91dCB0aGUgcmVqZWN0XG5cdFx0ICovXG5cdFx0cmVqZWN0SW52aXRhdGlvbjogX3JlamVjdEludml0YXRpb24sXG5cblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIGEgY2FsbGJhY2sgZm9yIGEgcGFydGljdWxhciBldmVudFxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX2V2dCAtIFRvIGNob29zZSBiZXR3ZWVuIFwicm9vbUludml0ZVwiLCBcInJvb21JbnZpdGVBY2NlcHRlZFwiLCBcInJvb21JbnZpdGVDYW5jZWxlZFwiLCBcInVzZXJcIiBhbmQgXCJ1c2VyUmVtb3ZhbFwiXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFjayB0byByaXNlXG5cdFx0ICovXG5cdFx0b246IChwX2V2dCwgcF9jYikgPT4ge1xuXHRcdFx0c3dpdGNoIChwX2V2dCkge1xuXHRcdFx0Y2FzZSAnbmV3Um9vbUludml0YXRpb24nOlxuXHRcdFx0XHRfc2V0T25OZXdSb29tSW52aXRhdGlvbihwX2NiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdyb29tSW52aXRhdGlvbkNoYW5nZWQnOlxuXHRcdFx0XHRfc2V0T25Sb29tSW52aXRhdGlvbkNoYW5nZWQocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAndXNlckFkZGVkJzpcblx0XHRcdFx0X3NldE9uVXNlckFkZGVkKHBfY2IpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3VzZXJDaGFuZ2VkJzpcblx0XHRcdFx0X3NldE9uVXNlckNoYW5nZWQocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAndXNlclJlbW92ZWQnOlxuXHRcdFx0XHRfc2V0T25Vc2VyUmVtb3ZlZChwX2NiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdyZWFjaC5zZXQ6IG5vIHN1Y2ggZXZlbnQnKTtcblx0XHRcdFx0cmV0dXJuIC0xO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogQ2xvc2VzIGFuZCByZW1vdmVzIGNhbGxiYWNrc1xuXHRcdCAqL1xuXHRcdGNsb3NlOiBfY2xvc2Vcblx0fTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHJlYWNoO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3JlYWNoLmpzXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gMjVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Qua2V5cztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gMjZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCAka2V5cyAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgna2V5cycsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiBmdW5jdGlvbiBrZXlzKGl0KXtcbiAgICByZXR1cm4gJGtleXModG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmtleXMuanNcbiAqKiBtb2R1bGUgaWQgPSAyN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KVxudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuL19kZWZpbmVkJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIE9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMjhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanNcbiAqKiBtb2R1bGUgaWQgPSAyOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4yLjE0IC8gMTUuMi4zLjE0IE9iamVjdC5rZXlzKE8pXHJcbnZhciAka2V5cyAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzLWludGVybmFsJylcclxuICAsIGVudW1CdWdLZXlzID0gcmVxdWlyZSgnLi9fZW51bS1idWcta2V5cycpO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiBrZXlzKE8pe1xyXG4gIHJldHVybiAka2V5cyhPLCBlbnVtQnVnS2V5cyk7XHJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy5qc1xuICoqIG1vZHVsZSBpZCA9IDMwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgaGFzICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcclxuICAsIHRvSU9iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxyXG4gICwgYXJyYXlJbmRleE9mID0gcmVxdWlyZSgnLi9fYXJyYXktaW5jbHVkZXMnKShmYWxzZSlcclxuICAsIElFX1BST1RPICAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBuYW1lcyl7XHJcbiAgdmFyIE8gICAgICA9IHRvSU9iamVjdChvYmplY3QpXHJcbiAgICAsIGkgICAgICA9IDBcclxuICAgICwgcmVzdWx0ID0gW11cclxuICAgICwga2V5O1xyXG4gIGZvcihrZXkgaW4gTylpZihrZXkgIT0gSUVfUFJPVE8paGFzKE8sIGtleSkgJiYgcmVzdWx0LnB1c2goa2V5KTtcclxuICAvLyBEb24ndCBlbnVtIGJ1ZyAmIGhpZGRlbiBrZXlzXHJcbiAgd2hpbGUobmFtZXMubGVuZ3RoID4gaSlpZihoYXMoTywga2V5ID0gbmFtZXNbaSsrXSkpe1xyXG4gICAgfmFycmF5SW5kZXhPZihyZXN1bHQsIGtleSkgfHwgcmVzdWx0LnB1c2goa2V5KTtcclxuICB9XHJcbiAgcmV0dXJuIHJlc3VsdDtcclxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzXG4gKiogbW9kdWxlIGlkID0gMzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzXG4gKiogbW9kdWxlIGlkID0gMzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIHRvIGluZGV4ZWQgb2JqZWN0LCB0b09iamVjdCB3aXRoIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgc3RyaW5nc1xudmFyIElPYmplY3QgPSByZXF1aXJlKCcuL19pb2JqZWN0JylcbiAgLCBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBJT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMzNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGZhbGxiYWNrIGZvciBub24tYXJyYXktbGlrZSBFUzMgYW5kIG5vbi1lbnVtZXJhYmxlIG9sZCBWOCBzdHJpbmdzXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJyk7XG5tb2R1bGUuZXhwb3J0cyA9IE9iamVjdCgneicpLnByb3BlcnR5SXNFbnVtZXJhYmxlKDApID8gT2JqZWN0IDogZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gY29mKGl0KSA9PSAnU3RyaW5nJyA/IGl0LnNwbGl0KCcnKSA6IE9iamVjdChpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDM0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgdG9TdHJpbmcgPSB7fS50b1N0cmluZztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKGl0KS5zbGljZSg4LCAtMSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY29mLmpzXG4gKiogbW9kdWxlIGlkID0gMzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGZhbHNlIC0+IEFycmF5I2luZGV4T2Zcbi8vIHRydWUgIC0+IEFycmF5I2luY2x1ZGVzXG52YXIgdG9JT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8taW9iamVjdCcpXG4gICwgdG9MZW5ndGggID0gcmVxdWlyZSgnLi9fdG8tbGVuZ3RoJylcbiAgLCB0b0luZGV4ICAgPSByZXF1aXJlKCcuL190by1pbmRleCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihJU19JTkNMVURFUyl7XG4gIHJldHVybiBmdW5jdGlvbigkdGhpcywgZWwsIGZyb21JbmRleCl7XG4gICAgdmFyIE8gICAgICA9IHRvSU9iamVjdCgkdGhpcylcbiAgICAgICwgbGVuZ3RoID0gdG9MZW5ndGgoTy5sZW5ndGgpXG4gICAgICAsIGluZGV4ICA9IHRvSW5kZXgoZnJvbUluZGV4LCBsZW5ndGgpXG4gICAgICAsIHZhbHVlO1xuICAgIC8vIEFycmF5I2luY2x1ZGVzIHVzZXMgU2FtZVZhbHVlWmVybyBlcXVhbGl0eSBhbGdvcml0aG1cbiAgICBpZihJU19JTkNMVURFUyAmJiBlbCAhPSBlbCl3aGlsZShsZW5ndGggPiBpbmRleCl7XG4gICAgICB2YWx1ZSA9IE9baW5kZXgrK107XG4gICAgICBpZih2YWx1ZSAhPSB2YWx1ZSlyZXR1cm4gdHJ1ZTtcbiAgICAvLyBBcnJheSN0b0luZGV4IGlnbm9yZXMgaG9sZXMsIEFycmF5I2luY2x1ZGVzIC0gbm90XG4gICAgfSBlbHNlIGZvcig7bGVuZ3RoID4gaW5kZXg7IGluZGV4KyspaWYoSVNfSU5DTFVERVMgfHwgaW5kZXggaW4gTyl7XG4gICAgICBpZihPW2luZGV4XSA9PT0gZWwpcmV0dXJuIElTX0lOQ0xVREVTIHx8IGluZGV4IHx8IDA7XG4gICAgfSByZXR1cm4gIUlTX0lOQ0xVREVTICYmIC0xO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzXG4gKiogbW9kdWxlIGlkID0gMzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS4xNSBUb0xlbmd0aFxudmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1pbiAgICAgICA9IE1hdGgubWluO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCA+IDAgPyBtaW4odG9JbnRlZ2VyKGl0KSwgMHgxZmZmZmZmZmZmZmZmZikgOiAwOyAvLyBwb3coMiwgNTMpIC0gMSA9PSA5MDA3MTk5MjU0NzQwOTkxXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tbGVuZ3RoLmpzXG4gKiogbW9kdWxlIGlkID0gMzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS40IFRvSW50ZWdlclxudmFyIGNlaWwgID0gTWF0aC5jZWlsXG4gICwgZmxvb3IgPSBNYXRoLmZsb29yO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpc05hTihpdCA9ICtpdCkgPyAwIDogKGl0ID4gMCA/IGZsb29yIDogY2VpbCkoaXQpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWludGVnZXIuanNcbiAqKiBtb2R1bGUgaWQgPSAzOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHRvSW50ZWdlciA9IHJlcXVpcmUoJy4vX3RvLWludGVnZXInKVxuICAsIG1heCAgICAgICA9IE1hdGgubWF4XG4gICwgbWluICAgICAgID0gTWF0aC5taW47XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGluZGV4LCBsZW5ndGgpe1xuICBpbmRleCA9IHRvSW50ZWdlcihpbmRleCk7XG4gIHJldHVybiBpbmRleCA8IDAgPyBtYXgoaW5kZXggKyBsZW5ndGgsIDApIDogbWluKGluZGV4LCBsZW5ndGgpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWluZGV4LmpzXG4gKiogbW9kdWxlIGlkID0gMzlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBzaGFyZWQgPSByZXF1aXJlKCcuL19zaGFyZWQnKSgna2V5cycpXHJcbiAgLCB1aWQgICAgPSByZXF1aXJlKCcuL191aWQnKTtcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xyXG4gIHJldHVybiBzaGFyZWRba2V5XSB8fCAoc2hhcmVkW2tleV0gPSB1aWQoa2V5KSk7XHJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzXG4gKiogbW9kdWxlIGlkID0gNDBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnbG9iYWwgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIFNIQVJFRCA9ICdfX2NvcmUtanNfc2hhcmVkX18nXG4gICwgc3RvcmUgID0gZ2xvYmFsW1NIQVJFRF0gfHwgKGdsb2JhbFtTSEFSRURdID0ge30pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gc3RvcmVba2V5XSB8fCAoc3RvcmVba2V5XSA9IHt9KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanNcbiAqKiBtb2R1bGUgaWQgPSA0MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGlkID0gMFxuICAsIHB4ID0gTWF0aC5yYW5kb20oKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oa2V5KXtcbiAgcmV0dXJuICdTeW1ib2woJy5jb25jYXQoa2V5ID09PSB1bmRlZmluZWQgPyAnJyA6IGtleSwgJylfJywgKCsraWQgKyBweCkudG9TdHJpbmcoMzYpKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL191aWQuanNcbiAqKiBtb2R1bGUgaWQgPSA0MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gSUUgOC0gZG9uJ3QgZW51bSBidWcga2V5c1xyXG5tb2R1bGUuZXhwb3J0cyA9IChcclxuICAnY29uc3RydWN0b3IsaGFzT3duUHJvcGVydHksaXNQcm90b3R5cGVPZixwcm9wZXJ0eUlzRW51bWVyYWJsZSx0b0xvY2FsZVN0cmluZyx0b1N0cmluZyx2YWx1ZU9mJ1xyXG4pLnNwbGl0KCcsJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19lbnVtLWJ1Zy1rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gNDNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIGNvcmUgICAgPSByZXF1aXJlKCcuL19jb3JlJylcbiAgLCBmYWlscyAgID0gcmVxdWlyZSgnLi9fZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZLCBleGVjKXtcbiAgdmFyIGZuICA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuICAgICwgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24oKXsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qtc2FwLmpzXG4gKiogbW9kdWxlIGlkID0gNDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeS5qc1xuICoqIG1vZHVsZSBpZCA9IDQ1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY29yZSAgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzL19jb3JlJylcbiAgLCAkSlNPTiA9IGNvcmUuSlNPTiB8fCAoY29yZS5KU09OID0ge3N0cmluZ2lmeTogSlNPTi5zdHJpbmdpZnl9KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc3RyaW5naWZ5KGl0KXsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bnVzZWQtdmFyc1xuICByZXR1cm4gJEpTT04uc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmd1bWVudHMpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5LmpzXG4gKiogbW9kdWxlIGlkID0gNDZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlxuLyoqXG4gKiBAZmlsZSB1dGlscy5qcyAtIEpTIGZpbGUgZm9yIHV0aWxzIG1ldGhvZHMuXG4gKiBAYXV0aG9yIFdlYmNvbVxuICovXG5cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBkZXNjcmlwdGlvbiBUaGUgdXRpbHMgY2xhc3NcbiAqL1xuY29uc3QgdXRpbHMgPSBmdW5jdGlvbigpIHtcblx0LyoqXG5cdCAqXG5cdCAqL1xuXHRmdW5jdGlvbiBzNCgpIHtcblx0XHRyZXR1cm4gTWF0aC5mbG9vcigoMSArIE1hdGgucmFuZG9tKCkpICogMHgxMDAwMCkudG9TdHJpbmcoMTYpLnN1YnN0cmluZygxKTtcblx0fVxuXHQvKipcblx0ICogR2VuZXJhdGVzIGFuIGlkZW50aWZpZXIuIFR3byBjYWxscyBvZiB0aGlzIG1ldGhvZGUgbWF5IG5vdCByZXR1cm4gdGhlIHNhbWUgaWRlbnRpZmllclxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IC0gVGhlIGlkZW50aWZpZXJcblx0ICovXG5cdGZ1bmN0aW9uIF9ndWlkKCkge1xuXHRcdHJldHVybiBgJHtzNCgpfSR7czQoKX0tJHtzNCgpfS0ke3M0KCl9LSR7czQoKX0tJHtzNCgpfSR7czQoKX0ke3M0KCl9YDtcblx0fVxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBhcHBsaWNhdGlvbiBpbnN0YW5jZSBpbmRlbnRpZmllclxuXHQgKi9cblx0Y29uc3QgX2FwcEluc3RhbmNlSWQgPSBfZ3VpZCgpO1xuXG5cdHJldHVybiB7XG5cdFx0YXBwSW5zdGFuY2VJZDogX2FwcEluc3RhbmNlSWRcblx0fTtcbn0oKTtcblxuZXhwb3J0IGRlZmF1bHQgdXRpbHM7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvdXRpbHMuanNcbiAqKi8iLCIvKipcbiAqIEBmaWxlIHJvb20uanMgLSBKUyBmaWxlIHRvIHVzZSBmb3IgdGhlIHJvb20gc2VydmljZS5cbiAqIEBhdXRob3IgV2ViY29tXG4gKi9cblxuLyplc2xpbnQgY29tcGxleGl0eToxLCBtYXgtc3RhdGVtZW50czogMSwgbWF4LWxlbjogMSovXG5cbmltcG9ydCBhY3Rpb25zIGZyb20gJy4vYWN0aW9ucyc7XG5pbXBvcnQgbG9jYWxzdHJlYW0gZnJvbSAnLi9sb2NhbHN0cmVhbSc7XG5pbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscyc7XG5cbi8qKlxuICogUk9PTV9TVEFUVVNfQ0xPU0Ugc3RhdHVzIDogcm9vbSBpcyBDTE9TRSAvIGluYWN0aXZlXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IFJPT01fU1RBVFVTX0NMT1NFID0gJ0NMT1NFJztcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBkZXNjcmlwdGlvbiBUaGUgcm9vbSBvYmplY3Qgd2l0aCBpdHMgc3RyZWFtcywgbWVzc2FnZXMsIGZsYWdzIGFuZCBjYWxsYmFja3MuIFRoZSBwdWJsaXNoZWQgbWVkaWEgc3RyZWFtcywgdGhlIFdlYlJUQyBzdGFja3MsIHRoZSBpbnN0YW50IG1lc3NhZ2VzLCBhbmQgdGhlIHBhcnRpY2lwYW50IGxpc3RzXG4gKiBhcmUgbWFuYWdlZCBpbiB0aGlzIGRhdGEgc3RydWN0dXJlLlxuICogQHBhcmFtIHBfbWUgLSBUaGUgdXNlciBpZGVudGlmaWVyLCBpZGVudGlmeWluZyB0aGUgY3VycmVudCB1c2VyIGluIHRoZSBkYXRhYmFzZVxuICogQHBhcmFtIHBfcm9vbUlkIC0gVGhlIHJvb20gaWRlbnRpZmllciwgaWRlbnRpZnlpbmcgaW4gdGhlIGRhdGFiYXNlIHRoZSByb29tIGluIHVzZVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAocF9tZSwgcF9yb29tSWQsIGRhdGFyZWZzLCB3ZWJydGNtbmdyKSB7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgcm9vbSBpZGVudGlmaWVyLCBpZGVudGlmeWluZyBhIHJvb20gaW4gdGhlIGRhdGFiYXNlXG5cdCAqL1xuXHRjb25zdCByb29tSWQgPSBwX3Jvb21JZDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgdXNlciBpZGVudGlmaWVyXG5cdCAqL1xuXHRjb25zdCBtZSA9IHBfbWU7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBkYXRhcmVmIHBvaW50ZXIgcG9pbnRpbmcgdG8gYSBub2RlIGlkZW50aWZpZWQgYnkgdGhlIHJvb20gaWRlbnRpZmllciB1bmRlciB0aGUgcm9vbXMgbm9kZVxuXHQgKi9cblx0Y29uc3QgZGF0YXJlZiA9IGRhdGFyZWZzLmdldFJvb21zKCkuY2hpbGQocm9vbUlkKTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgV2ViUlRDIHN0YWNrcyB1c2VkIGluIHRoaXMgcm9vbVxuXHQgKi9cblx0bGV0IHJvb21XZWJydGNTdGFja3MgPSB7fTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgYXZhaWxhYmxlIHN0cmVhbXNcblx0ICovXG5cdGxldCBtQXZhaWxhYmxlU3RyZWFtcyA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIGFycmF5IGNvbnRhaW5pbmcgZGF0YSBzdHJ1Y3R1cmVzIGZvciBzdHJlYW1zIHdoaWNoIHBvc3Nlc3MgY2FsbGJhY2tzIHRvIHRyaWdnZXIgaW4gSlNPTiBmb3JtYXQuXG5cdCAqIFRoZXNlIGNhbGxiYWNrcyBhcmUgYWRkU3Vic2NyaWJlckxpc3RDYiBhbmQgcmVtb3ZlU3Vic2NyaWJlcnNMaXN0Q2IuXG5cdCAqL1xuXHRsZXQgbVN0cmVhbXMgPSBbXTtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIHRoZSBzdHJlYW0gbWFya2VkIGFzIG11dGVkXG5cdCAqL1xuXHRsZXQgbU11dGVkU3RyZWFtcyA9IFtdO1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBjYWxsYmFjayB0byB0cmlnZ2VyIGZvciB1bnB1Ymxpc2hlZCByZW1vdGUgb2JqZWN0c1xuXHQgKi9cblx0bGV0IHJlbW90ZVVucHVibGlzaGVkQ2IgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQ2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gYSBsaXN0IG9mIGluc3RhbnQgbWVzc2FnZXMgaGFzIGJlZW4gcmVjZWl2ZWRcblx0ICovXG5cdGxldCBpbnN0YW50TWVzc2FnZUxpc3RDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVXNlcidzIGNhbGxiYWNrIHRyaWdnZXJlZCB3aGVuIGEgbGlzdCBvZiBtZWRpYXMgaGFzIGJlZW4gcHVibGlzaGVkXG5cdCAqL1xuXHRsZXQgcHVibGlzaGVkTWVkaWFMaXN0Q2IgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gcm9vbSdzIGNhbGxiYWNrIHRyaWdnZXJlZCB3aGVuIGEgbGlzdCBvZiBtZWRpYXMgaGFzIGJlZW4gcHVibGlzaGVkXG5cdCAqL1xuXHRsZXQgcHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0gPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIHVzZXIncyBjYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIGxpc3Qgb2YgbWVkaWFzIGhhcyBiZWVuIHVucHVibGlzaGVkXG5cdCAqL1xuXHRsZXQgdW5QdWJsaXNoZWRNZWRpYUxpc3RDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gcm9vbSdzIGNhbGxiYWNrIHRyaWdnZXJlZCB3aGVuIGEgbGlzdCBvZiBtZWRpYXMgaGFzIGJlZW4gcHVibGlzaGVkXG5cdCAqL1xuXHRsZXQgdW5QdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQ2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gYSBsaXN0IG9mIHBhcnRpY2lwYW50cyBqb2lucyB0aGUgcm9vbSAoYWRkZWQpXG5cdCAqL1xuXHRsZXQgcGFydGljaXBhbnRMaXN0Sm9pbkFkZGVkQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIHRyaWdnZXJlZCB3aGVuIGEgbGlzdCBvZiBwYXJ0aWNpcGFudHMgam9pbnMgdGhlIHJvb20gKGNoYW5nZWQpXG5cdCAqL1xuXHRsZXQgcGFydGljaXBhbnRMaXN0Sm9pbkNoYW5nZWRDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQ2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gYSBsaXN0IG9mIHBhcnRpY2lwYW50cyBsZWF2ZXMgdGhlIHJvb21cblx0ICovXG5cdGxldCBwYXJ0aWNpcGFudExpc3RMZWF2ZUNiID0gbnVsbDtcblxuXHQvKipcblx0ICogQWRkcyBhbiBhdmFpbGFibGUgc3RyZWFtXG5cdCAqIEBwYXJhbSBkYXRhIC0gVGhlIHN0cmVhbSB0byBhZGRcblx0ICovXG5cdGZ1bmN0aW9uIF9hZGRBdmFpbGFibGVTdHJlYW0oZGF0YSkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X2FkZEF2YWlsYWJsZVN0cmVhbSlkYXRhPSR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9YCk7XG5cdFx0bUF2YWlsYWJsZVN0cmVhbXMucHVzaChkYXRhKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIGFuIGF2YWlsYWJsZSBzdHJlYW1cblx0ICogQHBhcmFtIHN0cmVhbSAtIFRoZSBzdHJlYW1JZCB0byByZW1vdmVcblx0ICovXG5cdGZ1bmN0aW9uIF9yZW1vdmVBdmFpbGFibGVTdHJlYW0oc3RyZWFtSWQpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9yZW1vdmVBdmFpbGFibGVTdHJlYW0pc3RyZWFtSWQ9JHtzdHJlYW1JZH1gKTtcblx0XHRpZiAobUF2YWlsYWJsZVN0cmVhbXMgJiYgc3RyZWFtSWQpIHtcblx0XHRcdGZvciAobGV0IGkgPSBtQXZhaWxhYmxlU3RyZWFtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRpZiAobUF2YWlsYWJsZVN0cmVhbXNbaV0gJiYgT2JqZWN0LmtleXMobUF2YWlsYWJsZVN0cmVhbXNbaV0pWzBdICYmIE9iamVjdC5rZXlzKG1BdmFpbGFibGVTdHJlYW1zW2ldKVswXSA9PT0gc3RyZWFtSWQpIHtcblx0XHRcdFx0XHRkZWxldGUgbUF2YWlsYWJsZVN0cmVhbXNbaV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgYSBXZWJjb20gbGlzdGVuZXIuXG5cdCAqIERlZmluZXMgY2FsbGJhY2tzIChpZiBub3QgYWxyZWFkeSBkZWZpbmVkKSBmb3IgOiBpbnN0YW50IG1lc3NhZ2VzLCBtZWRpYSBsaXN0IGFuZCBwYXJ0aWNpcGFudHMuXG5cdCAqIFRoZXNlIGNhbGxiYWNrcyBhcmUgY2FsbGVkIGlmIGEgbmV3IHZhbHVlIGlzIGFkZGVkIG9yIGlmIGEgdmFsdWUgaGFzIGJlZW4gcmVtb3ZlZCBpbiB0aGUgZGF0YWJhc2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0V2ViY29tTGlzdGVuZXIoKSB7XG5cdFx0aWYgKCFwdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSkge1xuXHRcdFx0cHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0gPSBmdW5jdGlvbiAoc25hcHNob3QpIHtcblx0XHRcdFx0Y29uc3Rcblx0XHRcdFx0XHRvYmogPSB7fSxcblx0XHRcdFx0XHRuYW1lID0gc25hcHNob3QubmFtZSgpLFxuXHRcdFx0XHRcdHZhbHVlID0gc25hcHNob3QudmFsKCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6b25QdWJsaXNoZWRTdHJlYW1Gb3JBdmFpbGFibGVTdHJlYW0pc3RyZWFtPSR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfWApO1xuXHRcdFx0XHRvYmpbbmFtZV0gPSB2YWx1ZTtcblx0XHRcdFx0b2JqW25hbWVdLnJvb21JZCA9IHJvb21JZDtcblx0XHRcdFx0X2FkZEF2YWlsYWJsZVN0cmVhbShvYmopO1xuXHRcdFx0fTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpLm9uKCdjaGlsZF9hZGRlZCcsIHB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtKTtcblx0XHR9XG5cblx0XHRpZiAoIXVuUHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0pIHtcblx0XHRcdHVuUHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0gPSBmdW5jdGlvbiAoc25hcHNob3QpIHtcblx0XHRcdFx0Y29uc3Qgc3RyZWFtSWQgPSBzbmFwc2hvdC5uYW1lKCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6b25VblB1Ymxpc2hlZFN0cmVhbUZvckF2YWlsYWJsZVN0cmVhbSlzdHJlYW09JHtzdHJlYW1JZH1gKTtcblx0XHRcdFx0X3JlbW92ZUF2YWlsYWJsZVN0cmVhbShzdHJlYW1JZCk7XG5cdFx0XHR9O1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0Jykub24oJ2NoaWxkX3JlbW92ZWQnLCB1blB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIHJvb20gb2JqZWN0IGJ5IGFkZGluZyBhIG5ldyB2YWx1ZSBpbiBhIGNoaWxkIGlkZW50aWZpZWQgYnkgdGhlIHVzZXIgaWRlbnRpZmllciB1bmRlclxuXHQgKiB0aGUgcGFydGljaXBhbnRMaXN0IG5vZGVcblx0ICovXG5cdGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0ZGF0YXJlZi5jaGlsZChgcGFydGljaXBhbnRMaXN0LyR7bWV9YCkudXBkYXRlKHtcblx0XHRcdGNvbm5lY3RlZDogdHJ1ZSxcblx0XHRcdHdhc0luc2lkZVJvb206IHRydWVcblx0XHR9KTtcblx0XHRkYXRhcmVmLmNoaWxkKGBwYXJ0aWNpcGFudExpc3QvJHttZX0vY29ubmVjdGVkYCkub25EaXNjb25uZWN0KCkuc2V0KGZhbHNlKTtcblx0XHRpbml0V2ViY29tTGlzdGVuZXIoKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm4gdGhlIHJvb20gaWRlbnRpZmllclxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IC0gVGhlIHJvb20gaWRlbnRpZmllclxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldFJvb21JZCgpIHtcblx0XHRyZXR1cm4gcm9vbUlkO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIHVzZXIgaWRlbnRpZmllclxuXHQgKiBAcmV0dXJuIHtzdHJpbmd9IC0gVGhlIHVzZXIgaWRlbnRpZmllclxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldE1lKCkge1xuXHRcdHJldHVybiBtZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgUGFydGljaXBhbnRzIGFkZGVkIGxpc3RlbmVyLlxuXHQgKiBEZWZpbmVzIGNhbGxiYWNrIChyZW1vdmUgYW55IGV4aXN0aW5nIG9uZSkgZm9yIHRoZSBwYXJ0aWNpcGFudHMuXG5cdCAqIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkLCBmaXJzdCBmb3IgYW55IGV4aXN0aW5nIGNvbm5lY3RlZCBwYXJ0aWNpcGFudHMsIHRoZW4gd2hlbiBhIG5ldyBwYXJ0aWNpcGFudCBpcyBhZGRlZC5cblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRPblBhcnRpY2lwYW50Sm9pbihwX2NiKSB7XG5cdFx0Y29uc3QgcGFydGljaXBhbnRMaXN0UmVmID0gZGF0YXJlZi5jaGlsZCgncGFydGljaXBhbnRMaXN0Jyk7XG5cblx0XHRpZiAocGFydGljaXBhbnRMaXN0Sm9pbkFkZGVkQ2IpIHtcblx0XHRcdHBhcnRpY2lwYW50TGlzdFJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgcGFydGljaXBhbnRMaXN0Sm9pbkFkZGVkQ2IpO1xuXHRcdFx0cGFydGljaXBhbnRMaXN0Sm9pbkFkZGVkQ2IgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChwYXJ0aWNpcGFudExpc3RKb2luQ2hhbmdlZENiKSB7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RSZWYub2ZmKCdjaGlsZF9jaGFuZ2VkJywgcGFydGljaXBhbnRMaXN0Sm9pbkNoYW5nZWRDYik7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RKb2luQ2hhbmdlZENiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RKb2luQWRkZWRDYiA9IChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRjb25zdCB1c2VyID0gc25hcHNob3QubmFtZSgpO1xuXHRcdFx0XHRpZiAoc25hcHNob3QudmFsKCkgJiYgc25hcHNob3QudmFsKCkuY29ubmVjdGVkICYmIHNuYXBzaG90LnZhbCgpLndhc0luc2lkZVJvb20pIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9zZXRPblBhcnRpY2lwYW50Sm9pbikgdXNlciBoYXMgam9pbmVkOiAke3VzZXJ9YCk7XG5cdFx0XHRcdFx0cF9jYih1c2VyKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdHBhcnRpY2lwYW50TGlzdFJlZi5vbignY2hpbGRfYWRkZWQnLCBwYXJ0aWNpcGFudExpc3RKb2luQWRkZWRDYik7XG5cblx0XHRcdHBhcnRpY2lwYW50TGlzdEpvaW5DaGFuZ2VkQ2IgPSBmdW5jdGlvbiAoc25hcHNob3QpIHtcblx0XHRcdFx0Y29uc3QgdXNlciA9IHNuYXBzaG90Lm5hbWUoKTtcblx0XHRcdFx0aWYgKHNuYXBzaG90LnZhbCgpICYmIChzbmFwc2hvdC52YWwoKS5jb25uZWN0ZWQgJiYgc25hcHNob3QudmFsKCkud2FzSW5zaWRlUm9vbSkpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9zZXRPblBhcnRpY2lwYW50Sm9pbikgdXNlciBoYXMgam9pbmVkOiAke3VzZXJ9YCk7XG5cdFx0XHRcdFx0cF9jYih1c2VyKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdHBhcnRpY2lwYW50TGlzdFJlZi5vbignY2hpbGRfY2hhbmdlZCcsIHBhcnRpY2lwYW50TGlzdEpvaW5DaGFuZ2VkQ2IpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3NldE9uUGFydGljaXBhbnRKb2luKXBhcmFtZXRlciBpbmNvcnJlY3QuIEV4cGVjdGVkIGZ1bmN0aW9uYCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSBQYXJ0aWNpcGFudHMgbGVmdCBsaXN0ZW5lci5cblx0ICogRGVmaW5lcyBjYWxsYmFjayAocmVtb3ZlIGFueSBleGlzdGluZyBvbmUpIGZvciB0aGUgcGFydGljaXBhbnRzLlxuXHQgKiBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCB3aGVuIGEgbmV3IHBhcnRpY2lwYW50IGlzIHJlbW92ZWQuXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0T25QYXJ0aWNpcGFudExlYXZlKHBfY2IpIHtcblxuXHRcdGlmIChwYXJ0aWNpcGFudExpc3RMZWF2ZUNiKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdwYXJ0aWNpcGFudExpc3QnKS5vZmYoJ2NoaWxkX2NoYW5nZWQnLCBwYXJ0aWNpcGFudExpc3RMZWF2ZUNiKTtcblx0XHRcdHBhcnRpY2lwYW50TGlzdExlYXZlQ2IgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdHBhcnRpY2lwYW50TGlzdExlYXZlQ2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0Y29uc3QgdXNlciA9IHNuYXBzaG90Lm5hbWUoKTtcblx0XHRcdFx0aWYgKHNuYXBzaG90LnZhbCgpICYmICghc25hcHNob3QudmFsKCkuY29ubmVjdGVkICYmIHNuYXBzaG90LnZhbCgpLndhc0luc2lkZVJvb20pKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfc2V0T25QYXJ0aWNpcGFudExlYXZlKSB1c2VyIGhhcyBsZWZ0OiAke3VzZXJ9YCk7XG5cdFx0XHRcdFx0cF9jYih1c2VyKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3BhcnRpY2lwYW50TGlzdCcpLm9uKCdjaGlsZF9jaGFuZ2VkJywgcGFydGljaXBhbnRMaXN0TGVhdmVDYik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfc2V0T25QYXJ0aWNpcGFudExlYXZlKXBhcmFtZXRlciBpbmNvcnJlY3QuIEV4cGVjdGVkIGZ1bmN0aW9uYCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNlbmRzIGFuIGluc3RhbnQgbWVzc2FnZSBieSBwdXNoaW5nIGFuIG5ldyBlbGVtZW50IGluIHRoZSBkYXRhYmFzZSB3aXRoIGEgdGltZXN0YW1wLCB0aGUgbWVzc2FnZSBhbmQgaXRzIGF1dGhvciAoaS5lLiB0aGUgY3VycmVudCB1c2VyKVxuXHQgKiBAcGFyYW0ge3N0cmluZ31wX21lc3NhZ2UgLSBUaGUgbWVzc2FnZSB0byBzZW5kXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2VuZEluc3RhbnRNZXNzYWdlKHBfbWVzc2FnZSkge1xuXHRcdGlmIChwX21lc3NhZ2UgIT09ICcnKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06OnNlbmRJbnN0YW50TWVzc2FnZSltZXNzYWdlPSR7cF9tZXNzYWdlfWApO1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgnaW5zdGFudE1lc3NhZ2VMaXN0JykucHVzaCh7XG5cdFx0XHRcdGZyb206IG1lLFxuXHRcdFx0XHRtZXNzYWdlOiBwX21lc3NhZ2UsXG5cdFx0XHRcdHRpbWVzdGFtcDogV2ViY29tLlNlcnZlclZhbHVlLlRJTUVTVEFNUFxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSBpbnN0YW50IG1lc3NhZ2UgbGlzdGVuZXIuXG5cdCAqIERlZmluZXMgY2FsbGJhY2sgKHJlbW92ZSBhbnkgZXhpc3Rpbmcgb25lKSBmb3IgOiBpbnN0YW50IG1lc3NhZ2VzLlxuXHQgKiBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCwgZmlyc3QgZm9yIGFueSBleGlzdGluZyBpbnN0YW50IG1lc3NhZ2VzLCB0aGVuIHdoZW4gYSBuZXcgdmFsdWUgaXMgYWRkZWQgaW4gdGhlIGRhdGFiYXNlLlxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE9uSW5zdGFudE1lc3NhZ2UocF9jYikge1xuXHRcdGlmIChpbnN0YW50TWVzc2FnZUxpc3RDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgnaW5zdGFudE1lc3NhZ2VMaXN0Jykub2ZmKCdjaGlsZF9hZGRlZCcsIGluc3RhbnRNZXNzYWdlTGlzdENiKTtcblx0XHRcdGluc3RhbnRNZXNzYWdlTGlzdENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0aW5zdGFudE1lc3NhZ2VMaXN0Q2IgPSBmdW5jdGlvbiAoc25hcHNob3QpIHtcblx0XHRcdFx0Y29uc3Qgb2JqID0gc25hcHNob3QudmFsKCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3NldE9uSW5zdGFudE1lc3NhZ2UpcmVjZWl2ZSBJbnN0YW50TWVzc2FnZT0ke0pTT04uc3RyaW5naWZ5KG9iail9YCk7XG5cdFx0XHRcdHBfY2Iob2JqKTtcblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdpbnN0YW50TWVzc2FnZUxpc3QnKS5vbignY2hpbGRfYWRkZWQnLCBpbnN0YW50TWVzc2FnZUxpc3RDYik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfc2V0T25JbnN0YW50TWVzc2FnZSlwYXJhbWV0ZXIgaW5jb3JyZWN0LiBFeHBlY3RlZCBmdW5jdGlvbmApO1xuXHRcdH1cblx0fVxuXG5cblx0LyoqXG5cdCAqIFB1Ymxpc2hlcyB0aGUgc3RyZWFtXG5cdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBzdHJlYW0gdG8gcHVibGlzaFxuXHQgKiBAcGFyYW0gbG9jYWxWaWQgLSBUaGUgbG9jYWwgdmlkZW9cblx0ICogQHBhcmFtIHBfYWN0aW9uVHlwZSAtIEEgdmFsdWUgZGV0ZXJtaW5pbmcgdGhlIHR5cGUgb2Ygc3RyZWFtIGluIHVzZSAodmlkZW8sIGF1ZGlvLCB2aWRlbyBhbmQgYXVkaW8sIHNjcmVlbi1zaGFyaW5nKS5cblx0ICogQHBhcmFtIGdldExvY2FsU3RyZWFtQ2IgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJldHJpZXZlIHRoZSBtZWRpYXN0cmVhbSBvYmplY3Rcblx0ICovXG5cdGZ1bmN0aW9uIF9wdWJsaXNoU3RyZWFtKHN0cmVhbUlkLCBsb2NhbFZpZCwgcF9hY3Rpb25UeXBlLCBnZXRMb2NhbFN0cmVhbUNiKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpwdWJsaXNoU3RyZWFtKXJvb21JZD0ke3Jvb21JZH0sc3RyZWFtSWQ9JHtzdHJlYW1JZH0sbWU9JHttZX0sYWN0aW9uVHlwZT0ke3BfYWN0aW9uVHlwZX1gKTtcblx0XHRpZiAoIShzdHJlYW1JZCAmJiB0eXBlb2Ygc3RyZWFtSWQgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb20pcGFyYW1ldGVyIHN0cmVhbUlkIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmcnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc3QgbG9jYWxEYXRhUmVmID0gZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0JykuY2hpbGQoc3RyZWFtSWQpO1xuXHRcdGNvbnN0IHJlbW90ZURhdGFSZWYgPSBsb2NhbERhdGFSZWYuY2hpbGQoJ3N1YnNjcmliZXJzTGlzdCcpO1xuXG5cdFx0Y29uc3QgcHViQW5kU3Vic2NyaWJlID0gKCkgPT4ge1xuXHRcdFx0Ly8gcHVibGlzaCB0aGUgc3RyZWFtXG5cdFx0XHRsb2NhbERhdGFSZWYuc2V0KHtcblx0XHRcdFx0ZnJvbTogbWUsXG5cdFx0XHRcdGFwcEluc3RhbmNlSWQ6IHV0aWxzLmFwcEluc3RhbmNlSWQsXG5cdFx0XHRcdGFjdGlvblR5cGU6IHBfYWN0aW9uVHlwZVxuXHRcdFx0fSk7XG5cdFx0XHRsb2NhbERhdGFSZWYub25EaXNjb25uZWN0KCkucmVtb3ZlKCk7XG5cblx0XHRcdC8vIHN1YnNjcmliZSB0byBzdHJlYW0gdXBkYXRlcyBmb3IgYWRkXG5cdFx0XHRjb25zdCBhZGRTdWJzY3JpYmVyc0xpc3RDYiA9IChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRjb25zdFxuXHRcdFx0XHRcdHJlbW90ZUFwcEluc3RhbmNlSWQgPSBzbmFwc2hvdC5uYW1lKCksXG5cdFx0XHRcdFx0ZGF0YSA9IHNuYXBzaG90LnZhbCgpLFxuXHRcdFx0XHRcdF9zdWJzY3JpYmVySWQgPSBkYXRhLnVzZXJJZCxcblx0XHRcdFx0XHRfcGVlcmNvSWQgPSBkYXRhLnBlZXJjb0lkLFxuXHRcdFx0XHRcdF9wZWVyY29SZWYgPSBkYXRhLnBlZXJjb1JlZixcblx0XHRcdFx0XHRpc0F1ZGlvTXV0ZSA9IG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdICYmIG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLmF1ZGlvLFxuXHRcdFx0XHRcdGlzVmlkZW9NdXRlID0gbU11dGVkU3RyZWFtc1tzdHJlYW1JZF0gJiYgbU11dGVkU3RyZWFtc1tzdHJlYW1JZF0udmlkZW8sXG5cdFx0XHRcdFx0c3RyZWFtU3RhY2tJZCA9IGAke3N0cmVhbUlkfV9wdWJgO1xuXG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6cHVibGlzaFN0cmVhbTo6YWRkU3Vic2NyaWJlcnNMaXN0Q2Ipc3Vic2NyaWJlciAke19zdWJzY3JpYmVySWR9IHRvIHN0cmVhbSAke3N0cmVhbUlkfSBhZGRlZCAke0pTT04uc3RyaW5naWZ5KGRhdGEpfWApO1xuXG5cdFx0XHRcdGlmICghcm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja0lkXSkge1xuXHRcdFx0XHRcdHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tJZF0gPSBbXTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGNvbnN0IG1TdGFja0lkID0gd2VicnRjbW5nci5jcmVhdGVXZWJydGMobG9jYWxWaWQsIHJlbW90ZUFwcEluc3RhbmNlSWQsICgpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06OnB1Ymxpc2hTdHJlYW06OmFkZFN1YnNjcmliZXJzTGlzdENiKXN1YnNjcmliZXIgJHtfc3Vic2NyaWJlcklkfSB0byBzdHJlYW0gJHtzdHJlYW1JZH0gY29ubmVjdGlvbiBsb3N0YCk7XG5cdFx0XHRcdFx0Ly9vblVuUHVibGlzaGVkU3RyZWFtKGxvY2FsVmlkLCByZW1vdGVWaWQpO1xuXHRcdFx0XHR9LCB0cnVlLCBwX2FjdGlvblR5cGUsIF9wZWVyY29JZCwgX3BlZXJjb1JlZiwgaXNBdWRpb011dGUsIGlzVmlkZW9NdXRlKTtcblxuXHRcdFx0XHRyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrSWRdLnB1c2goe1xuXHRcdFx0XHRcdHN0YWNrSWQ6IG1TdGFja0lkLFxuXHRcdFx0XHRcdHN1YnNjcmliZXJJZDogX3N1YnNjcmliZXJJZCxcblx0XHRcdFx0XHRpc1B1Ymxpc2g6IHRydWUsXG5cdFx0XHRcdFx0cGVlcmNvSWQ6IF9wZWVyY29JZCxcblx0XHRcdFx0XHRwZWVyY29SZWY6IF9wZWVyY29SZWYsXG5cdFx0XHRcdFx0c3RyZWFtSWRcblx0XHRcdFx0fSk7XG5cdFx0XHRcdC8vZGVsZXRlIHJvb21XZWJydGNTdGFja3Nbc3RyZWFtSWQrXCJfcHViXCJdO1xuXHRcdFx0XHQvLyQoXCJkaXYjdmlkZW9CdXR0b25fXCIrcm9vbUlkK1wiLnZpZGVvQnV0dG9uLCBkaXYjbWljQnV0dG9uX1wiK3Jvb21JZCtcIi5taWNCdXR0b25cIikucmVtb3ZlQ2xhc3MoXCJkaXNhYmxlZFwiKTtcblx0XHRcdH07XG5cblx0XHRcdC8vIHN1YnNjcmliZSB0byBzdHJlYW0gdXBkYXRlcyBmb3IgcmVtb3ZlXG5cdFx0XHRjb25zdCByZW1vdmVTdWJzY3JpYmVyc0xpc3RDYiA9IChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRjb25zdFxuXHRcdFx0XHRcdHN1YnNjcmliZXJJZCA9IHNuYXBzaG90LnZhbCgpLnVzZXJJZCxcblx0XHRcdFx0XHRzdHJlYW1TdGFja3MgPSByb29tV2VicnRjU3RhY2tzW2Ake3N0cmVhbUlkfV9wdWJgXTtcblxuXHRcdFx0XHRpZiAoc3Vic2NyaWJlcklkICYmIHN0cmVhbVN0YWNrcykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6cHVibGlzaFN0cmVhbTo6cmVtb3ZlU3Vic2NyaWJlcnNMaXN0Q2Ipc3Vic2NyaWJlciAke3N1YnNjcmliZXJJZH0gdG8gc3RyZWFtICR7c3RyZWFtSWR9IHJlbW92ZWRgKTtcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gc3RyZWFtU3RhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdFx0XHRpZiAoc3RyZWFtU3RhY2tzW2ldLnN1YnNjcmliZXJJZCA9PT0gc3Vic2NyaWJlcklkKSB7XG5cdFx0XHRcdFx0XHRcdHdlYnJ0Y21uZ3IuY2xvc2VXZWJydGMoc3RyZWFtU3RhY2tzW2ldLnN0YWNrSWQsIHRydWUpO1xuXHRcdFx0XHRcdFx0XHRyb29tV2VicnRjU3RhY2tzW2Ake3N0cmVhbUlkfV9wdWJgXS5zcGxpY2UoaSwxKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0Ly9kZWxldGUgcm9vbVdlYnJ0Y1N0YWNrc1tgJHtzdHJlYW1JZH1fcHViYF07XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdG1TdHJlYW1zW3N0cmVhbUlkXSA9IHtcblx0XHRcdFx0YWRkU3Vic2NyaWJlcnNMaXN0Q2IsXG5cdFx0XHRcdHJlbW92ZVN1YnNjcmliZXJzTGlzdENiXG5cdFx0XHR9O1xuXG5cdFx0XHRyZW1vdGVEYXRhUmVmLm9uKCdjaGlsZF9hZGRlZCcsIGFkZFN1YnNjcmliZXJzTGlzdENiKTtcblx0XHRcdHJlbW90ZURhdGFSZWYub24oJ2NoaWxkX3JlbW92ZWQnLCByZW1vdmVTdWJzY3JpYmVyc0xpc3RDYik7XG5cdFx0fTtcblxuXHRcdC8vaW5pdCBsb2NhbCBzdHJlYW1cblx0XHRpZiAocF9hY3Rpb25UeXBlKSB7XG5cdFx0XHRpZiAocF9hY3Rpb25UeXBlID09PSBhY3Rpb25zLkFDVElPTl9UWVBFX1ZJREVPKSB7XG5cdFx0XHRcdGxvY2Fsc3RyZWFtLmNvbm5lY3RMb2NhbFZpZGVvU3RyZWFtKGxvY2FsVmlkLCBwdWJBbmRTdWJzY3JpYmUsIGdldExvY2FsU3RyZWFtQ2IpO1xuXHRcdFx0fSBlbHNlIGlmIChwX2FjdGlvblR5cGUgPT09IGFjdGlvbnMuQUNUSU9OX1RZUEVfQVVESU8pIHtcblx0XHRcdFx0bG9jYWxzdHJlYW0uY29ubmVjdExvY2FsQXVkaW9TdHJlYW0obG9jYWxWaWQsIHB1YkFuZFN1YnNjcmliZSwgZ2V0TG9jYWxTdHJlYW1DYik7XG5cdFx0XHR9IGVsc2UgaWYgKHBfYWN0aW9uVHlwZSA9PT0gYWN0aW9ucy5BQ1RJT05fVFlQRV9BVURJT19WSURFTykge1xuXHRcdFx0XHRsb2NhbHN0cmVhbS5jb25uZWN0TG9jYWxBdWRpb1ZpZGVvU3RyZWFtKGxvY2FsVmlkLCBwdWJBbmRTdWJzY3JpYmUsIGdldExvY2FsU3RyZWFtQ2IpO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgUHVibGlzaGVkIE1lZGlhTGlzdCBsaXN0ZW5lci5cblx0ICogRGVmaW5lcyBjYWxsYmFjayAocmVtb3ZlIGFueSBleGlzdGluZyBvbmUpIGZvciA6IHB1Ymxpc2hlZCBNZWRpYS5cblx0ICogVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQsIGZpcnN0IGZvciBhbnkgZXhpc3RpbmcgcHVibGlzaGVkIG1lZGlhLCB0aGVuIHdoZW4gYSBuZXcgdmFsdWUgaXMgYWRkZWQgaW4gdGhlIGRhdGFiYXNlLlxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE9uUHVibGlzaGVkU3RyZWFtKHBfY2IpIHtcblxuXHRcdGlmIChwdWJsaXNoZWRNZWRpYUxpc3RDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0Jykub2ZmKCdjaGlsZF9hZGRlZCcsIHB1Ymxpc2hlZE1lZGlhTGlzdENiKTtcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0cHVibGlzaGVkTWVkaWFMaXN0Q2IgPSBmdW5jdGlvbiAoc25hcHNob3QpIHtcblx0XHRcdFx0Y29uc3Rcblx0XHRcdFx0XHRvYmogPSB7fSxcblx0XHRcdFx0XHRuYW1lID0gc25hcHNob3QubmFtZSgpO1xuXHRcdFx0XHRvYmpbbmFtZV0gPSBzbmFwc2hvdC52YWwoKTtcblx0XHRcdFx0b2JqW25hbWVdLnJvb21JZCA9IHJvb21JZDtcblx0XHRcdFx0cF9jYihvYmopO1xuXHRcdFx0fTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpLm9uKCdjaGlsZF9hZGRlZCcsIHB1Ymxpc2hlZE1lZGlhTGlzdENiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9zZXRPblB1Ymxpc2hlZFN0cmVhbSlwYXJhbWV0ZXIgaW5jb3JyZWN0LiBFeHBlY3RlZCBmdW5jdGlvbmApO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBVbnB1Ymxpc2hlcyB0aGUgc3RyZWFtXG5cdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBzdHJlYW0gaWRlbnRpZmllclxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIFRoZSBjYWxsYmFjayB0byB0cmlnZ2VyXG5cdCAqL1xuXHRmdW5jdGlvbiBfdW5QdWJsaXNoU3RyZWFtKHN0cmVhbUlkLCBjYWxsYmFjaykge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6dW5QdWJsaXNoU3RyZWFtKXN0cmVhbUlkICR7c3RyZWFtSWR9YCk7XG5cdFx0Y29uc3Rcblx0XHRcdGxvY2FsRGF0YVJlZiA9IGRhdGFyZWYuY2hpbGQoYHB1Ymxpc2hlZE1lZGlhTGlzdC8ke3N0cmVhbUlkfWApLFxuXHRcdFx0cmVtb3RlRGF0YVJlZiA9IGxvY2FsRGF0YVJlZi5jaGlsZCgnc3Vic2NyaWJlcnNMaXN0JyksXG5cdFx0XHRzdHJlYW1TdGFja3NJZCA9IGAke3N0cmVhbUlkfV9wdWJgO1xuXG5cdFx0aWYgKG1TdHJlYW1zW3N0cmVhbUlkXSAmJiBtU3RyZWFtc1tzdHJlYW1JZF0uYWRkU3Vic2NyaWJlcnNMaXN0Q2IpIHtcblx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIG1TdHJlYW1zW3N0cmVhbUlkXS5hZGRTdWJzY3JpYmVyc0xpc3RDYik7XG5cdFx0fVxuXHRcdGlmIChtU3RyZWFtc1tzdHJlYW1JZF0gJiYgbVN0cmVhbXNbc3RyZWFtSWRdLnJlbW92ZVN1YnNjcmliZXJzTGlzdENiKSB7XG5cdFx0XHRyZW1vdGVEYXRhUmVmLm9mZignY2hpbGRfcmVtb3ZlZCcsIG1TdHJlYW1zW3N0cmVhbUlkXS5yZW1vdmVTdWJzY3JpYmVyc0xpc3RDYik7XG5cdFx0fVxuXG5cdFx0ZGVsZXRlIG1TdHJlYW1zW3N0cmVhbUlkXTtcblx0XHRkZWxldGUgbU11dGVkU3RyZWFtc1tzdHJlYW1JZF07XG5cblx0XHRsb2NhbERhdGFSZWYub25EaXNjb25uZWN0KCkuY2FuY2VsKCk7XG5cdFx0bG9jYWxEYXRhUmVmLnJlbW92ZSgpO1xuXG5cblx0XHRpZiAocm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF0gJiYgcm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF0ubGVuZ3RoID4gMCkge1xuXHRcdFx0bGV0IG5iU3RhY2sgPSByb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXS5sZW5ndGg7XG5cdFx0XHRjb25zdCBjbG9zZUNiID0gKCkgPT4ge1xuXHRcdFx0XHRuYlN0YWNrLS07XG5cdFx0XHRcdGlmIChuYlN0YWNrIDwgMSkge1xuXHRcdFx0XHRcdGRlbGV0ZSByb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXTtcblx0XHRcdFx0XHRpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0Zm9yIChsZXQgaSA9IG5iU3RhY2sgLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHR3ZWJydGNtbmdyLmNsb3NlV2VicnRjKHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdW2ldLnN0YWNrSWQsIHRydWUsIGNsb3NlQ2IpO1xuXHRcdFx0fVxuXHRcdFx0bG9jYWxzdHJlYW0uY2xvc2UoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGVsZXRlIHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdO1xuXHRcdFx0aWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgdW5QdWJsaXNoZWQgTWVkaWFMaXN0IGxpc3RlbmVyLlxuXHQgKiBEZWZpbmVzIGNhbGxiYWNrIChyZW1vdmUgYW55IGV4aW50aW5nIG9uZSkgZm9yIDogdW5wdWJsaXNoZWQgTWVkaWEuXG5cdCAqIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIHdoZW4gYSBtZWRpYSBpcyB1bnB1Ymxpc2guXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0T25VblB1Ymxpc2hlZFN0cmVhbShwX2NiKSB7XG5cblx0XHRpZiAodW5QdWJsaXNoZWRNZWRpYUxpc3RDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0Jykub2ZmKCdjaGlsZF9yZW1vdmVkJywgdW5QdWJsaXNoZWRNZWRpYUxpc3RDYik7XG5cdFx0XHR1blB1Ymxpc2hlZE1lZGlhTGlzdENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0dW5QdWJsaXNoZWRNZWRpYUxpc3RDYiA9IChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRwX2NiKHNuYXBzaG90Lm5hbWUoKSk7XG5cdFx0XHR9O1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0Jykub24oJ2NoaWxkX3JlbW92ZWQnLCB1blB1Ymxpc2hlZE1lZGlhTGlzdENiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9zZXRPblVuUHVibGlzaGVkU3RyZWFtKXBhcmFtZXRlciBpbmNvcnJlY3QuIEV4cGVjdGVkIGZ1bmN0aW9uYCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFN1YnNjcmliZXMgdG8gYSBzdHJlYW0gYW5kIGFkZHMgY2FsbGJhY2tzIHRvIHRoZSBkZWRpY2F0ZWQgbm9kZSBhY2NvcmRpbmcgdG8gdGhlIGFjdGlvbiB0eXBlIG9mIHRoZSBzdHJlYW0gZGF0YS5cblx0ICogQHBhcmFtIHN0cmVhbURhdGEgLSBUaGUgc3RyZWFtIGRhdGFcblx0ICogQHBhcmFtIHJlbW90ZVZpZCAtIFRoZSByZW1vdGUgdmlkZW9cblx0ICogQHBhcmFtIGdldFJlbW90ZVN0cmVhbUNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgbWVkaWFzdHJlYW0gb2JqZWN0XG5cdCAqL1xuXHRmdW5jdGlvbiBfc3Vic2NyaWJlVG9TdHJlYW0oc3RyZWFtRGF0YSwgcmVtb3RlVmlkLCBnZXRSZW1vdGVTdHJlYW1DYikge1xuXHRcdGNvbnN0XG5cdFx0XHRzdHJlYW1JZCA9IE9iamVjdC5rZXlzKHN0cmVhbURhdGEpWzBdLFxuXHRcdFx0YWN0aW9uVHlwZSA9IHN0cmVhbURhdGFbc3RyZWFtSWRdLmFjdGlvblR5cGU7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpzdWJzY3JpYmVUb1N0cmVhbSlzdHJlYW1JZCAke3N0cmVhbUlkfWApO1xuXHRcdC8vdGVzdCBpZiBzdHJlYW0gaXMgbm90IG91clxuXHRcdGlmIChtU3RyZWFtcyAmJiBtU3RyZWFtc1tzdHJlYW1JZF0pIHtcblx0XHRcdC8vaXQgaXMgb3VyIHN0cmVhbSAtPiBzdWJzY3JpYmUgdG8gbG9jYWxTdHJlYW1cblx0XHRcdGlmIChhY3Rpb25UeXBlKSB7XG5cdFx0XHRcdGlmIChhY3Rpb25UeXBlID09PSBhY3Rpb25zLkFDVElPTl9UWVBFX1ZJREVPKSB7XG5cdFx0XHRcdFx0bG9jYWxzdHJlYW0uY29ubmVjdExvY2FsVmlkZW9TdHJlYW0ocmVtb3RlVmlkLCBnZXRSZW1vdGVTdHJlYW1DYik7XG5cdFx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uVHlwZSA9PT0gYWN0aW9ucy5BQ1RJT05fVFlQRV9BVURJTykge1xuXHRcdFx0XHRcdGxvY2Fsc3RyZWFtLmNvbm5lY3RMb2NhbEF1ZGlvU3RyZWFtKHJlbW90ZVZpZCwgZ2V0UmVtb3RlU3RyZWFtQ2IpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGFjdGlvblR5cGUgPT09IGFjdGlvbnMuQUNUSU9OX1RZUEVfQVVESU9fVklERU8pIHtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5jb25uZWN0TG9jYWxBdWRpb1ZpZGVvU3RyZWFtKHJlbW90ZVZpZCwgZ2V0UmVtb3RlU3RyZWFtQ2IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gc3RyZWFtSWQ7XG5cdFx0fVxuXG5cblx0XHRjb25zdFxuXHRcdFx0YXBwSW5zdGFuY2VJZCA9IHN0cmVhbURhdGFbc3RyZWFtSWRdLmFwcEluc3RhbmNlSWQsXG5cdFx0XHRsb2NhbERhdGFSZWYgPSBkYXRhcmVmLmNoaWxkKCdwdWJsaXNoZWRNZWRpYUxpc3QnKS5jaGlsZChzdHJlYW1JZCksXG5cdFx0XHRyZW1vdGVEYXRhUmVmID0gbG9jYWxEYXRhUmVmLmNoaWxkKCdzdWJzY3JpYmVyc0xpc3QnKSxcblx0XHRcdHN0cmVhbVN0YWNrc0lkID0gYCR7c3RyZWFtSWR9X3N1YmA7XG5cblx0XHRsZXQgX3BlZXJjb0lkLCBfcGVlcmNvUmVmO1xuXG5cdFx0aWYgKCFyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXSkge1xuXHRcdFx0cm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF0gPSBbXTtcblx0XHR9IGVsc2UgaWYgKHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdICYmIHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdWzBdICYmIHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdWzBdLnBlZXJjb0lkKSB7XG5cdFx0XHRfcGVlcmNvSWQgPSByb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXVswXS5wZWVyY29JZDtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gKGluY2x1ZGVkKSBhbmQgbWF4IChpbmNsdWRlZClcblx0XHQvLyBVc2luZyBNYXRoLnJvdW5kKCkgd2lsbCBnaXZlIHlvdSBhIG5vbi11bmlmb3JtIGRpc3RyaWJ1dGlvbiFcblx0XHRjb25zdCBnZXRSYW5kb21JbnRJbmNsdXNpdmUgPSAobWluLCBtYXgpID0+IHtcblx0XHRcdHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuXHRcdH07XG5cblx0XHRpZiAoIV9wZWVyY29JZCkge1xuXHRcdFx0X3BlZXJjb0lkID0gTWF0aC5mbG9vcihEYXRlLm5vdygpKS50b1N0cmluZygpICsgZ2V0UmFuZG9tSW50SW5jbHVzaXZlKDAsIDEwMDAwMDApO1xuXHRcdH1cblxuXHRcdF9wZWVyY29SZWYgPSBkYXRhcmVmcy5nZXRXZWJydGMoKS5wdXNoKCkubmFtZSgpO1xuXG5cdFx0cmVtb3RlRGF0YVJlZi5jaGlsZCh1dGlscy5hcHBJbnN0YW5jZUlkKS5zZXQoe1xuXHRcdFx0dHM6IFdlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVAsXG5cdFx0XHR1c2VySWQ6IG1lLFxuXHRcdFx0cGVlcmNvSWQ6IF9wZWVyY29JZCxcblx0XHRcdHBlZXJjb1JlZjogX3BlZXJjb1JlZlxuXHRcdH0pO1xuXG5cdFx0Y29uc3Rcblx0XHRcdGlzQXVkaW9NdXRlID0gbU11dGVkU3RyZWFtc1tzdHJlYW1JZF0gJiYgbU11dGVkU3RyZWFtc1tzdHJlYW1JZF0uYXVkaW8sXG5cdFx0XHRpc1ZpZGVvTXV0ZSA9IG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdICYmIG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLnZpZGVvO1xuXG5cdFx0Y29uc3QgbVN0YWNrSWQgPSB3ZWJydGNtbmdyLmNyZWF0ZVdlYnJ0YyhyZW1vdGVWaWQsIGFwcEluc3RhbmNlSWQsICgpID0+IHtcblx0XHRcdC8vXHRvblVuUHVibGlzaGVkU3RyZWFtKGxvY2FsVmlkLCByZW1vdGVWaWQpO1xuXHRcdH0sIGZhbHNlLCBhY3Rpb25UeXBlLCBfcGVlcmNvSWQsIF9wZWVyY29SZWYsIGlzQXVkaW9NdXRlLCBpc1ZpZGVvTXV0ZSwgZ2V0UmVtb3RlU3RyZWFtQ2IpO1xuXG5cdFx0Ly9oYW5kbGUgcmVtb3RlIHVucHVibGlzaFxuXHRcdGlmICghcmVtb3RlVW5wdWJsaXNoZWRDYikge1xuXHRcdFx0cmVtb3RlVW5wdWJsaXNoZWRDYiA9IGZ1bmN0aW9uIChzbmFwc2hvdCkge1xuXHRcdFx0XHRjb25zdCBzdHJlYW1JZCA9IGAke3NuYXBzaG90LnZhbCgpLmZyb219LXN0cmVhbWA7XG5cdFx0XHRcdGNvbnN0IHJlbW92ZWRTdHJlYW1JZCA9IGAke3N0cmVhbUlkfV9zdWJgO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06OnJlbW90ZVVucHVibGlzaGVkQ2Ipc3RyZWFtSWQgJHtyZW1vdmVkU3RyZWFtSWR9YCk7XG5cdFx0XHRcdGlmIChyb29tV2VicnRjU3RhY2tzW3JlbW92ZWRTdHJlYW1JZF0pIHtcblx0XHRcdFx0XHRsZXQgaSA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKGkgPCByb29tV2VicnRjU3RhY2tzW3JlbW92ZWRTdHJlYW1JZF0ubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHR3ZWJydGNtbmdyLmNsb3NlV2VicnRjKHJvb21XZWJydGNTdGFja3NbcmVtb3ZlZFN0cmVhbUlkXVtpXS5zdGFja0lkLCBmYWxzZSk7XG5cdFx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRlbGV0ZSByb29tV2VicnRjU3RhY2tzW3JlbW92ZWRTdHJlYW1JZF07XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdwdWJsaXNoZWRNZWRpYUxpc3QnKS5vbignY2hpbGRfcmVtb3ZlZCcsIHJlbW90ZVVucHVibGlzaGVkQ2IpO1xuXHRcdH1cblxuXHRcdHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdLnB1c2goe1xuXHRcdFx0c3RhY2tJZDogbVN0YWNrSWQsXG5cdFx0XHRpc1B1Ymxpc2g6IGZhbHNlLFxuXHRcdFx0cGVlcmNvSWQ6IF9wZWVyY29JZCxcblx0XHRcdHBlZXJjb1JlZjogX3BlZXJjb1JlZixcblx0XHRcdHN0cmVhbUlkXG5cdFx0fSk7XG5cblx0XHRyZXR1cm4gc3RyZWFtSWQ7XG5cdH1cblxuXHQvKipcblx0ICogVW5TdWJzY3JpYmUgZnJvbSBhIHN0cmVhbVxuXHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgc3RyZWFtIGlkZW50aWZpZXIgZnJvbSB3aGljaCB0aGUgdW5TdWJzY3JpcHRpb24gaGF2ZSB0byBiZSBkb25lXG5cdCAqL1xuXHRmdW5jdGlvbiBfdW5TdWJzY3JpYmVGcm9tU3RyZWFtKHN0cmVhbUlkKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjp1blN1YnNjcmliZUZyb21TdHJlYW0pc3RyZWFtSWQgJHtzdHJlYW1JZH1gKTtcblx0XHRjb25zdFxuXHRcdFx0bG9jYWxEYXRhUmVmID0gZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0JykuY2hpbGQoc3RyZWFtSWQpLFxuXHRcdFx0cmVtb3RlRGF0YVJlZiA9IGxvY2FsRGF0YVJlZi5jaGlsZCgnc3Vic2NyaWJlcnNMaXN0JyksXG5cdFx0XHRzdHJlYW1TdGFja3NJZCA9IGAke3N0cmVhbUlkfV9zdWJgO1xuXG5cdFx0cmVtb3RlRGF0YVJlZi5jaGlsZCh1dGlscy5hcHBJbnN0YW5jZUlkKS5yZW1vdmUoKTtcblxuXHRcdGlmIChyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXSkge1xuXHRcdFx0bGV0IGkgPSAwO1xuXHRcdFx0d2hpbGUgKGkgPCByb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXS5sZW5ndGgpIHtcblx0XHRcdFx0aWYgKHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdW2ldKSB7XG5cdFx0XHRcdFx0d2VicnRjbW5nci5jbG9zZVdlYnJ0Yyhyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXVtpXS5zdGFja0lkLCBmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aSsrO1xuXHRcdFx0fVxuXHRcdFx0ZGVsZXRlIHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdO1xuXHRcdH1cblx0XHRkZWxldGUgbU11dGVkU3RyZWFtc1tzdHJlYW1JZF07XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhbGwgdGhlIGF2YWlsYWJsZSBzdHJlYW1zXG5cdCAqIEByZXR1cm4ge2FycmF5fVxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldEF2YWlsYWJsZVN0cmVhbXMoKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfZ2V0QXZhaWxhYmxlU3RyZWFtcylgKTtcblx0XHRyZXR1cm4gbUF2YWlsYWJsZVN0cmVhbXM7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyBhbiBhdmFpbGFibGUgc3RyZWFtIGhhdmluZyB0aGUgaWRlbnRpZmllclxuXHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgc3RyZWFtIGlkZW50aWZpZXJcblx0ICogQHJldHVybiAtIEEgc3RyZWFtXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0QXZhaWxhYmxlU3RyZWFtKHN0cmVhbUlkKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfZ2V0QXZhaWxhYmxlU3RyZWFtKXN0cmVhbUlkPSR7c3RyZWFtSWR9YCk7XG5cdFx0aWYgKG1BdmFpbGFibGVTdHJlYW1zICYmIHN0cmVhbUlkKSB7XG5cdFx0XHRmb3IgKGxldCBpID0gbUF2YWlsYWJsZVN0cmVhbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0aWYgKG1BdmFpbGFibGVTdHJlYW1zW2ldICYmIE9iamVjdC5rZXlzKG1BdmFpbGFibGVTdHJlYW1zW2ldKVswXSAmJiBPYmplY3Qua2V5cyhtQXZhaWxhYmxlU3RyZWFtc1tpXSlbMF0gPT09IHN0cmVhbUlkKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG1BdmFpbGFibGVTdHJlYW1zW2ldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBudWxsO1xuXHR9XG5cblxuXHQvKipcblx0ICogUmVtb3ZlcyBhbGwgdGhlIHN0cmVhbXMgYnkgZGVsZXRpbmcgdGhlIGFycmF5IGNvbnRhaW5pbmcgdGhlbSB3aXRob3V0IHRyaWdnZXJyaW5nIGNhbGxiYWNrc1xuXHQgKi9cblx0ZnVuY3Rpb24gX3JlbW92ZUFsbEF2YWlsYWJsZVN0cmVhbXMoKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfcmVtb3ZlQWxsQXZhaWxhYmxlU3RyZWFtc2ApO1xuXHRcdG1BdmFpbGFibGVTdHJlYW1zID0gW107XG5cdH1cblxuXHQvKipcblx0ICogQXVkaW8gbXV0ZSB0aGUgc3RyZWFtIHN0cmVhbUlkXG5cdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBzdHJlYW0gaWRlbnRpZmllciB0byBtdXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfbXV0ZUF1ZGlvU3RyZWFtKHN0cmVhbUlkKSB7XG5cdFx0aWYgKCEoc3RyZWFtSWQgJiYgdHlwZW9mIHN0cmVhbUlkID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9tdXRlQXVkaW9TdHJlYW0pcGFyYW1ldGVyIHN0cmVhbUlkIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmdgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfbXV0ZUF1ZGlvU3RyZWFtKXN0cmVhbUlkPSR7c3RyZWFtSWR9YCk7XG5cdFx0aWYgKCFtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXSkge1xuXHRcdFx0bU11dGVkU3RyZWFtc1tzdHJlYW1JZF0gPSB7fTtcblx0XHR9XG5cdFx0bU11dGVkU3RyZWFtc1tzdHJlYW1JZF0uYXVkaW8gPSB0cnVlO1xuXG5cdFx0aWYocm9vbVdlYnJ0Y1N0YWNrcyl7XG5cdFx0XHRbcm9vbVdlYnJ0Y1N0YWNrc1tgJHtzdHJlYW1JZH1fcHViYF0sIHJvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3N1YmBdXS5mb3JFYWNoKChzdGFja3MpID0+IHtcblx0XHRcdFx0aWYoc3RhY2tzICYmIHN0YWNrcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IHN0YWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdFx0d2VicnRjbW5nci5tdXRlQXVkaW9XZWJydGNTdGFjayhzdGFja3NbaV0uc3RhY2tJZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQXVkaW8gdW5tdXRlU3RyZWFtIHRoZSBzdHJlYW0gc3RyZWFtSWRcblx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyIHRvIHVubXV0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3VubXV0ZUF1ZGlvU3RyZWFtKHN0cmVhbUlkKSB7XG5cdFx0aWYgKCEoc3RyZWFtSWQgJiYgdHlwZW9mIHN0cmVhbUlkID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol91bm11dGVBdWRpb1N0cmVhbSlwYXJhbWV0ZXIgc3RyZWFtSWQgaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZ2ApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAobU11dGVkU3RyZWFtc1tzdHJlYW1JZF0gJiYgbU11dGVkU3RyZWFtc1tzdHJlYW1JZF0uYXVkaW8pIHtcblx0XHRcdG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLmF1ZGlvID0gZmFsc2U7XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3VubXV0ZUF1ZGlvU3RyZWFtKXN0cmVhbUlkPSR7c3RyZWFtSWR9YCk7XG5cdFx0aWYocm9vbVdlYnJ0Y1N0YWNrcyl7XG5cdFx0XHRbcm9vbVdlYnJ0Y1N0YWNrc1tgJHtzdHJlYW1JZH1fcHViYF0sIHJvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3N1YmBdXS5mb3JFYWNoKChzdGFja3MpID0+IHtcblx0XHRcdFx0aWYoc3RhY2tzICYmIHN0YWNrcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IHN0YWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdFx0d2VicnRjbW5nci51bm11dGVBdWRpb1dlYnJ0Y1N0YWNrKHN0YWNrc1tpXS5zdGFja0lkKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBWaWRlbyBtdXRlIHRoZSBzdHJlYW0gc3RyZWFtSWRcblx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyIHRvIG11dGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlVmlkZW9TdHJlYW0oc3RyZWFtSWQpIHtcblx0XHRpZiAoIShzdHJlYW1JZCAmJiB0eXBlb2Ygc3RyZWFtSWQgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X211dGVWaWRlb1N0cmVhbSlwYXJhbWV0ZXIgc3RyZWFtSWQgaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZ2ApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9tdXRlVmlkZW9TdHJlYW0pc3RyZWFtSWQ9JHtzdHJlYW1JZH1gKTtcblx0XHRpZiAoIW1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdKSB7XG5cdFx0XHRtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXSA9IHt9O1xuXHRcdH1cblx0XHRtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXS52aWRlbyA9IHRydWU7XG5cblx0XHRpZihyb29tV2VicnRjU3RhY2tzKXtcblx0XHRcdFtyb29tV2VicnRjU3RhY2tzW2Ake3N0cmVhbUlkfV9wdWJgXSwgcm9vbVdlYnJ0Y1N0YWNrc1tgJHtzdHJlYW1JZH1fc3ViYF1dLmZvckVhY2goKHN0YWNrcykgPT4ge1xuXHRcdFx0XHRpZihzdGFja3MgJiYgc3RhY2tzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gc3RhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdFx0XHR3ZWJydGNtbmdyLm11dGVWaWRlb1dlYnJ0Y1N0YWNrKHN0YWNrc1tpXS5zdGFja0lkKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBWaWRlbyB1bm11dGVTdHJlYW0gdGhlIHN0cmVhbSBzdHJlYW1JZFxuXHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgc3RyZWFtIGlkZW50aWZpZXIgdG8gdW5tdXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfdW5tdXRlVmlkZW9TdHJlYW0oc3RyZWFtSWQpIHtcblx0XHRpZiAoIShzdHJlYW1JZCAmJiB0eXBlb2Ygc3RyZWFtSWQgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3VubXV0ZVZpZGVvU3RyZWFtKXBhcmFtZXRlciBzdHJlYW1JZCBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nYCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXSAmJiBtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXS52aWRlbykge1xuXHRcdFx0bU11dGVkU3RyZWFtc1tzdHJlYW1JZF0udmlkZW8gPSBmYWxzZTtcblx0XHR9XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfdW5tdXRlVmlkZW9TdHJlYW0pc3RyZWFtSWQ9JHtzdHJlYW1JZH1gKTtcblx0XHRpZihyb29tV2VicnRjU3RhY2tzKXtcblx0XHRcdFtyb29tV2VicnRjU3RhY2tzW2Ake3N0cmVhbUlkfV9wdWJgXSwgcm9vbVdlYnJ0Y1N0YWNrc1tgJHtzdHJlYW1JZH1fc3ViYF1dLmZvckVhY2goKHN0YWNrcykgPT4ge1xuXHRcdFx0XHRpZihzdGFja3MgJiYgc3RhY2tzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gc3RhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdFx0XHR3ZWJydGNtbmdyLnVubXV0ZVZpZGVvV2VicnRjU3RhY2soc3RhY2tzW2ldLnN0YWNrSWQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblxuXHQvKipcblx0ICogQ2xvc2VzIHRoZSByb29tLlxuXHQgKiBTZXRzIHRoZSBjb25uZWN0ZWQgc3RhdHVzIG9mIHRoZSBjdXJyZW50IHBhcnRpY2lwYW50IHRvIGZhbHNlLCBkZWxldGVzIG1lZGlhcyBhbmQgY2FsbGJhY2tzLCB0aGVuIGNsb3NlIFdlYlJUQyBzdGFja3MgaW4gdXNlLlxuXHQgKiBAcGFyYW0gdXBkYXRlUm9vbVN0YXR1c1RvQ2xvc2UgLSB0cnVlIGlmIHRoZSByb29tIHNob3VsZCBiZSBtYXJrZWQgYXMgY2xvc2VkXG5cdCAqL1xuXHRmdW5jdGlvbiBfY2xvc2UodXBkYXRlUm9vbVN0YXR1c1RvQ2xvc2UpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9jbG9zZSlyb29tICR7cm9vbUlkfSwgZGV0cm95Um9vbT0ke3VwZGF0ZVJvb21TdGF0dXNUb0Nsb3NlfWApO1xuXG5cdFx0Y29uc3Rcblx0XHRcdHBhcnRpY2lwYW50TGlzdFJlZiA9IGRhdGFyZWYuY2hpbGQoJ3BhcnRpY2lwYW50TGlzdCcpLFxuXHRcdFx0cHVibGlzaGVkTWVkaWFMaXN0UmVmID0gZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0Jyk7XG5cblx0XHQvLyBtYXJrIGFzIGRpc2Nvbm5lY3RlZCB3aGVuIHRoZSByb29tIGlzIGxlZnRcblx0XHRwYXJ0aWNpcGFudExpc3RSZWYuY2hpbGQoYCR7bWV9L2Nvbm5lY3RlZGApLnNldChmYWxzZSk7XG5cblx0XHQvLyByZW1vdmUgd2ViY29tIGNhbGxiYWNrc1xuXHRcdE9iamVjdC5rZXlzKG1TdHJlYW1zKS5mb3JFYWNoKF91blB1Ymxpc2hTdHJlYW0pO1xuXHRcdG1TdHJlYW1zID0gW107XG5cblx0XHRpZiAoaW5zdGFudE1lc3NhZ2VMaXN0Q2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ2luc3RhbnRNZXNzYWdlTGlzdCcpLm9mZignY2hpbGRfYWRkZWQnLCBpbnN0YW50TWVzc2FnZUxpc3RDYik7XG5cdFx0XHRpbnN0YW50TWVzc2FnZUxpc3RDYiA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChwdWJsaXNoZWRNZWRpYUxpc3RDYikge1xuXHRcdFx0cHVibGlzaGVkTWVkaWFMaXN0UmVmLm9mZignY2hpbGRfYWRkZWQnLCBwdWJsaXNoZWRNZWRpYUxpc3RDYik7XG5cdFx0XHRwdWJsaXNoZWRNZWRpYUxpc3RDYiA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChwdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSkge1xuXHRcdFx0cHVibGlzaGVkTWVkaWFMaXN0UmVmLm9mZignY2hpbGRfYWRkZWQnLCBwdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSk7XG5cdFx0XHRwdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHVuUHVibGlzaGVkTWVkaWFMaXN0Q2IpIHtcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdFJlZi5vZmYoJ2NoaWxkX3JlbW92ZWQnLCB1blB1Ymxpc2hlZE1lZGlhTGlzdENiKTtcblx0XHRcdHVuUHVibGlzaGVkTWVkaWFMaXN0Q2IgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmICh1blB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtKSB7XG5cdFx0XHRwdWJsaXNoZWRNZWRpYUxpc3RSZWYub2ZmKCdjaGlsZF9yZW1vdmVkJywgdW5QdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSk7XG5cdFx0XHR1blB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocGFydGljaXBhbnRMaXN0Sm9pbkFkZGVkQ2IpIHtcblx0XHRcdHBhcnRpY2lwYW50TGlzdFJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgcGFydGljaXBhbnRMaXN0Sm9pbkFkZGVkQ2IpO1xuXHRcdFx0cGFydGljaXBhbnRMaXN0Sm9pbkFkZGVkQ2IgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChwYXJ0aWNpcGFudExpc3RKb2luQ2hhbmdlZENiKSB7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RSZWYub2ZmKCdjaGlsZF9jaGFuZ2VkJywgcGFydGljaXBhbnRMaXN0Sm9pbkNoYW5nZWRDYik7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RKb2luQ2hhbmdlZENiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocGFydGljaXBhbnRMaXN0TGVhdmVDYikge1xuXHRcdFx0cGFydGljaXBhbnRMaXN0UmVmLm9mZignY2hpbGRfY2hhbmdlZCcsIHBhcnRpY2lwYW50TGlzdExlYXZlQ2IpO1xuXHRcdFx0cGFydGljaXBhbnRMaXN0TGVhdmVDYiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHJlbW90ZVVucHVibGlzaGVkQ2IpIHtcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdFJlZi5vZmYoJ2NoaWxkX3JlbW92ZWQnLCByZW1vdGVVbnB1Ymxpc2hlZENiKTtcblx0XHRcdHJlbW90ZVVucHVibGlzaGVkQ2IgPSBudWxsO1xuXHRcdH1cblxuXHRcdC8vIGNsb3NlIGFsbCB3ZWJydGMgc3RhY2tzXG5cdFx0T2JqZWN0LmtleXMocm9vbVdlYnJ0Y1N0YWNrcykuZm9yRWFjaCgoc3RyZWFtU3RhY2tzSWQpID0+IHtcblx0XHRcdHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdLmZvckVhY2goKHN0YWNrKSA9PiB7XG5cdFx0XHRcdGlmIChzdHJlYW1TdGFja3NJZCAmJiBzdGFjaykge1xuXHRcdFx0XHRcdGNvbnN0IF9zdHJlYW1JZD1zdGFjay5zdHJlYW1JZDtcblx0XHRcdFx0XHRjb25zdCBfc3RhY2tJZD1zdGFjay5zdGFja0lkO1xuXHRcdFx0XHRcdGNvbnN0IF9pc1B1Ymxpc2g9c3RhY2suaXNQdWJsaXNoO1xuXHRcdFx0XHRcdGlmIChfaXNQdWJsaXNoKSB7XG5cdFx0XHRcdFx0XHRfdW5QdWJsaXNoU3RyZWFtKF9zdHJlYW1JZCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdF91blN1YnNjcmliZUZyb21TdHJlYW0oX3N0cmVhbUlkKTtcblx0XHRcdFx0XHR9XHQgICAgXG5cdFx0XHRcdFx0c2V0VGltZW91dCgoKSA9PiB7IFxuXHRcdFx0XHRcdFx0d2VicnRjbW5nci5jbGVhcldlYnJ0Y1N0YWNrcyhfc3RhY2tJZCk7XG5cdFx0XHRcdFx0fSwgMTAwMCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0cm9vbVdlYnJ0Y1N0YWNrcz17fTtcblx0XHRcdG1NdXRlZFN0cmVhbXM9W107ICAgIFx0ICAgICAgICBcblx0XHRcdF9yZW1vdmVBbGxBdmFpbGFibGVTdHJlYW1zKCk7XG5cdFx0fSwgMTEwMCk7XG5cdFx0XG5cdFx0aWYgKHVwZGF0ZVJvb21TdGF0dXNUb0Nsb3NlICYmIHVwZGF0ZVJvb21TdGF0dXNUb0Nsb3NlID09PSB0cnVlKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdjb21tb25EYXRhTGlzdC9zdGF0dXMnKS5zZXQoUk9PTV9TVEFUVVNfQ0xPU0UpO1xuXHRcdH1cblxuXHRcdC8vIEZvcmNlIGxvY2Fsc3RyZWFtIGNsb3NlXG5cdFx0bG9jYWxzdHJlYW0uY2xvc2UoKTtcblx0fVxuXG5cdGluaXQoKTtcblxuXHRyZXR1cm4ge1xuXHRcdC8qKlxuXHRcdCAqIFJldHVybiB0aGUgcm9vbSBpZGVudGlmaWVyXG5cdFx0ICogQHJldHVybiB7c3RyaW5nfSAtIFRoZSByb29tIGlkZW50aWZpZXJcblx0XHQgKi9cblx0XHRnZXRSb29tSWQ6IF9nZXRSb29tSWQsXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgdXNlciBpZGVudGlmaWVyXG5cdFx0ICogQHJldHVybiB7c3RyaW5nfSAtIFRoZSB1c2VyIGlkZW50aWZpZXJcblx0XHQgKi9cblx0XHRnZXRNZTogX2dldE1lLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIHBhcnRpY2lwYW50IGhhcyBqb2luZWQgdGhlIHJvb21cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrXG5cdFx0ICovXG5cdFx0c2V0T25QYXJ0aWNpcGFudEpvaW46IF9zZXRPblBhcnRpY2lwYW50Sm9pbixcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSBwYXJ0aWNpcGFudCBoYXMgbGVmdCB0aGUgcm9vbVxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2tcblx0XHQgKi9cblx0XHRzZXRPblBhcnRpY2lwYW50TGVhdmU6IF9zZXRPblBhcnRpY2lwYW50TGVhdmUsXG5cdFx0LyoqXG5cdFx0ICogU2VuZHMgYW4gaW5zdGFudCBtZXNzYWdlXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgZW1zc2FnZSB0byBzZW5kXG5cdFx0ICogQHJldHVybiBub3RoaW5nXG5cdFx0ICovXG5cdFx0c2VuZEluc3RhbnRNZXNzYWdlOiBfc2VuZEluc3RhbnRNZXNzYWdlLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgdG8gc2VuZCBhbiBpbnN0YW50IG1lc3NhZ2Vcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrXG5cdFx0ICovXG5cdFx0c2V0T25JbnN0YW50TWVzc2FnZTogX3NldE9uSW5zdGFudE1lc3NhZ2UsXG5cdFx0LyoqXG5cdFx0ICogUHVibGlzaGVzIGEgc3RyZWFtXG5cdFx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIGlkZW50aWZpZXIgb2YgdGhlIHN0cmVhbSB0byBwdWJsaXNoXG5cdFx0ICogQHBhcmFtIGxvY2FsVmlkIC0gVGhlIGxvY2FsIHZpZGVvXG5cdFx0ICogQHBhcmFtIGFjdGlvblR5cGUgLVxuXHRcdCAqIEBwYXJhbSBnZXRTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHRcdCAqIEByZXR1cm4gbm90aGluZ1xuXHRcdCAqL1xuXHRcdHB1Ymxpc2hTdHJlYW06IF9wdWJsaXNoU3RyZWFtLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXJ3aGVuIGEgc3RyZWFtIGhhcyBiZWVuIHB1Ymxpc2hlZFxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2tcblx0XHQgKi9cblx0XHRzZXRPblB1Ymxpc2hlZFN0cmVhbTogX3NldE9uUHVibGlzaGVkU3RyZWFtLFxuXHRcdC8qKlxuXHRcdCAqIFVucHVibGlzaGVzIHRoZSBzdHJlYW1cblx0XHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgaWRlbnRpZmllciBvZiB0aGUgc3RyZWFtIHRvIHVucHVibGlzaFxuXHRcdCAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBjbGFsYmFjayB0byB0cmlnZ2VyIHdoZW4gdGhlIHN0cmVhbSBoYXMgYmVlbiB1bnB1Ymxpc2hlZFxuXHRcdCAqL1xuXHRcdHVuUHVibGlzaFN0cmVhbTogX3VuUHVibGlzaFN0cmVhbSxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSBzdHJlYW0gaGFzIGJlZW4gdW5wdWJsaXNoZWRcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrXG5cdFx0ICovXG5cdFx0c2V0T25VblB1Ymxpc2hlZFN0cmVhbTogX3NldE9uVW5QdWJsaXNoZWRTdHJlYW0sXG5cblx0XHQvKipcblx0XHQgKiBTdWJzY3JpYmVzIHRvIGEgc3RyZWFtXG5cdFx0ICogQHBhcmFtIHN0cmVhbURhdGEgLSBUaGUgc3RyZWFtIGRhdGFcblx0XHQgKiBAcGFyYW0gcmVtb3RlVmlkIC0gVGhlIHJlbW90ZSB2aWRlb1xuXHRcdCAqIEBwYXJhbSBnZXRTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHRcdCAqIEByZXR1cm4gbm90aGluZ1xuXHRcdCAqL1xuXHRcdHN1YnNjcmliZVRvU3RyZWFtOiBfc3Vic2NyaWJlVG9TdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogVW5zdWJjcmliZXMgZnJvbSBhIHN0cmVhbVxuXHRcdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBzdHJlYW0gdG8gdW5zdWJzY3JpYmVcblx0XHQgKi9cblx0XHR1blN1YnNjcmliZUZyb21TdHJlYW06IF91blN1YnNjcmliZUZyb21TdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyBhbGwgdGhlIGF2YWlsYWJsZSBzdHJlYW1zXG5cdFx0ICogQHJldHVybiB7YXJyYXl9IC0gVGhlIGF2YWlsYWJsZSBzdHJlYW1zXG5cdFx0ICovXG5cdFx0Z2V0QXZhaWxhYmxlU3RyZWFtczogX2dldEF2YWlsYWJsZVN0cmVhbXMsXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgc3RyZWFtIG1hdGNoaW5nIHRoZSBpZGVudGlmaWVyXG5cdFx0ICogQHBhcmFtIHN0cmVhbSAtIFRoZSBzdHJlYW0gaWRlbnRpZmllclxuXHRcdCAqL1xuXHRcdGdldEF2YWlsYWJsZVN0cmVhbTogX2dldEF2YWlsYWJsZVN0cmVhbSxcblx0XHQvKipcblx0XHQgKiAgbXV0ZSBhdWRpbyB0aGUgc3RyZWFtIHN0cmVhbUlkXG5cdFx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyIHRvIG11dGVcblx0XHQgKi9cblx0XHRtdXRlQXVkaW9TdHJlYW06IF9tdXRlQXVkaW9TdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogdW5tdXRlIGF1ZGlvIHRoZSBzdHJlYW0gc3RyZWFtSWRcblx0XHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgc3RyZWFtIGlkZW50aWZpZXIgdG8gbXV0ZVxuXHRcdCAqL1xuXHRcdHVubXV0ZUF1ZGlvU3RyZWFtOiBfdW5tdXRlQXVkaW9TdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogIG11dGUgVmlkZW8gdGhlIHN0cmVhbSBzdHJlYW1JZFxuXHRcdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBzdHJlYW0gaWRlbnRpZmllciB0byBtdXRlXG5cdFx0ICovXG5cdFx0bXV0ZVZpZGVvU3RyZWFtOiBfbXV0ZVZpZGVvU3RyZWFtLFxuXHRcdC8qKlxuXHRcdCAqIHVubXV0ZSBWaWRlbyB0aGUgc3RyZWFtIHN0cmVhbUlkXG5cdFx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyIHRvIG11dGVcblx0XHQgKi9cblx0XHR1bm11dGVWaWRlb1N0cmVhbTogX3VubXV0ZVZpZGVvU3RyZWFtLFxuXHRcdC8qKlxuXHRcdCAqIENsb3NlcyB0aGUgcm9vbS5cblx0XHQgKiBTZXRzIHRoZSBjb25uZWN0ZWQgc3RhdHVzIG9mIHRoZSBjdXJyZW50IHBhcnRpY2lwYW50IHRvIGZhbHNlLCBkZWxldGVzIG1lZGlhcyBhbmQgY2FsbGJhY2tzLCB0aGVuIGNsb3NlIFdlYlJUQyBzdGFja3MgaW4gdXNlLlxuXHRcdCAqIEBwYXJhbSB1cGRhdGVSb29tU3RhdHVzVG9DbG9zZSAtIHRydWUgaWYgdGhlIHJvb20gc2hvdWxkIGJlIG1hcmtlZCBhcyBjbG9zZWRcblx0XHQgKi9cblx0XHRjbG9zZTogX2Nsb3NlLFxuXHRcdC8qKlxuXHRcdCAqIENhbGxzIHRoZSBtYWNoaW5nIGZ1bmN0aW9uIGZvciBhIGRlZGljYXRlZCBldmVudFxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBldnQgLSBUaGUgZXZlbnQsIGluIFwiaW5zdGFudE1lc3NhZ2VcIiwgXCJwdWJsaXNoZWRTdHJlYW1cIiwgXCJ1blB1Ymxpc2hlZFN0cmVhbVwiLCBcInBhcnRpY2lwYW50Sm9pblwiLCBcInBhcnRpY2lwYW50TGVhdmVcIlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2sgdG8gY2FsbFxuXHRcdCAqL1xuXHRcdG9uOiAoZXZ0LCBwX2NiKSA9PiB7XG5cdFx0XHRzd2l0Y2ggKGV2dCkge1xuXHRcdFx0Y2FzZSAnaW5zdGFudE1lc3NhZ2UnOlxuXHRcdFx0XHRfc2V0T25JbnN0YW50TWVzc2FnZShwX2NiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdwdWJsaXNoZWRTdHJlYW0nOlxuXHRcdFx0XHRfc2V0T25QdWJsaXNoZWRTdHJlYW0ocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAndW5QdWJsaXNoZWRTdHJlYW0nOlxuXHRcdFx0XHRfc2V0T25VblB1Ymxpc2hlZFN0cmVhbShwX2NiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdwYXJ0aWNpcGFudEpvaW4nOlxuXHRcdFx0XHRfc2V0T25QYXJ0aWNpcGFudEpvaW4ocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAncGFydGljaXBhbnRMZWF2ZSc6XG5cdFx0XHRcdF9zZXRPblBhcnRpY2lwYW50TGVhdmUocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0Y29uc29sZS5lcnIoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpvbil1bnN1cHBvcnRlZCAke2V2dH0gZXZlbnRgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3Jvb20uanNcbiAqKi8iLCIvKipcbiAqIEBmaWxlIGxvY2Fsc3RyZWFtLmpzIC0gSlMgZmlsZSB0byBoYW5kbGUgbG9jYWwgc3RyZWFtcy5cbiAqIEBkZXNjcmlwdGlvbiBQcm92aWRlcyBkYXRhIHN0cnVjdHVyZXMgdG8gc3RvcmUgYW5kIGhhbmRsZSB2aWRlbywgYXVkaW8gYW5kIHZpZGVvLWFuZC1hdWRpbyBzdHJlYW1zLiBUaGUgYXVkaW8gYW5kIHZpZGVvIHN0cmVhbXMgYXJlIG1hbmFnZWQgdG9vLlxuICogSW5pdGlhbGl6YXRpb24gbWV0aG9kcyBhcmUgcHJvdmlkZWQsIHN0cmVhbSBjb25uZWN0aW9ucyBhbmQgbGlzdGVuZXJzIHRvby5cbiAqIEBhdXRob3IgV2ViY29tXG4gKi9cblxuLyplc2xpbnQgY29tcGxleGl0eToxLCBtYXgtc3RhdGVtZW50czogMSwgbWF4LWxlbjogMSovXG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZGVzY3JpcHRpb24gVGhlIGxvY2FsIHN0cmVhbSBvYmplY3Qgd2l0aCBpdHMgc3RyZWFtcywgZmxhZ3MgYW5kIGNhbGxiYWNrcy4gSXQgaXMgYSBzaW5nbGV0b24uXG4gKi9cbmNvbnN0IGxvY2Fsc3RyZWFtID0gKGZ1bmN0aW9uKCkge1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGxvY2FsIHZpZGVvIHN0cmVhbXMsIGFzIEhUTUwgdmlkZW8gb2JqZWN0cywgaW4gYW4gYXJyYXlcblx0ICovXG5cdGxldCBsb2NhbFZpZGVvU3RyZWFtcyA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBsb2NhbCBhdWRpbyBzdHJlYW1zLCBhcyBIVE1MIHZpZGVvIG9iamVjdHMsIGluIGFuIGFycmF5XG5cdCAqL1xuXHRsZXQgbG9jYWxBdWRpb1N0cmVhbXMgPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgbG9jYWwgYXVkaW8gYW5kIHZpZGVvIHN0cmVhbXMsIGFzIEhUTUwgdmlkZW8gb2JqZWN0cywgaW4gYW4gYXJyYXlcblx0ICovXG5cdGxldCBsb2NhbEF1ZGlvVmlkZW9TdHJlYW1zID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHZpZGVvIHN0cmVhbSBvYmplY3Rcblx0ICovXG5cdGxldCBzdHJlYW1WaWRlbyA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGF1ZGlvIHN0cmVhbSBvYmplY3Rcblx0ICovXG5cdGxldCBzdHJlYW1BdWRpbyA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHZpZGVvIGFuZCBhdWRpbyBzdHJlYW0gb2JqZWN0XG5cdCAqL1xuXHRsZXQgc3RyZWFtQXVkaW9WaWRlbyA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyB2aWRlbyBsaXN0ZW5lcnMgYXMgZnVuY3Rpb25zLiBUaGVzZSBsaXN0ZW5lcnMgd2lsbCBiZSB0cmlnZ2VyZWQgaWYgdGhlIHZpZGVvIHN0cmVhbSBpcyBlc3RhYmxpc2hlZC5cblx0ICovXG5cdGxldCBsaXN0ZW5lcnNWaWRlbyA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIGFycmF5IGNvbnRhaW5pbmcgYXVkaW8gbGlzdGVuZXJzIGFzIGZ1bmN0aW9ucy4gVGhlc2UgbGlzdGVuZXJzIHdpbGwgYmUgdHJpZ2dlcmVkIGlmIHRoZSBhdWRpbyBzdHJlYW0gaXMgZXN0YWJsaXNoZWQuXG5cdCAqL1xuXHRsZXQgbGlzdGVuZXJzQXVkaW8gPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIGF1ZGlvIGFuZCB2aWRlbyBsaXN0ZW5lcnMgYXMgZnVuY3Rpb25zLiBUaGVzZSBsaXN0ZW5lcnMgd2lsbCBiZSB0cmlnZ2VyZWQgaWYgdGhlIHZpZGUtYW5kLWF1ZGlvIHN0cmVhbSBpcyBlc3RhYmxpc2hlZC5cblx0ICovXG5cdGxldCBsaXN0ZW5lcnNBdWRpb1ZpZGVvID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGxvY2FsIHZpZGVvIHN0cmVhbSwgYXMgYW4gSFRNTCB2aWRlbyBlbGVtZW50XG5cdCAqL1xuXHRsZXQgbUxvY2FsU3RyZWFtVmlkZW8gPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBsb2NhbCBhdWRpbyBzdHJlYW0sIGFzIGFuIEhUTUwgdmlkZW8gZWxlbWVudFxuXHQgKi9cblx0bGV0IG1Mb2NhbFN0cmVhbUF1ZGlvID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgbG9jYWwgYXVkaW8gYW5kIHZpZGVvIHN0cmVhbSwgYXMgYW4gSFRNTCB2aWRlbyBlbGVtZW50XG5cdCAqL1xuXHRsZXQgbUxvY2FsU3RyZWFtQXVkaW9WaWRlbyA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZSB2aWRlbyBpbml0aWFsaXNhdGlvbiBpcyBpbiBwcm9ncmVzc1xuXHQgKi9cblx0bGV0IGluaXRWaWRlb1Byb2dyZXNzID0gZmFsc2U7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZSBhdWRpbyBpbml0aWFsaXNhdGlvbiBpcyBpbiBwcm9ncmVzc1xuXHQgKi9cblx0bGV0IGluaXRBdWRpb1Byb2dyZXNzID0gZmFsc2U7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZSBhdWRpbyBhbmQgdmlkZW8gaW5pdGlhbGlzYXRpb24gaXMgaW4gcHJvZ3Jlc3Ncblx0ICovXG5cdGxldCBpbml0QXVkaW9WaWRlb1Byb2dyZXNzID0gZmFsc2U7XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSB2aWRlbyBsb2NhbCBzdHJlYW0uXG5cdCAqIFRoZSB3ZWIgYnJvd3NlcidzIHVzZXIgbWVkaWEgd2lsbCBiZSBjYWxsZWQsIHNvIHRoZSBicm93c2VyIGluIHVzZSBtdXN0IGJlIHJlY2VudCAoRmlyZWZveCAxNywgQ2hyb21lIDIxLCBPcGVyYSAxOCBhbmQgbGF0ZXIgdmVyc2lvbnMpLlxuXHQgKiBBIHZpZGVvIGVsZW1lbnQgd2lsbCBiZSBjcmVhdGVkLCBhbmQgcHVzaGVkIHRvIHRoZSBsb2NhbCBzdHJlYW1zIG9iamVjdHMuIFRoZSBjYXRjaGVkIHZpZGVvIGFuZCBhdWRpbyBzdHJlYW0gd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgY3JlYXRlZCBIVE1MIGVsZW1lbnQuXG5cdCAqIExpc3RlbmVycyB3aWxsIGFsc28gYmUgY2FsbGVkLlxuXHQgKi9cblx0ZnVuY3Rpb24gaW5pdFZpZGVvKGNhbGxiYWNrKXtcblx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjpsb2NhbHN0cmVhbTo6aW5pdFZpZGVvKScpO1xuXHRcdGlmICghIGluaXRWaWRlb1Byb2dyZXNzKSB7XG5cdFx0XHRpbml0VmlkZW9Qcm9ncmVzcz10cnVlO1xuXG5cdFx0XHRuYXZpZ2F0b3IuZ2V0TWVkaWEgPSBnZXRVc2VyTWVkaWE7XG5cdFx0XHRtTG9jYWxTdHJlYW1WaWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1ZJREVPJyk7XG5cdFx0XHRtTG9jYWxTdHJlYW1WaWRlby5tdXRlZD0gdHJ1ZTtcblx0XHRcdGxvY2FsVmlkZW9TdHJlYW1zLnB1c2gobUxvY2FsU3RyZWFtVmlkZW8pO1xuXG5cdFx0XHRpZihzdHJlYW1WaWRlbyA9PT0gbnVsbCl7XG5cdFx0XHRcdG5hdmlnYXRvci5nZXRNZWRpYSh7YXVkaW8gOiBmYWxzZSx2aWRlbyA6IHRydWV9LFxuXHRcdFx0XHRcdChzKSA9PiB7XG5cdFx0XHRcdFx0XHRzdHJlYW1WaWRlbyA9IHM7XG5cblx0XHRcdFx0XHRcdGxvY2FsVmlkZW9TdHJlYW1zLmZvckVhY2goKGxvY2FsVmlkZW9TdHJlYW0pID0+IHtcblx0XHRcdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0obG9jYWxWaWRlb1N0cmVhbSwgc3RyZWFtVmlkZW8pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRsb2NhbFZpZGVvU3RyZWFtcyA9IFtdO1xuXG5cdFx0XHRcdFx0XHRsaXN0ZW5lcnNWaWRlby5mb3JFYWNoKChsaXN0ZW5lclZpZGVvKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGxpc3RlbmVyVmlkZW8oc3RyZWFtVmlkZW8pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lcnNWaWRlbyA9IFtdO1xuXG5cdFx0XHRcdFx0XHRpbml0VmlkZW9Qcm9ncmVzcz1mYWxzZTtcblxuXHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQoZXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG9uIHdlYnJ0Y0xvY2FsU3RyZWFtIC0gd2Via2l0R2V0VXNlck1lZGlhIDogZXJyb3I9Jyk7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmRpcihlcnJvcik7XG5cdFx0XHRcdFx0XHRpbml0VmlkZW9Qcm9ncmVzcyA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soZXJyb3IpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxvY2FsVmlkZW9TdHJlYW1zLmZvckVhY2goKGxvY2FsVmlkZW9TdHJlYW0pID0+IHtcblx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShsb2NhbFZpZGVvU3RyZWFtLCBzdHJlYW1WaWRlbyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRsb2NhbFZpZGVvU3RyZWFtcyA9IFtdO1xuXG5cdFx0XHRcdGxpc3RlbmVyc1ZpZGVvLmZvckVhY2goKGxpc3RlbmVyVmlkZW8pID0+IHtcblx0XHRcdFx0XHRsaXN0ZW5lclZpZGVvKHN0cmVhbVZpZGVvKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGxpc3RlbmVyc1ZpZGVvID0gW107XG5cblx0XHRcdFx0aW5pdFZpZGVvUHJvZ3Jlc3MgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIHZpZGVvIGxvY2FsIHN0cmVhbS5cblx0ICogVGhlIHdlYiBicm93c2VyJ3MgdXNlciBtZWRpYSB3aWxsIGJlIGNhbGxlZCwgc28gdGhlIGJyb3dzZXIgaW4gdXNlIG11c3QgYmUgcmVjZW50IChGaXJlZm94IDE3LCBDaHJvbWUgMjEsIE9wZXJhIDE4IGFuZCBsYXRlciB2ZXJzaW9ucykuXG5cdCAqIEEgdmlkZW8gZWxlbWVudCB3aWxsIGJlIGNyZWF0ZWQsIGFuZCBwdXNoZWQgdG8gdGhlIGxvY2FsIHN0cmVhbXMgb2JqZWN0cy4gVGhlIGNhdGNoZWQgYXVkaW8gc3RyZWFtIHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlIGNyZWF0ZWQgSFRNTCBlbGVtZW50LlxuXHQgKiBMaXN0ZW5lcnMgd2lsbCBhbHNvIGJlIGNhbGxlZC5cblx0ICovXG5cdGZ1bmN0aW9uIGluaXRBdWRpbyhjYWxsYmFjaykge1xuXHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OmxvY2Fsc3RyZWFtOjppbml0QXVkaW8pJyk7XG5cdFx0aWYgKCEgaW5pdEF1ZGlvUHJvZ3Jlc3MpIHtcblx0XHRcdGluaXRBdWRpb1Byb2dyZXNzPXRydWU7XG5cblx0XHRcdG5hdmlnYXRvci5nZXRNZWRpYSA9IGdldFVzZXJNZWRpYTtcblx0XHRcdG1Mb2NhbFN0cmVhbUF1ZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnQVVESU8nKTtcblx0XHRcdG1Mb2NhbFN0cmVhbUF1ZGlvLm11dGVkPSB0cnVlO1xuXHRcdFx0bG9jYWxBdWRpb1N0cmVhbXMucHVzaChtTG9jYWxTdHJlYW1BdWRpbyk7XG5cblx0XHRcdGlmKHN0cmVhbUF1ZGlvID09PSBudWxsKXtcblx0XHRcdFx0bmF2aWdhdG9yLmdldE1lZGlhKHthdWRpbyA6IHRydWUsdmlkZW8gOiBmYWxzZX0sXG5cdFx0XHRcdFx0KHMpID0+IHtcblx0XHRcdFx0XHRcdHN0cmVhbUF1ZGlvID0gcztcblx0XHRcdFx0XHRcdGxvY2FsQXVkaW9TdHJlYW1zLmZvckVhY2goKGxvY2FsQXVkaW9TdHJlYW0pID0+IHtcblx0XHRcdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0obG9jYWxBdWRpb1N0cmVhbSwgc3RyZWFtQXVkaW8pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRsb2NhbEF1ZGlvU3RyZWFtcyA9IFtdO1xuXG5cdFx0XHRcdFx0XHRsaXN0ZW5lcnNBdWRpby5mb3JFYWNoKChsaXN0ZW5lckF1ZGlvKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGxpc3RlbmVyQXVkaW8oc3RyZWFtQXVkaW8pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lcnNBdWRpbyA9IFtdO1xuXG5cdFx0XHRcdFx0XHRpbml0QXVkaW9Qcm9ncmVzcyA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdChlcnJvcikgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3Igb24gd2VicnRjTG9jYWxTdHJlYW0gLSB3ZWJraXRHZXRVc2VyTWVkaWEgOmVycm9yPScpO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5kaXIoZXJyb3IpO1xuXHRcdFx0XHRcdFx0aW5pdEF1ZGlvUHJvZ3Jlc3M9ZmFsc2U7XG5cblx0XHRcdFx0XHRcdGlmIChjYWxsYmFjaykge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayhlcnJvcik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bG9jYWxBdWRpb1N0cmVhbXMuZm9yRWFjaCgobG9jYWxBdWRpb1N0cmVhbSkgPT4ge1xuXHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKGxvY2FsQXVkaW9TdHJlYW0sIHN0cmVhbUF1ZGlvKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGxvY2FsQXVkaW9TdHJlYW1zID0gW107XG5cblx0XHRcdFx0bGlzdGVuZXJzQXVkaW8uZm9yRWFjaCgobGlzdGVuZXJBdWRpbykgPT4ge1xuXHRcdFx0XHRcdGxpc3RlbmVyQXVkaW8oc3RyZWFtQXVkaW8pO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0bGlzdGVuZXJzQXVkaW8gPSBbXTtcblxuXHRcdFx0XHRpbml0QXVkaW9Qcm9ncmVzcyA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgYXVkaW8tYW5kLXZpZGVvIGxvY2FsIHN0cmVhbS5cblx0ICogVGhlIHdlYiBicm93c2VyJ3MgdXNlciBtZWRpYSB3aWxsIGJlIGNhbGxlZCwgc28gdGhlIGJyb3dzZXIgaW4gdXNlIG11c3QgYmUgcmVjZW50IChGaXJlZm94IDE3LCBDaHJvbWUgMjEsIE9wZXJhIDE4IGFuZCBsYXRlciB2ZXJzaW9ucykuXG5cdCAqIEEgdmlkZW8gZWxlbWVudCB3aWxsIGJlIGNyZWF0ZWQsIGFuZCBwdXNoZWQgdG8gdGhlIGxvY2FsIHN0cmVhbXMgb2JqZWN0cy4gVGhlIGNhdGNoZWQgYXVkaW8gc3RyZWFtIHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlIGNyZWF0ZWQgSFRNTCBlbGVtZW50LlxuXHQgKiBMaXN0ZW5lcnMgd2lsbCBhbHNvIGJlIGNhbGxlZC5cblx0ICovXG5cdGZ1bmN0aW9uIGluaXRBdWRpb1ZpZGVvKGNhbGxiYWNrKSB7XG5cdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6bG9jYWxzdHJlYW06OmluaXRBdWRpb1ZpZGVvKScpO1xuXHRcdGlmICghaW5pdEF1ZGlvVmlkZW9Qcm9ncmVzcykge1xuXHRcdFx0aW5pdEF1ZGlvVmlkZW9Qcm9ncmVzcz10cnVlO1xuXG5cdFx0XHRuYXZpZ2F0b3IuZ2V0TWVkaWEgPSBnZXRVc2VyTWVkaWE7XG5cdFx0XHRtTG9jYWxTdHJlYW1BdWRpb1ZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnQVVESU9WSURFTycpO1xuXHRcdFx0bUxvY2FsU3RyZWFtQXVkaW9WaWRlby5tdXRlZD0gdHJ1ZTtcblx0XHRcdGxvY2FsQXVkaW9WaWRlb1N0cmVhbXMucHVzaChtTG9jYWxTdHJlYW1BdWRpb1ZpZGVvKTtcblxuXHRcdFx0aWYoc3RyZWFtQXVkaW9WaWRlbyA9PT0gbnVsbCl7XG5cdFx0XHRcdG5hdmlnYXRvci5nZXRNZWRpYSh7YXVkaW8gOiB0cnVlLHZpZGVvIDogdHJ1ZX0sXG5cdFx0XHRcdFx0KHMpID0+IHtcblx0XHRcdFx0XHRcdHN0cmVhbUF1ZGlvVmlkZW8gPSBzO1xuXG5cdFx0XHRcdFx0XHRsb2NhbEF1ZGlvVmlkZW9TdHJlYW1zLmZvckVhY2goKGxvY2FsQXVkaW9WaWRlb1N0cmVhbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShsb2NhbEF1ZGlvVmlkZW9TdHJlYW0sIHN0cmVhbUF1ZGlvVmlkZW8pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRsb2NhbEF1ZGlvVmlkZW9TdHJlYW1zID0gW107XG5cblx0XHRcdFx0XHRcdGxpc3RlbmVyc0F1ZGlvVmlkZW8uZm9yRWFjaCgobGlzdGVuZXJBdWRpb1ZpZGVvKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGxpc3RlbmVyQXVkaW9WaWRlbyhzdHJlYW1BdWRpb1ZpZGVvKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW9WaWRlbyA9IFtdO1xuXG5cdFx0XHRcdFx0XHRpbml0QXVkaW9WaWRlb1Byb2dyZXNzID0gZmFsc2U7XG5cblx0XHRcdFx0XHRcdGlmIChjYWxsYmFjaykge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0KGVycm9yKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OmxvY2Fsc3RyZWFtOjppbml0QXVkaW9WaWRlbzo6RXJyb3Igb24gd2VicnRjTG9jYWxTdHJlYW0gLSB3ZWJraXRHZXRVc2VyTWVkaWEgOiBlcnJvcj0nKTtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZGlyKGVycm9yKTtcblx0XHRcdFx0XHRcdGluaXRBdWRpb1ZpZGVvUHJvZ3Jlc3M9ZmFsc2U7XG5cblx0XHRcdFx0XHRcdGlmIChjYWxsYmFjaykge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayhlcnJvcik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bG9jYWxBdWRpb1ZpZGVvU3RyZWFtcy5mb3JFYWNoKChsb2NhbEF1ZGlvVmlkZW9TdHJlYW0pID0+IHtcblx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShsb2NhbEF1ZGlvVmlkZW9TdHJlYW0sIHN0cmVhbUF1ZGlvVmlkZW8pO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0bG9jYWxBdWRpb1ZpZGVvU3RyZWFtcyA9IFtdO1xuXG5cdFx0XHRcdGxpc3RlbmVyc0F1ZGlvVmlkZW8uZm9yRWFjaCgobGlzdGVuZXJBdWRpb1ZpZGVvKSA9PiB7XG5cdFx0XHRcdFx0bGlzdGVuZXJBdWRpb1ZpZGVvKHN0cmVhbUF1ZGlvVmlkZW8pO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0bGlzdGVuZXJzQXVkaW9WaWRlbyA9IFtdO1xuXG5cdFx0XHRcdGluaXRBdWRpb1ZpZGVvUHJvZ3Jlc3MgPSBmYWxzZTtcblx0XHRcdH1cblxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBDbG9zZXMgYWxsIHRoZSBzdHJlYW1zLlxuXHQgKiBTZXQgYWxsIHRoZSBpbml0UHJvZ3Jlc3MgZmxhZ3MgdG8gZmFsc2UsIGRldGFjaCBhbGwgdGhlIHN0cmVhbXMgYWZ0ZXIgc3RvcHBpbmcgdGhlbS5cblx0ICovXG5cdGZ1bmN0aW9uIGNsb3NlKCkge1xuXHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OmxvY2Fsc3RyZWFtOjpjbG9zZSknKTtcblx0XHRpZiAobUxvY2FsU3RyZWFtVmlkZW8pIHtcblx0XHRcdGRldGFjaE1lZGlhU3RyZWFtKG1Mb2NhbFN0cmVhbVZpZGVvKTtcblx0XHRcdG1Mb2NhbFN0cmVhbVZpZGVvPW51bGw7XG5cdFx0fVxuXHRcdGlmIChzdHJlYW1BdWRpb1ZpZGVvKSB7XG5cdFx0XHRzdHJlYW1BdWRpb1ZpZGVvLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKT0+e1xuXHRcdFx0XHR0cmFjay5zdG9wKCk7XG5cdFx0XHR9KTtcblx0XHRcdHN0cmVhbUF1ZGlvVmlkZW89bnVsbDtcblx0XHR9XG5cdFx0aWYgKHN0cmVhbVZpZGVvKSB7XG5cdFx0XHRzdHJlYW1WaWRlby5zdG9wKCk7XG5cdFx0XHRzdHJlYW1WaWRlbyA9IG51bGw7XG5cdFx0fVxuXHRcdGluaXRWaWRlb1Byb2dyZXNzPWZhbHNlO1xuXG5cdFx0aWYgKG1Mb2NhbFN0cmVhbUF1ZGlvKSB7XG5cdFx0XHRkZXRhY2hNZWRpYVN0cmVhbShtTG9jYWxTdHJlYW1BdWRpbyk7XG5cdFx0XHRtTG9jYWxTdHJlYW1BdWRpbz1udWxsO1xuXHRcdH1cblx0XHRpZiAoc3RyZWFtQXVkaW8pIHtcblx0XHRcdHN0cmVhbUF1ZGlvLnN0b3AoKTtcblx0XHRcdHN0cmVhbUF1ZGlvID0gbnVsbDtcblx0XHR9XG5cblx0XHRpbml0QXVkaW9Qcm9ncmVzcz1mYWxzZTtcblxuXHRcdGlmIChtTG9jYWxTdHJlYW1BdWRpb1ZpZGVvKSB7XG5cdFx0XHRkZXRhY2hNZWRpYVN0cmVhbShtTG9jYWxTdHJlYW1BdWRpb1ZpZGVvKTtcblx0XHRcdG1Mb2NhbFN0cmVhbUF1ZGlvVmlkZW89bnVsbDtcblx0XHR9XG5cdFx0aWYgKHN0cmVhbUF1ZGlvVmlkZW8pIHtcblx0XHRcdHN0cmVhbUF1ZGlvVmlkZW8uc3RvcCgpO1xuXHRcdFx0c3RyZWFtQXVkaW9WaWRlbyA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aW5pdEF1ZGlvVmlkZW9Qcm9ncmVzcz1mYWxzZTtcblx0fVxuXG5cblx0cmV0dXJuIHtcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSB2aWRlbyBzdHJlYW1cblx0XHQgKi9cblx0XHRnZXRWaWRlb1N0cmVhbTogKCkgPT4ge1xuXHRcdFx0cmV0dXJuIHN0cmVhbVZpZGVvO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogQWRkcyBhIHZpZGVvIGxpc3RlbmVyIHdoaWNoIHdpbGwgYmUgY2FsbGVkIGFmdGVyIHRoZSB2aWRlbyBzdHJlYW0gaXMgZXN0YWJsaXNoZWQuXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBUaGUgbGlzdGVuZXIgdG8gYWRkXG5cdFx0ICovXG5cdFx0YWRkVmlkZW9MaXN0ZW5lcjogKGNiKSA9PiB7XG5cdFx0XHRsaXN0ZW5lcnNWaWRlby5wdXNoKGNiKTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVzIHRoZSB2aWRlbyBsb2NhbCBzdHJlYW0uXG5cdFx0ICogVGhlIHdlYiBicm93c2VyJ3MgdXNlciBtZWRpYSB3aWxsIGJlIGNhbGxlZCwgc28gdGhlIGJyb3dzZXIgaW4gdXNlIG11c3QgYmUgcmVjZW50IChGaXJlZm94IDE3LCBDaHJvbWUgMjEsIE9wZXJhIDE4IGFuZCBsYXRlciB2ZXJzaW9ucykuXG5cdFx0ICogQSB2aWRlbyBlbGVtZW50IHdpbGwgYmUgY3JlYXRlZCwgYW5kIHB1c2hlZCB0byB0aGUgbG9jYWwgc3RyZWFtcyBvYmplY3RzLiBUaGUgY2F0Y2hlZCB2aWRlbyBhbmQgYXVkaW8gc3RyZWFtIHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlIGNyZWF0ZWQgSFRNTCBlbGVtZW50LlxuXHRcdCAqIExpc3RlbmVycyB3aWxsIGFsc28gYmUgY2FsbGVkLlxuXHRcdCAqL1xuXHRcdGluaXRWaWRlbzogKCkgPT4ge1xuXHRcdFx0aW5pdFZpZGVvKCk7XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBNYWtlcyB0aGUgY29ubmVjdGlvbiB0byB0aGUgbG9jYWwgdmlkZW8gc3RyZWFtLCBhbmQgYXR0YWNoIHRoZSBsb2NhbCB2aWRlbyBzdHJlYW0gdG8gdGhlIHZpZGVvIGVsZW1lbnQgaWYgZGVmaW5lZC5cblx0XHQgKiBJZiB0aGUgdmlkZW8gZWxlbWVudCBpcyBub3QgZGVmaW5lZCwgdGhlIHZpZGVvIGxvY2FsIHN0cmVhbSB3aWxsIGJlIGluaXRpYWxpemVkIGFuZCBhIGRlZGljYXRlZCBIVE1MIHZpZGVvIHRhZyB3aWxsIGJlIGNyZWF0ZWQuXG5cdFx0ICogQHBhcmFtIHZpZGVvRWx0IC0gVGhlIHZpZGVvIGVsZW1lbnQgd2hlcmUgcGxhY2UgdGhlIGNvbm5lY3RlZCBsb2NhbCB2aWRlbyBzdHJlYW0uIGlmIG51bGwsIGEgbmV3IG9uZSB3aWxsIGJlIGNyZWF0ZWQuXG5cdFx0ICogQHBhcmFtIGdldExvY2FsU3RyZWFtQ2IgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJldHJpZXZlIHRoZSBtZWRpYXN0cmVhbSBvYmplY3Rcblx0XHQgKi9cblx0XHRjb25uZWN0TG9jYWxWaWRlb1N0cmVhbTogKHZpZGVvRWx0LCBwdWJsaXNoU3RyZWFtQ2IsIGdldExvY2FsU3RyZWFtQ2IpID0+IHtcblx0XHRcdGlmICh2aWRlb0VsdCkge1xuXHRcdFx0XHR2aWRlb0VsdC5tdXRlZD10cnVlO1xuXHRcdFx0XHRpZiAoc3RyZWFtVmlkZW8pIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjpsb2NhbHN0cmVhbTo6Y29ubmVjdExvY2FsVmlkZW9TdHJlYW0pdXNlIGV4aXN0aW5nIHN0cmVhbVZpZGVvJyk7XG5cdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0odmlkZW9FbHQsc3RyZWFtVmlkZW8pO1xuXHRcdFx0XHRcdGlmIChnZXRMb2NhbFN0cmVhbUNiICYmIHR5cGVvZiBnZXRMb2NhbFN0cmVhbUNiPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRnZXRMb2NhbFN0cmVhbUNiKHN0cmVhbVZpZGVvKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bG9jYWxWaWRlb1N0cmVhbXMucHVzaCh2aWRlb0VsdCk7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGxpc3RlbmVyc1ZpZGVvLnB1c2goZ2V0TG9jYWxTdHJlYW1DYik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGluaXRWaWRlbyhwdWJsaXNoU3RyZWFtQ2IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIXN0cmVhbVZpZGVvKSB7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGxpc3RlbmVyc1ZpZGVvLnB1c2goZ2V0TG9jYWxTdHJlYW1DYik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGluaXRWaWRlbyhwdWJsaXNoU3RyZWFtQ2IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChnZXRMb2NhbFN0cmVhbUNiICYmIHR5cGVvZiBnZXRMb2NhbFN0cmVhbUNiPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRnZXRMb2NhbFN0cmVhbUNiKHN0cmVhbVZpZGVvKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIGF1ZGlvIHN0cmVhbVxuXHRcdCAqIEByZXR1cm4gLSBBbiBhdWRpbyBzdHJlYW1cblx0XHQgKi9cblx0XHRnZXRBdWRpb1N0cmVhbTogKCkgPT4ge1xuXHRcdFx0cmV0dXJuIHN0cmVhbUF1ZGlvO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogQWRkcyBhbiBhdWRpbyBsaXN0ZW5lciB3aGljaCB3aWxsIGJlIGNhbGxlZCBhZnRlciB0aGUgYXVkaW8gc3RyZWFtIGlzIGVzdGFibGlzaGVkLlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gVGhlIGxpc3RlbmVyIHRvIGFkZFxuXHRcdCAqL1xuXHRcdGFkZEF1ZGlvTGlzdGVuZXI6IChjYikgPT4ge1xuXHRcdFx0bGlzdGVuZXJzQXVkaW8ucHVzaChjYik7XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplcyB0aGUgYXVkaW8gbG9jYWwgc3RyZWFtLlxuXHRcdCAqIFRoZSB3ZWIgYnJvd3NlcidzIHVzZXIgbWVkaWEgd2lsbCBiZSBjYWxsZWQsIHNvIHRoZSBicm93c2VyIGluIHVzZSBtdXN0IGJlIHJlY2VudCAoRmlyZWZveCAxNywgQ2hyb21lIDIxLCBPcGVyYSAxOCBhbmQgbGF0ZXIgdmVyc2lvbnMpLlxuXHRcdCAqIEEgdmlkZW8gZWxlbWVudCB3aWxsIGJlIGNyZWF0ZWQsIGFuZCBwdXNoZWQgdG8gdGhlIGxvY2FsIHN0cmVhbXMgb2JqZWN0cy4gVGhlIGNhdGNoZWQgYXVkaW8gc3RyZWFtIHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlIGNyZWF0ZWQgSFRNTCBlbGVtZW50LlxuXHRcdCAqIExpc3RlbmVycyB3aWxsIGFsc28gYmUgY2FsbGVkLlxuXHRcdCAqL1xuXHRcdGluaXRBdWRpbzogKCkgPT4ge1xuXHRcdFx0aW5pdEF1ZGlvKCk7XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBDb25uZWN0cyB0byB0aGUgbG9jYWwgYXVkaW8gc3RyZWFtIGFuZCBzZXRzIGl0IHRvIHRoZSBhdWRpbyBlbGVtZW50IGlmIGRlZmluZWQuXG5cdFx0ICogSWYgbm90LCBhIGRlZGljYXRlZCBIVE1MIHZpZGVvIHdpbGwgYmUgY3JlYXRlZC4gVGhlIGF1ZGlvIG1lZGlhIHN0cmVhbSB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBlbGVtZW50IGluIHVzZS5cblx0XHQgKiBAcGFyYW0gQXVkaW9FbHQgLSBUaGUgYXVkaW8gZWxlbWVudCBpbiB1c2UgcG9zc2Vzc2luZyB0aGUgYXR0YWNoZWQgbG9jYWwgYXVkaW8gc3RyZWFtXG5cdFx0ICogQHBhcmFtIGdldExvY2FsU3RyZWFtQ2IgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJldHJpZXZlIHRoZSBtZWRpYXN0cmVhbSBvYmplY3Rcblx0XHQgKi9cblx0XHRjb25uZWN0TG9jYWxBdWRpb1N0cmVhbTogKEF1ZGlvRWx0LCBwdWJsaXNoU3RyZWFtQ2IsIGdldExvY2FsU3RyZWFtQ2IpID0+IHtcblx0XHRcdGlmIChBdWRpb0VsdCkge1xuXHRcdFx0XHRBdWRpb0VsdC5tdXRlZD10cnVlO1xuXHRcdFx0XHRpZiAoc3RyZWFtQXVkaW8pIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjpsb2NhbHN0cmVhbTo6Y29ubmVjdExvY2FsQXVkaW9TdHJlYW0pdXNlIGV4aXN0aW5nIHN0cmVhbUF1ZGlvJyk7XG5cdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0oQXVkaW9FbHQsc3RyZWFtQXVkaW8pO1xuXHRcdFx0XHRcdGlmIChnZXRMb2NhbFN0cmVhbUNiICYmIHR5cGVvZiBnZXRMb2NhbFN0cmVhbUNiPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRnZXRMb2NhbFN0cmVhbUNiKHN0cmVhbUF1ZGlvKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bG9jYWxBdWRpb1N0cmVhbXMucHVzaChBdWRpb0VsdCk7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGxpc3RlbmVyc0F1ZGlvLnB1c2goZ2V0TG9jYWxTdHJlYW1DYik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGluaXRBdWRpbyhwdWJsaXNoU3RyZWFtQ2IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIXN0cmVhbUF1ZGlvKSB7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGxpc3RlbmVyc0F1ZGlvLnB1c2goZ2V0TG9jYWxTdHJlYW1DYik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGluaXRBdWRpbyhwdWJsaXNoU3RyZWFtQ2IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChnZXRMb2NhbFN0cmVhbUNiICYmIHR5cGVvZiBnZXRMb2NhbFN0cmVhbUNiPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRnZXRMb2NhbFN0cmVhbUNiKHN0cmVhbUF1ZGlvKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIGF1ZGlvIHZpZGVvIHN0cmVhbVxuXHRcdCAqIEByZXR1cm4gLSBUaGUgYXVkaW8gYW5kIHZpZGVvIHN0cmVhbVxuXHRcdCAqL1xuXHRcdGdldEF1ZGlvVmlkZW9TdHJlYW06ICgpID0+IHtcblx0XHRcdHJldHVybiBzdHJlYW1BdWRpb1ZpZGVvO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogQWRkcyB0aGUgYXVkaW8tYW5kLXZpZGVvIGxpc3RlbmVyIHdoaWNoIHdpbGwgYmUgY2FsbGVkIGFmdGVyIHRoZSBhdWRpLWFuZC12aWRlbyBzdHJlYW0gaXMgZXN0YWJsaXNoZWQuXG5cdFx0ICogQHBhcmFtIGNiIC0gVGhlIGF1ZGlvIGFuZCB2aWRlbyBsaXN0ZW5lciB0byBhZGRcblx0XHQgKi9cblx0XHRhZGRBdWRpb1ZpZGVvTGlzdGVuZXI6IChjYikgPT4ge1xuXHRcdFx0bGlzdGVuZXJzQXVkaW9WaWRlby5wdXNoKGNiKTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVzIHRoZSBhdWRpby1hbmQtdmlkZW8gbG9jYWwgc3RyZWFtLlxuXHRcdCAqIFRoZSB3ZWIgYnJvd3NlcidzIHVzZXIgbWVkaWEgd2lsbCBiZSBjYWxsZWQsIHNvIHRoZSBicm93c2VyIGluIHVzZSBtdXN0IGJlIHJlY2VudCAoRmlyZWZveCAxNywgQ2hyb21lIDIxLCBPcGVyYSAxOCBhbmQgbGF0ZXIgdmVyc2lvbnMpLlxuXHRcdCAqIEEgdmlkZW8gZWxlbWVudCB3aWxsIGJlIGNyZWF0ZWQsIGFuZCBwdXNoZWQgdG8gdGhlIGxvY2FsIHN0cmVhbXMgb2JqZWN0cy4gVGhlIGNhdGNoZWQgYXVkaW8gc3RyZWFtIHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlIGNyZWF0ZWQgSFRNTCBlbGVtZW50LlxuXHRcdCAqIExpc3RlbmVycyB3aWxsIGFsc28gYmUgY2FsbGVkLlxuXHRcdCAqL1xuXHRcdGluaXRBdWRpb1ZpZGVvOiAoKSA9PiB7XG5cdFx0XHRpbml0QXVkaW9WaWRlbygpO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogQ29ubmVjdHMgdGhlIGxvY2FsIGF1ZGlvIGFuZCB2aWRlbyBzdHJlYW1zIGFuZCBhc3NpZ25zIHRoZW0gdG8gdGhlIGF1ZGlvIGFuZCB2aWRlbyBlbGVtZW50IGlmIG5lZWRlZC5cblx0XHQgKiBJZiBubyBIVE1MIGVsZW1lbnQgaXMgcGFzc2VkIHRvIHRoZSBmdW5jdGlvbm4gYSBuZXcgZWxlbWVudCBpcyBjcmVhdGVkXG5cdFx0ICogQHBhcmFtIEF1ZGlvVmlkZW9FbHQgLSBUaGUgZWxlbWVudCB3aGVyZSB0byBwbGFjZSB0aGUgYXVkaW8gYW5kIHZpZGVvIGxvY2FsIHN0cmVhbXNcblx0XHQgKiBAcGFyYW0gZ2V0TG9jYWxTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHRcdCAqL1xuXHRcdGNvbm5lY3RMb2NhbEF1ZGlvVmlkZW9TdHJlYW06IChBdWRpb1ZpZGVvRWx0LCBwdWJsaXNoU3RyZWFtQ2IsIGdldExvY2FsU3RyZWFtQ2IpID0+IHtcblx0XHRcdGlmIChBdWRpb1ZpZGVvRWx0KSB7XG5cdFx0XHRcdEF1ZGlvVmlkZW9FbHQubXV0ZWQ9dHJ1ZTtcblx0XHRcdFx0aWYgKHN0cmVhbUF1ZGlvVmlkZW8pIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjpsb2NhbHN0cmVhbTo6Y29ubmVjdExvY2FsQXVkaW9WaWRlb1N0cmVhbSl1c2UgZXhpc3Rpbmcgc3RyZWFtQXVkaW9WaWRlbycpO1xuXHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKEF1ZGlvVmlkZW9FbHQsc3RyZWFtQXVkaW9WaWRlbyk7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IpIHtcblx0XHRcdFx0XHRcdGdldExvY2FsU3RyZWFtQ2Ioc3RyZWFtQXVkaW9WaWRlbyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxvY2FsQXVkaW9WaWRlb1N0cmVhbXMucHVzaChBdWRpb1ZpZGVvRWx0KTtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0TG9jYWxTdHJlYW1DYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lcnNBdWRpb1ZpZGVvLnB1c2goZ2V0TG9jYWxTdHJlYW1DYik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGluaXRBdWRpb1ZpZGVvKHB1Ymxpc2hTdHJlYW1DYik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICghc3RyZWFtQXVkaW9WaWRlbykge1xuXHRcdFx0XHRcdGlmIChnZXRMb2NhbFN0cmVhbUNiICYmIHR5cGVvZiBnZXRMb2NhbFN0cmVhbUNiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGxpc3RlbmVyc0F1ZGlvVmlkZW8ucHVzaChnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aW5pdEF1ZGlvVmlkZW8ocHVibGlzaFN0cmVhbUNiKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYikge1xuXHRcdFx0XHRcdFx0Z2V0TG9jYWxTdHJlYW1DYihzdHJlYW1BdWRpb1ZpZGVvKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXG5cdFx0LyoqXG5cdFx0ICogRGV0YWNoZXMgc3RyZWFtcyBhbmQgZGVsZXRlcyBsaXN0ZW5lcnNcblx0XHQgKi9cblx0XHRjbG9zZTogKCkgPT4ge1xuXHRcdFx0Y2xvc2UoKTtcblx0XHR9XG5cdH07XG5cbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGxvY2Fsc3RyZWFtO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xvY2Fsc3RyZWFtLmpzXG4gKiovIiwiLyoqXG4gKiBAZmlsZSB3ZWJydGNtbmdyLmpzIC0gSlMgZmlsZSBmb3IgYSBXZWJSVEMgbWFuYWdlclxuICogQGF1dGhvciBXZWJjb21cbiAqL1xuXG4vKmVzbGludCBjb21wbGV4aXR5OjEsIG1heC1zdGF0ZW1lbnRzOiAxLCBtYXgtbGVuOiAxLCBtYXgtcGFyYW1zOiAxKi9cblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHdlYnJ0YyBmcm9tICcuL3dlYnJ0Yyc7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZGVzY3JpcHRpb24gV2ViUlRDIG1hbmFnZXIgaGFuZGxpbmcgdGhlIFdlYlJUQyBzdGFja3MgaW4gdXNlXG4gKi9cbmNvbnN0IHdlYnJ0Y21uZ3IgPSBmdW5jdGlvbihkYXRhcmVmcykge1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmcgdGhlIFdlYlJUQyBzdGFja3MgaW4gdXNlXG5cdCAqL1xuXHRjb25zdCB3ZWJydGNTdGFja3MgPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWludCB0aGUgdmlydHVhbCBXZWJSVEMgc3RhY2tzXG5cdCAqL1xuXHRjb25zdCB2aXJ0dWFsV2VicnRjU3RhY2tzID0gW107XG5cblx0LyoqXG5cdCogYSB3b3JrIGFyb3VuZCB0byBiZSBhYmxlIHRvIGdldCBhIHNlbGYgcmVmZXJlbmNlIHRocm91Z2ggc2V0dGluZyBteXNlbGYgdGhyb3VnaCB0aGUgUmVhY2ggY2xhc3Ncblx0Ki9cblx0bGV0IG13ZWJydGNtbmdyX3JlZmVyZW5jZTtcblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIFdlYlJUQyBvYmplY3Rcblx0ICogQHBhcmFtIHBfVmlkIC0gdGhlIHZpZGVvIGNvbnRhaW5lciBsaW5rZWQgdG8gdGhlIHBlZXJjb25uZWN0aW9uXG5cdCAqIEBwYXJhbSBwX3JlbW90ZUFwcEluc3RJZCAtIHRoZSByZW1vdGUgYXBwbGljYXRpb24gaW5zdGFuY2UgaWRlbnRpZmllclxuXHQgKiBAcGFyYW0gcF9vbkNsb3NlQ2IgLSBBIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWRcblx0ICogQHBhcmFtIHBfaXNQdWJsaXNoIC0gdHJ1ZSBpZiBpdCdzIGEgcGVlcmNvbm5lY3Rpb24gcmVsYXRlZCB0byBhIHB1Ymxpc2hTdHJlYW0sIGZhbHNlIGlmIGl0J3MgcmVsYXRhdGVkIHRvIGEgc3Vic2NyaWJlXG5cdCAqIEBwYXJhbSBwX2FjdGlvblR5cGUgLSBUaGUgYWN0aW9uIHR5cGUgKGF1ZGlvLCB2aWRlbywgYXVkaW8tdmlkZW8pXG5cdCAqIEBwYXJhbSBwX3BlZXJjb0lkIC0gVGhlIFBlZXJDb25uZWN0aW9uIElkXG5cdCAqIEBwYXJhbSBwX3BlZXJjb1JlZiAtIFRoZSBQZWVyQ29ubmVjdGlvbiBSZWYgaW4gdGhlIHdlYnJ0YyBub2RlXG5cdCAqIEBwYXJhbSBwX3BlZXJjb1JlZiAtIFRoZSBQZWVyQ29ubmVjdGlvbiBJZCBpbiB0aGUgd2VicnRjIG5vZGVcblx0ICogQHBhcmFtIHBfbXV0ZWRBdWRpbyAtIG9wdGlvbmFsIC0gaWYgdHJ1ZSBwZWVyY29ubmVjdGlvbiB3aWxsIGJlIGNyZWF0ZWQgbXV0ZWRcblx0ICogQHBhcmFtIHBfbXV0ZVZpZGVvIC0gb3B0aW9uYWwgLSBpZiB0cnVlIHBlZXJjb25uZWN0aW9uIHdpbGwgYmUgY3JlYXRlZCB3aXRoIHZpZGVvIG11dGVkXG5cdCAqIEBwYXJhbSBwX2dldFN0cmVhbUNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgbWVkaWFzdHJlYW0gb2JqZWN0XG5cdCAqL1xuXHRmdW5jdGlvbiBfY3JlYXRlV2VicnRjKHBfVmlkLCBwX3JlbW90ZUFwcEluc3RJZCwgcF9vbkNsb3NlQ2IsIHBfaXNQdWJsaXNoLCBwX2FjdGlvblR5cGUsIHBfcGVlcmNvSWQsIHBfcGVlcmNvUmVmLCBwX211dGVkQXVkaW8sIHBfbXV0ZVZpZGVvLCBwX2dldFN0cmVhbUNiKSB7XG5cdFx0Y29uc3Rcblx0XHRcdHdlYnJ0Y1N0YWNrSWQgPSBwX3BlZXJjb0lkLFxuXHRcdFx0bG9jYWxEYXRhUmVmID0gZGF0YXJlZnMuZ2V0V2VicnRjKCkuY2hpbGQoYCR7cF9wZWVyY29SZWZ9LyR7dXRpbHMuYXBwSW5zdGFuY2VJZH1gKSxcblx0XHRcdHJlbW90ZURhdGFSZWYgPSBkYXRhcmVmcy5nZXRXZWJydGMoKS5jaGlsZChgJHtwX3BlZXJjb1JlZn0vJHtwX3JlbW90ZUFwcEluc3RJZH1gKTtcbi8vICAgIFx0IGlmIChwX2lzUHVibGlzaCkge1xuLy8gICAgXHRcdCB3ZWJydGNTdGFja0lkPXV0aWxzLmFwcEluc3RhbmNlSWQrXCJfXCIrcF9yZW1vdGVBcHBJbnN0SWQ7XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgXHQgd2VicnRjU3RhY2tJZD1wX3JlbW90ZUFwcEluc3RJZCtcIl9cIit1dGlscy5hcHBJbnN0YW5jZUlkO1xuLy8gICAgICAgICB9XG5cdFx0bGV0IHZpcnR1YWxXZWJydGNTdGFjayA7XG5cdFx0Ly8gY3JlYXRlIHRoZSB2aXJ0dWFsIHdlYnJ0Y3N0YWNrXG5cdFx0aWYgKHBfaXNQdWJsaXNoKSB7XG5cdFx0XHR2aXJ0dWFsV2VicnRjU3RhY2sgPSB7XG5cdFx0XHRcdHdlYlJ0Y1N0YWNrSWQ6IHdlYnJ0Y1N0YWNrSWQsXG5cdFx0XHRcdGxvY2FsVmlkOiBwX1ZpZFxuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmlydHVhbFdlYnJ0Y1N0YWNrID0ge1xuXHRcdFx0XHR3ZWJSdGNTdGFja0lkOiB3ZWJydGNTdGFja0lkLFxuXHRcdFx0XHRyZW1vdGVWaWQ6IHBfVmlkXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGNvbnN0IGlkID0gdmlydHVhbFdlYnJ0Y1N0YWNrcy5wdXNoKHZpcnR1YWxXZWJydGNTdGFjaykgLSAxO1xuXG5cdFx0Ly8gY3JlYXRlIHRoZSByZWFsIHdlYnJ0Y3N0YWNrIGlmIGl0IGRvZXMgbm90IGFscmVhZHkgZXhpc3Rcblx0XHRpZiAoIXdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXSkge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZygnUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNyZWF0ZVdlYnJ0Yy0+Y3JlYXRlIGEgbmV3IHJlYWwgd2VicnRjU3RhY2snKTtcblx0XHRcdC8vIGNyZWF0ZSB0aGUgcmVhbCB3ZWJydGNzdGFja1xuXHRcdFx0Y29uc3Qgd2ViUnRjU3RhY2sgPSB3ZWJydGMobXdlYnJ0Y21uZ3JfcmVmZXJlbmNlLCBwX2lzUHVibGlzaCwgbG9jYWxEYXRhUmVmLCByZW1vdGVEYXRhUmVmLCB3ZWJydGNTdGFja0lkLCBwX2FjdGlvblR5cGUsIHBfbXV0ZWRBdWRpbywgcF9tdXRlVmlkZW8pO1xuXHRcdFx0d2ViUnRjU3RhY2suc2V0T25DbG9zZShwX29uQ2xvc2VDYik7XG5cdFx0XHRpZiAocF9pc1B1Ymxpc2gpIHtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdID0ge1xuXHRcdFx0XHRcdHN0YWNrOndlYlJ0Y1N0YWNrLFxuXHRcdFx0XHRcdGlzUHVibGlzaGVkOjEsXG5cdFx0XHRcdFx0aXNTdWJzY3JpYmVkOjBcblx0XHRcdFx0fTtcblx0XHRcdFx0d2ViUnRjU3RhY2suY29ubmVjdExvY2FsU3RyZWFtKHBfVmlkLHBfZ2V0U3RyZWFtQ2IpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdID0ge1xuXHRcdFx0XHRcdHN0YWNrOndlYlJ0Y1N0YWNrLFxuXHRcdFx0XHRcdGlzUHVibGlzaGVkOjAsXG5cdFx0XHRcdFx0aXNTdWJzY3JpYmVkOjFcblx0XHRcdFx0fTtcblx0XHRcdFx0d2ViUnRjU3RhY2suY29ubmVjdFJlbW90ZVN0cmVhbShwX1ZpZCxwX2dldFN0cmVhbUNiKTtcblx0XHRcdH1cblxuXG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZygnUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNyZWF0ZVdlYnJ0Yy0+dXNlIGV4aXN0aW5nIHJlYWwgd2VicnRjU3RhY2snKTtcblx0XHRcdC8vIGluY3JlbWVudCByZWYgY291bnRlclxuXHRcdFx0aWYgKHBfaXNQdWJsaXNoKSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1B1Ymxpc2hlZCsrO1xuXHRcdFx0XHR3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uc3RhY2suY29ubmVjdExvY2FsU3RyZWFtKHBfVmlkLCBwX2dldFN0cmVhbUNiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1N1YnNjcmliZWQrKztcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLnN0YWNrLmNvbm5lY3RSZW1vdGVTdHJlYW0ocF9WaWQsIHBfZ2V0U3RyZWFtQ2IpO1xuXHRcdFx0fVxuXG5cblx0XHR9XG5cdFx0Y29uc29sZS5kZWJ1ZyhgUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNyZWF0ZVdlYnJ0Yy0+d2VicnRjU3RhY2s6JHt3ZWJydGNTdGFja0lkfSBuZXcgaXNQdWJsaXNoZWQgY291bnQgPSR7d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLmlzUHVibGlzaGVkfSBuZXcgaXNTdWJzY3JpYmVkIGNvdW50ID0ke3dlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1N1YnNjcmliZWR9YCk7XG5cdFx0cmV0dXJuIGlkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENsb3NlIFdlYlJUQyBmZWF0dXJlcyA6IGRldGFjaCBtZWRpYSBzdHJlYW1zIGFuZCB1bnB1Ymxpc2ggc3RhY2tzLlxuXHQgKiBAcGFyYW0gaWQgLVxuXHQgKiBAcGFyYW0gcF9pc1VuUHVibGlzaFxuXHQgKiBAcGFyYW0gY2FsbGJhY2sgLVxuXHQgKi9cblx0ZnVuY3Rpb24gX2Nsb3NlV2VicnRjKGlkLHBfaXNVblB1Ymxpc2gsY2FsbGJhY2spIHtcblx0XHRjb25zb2xlLmRlYnVnKGBSZWFjaFNESzo6d2VicnRjbW5ncjo6Y2xvc2VXZWJydGMtPmlkPSR7aWR9YCk7XG5cdFx0aWYgKCF2aXJ0dWFsV2VicnRjU3RhY2tzW2lkXSkge1xuXHRcdFx0Y29uc29sZS53YXJuKGBSZWFjaFNESzo6d2VicnRjbW5ncjo6Y2xvc2VXZWJydGM6IHZpcnR1YWxzdGFjayAke2lkfSBub3QgZm91bmRgKTtcblx0XHRcdGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGNvbnN0IHdlYnJ0Y1N0YWNrSWQgPSB2aXJ0dWFsV2VicnRjU3RhY2tzW2lkXS53ZWJSdGNTdGFja0lkO1xuXHRcdGlmICh3ZWJydGNTdGFja0lkICYmIHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXSAgKSB7XG5cdFx0XHRpZiAocF9pc1VuUHVibGlzaCAmJiB3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNQdWJsaXNoZWQ+MCkge1xuXHRcdFx0XHR3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNQdWJsaXNoZWQtLTtcblx0XHRcdH0gZWxzZSBpZiAoIXBfaXNVblB1Ymxpc2ggJiYgd2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLmlzU3Vic2NyaWJlZD4wKSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1N1YnNjcmliZWQtLTtcblx0XHRcdH1cblx0XHRcdGlmICh3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNQdWJsaXNoZWQ8MSAmJiB3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNTdWJzY3JpYmVkPDEpIHtcblx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNsb3NlV2VicnRjLT5kZXN0cm95ICByZWFsIHdlYnJ0Y1N0YWNrOiR7d2VicnRjU3RhY2tJZH1gKTtcblx0XHRcdFx0Ly8gZGVzdHJveSB0aGUgc3RhY2tcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLnN0YWNrLmNsb3NlKGNhbGxiYWNrKTtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdID0gbnVsbDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoYFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpjbG9zZVdlYnJ0Yy0+ZGVjcmVtZW50ICByZWFsIHdlYnJ0Y1N0YWNrOiR7d2VicnRjU3RhY2tJZH0gbmV3IGlzUHVibGlzaGVkIGNvdW50ID0ke3dlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1B1Ymxpc2hlZH0gbmV3IGlzU3Vic2NyaWJlZCBjb3VudCA9JHt3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNTdWJzY3JpYmVkfWApO1xuXHRcdFx0XHRpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc29sZS53YXJuKCdSZWFjaFNESzo6d2VicnRjbW5ncjo6Y2xvc2VXZWJydGMgY2Fubm90IGZvdW5kIHJlYWwgc3RhY2snKTtcblx0XHR9XG5cblx0XHQvLyBpZiAodmlydHVhbFdlYnJ0Y1N0YWNrc1tpZF0ubG9jYWxWaWQpIHtcblx0XHQvLyBcdGxvY2Fsc3RyZWFtLmNsb3NlKCk7XG5cdFx0Ly8gXHRkZXRhY2hNZWRpYVN0cmVhbSh2aXJ0dWFsV2VicnRjU3RhY2tzW2lkXS5sb2NhbFZpZCk7XG5cdFx0Ly8gfVxuXHRcdGlmICh2aXJ0dWFsV2VicnRjU3RhY2tzW2lkXS5yZW1vdGVWaWQpIHsgZGV0YWNoTWVkaWFTdHJlYW0odmlydHVhbFdlYnJ0Y1N0YWNrc1tpZF0ucmVtb3RlVmlkKTt9XG5cblx0XHR2aXJ0dWFsV2VicnRjU3RhY2tzLnNwbGljZShpZCwxKTtcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENsZWFycyBhIHNwZWNpZmljYWwgV2ViUlRDIHN0YWNrIGJ5IHNldHRpbmcgaXQgdG8gbnVsbC5cblx0ICogQHBhcmFtIHdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIGNsZWFyXG5cdCAqL1xuXHRmdW5jdGlvbiBfY2xlYXJXZWJydGNTdGFja3Mod2VicnRjU3RhY2tJZCkge1xuXHRcdGNvbnNvbGUuZGVidWcoYFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpjbGVhcldlYnJ0Y1N0YWNrcyBpZD0ke3dlYnJ0Y1N0YWNrSWR9YCk7XG5cdFx0aWYgKHdlYnJ0Y1N0YWNrSWQgJiYgd2VicnRjU3RhY2tzICYmIHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXSkge1xuXHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdID0gbnVsbDtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvKipcblx0ICogQXVkaW8gbXV0ZSB0aGUgd2VicnRjIHBlZXJjb25uZWN0aW9uXG5cdCAqIEBwYXJhbSB2aXJ0dWFsV2VicnRjU3RhY2tJZCAtIFRoZSBXZWJSVEMgc3RhY2sgSUQgdG8gbXV0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX211dGVBdWRpb1dlYnJ0Y1N0YWNrKHZpcnR1YWxXZWJydGNTdGFja0lkKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjbW5ncjo6bXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9YCk7XG5cblx0XHRpZiAodmlydHVhbFdlYnJ0Y1N0YWNrcyAmJiB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXSAmJiB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXS53ZWJSdGNTdGFja0lkKSB7XG5cdFx0XHRjb25zdCB3ZWJSdGNTdGFja0lkID0gdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0ud2ViUnRjU3RhY2tJZDtcblx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Om11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfSB3ZWJSdGNTdGFja0lkPSR7d2ViUnRjU3RhY2tJZH1gKTtcblx0XHRcdGlmICh3ZWJydGNTdGFja3MgJiYgd2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdICYmIHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXS5zdGFjaykge1xuXHRcdFx0XHR3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0uc3RhY2subXV0ZUF1ZGlvKCk7XG5cdFx0XHR9ICBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Om11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB3ZWJydGNTdGFjaz0ke3dlYlJ0Y1N0YWNrSWR9IG5vdCBmb3VuZGApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYChSZWFjaFNESzo6d2VicnRjbW5ncjo6bXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9IG5vdCBmb3VuZGApO1xuXHRcdH1cblxuXG5cdH1cblxuXHQvKipcblx0ICogQXVkaW8gdW5tdXRlIHRoZSB3ZWJydGMgcGVlcmNvbm5lY3Rpb25cblx0ICogQHBhcmFtIHZpcnR1YWxXZWJydGNTdGFja0lkIC0gVGhlIFdlYlJUQyBzdGFjayBJRCB0byB1bm11dGVcblx0ICovXG5cdGZ1bmN0aW9uICBfdW5tdXRlQXVkaW9XZWJydGNTdGFjayAodmlydHVhbFdlYnJ0Y1N0YWNrSWQpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpfdW5tdXRlQXVkaW9XZWJydGNTdGFjaykgdmlydHVhbFdlYnJ0Y1N0YWNrSWQ9JHt2aXJ0dWFsV2VicnRjU3RhY2tJZH1gKTtcblxuXHRcdGlmICh2aXJ0dWFsV2VicnRjU3RhY2tzICYmIHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdICYmIHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdLndlYlJ0Y1N0YWNrSWQpIHtcblx0XHRcdGNvbnN0IHdlYlJ0Y1N0YWNrSWQgPSB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXS53ZWJSdGNTdGFja0lkO1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjbW5ncjo6X3VubXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9LHdlYlJ0Y1N0YWNrSWQ9JHt3ZWJSdGNTdGFja0lkfWApO1xuXHRcdFx0aWYgKHdlYnJ0Y1N0YWNrcyAmJiB3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0gJiYgd2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdLnN0YWNrKSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXS5zdGFjay51bm11dGVBdWRpbygpO1xuXHRcdFx0fSAgZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpfdW5tdXRlQXVkaW9XZWJydGNTdGFjaykgd2VicnRjU3RhY2s9JHt3ZWJSdGNTdGFja0lkfSBub3QgZm91bmRgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Ol91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfSBub3QgZm91bmRgKTtcblx0XHR9XG5cblx0fVxuXG5cblx0LyoqXG5cdCAqIFZpZGVvIG11dGUgdGhlIHdlYnJ0YyBwZWVyY29ubmVjdGlvblxuXHQgKiBAcGFyYW0gdmlydHVhbFdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIG11dGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlVmlkZW9XZWJydGNTdGFjayh2aXJ0dWFsV2VicnRjU3RhY2tJZCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Om11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfWApO1xuXG5cdFx0aWYgKHZpcnR1YWxXZWJydGNTdGFja3MgJiYgdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0gJiYgdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0ud2ViUnRjU3RhY2tJZCkge1xuXHRcdFx0Y29uc3Qgd2ViUnRjU3RhY2tJZCA9IHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdLndlYlJ0Y1N0YWNrSWQ7XG5cdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjptdXRlQXVkaW9XZWJydGNTdGFjaykgdmlydHVhbFdlYnJ0Y1N0YWNrSWQ9JHt2aXJ0dWFsV2VicnRjU3RhY2tJZH0gd2ViUnRjU3RhY2tJZD0ke3dlYlJ0Y1N0YWNrSWR9YCk7XG5cdFx0XHRpZiAod2VicnRjU3RhY2tzICYmIHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXSAmJiB3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0uc3RhY2spIHtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdLnN0YWNrLm11dGVWaWRlbygpO1xuXHRcdFx0fSAgZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjptdXRlQXVkaW9XZWJydGNTdGFjaykgd2VicnRjU3RhY2s9JHt3ZWJSdGNTdGFja0lkfSBub3QgZm91bmRgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Om11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfSBub3QgZm91bmRgKTtcblx0XHR9XG5cblxuXHR9XG5cblx0LyoqXG5cdCAqIFZpZGVvIHVubXV0ZSB0aGUgd2VicnRjIHBlZXJjb25uZWN0aW9uXG5cdCAqIEBwYXJhbSB2aXJ0dWFsV2VicnRjU3RhY2tJZCAtIFRoZSBXZWJSVEMgc3RhY2sgSUQgdG8gdW5tdXRlXG5cdCAqL1xuXHRmdW5jdGlvbiAgX3VubXV0ZVZpZGVvV2VicnRjU3RhY2sgKHZpcnR1YWxXZWJydGNTdGFja0lkKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjbW5ncjo6X3VubXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9YCk7XG5cblx0XHRpZiAodmlydHVhbFdlYnJ0Y1N0YWNrcyAmJiB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXSAmJiB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXS53ZWJSdGNTdGFja0lkKSB7XG5cdFx0XHRjb25zdCB3ZWJSdGNTdGFja0lkID0gdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0ud2ViUnRjU3RhY2tJZDtcblx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Ol91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfSwgd2ViUnRjU3RhY2tJZD0ke3dlYlJ0Y1N0YWNrSWR9YCk7XG5cdFx0XHRpZiAod2VicnRjU3RhY2tzICYmIHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXSAmJiB3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0uc3RhY2spIHtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdLnN0YWNrLnVubXV0ZVZpZGVvKCk7XG5cdFx0XHR9ICBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Ol91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB3ZWJydGNTdGFjaz0ke3dlYlJ0Y1N0YWNrSWR9IG5vdCBmb3VuZGApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYChSZWFjaFNESzo6d2VicnRjbW5ncjo6X3VubXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9IG5vdCBmb3VuZGApO1xuXHRcdH1cblxuXHR9XG5cdC8qKlxuXHQgKiBTZXR0aW5nIG15c2VsZiB3aXRoIHdlYnJ0YyBtYW5hZ2VyIG9iamVjdFxuXHQgKiBAcGFyYW0gd2VicnRjbW5nciAtIFRoZSBXZWJSVEMgbWFuYWdlciBvYmplY3Rcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRXZWJydGNNYW5nZXIod2VicnRjbW5ncil7XG5cdFx0bXdlYnJ0Y21uZ3JfcmVmZXJlbmNlPSB3ZWJydGNtbmdyO1xuXHR9XG5cblx0cmV0dXJuIHtcblxuXHRcdC8qKlxuXHRcdCAqIENyZWF0ZXMgYSBXZWJSVEMgb2JqZWN0XG5cdFx0ICogQHBhcmFtIHBfVmlkIC0gdGhlIHZpZGVvIGNvbnRhaW5lciBsaW5rZWQgdG8gdGhlIHBlZXJjb25uZWN0aW9uXG5cdFx0ICogQHBhcmFtIHBfcmVtb3RlQXBwSW5zdElkIC0gdGhlIHJlbW90ZSBhcHBsaWNhdGlvbiBpbnN0YW5jZSBpZGVudGlmaWVyXG5cdFx0ICogQHBhcmFtIHBfb25DbG9zZUNiIC0gQSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2VkXG5cdFx0ICogQHBhcmFtIHBfaXNQdWJsaXNoIC0gdHJ1ZSBpZiBpdCdzIGEgcGVlcmNvbm5lY3Rpb24gcmVsYXRlZCB0byBhIHB1Ymxpc2hTdHJlYW0sIGZhbHNlIGlmIGl0J3MgcmVsYXRhdGVkIHRvIGEgc3Vic2NyaWJlXG5cdFx0ICogQHBhcmFtIHBfYWN0aW9uVHlwZSAtIFRoZSBhY3Rpb24gdHlwZSAoYXVkaW8sIHZpZGVvLCBhdWRpby12aWRlbylcblx0XHQgKiBAcGFyYW0gcF9wZWVyY29JZCAtIFRoZSBQZWVyQ29ubmVjdGlvbiBJZCBpbiB0aGUgd2VicnRjIG5vZGVcblx0XHQgKi9cblx0XHRjcmVhdGVXZWJydGM6IChwX1ZpZCwgcF9yZW1vdGVBcHBJbnN0SWQsIHBfb25DbG9zZUNiLCBwX2lzUHVibGlzaCwgcF9hY3Rpb25UeXBlLCBwX3BlZXJjb0lkLHBfcGVlcmNvUmVmLCBwX211dGVkQXVkaW8sIHBfbXV0ZVZpZGVvLCBwX2dldFN0cmVhbUNiKSA9PiB7XG5cdFx0XHRyZXR1cm4gX2NyZWF0ZVdlYnJ0Yy5iaW5kKHRoaXMpKHBfVmlkLCBwX3JlbW90ZUFwcEluc3RJZCwgcF9vbkNsb3NlQ2IsIHBfaXNQdWJsaXNoLCBwX2FjdGlvblR5cGUsIHBfcGVlcmNvSWQsIHBfcGVlcmNvUmVmLHBfbXV0ZWRBdWRpbywgcF9tdXRlVmlkZW8sIHBfZ2V0U3RyZWFtQ2IpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBDbG9zZSBXZWJSVEMgZmVhdHVyZXMgOiBkZXRhY2ggbWVkaWEgc3RyZWFtcyBhbmQgdW5wdWJsaXNoIHN0YWNrcy5cblx0XHQgKiBAcGFyYW0gaWQgLVxuXHRcdCAqIEBwYXJhbSBwX2lzVW5QdWJsaXNoXG5cdFx0ICogQHBhcmFtIGNhbGxiYWNrIC1cblx0XHQgKi9cblx0XHRjbG9zZVdlYnJ0YzogX2Nsb3NlV2VicnRjLFxuXG5cdFx0LyoqXG5cdFx0ICogQ2xlYXJzIGEgc3BlY2lmaWNhbCBXZWJSVEMgc3RhY2sgYnkgc2V0dGluZyBpdCB0byBudWxsLlxuXHRcdCAqIEBwYXJhbSB3ZWJydGNTdGFja0lkIC0gVGhlIFdlYlJUQyBzdGFjayBJRCB0byBjbGVhclxuXHRcdCAqL1xuXHRcdGNsZWFyV2VicnRjU3RhY2tzOiBfY2xlYXJXZWJydGNTdGFja3MsXG5cdFx0LyoqXG5cdFx0ICogYXVkaW8gbXV0ZSB0aGUgd2VicnRjIHBlZXJjb25uZWN0aW9uXG5cdFx0ICogQHBhcmFtIHZpcnR1YWxXZWJydGNTdGFja0lkIC0gVGhlIFdlYlJUQyBzdGFjayBJRCB0byBtdXRlXG5cdFx0ICovXG5cdFx0bXV0ZUF1ZGlvV2VicnRjU3RhY2s6IF9tdXRlQXVkaW9XZWJydGNTdGFjayxcblx0XHQvKipcblx0XHQgKiAgYXVkaW8gdW5tdXRlIHRoZSB3ZWJydGMgcGVlcmNvbm5lY3Rpb25cblx0XHQgKiBAcGFyYW0gdmlydHVhbFdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIHVubXV0ZVxuXHRcdCAqL1xuXHRcdHVubXV0ZUF1ZGlvV2VicnRjU3RhY2s6IF91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrLFxuXHRcdC8qKlxuXHRcdCAqIHZpZGVvIG11dGUgdGhlIHdlYnJ0YyBwZWVyY29ubmVjdGlvblxuXHRcdCAqIEBwYXJhbSB2aXJ0dWFsV2VicnRjU3RhY2tJZCAtIFRoZSBXZWJSVEMgc3RhY2sgSUQgdG8gbXV0ZVxuXHRcdCAqL1xuXHRcdG11dGVWaWRlb1dlYnJ0Y1N0YWNrOiBfbXV0ZVZpZGVvV2VicnRjU3RhY2ssXG5cdFx0LyoqXG5cdFx0ICogdmlkZW8gdW5tdXRlIHRoZSB3ZWJydGMgcGVlcmNvbm5lY3Rpb25cblx0XHQgKiBAcGFyYW0gdmlydHVhbFdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIHVubXV0ZVxuXHRcdCAqL1xuXHRcdHVubXV0ZVZpZGVvV2VicnRjU3RhY2s6IF91bm11dGVWaWRlb1dlYnJ0Y1N0YWNrLFxuXG5cdFx0c2V0V2VicnRjTWFuZ2VyIDogX3NldFdlYnJ0Y01hbmdlclxuXG5cdH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCB3ZWJydGNtbmdyO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYnJ0Y21uZ3IuanNcbiAqKi8iLCIvKipcbiAqIEBmaWxlIHdlYnJ0Yy5qcyAtIEpTIGZpbGUgdXNlZCBmb3IgV2ViUlRDIGFzcGVjdHNcbiAqIEBhdXRob3IgV2ViY29tXG4gKi9cblxuLyplc2xpbnQgY29tcGxleGl0eToxLCBtYXgtc3RhdGVtZW50czogMSwgbWF4LWxlbjogMSwgbWF4LXBhcmFtczogMSwgcmVxdWlyZS1qc2RvYzogMSovXG5cbmltcG9ydCBhY3Rpb25zIGZyb20gJy4vYWN0aW9ucyc7XG5pbXBvcnQgbG9jYWxzdHJlYW0gZnJvbSAnLi9sb2NhbHN0cmVhbSc7XG5pbXBvcnQgdmFycyBmcm9tICcuL2FjdGlvbnMnO1xuXG4vKipcbiAqIElDRSBjb25uZWN0aW9uIHN0YXR1cyA6IGRpc2Nvbm5lY3RlZFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJQ0VfQ09OTkVDVElPTl9TVEFURV9ESVNDT05ORUNURUQgPSAnZGlzY29ubmVjdGVkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBjb25uZWN0ZWRcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ09OTkVDVEVEPSAnY29ubmVjdGVkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBjb21wbGV0ZWRcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ09NUExFVEVEPSAnY29tcGxldGVkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBjaGVja2luZ1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJQ0VfQ09OTkVDVElPTl9TVEFURV9DSEVDS0lORz0gJ2NoZWNraW5nJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBjbG9zZWRcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0xPU0VEPSAnY2xvc2VkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBmYWlsZWRcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSUNFX0NPTk5FQ1RJT05fU1RBVEVfRkFJTEVEPSAnZmFpbGVkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBhbm90aGVyIHN0YXR1c1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJQ0VfQ09OTkVDVElPTl9TVEFURV9PVEhFUj0gJ290aGVyJztcblxuXG4vKipcbiAqIFRoZSBkZWZhdWx0IElDRSBjb25maWd1cmF0aW9uIGZvciBUVVJOIGFuZCBTVFVOIHNlcnZlcnMgdG8gdXNlIGZvciBXZWJSVEMgY29tbXVuaWNhdGlvbnhcbiAqIE5CIDogdGhlc2UgY29uZmlndXJhdGlvbiB3aWxsIGJlIG92ZXJ3cml0ZW4gYnkgdGhlIGNvbmZpZ3VyYXRpb24gb24gdGhlIFdlYmNvbSBzZXJ2ZXIgaWYgcHJlc2VudFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7anNvbn1cbiAqL1xuXG5jb25zdCBERUZBVUxUX0lDRV9DT05GSUcgPSB7XG5cdGljZVNlcnZlcnM6IFtcblx0XHR7XG5cdFx0XHR1cmw6ICd0dXJuczp0dXJuMS53ZWJjb20ub3JhbmdlLmNvbTo0NDMnLFxuXHRcdFx0dXNlcm5hbWU6ICdhZG1pbicsXG5cdFx0XHRjcmVkZW50aWFsOiAnd2ViY29tMTIzNCdcblx0XHR9LFxuXHRcdHtcblx0XHRcdHVybDogJ3R1cm46dHVybjIud2ViY29tLm9yYW5nZS5jb206NDQzJyxcblx0XHRcdHVzZXJuYW1lOiAnYWRtaW4nLFxuXHRcdFx0Y3JlZGVudGlhbDogJ3dlYmNvbTEyMzQnXG5cdFx0fSxcblx0XHR7XG5cdFx0XHR1cmw6ICd0dXJuczp0dXJuMy53ZWJjb20ub3JhbmdlLmNvbTo0NDMnLFxuXHRcdFx0dXNlcm5hbWU6ICdhZG1pbicsXG5cdFx0XHRjcmVkZW50aWFsOiAnd2ViY29tMTIzNCdcblx0XHR9XG5cdF1cbn07XG5cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBkZXNjcmlwdGlvbiBXZWJSVEMgY29ubmVjdGlvbiBvYmplY3QuIE1hbmFnZXMgYSBXZWJSVEMgY29ubmVjdGlvbiwgaS5lLiBvbmUgcGVlcmNvbm5lY3Rpb25cbiAqIEBwYXJhbSBwX3dlYnJ0Y21uZ3IgLSBSZWZlcmVuY2UgdG8gV2ViUlRDTWFuYWdlclxuICogQHBhcmFtIHBfaXNQdWJsaXNoIC0gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZXJlIGlzIGEgcGx1Ymxpc2ggYWN0aW9uXG4gKiBAcGFyYW0gcF9sb2NhbERhdGFSZWYgLSBUaGUgbG9jYWwgZGF0YSByZWZcbiAqIEBwYXJhbSBwX3JlbW90ZURhdGFSZWYgLSBUaGUgcmVtb3RlIGRhdGEgcmVmXG4gKiBAcGFyYW0gcF93ZWJydGNTdGFja0lkIC0gVGhlIHN0YWNrIElEIGluIHVzZVxuICogQHBhcmFtIHBfYWN0aW9uVHlwZSAtXG4gKiBAcGFyYW0gcF9tdXRlQXVkaW8gLSBvcHRpb25hbCAtIGlmIHRydWUgcGVlcmNvbm5lY3Rpb24gd2lsbCBiZSBjcmVhdGVkIHdpdGggYXVkaW8gbXV0ZWRcbiAqIEBwYXJhbSBwX211dGVWaWRlbyAtIG9wdGlvbmFsIC0gaWYgdHJ1ZSBwZWVyY29ubmVjdGlvbiB3aWxsIGJlIGNyZWF0ZWQgd2l0aCB2aWRlbyBtdXRlZFxuXG4gKi9cbmNvbnN0IHdlYnJ0YyA9IGZ1bmN0aW9uIChwX3dlYnJ0Y21uZ3IsIHBfaXNQdWJsaXNoLCBwX2xvY2FsRGF0YVJlZiwgcF9yZW1vdGVEYXRhUmVmLCBwX3dlYnJ0Y1N0YWNrSWQsIHBfYWN0aW9uVHlwZSwgcF9tdXRlQXVkaW8sIHBfbXV0ZVZpZGVvKSB7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBXZWJSVEMgbWFuYWdlciBvYmplY3QuIFVzZWZ1bCB0byBjbGVhciB3ZWJydGMgc3RhY2tcblx0ICovXG5cdGNvbnN0IHdlYnJ0Y21uZ3IgPSBwX3dlYnJ0Y21uZ3I7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIFdlYlJUQyBzdGFjayBpZGVudGlmaWVyLCBoZXJlIHRoZSBjdXJyZW50IHRpbWVzdGFtcFxuXHQgKi9cblx0Y29uc3Qgc3RhY2tJZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIElmIHRoZXJlIGlzIGEgcHVibGlzaCBhY3Rpb24gb3Igbm90XG5cdCAqL1xuXHRjb25zdCBpc1B1Ymxpc2ggPSBwX2lzUHVibGlzaDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgcGVlciBjb25uZWN0aW9uXG5cdCAqL1xuXHRsZXQgcGMgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBsb2NhbCBkYXRhIHJlZlxuXHQgKi9cblx0Y29uc3QgbG9jYWxEYXRhUmVmID0gcF9sb2NhbERhdGFSZWY7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHJlbXRvZSBkYXRhIHJlZlxuXHQgKi9cblx0Y29uc3QgcmVtb3RlRGF0YVJlZiA9IHBfcmVtb3RlRGF0YVJlZjtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlcmUgYSBsaXN0IG9mIElDRSBjYW5kaWRhdGVzIGlzIHByb3ZpZGVkXG5cdCAqL1xuXHRsZXQgaWNlQ2FuZGlkYXRlc0xpc3RDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBjYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIFNEUCBvZmZlciBoYXMgYmVlbiByZWNlaXZlZFxuXHQgKi9cblx0bGV0IHNkcE9mZmVyQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gYSBTRFAgYW5zd2VyIGhhcyBiZWVuIHJlY2VpdmVkXG5cdCAqL1xuXHRsZXQgc2RwQW5zd2VyQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgY2FsbGJhY2sgdHJpZ2dlcmVkIG9uIGEgcmVtb3RlIGRhdGFyZWYgZXZlbnRcblx0ICovXG5cdGxldCByZW1vdGVkYXRhcmVmQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2luZ1xuXHQgKi9cblx0bGV0IG9uQ2xvc2VDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIFdlYlJUQyBzdGFjayBJRFxuXHQgKi9cblx0Y29uc3Qgd2VicnRjU3RhY2tJZCA9IHBfd2VicnRjU3RhY2tJZDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgYWN0aW9uIHR5cGUgdG8gcHJvY2Vzc1xuXHQgKi9cblx0Y29uc3QgYWN0aW9uVHlwZSA9IHBfYWN0aW9uVHlwZTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgY29uZmlndXJhdGlvblxuXHQgKi9cblx0bGV0IGNvbmZpZyA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBIHBlZXIgY29ubmVjdGlvbiBvYmplY3QsIGZvciBjcm9zcyBicm93c2VycyBjb21wYXRpYmlsaXRpZXNcblx0ICovXG5cdGxldCBteVBlZXJDb25uZWN0aW9uID0gbnVsbDtcblx0Ly92YXIgbXlDcmVhdGVPYmplY3RVUkwgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIFJUQyBzZXNzaW9uIGRlc2NyaXB0aW9uLCBmb3IgY3Jvc3MgYnJvd3NlcnMgY29tcGF0aWJpbGl0aWVzXG5cdCAqL1xuXHRsZXQgbXlSVENTZXNzaW9uRGVzY3JpcHRpb24gPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIFJUQyBJQ0UgY2FuZGlkYXRlLCBmb3IgY3Jvc3MgYnJvd3NlcnMgY29tcGF0aWJpbGl0aWVzXG5cdCAqL1xuXHRsZXQgbXlSVENJY2VDYW5kaWRhdGUgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyBsb2NhbCBzdHJlYW1zXG5cdCAqL1xuXHRjb25zdCBsb2NhbFN0cmVhbXMgPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIHJlbW90ZSBzdHJlYW1zXG5cdCAqL1xuXHRjb25zdCByZW1vdGVTdHJlYW1zID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyByZW1vdGUgc3RyZWFtcyBDQlxuXHQgKi9cblx0bGV0IHJlbW90ZVN0cmVhbXNDYiA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSByZWNlaXZlZCBzdHJlYW1cblx0ICovXG5cdGxldCByZWNlaXZlZFN0cmVhbSA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHNlbnQgc3RyZWFtXG5cdCAqL1xuXHRsZXQgc2VudFN0cmVhbSA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZSBjb25uZWN0aW9uIGlzIGNsb3NlZFxuXHQgKi9cblx0bGV0IGlzQ2xvc2VkID0gZmFsc2U7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZSBjbG9zZSBwcm9jZXNzIGlzIG9uIGdvaW5nXG5cdCAqL1xuXHRsZXQgY2xvc2VJblByb2dyZXNzID0gZmFsc2U7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIElDRSBjb25uZWN0aW9uIHN0YXRlXG5cdCAqL1xuXHRsZXQgaWNlQ29ubmVjdGlvblN0YXRlID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbm90aGVyIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgY29ubmVjdGlvbiBzaG91bGQgYmUgY2xvc2VkXG5cdCAqL1xuXHRsZXQgb25DbG9zZUNiMiA9IG51bGw7XG5cblx0bGV0IGlzQXVkaW9NdXRlID0gZmFsc2U7XG5cblx0bGV0IGlzVmlkZW9NdXRlID0gZmFsc2U7XG5cblxuXHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjp3ZWJydGM6OilzdGFja0lkPSR7c3RhY2tJZH0gaXNQdWJsaXNoPSR7aXNQdWJsaXNofSxsb2NhbERhdGFSZWY9JHtsb2NhbERhdGFSZWZ9LHJlbW90ZURhdGFSZWY9JHtyZW1vdGVEYXRhUmVmfSknKTtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgRGF0YWdyYW0gVHJhbnNwb3J0IExheWVyIFNlY3VyaXR5IChEVExTKSBrZXkgYWdyZWVtZW50XG5cdCAqL1xuXHRjb25zdCBEdGxzU3J0cEtleUFncmVlbWVudCA9IHtcblx0XHREdGxzU3J0cEtleUFncmVlbWVudDogdHJ1ZVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gLSBTb21lIG9wdGlvbnNcblx0ICovXG5cdGNvbnN0IG9wdGlvbmFsID0ge1xuXHRcdG9wdGlvbmFsOiBbRHRsc1NydHBLZXlBZ3JlZW1lbnRdXG5cdH07XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgcHVibGlzaGVyIG1lZGlhIGNvbnN0cmFpbnRzIGFzIGEgSlNPTiBhcnJheVxuXHQgKi9cblx0Y29uc3QgcHVibGlzaGVyTWVkaWFDb25zdHJhaW50cyA9IHtcblx0XHQnbWFuZGF0b3J5Jzoge1xuXHRcdFx0J09mZmVyVG9SZWNlaXZlQXVkaW8nOiBmYWxzZSxcblx0XHRcdCdPZmZlclRvUmVjZWl2ZVZpZGVvJzogZmFsc2Vcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgc3Vic2NyaWJlciBtZWRpYSBjb25zdHJhaW50cyBhcyBhIEpTT04gYXJyYXlcblx0ICovXG5cdGNvbnN0IHN1YnNjcmliZXJNZWRpYUNvbnN0cmFpbnRzID0ge1xuXHRcdCdtYW5kYXRvcnknOiB7XG5cdFx0XHQnT2ZmZXJUb1JlY2VpdmVBdWRpbyc6IHRydWUsXG5cdFx0XHQnT2ZmZXJUb1JlY2VpdmVWaWRlbyc6IHRydWVcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIENhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhbiBlcnJvciBvY2N1cnNcblx0ICogQHBhcmFtIGUgLSBUaGUgZXJyb3Jcblx0ICovXG5cdGZ1bmN0aW9uIG9uRXJyb3IoZSkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6KXN0YWNrSWQ9JHtzdGFja0lkfWVycm9yPSR7ZX1gKTtcblx0XHRjb25zb2xlLmRpcihlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBJQ0Ugc2VydmVycyBjb25maWd1cmF0aW9uXG5cdCAqIEBwYXJhbSBjYWxsYmFja09rIC0gVGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgY29uZmlnIHJldHJpZXZlbWVudCBpcyBkb25lXG5cdCAqIEBwYXJhbSBjYWxsYmFja0tvIC0gVGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhbiBlcnJvciBvY2N1cnNcblx0ICovXG5cdGZ1bmN0aW9uIGdldEljZVNlcnZlcnNDb25maWdGcm9tU2VydmVyKGNhbGxiYWNrT2ssIGNhbGxiYWNrS28pIHtcblx0XHRjb25zb2xlLmxvZygnUmVhY2hTREs6OndlYnJ0Yzo6Z2V0SWNlU2VydmVyc0NvbmZpZ0Zyb21TZXJ2ZXInKTtcblx0XHRpZiAobG9jYWxEYXRhUmVmKSB7XG5cdFx0XHRsb2NhbERhdGFSZWYucm9vdCgpLmNoaWxkKCdjb25maWcnKS5vbmNlKCd2YWx1ZScsIChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRjb25zdCBfY29uZmlnID0gc25hcHNob3QgPyBzbmFwc2hvdC52YWwoKSA6IG51bGw7XG5cdFx0XHRcdGlmIChfY29uZmlnKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBjYWxsYmFja09rID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrT2soX2NvbmZpZyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFja0tvID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRjYWxsYmFja0tvKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIChlcnJvcikgPT4ge1xuXHRcdFx0XHRpZiAodHlwZW9mIGNhbGxiYWNrS28gPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGNhbGxiYWNrS28oZXJyb3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFja0tvID09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNhbGxiYWNrS28oKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU3RhcnRzIHRoZSBsaXN0aW5nIHRvIGEgcmVtb3RlIElDRSBjYW5kaWRhdGUgYnkgZW5hYmxpbmcgdGhlIGRlZGljYXRlZCBjYWxsYmFja1xuXHQgKiBmb3IgdGhlIFwiY2hpbGRfYWRkZWRcIiBldmVudCBvbiB0aGUgXCJpY2VDYW5kaWRhdGVzTGlzdFwiIG5vZGUgaW4gdGhlIGRhdGFiYXNlLlxuXHQgKi9cblx0ZnVuY3Rpb24gc3RhcnRMaXN0ZW5pbmdUb1JlbW90ZUljZUNhbmRpZGF0ZSgpIHtcblx0XHRyZW1vdGVEYXRhUmVmLmNoaWxkKCdpY2VDYW5kaWRhdGVzTGlzdCcpLm9uKCdjaGlsZF9hZGRlZCcsIGljZUNhbmRpZGF0ZXNMaXN0Q2IpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFN0b3BzIHRoZSBsaXN0ZW5pbmcgdG8gcmVtb3RlIElDRSBjYW5kaXNkYXRlIGJ5IGRpc2FibGluZyB0aGUgZGVkaWNhdGVkIGNhbGxiYWNrXG5cdCAqIGZvciB0aGUgXCJjaGlsZF9hZGRlZFwiIGV2ZW50IG9uIHRoZSBcImljZUNhbmRpZGF0ZXNMaXN0XCIgbm9kZSBpbiB0aGUgZGF0YWJhc2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBzdG9wTGlzdGVuaW5nVG9SZW1vdGVJY2VDYW5kaWRhdGUoKSB7XG5cdFx0cmVtb3RlRGF0YVJlZi5jaGlsZCgnaWNlQ2FuZGlkYXRlc0xpc3QnKS5vZmYoJ2NoaWxkX2FkZGVkJywgaWNlQ2FuZGlkYXRlc0xpc3RDYik7XG5cdH1cblxuXHQvKipcblx0ICogRW5hYmxlL0Rpc2FibGUgdHJhY2tzXG5cdCAqIEBwYXJhbSBlbmFibGVkIHRydWUgdG8gZW5hYmxlIHRyYWNrc1xuXHQgKiBAcGFyYW0gdHJhY2tzIHRoZSB0cmFja3Ncblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlVHJhY2tzKC8qQm9vbGVhbiovZW5hYmxlZCwgLypBcnJheSovdHJhY2tzKSB7XG5cdFx0aWYodHJhY2tzKSB7XG5cdFx0XHR0cmFja3MuZm9yRWFjaCgodHJhY2spID0+IHtcblx0XHRcdFx0aWYodHJhY2spIHtcblx0XHRcdFx0XHR0cmFjay5lbmFibGVkID0gZW5hYmxlZDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIE11dGUvVW5NdXRlIGF1ZGlvIHRyYWNrc1xuXHQgKiBAcGFyYW0gbXV0ZSB0cnVlIHRvIG11dGUgdHJhY2tzXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfbXV0ZUF1ZGlvVHJhY2tzKG11dGUpIHtcblx0XHRpc0F1ZGlvTXV0ZSA9IG11dGU7XG5cdFx0Y29uc3Qgc3RyZWFtID0gaXNQdWJsaXNoICYmIHNlbnRTdHJlYW0gPyBzZW50U3RyZWFtIDogKCFpc1B1Ymxpc2ggJiYgcmVjZWl2ZWRTdHJlYW0gPyByZWNlaXZlZFN0cmVhbSA6IG51bGwpO1xuXHRcdGlmKHN0cmVhbSl7XG5cdFx0XHRfbXV0ZVRyYWNrcyghaXNBdWRpb011dGUsIHN0cmVhbS5nZXRBdWRpb1RyYWNrcygpKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTXV0ZSBhdWRpbyB0cmFja3Ncblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlQXVkaW8oKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpfbXV0ZUF1ZGlvKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdF9tdXRlQXVkaW9UcmFja3ModHJ1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogVW5tdXRlIGF1ZGlvIHRyYWNrc1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3VubXV0ZUF1ZGlvKCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6X3VubXV0ZUF1ZGlvKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdF9tdXRlQXVkaW9UcmFja3MoZmFsc2UpO1xuXHR9XG5cblx0LyoqXG5cdCAqIE11dGUvVW5NdXRlIHZpZGVvIHRyYWNrc1xuXHQgKiBAcGFyYW0gbXV0ZSB0cnVlIHRvIG11dGUgdHJhY2tzXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfbXV0ZVZpZGVvVHJhY2tzKG11dGUpIHtcblx0XHRpc1ZpZGVvTXV0ZSA9IG11dGU7XG5cdFx0Y29uc3Qgc3RyZWFtID0gaXNQdWJsaXNoICYmIHNlbnRTdHJlYW0gPyBzZW50U3RyZWFtIDogKCFpc1B1Ymxpc2ggJiYgcmVjZWl2ZWRTdHJlYW0gPyByZWNlaXZlZFN0cmVhbSA6IG51bGwpO1xuXHRcdGlmKHN0cmVhbSl7XG5cdFx0XHRfbXV0ZVRyYWNrcyghaXNWaWRlb011dGUsIHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTXV0ZSB2aWRlbyB0cmFja3Ncblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlVmlkZW8oKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpfbXV0ZVZpZGVvKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdF9tdXRlVmlkZW9UcmFja3ModHJ1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogVW5tdXRlIHZpZGVvIHRyYWNrc1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3VubXV0ZVZpZGVvKCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6X3VubXV0ZVZpZGVvKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdF9tdXRlVmlkZW9UcmFja3MoZmFsc2UpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSBsb2NhbCBzdHJlYW1cblx0ICogQHBhcmFtIGNhbGxiYWNrIC0gQSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gdGhlIGluaXRpYWxpc2F0aW9uIGlzIGRvbmVcblx0ICovXG5cdGZ1bmN0aW9uIF9pbml0bG9jYWxTdHJlYW0oY2FsbGJhY2spIHtcblx0XHQvLyBnZXQgbG9jYWwgdmlkZW8gc3RyZWFtIGFuZCByZW5kZXJzIHRvIGxvY2FsVmlkXG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpfaW5pdGxvY2FsU3RyZWFtKXN0YWNrSWQ9JHtzdGFja0lkfSBnZXQgbG9jYWwgdmlkZW8gc3RyZWFtIGFuZCByZW5kZXJzIHRvIGxvY2FsIHZpZGVvYCk7XG5cdFx0aWYgKGFjdGlvblR5cGUpIHtcblx0XHRcdGxldCBpbml0bG9jYWxTdHJlYW07XG5cdFx0XHRpZiAoYWN0aW9uVHlwZSA9PT0gdmFycy5BQ1RJT05fVFlQRV9WSURFTykge1xuXHRcdFx0XHRpbml0bG9jYWxTdHJlYW0gPSAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6d2VicnRjOjpfaW5pdGxvY2FsU3RyZWFtKWluaXRsb2NhbFN0cmVhbV92aWRlbycpO1xuXHRcdFx0XHRcdGlmIChsb2NhbHN0cmVhbS5nZXRWaWRlb1N0cmVhbSgpICYmIGxvY2Fsc3RyZWFtLmdldFZpZGVvU3RyZWFtKCkuY2xvbmUgJiYgdHlwZW9mIGxvY2Fsc3RyZWFtLmdldFZpZGVvU3RyZWFtKCkuY2xvbmUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0c2VudFN0cmVhbSA9IGxvY2Fsc3RyZWFtLmdldFZpZGVvU3RyZWFtKCkuY2xvbmUoKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VudFN0cmVhbSA9IGxvY2Fsc3RyZWFtLmdldFZpZGVvU3RyZWFtKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChpc0F1ZGlvTXV0ZSkge1xuXHRcdFx0XHRcdFx0X211dGVBdWRpbygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoaXNWaWRlb011dGUpIHtcblx0XHRcdFx0XHRcdF9tdXRlVmlkZW8oKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cGMuYWRkU3RyZWFtKHNlbnRTdHJlYW0pO1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdHJlYW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0bG9jYWxTdHJlYW0pc3RhY2tJZD0ke3N0YWNrSWR9IHJlbmRlcmluZyBsb2NhbCB2aWRlbyB0byAke2xvY2FsU3RyZWFtc1tpXS5pZH1gKTtcblx0XHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKGxvY2FsU3RyZWFtc1tpXSwgbG9jYWxzdHJlYW0uZ2V0VmlkZW9TdHJlYW0oKSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKGxvY2Fsc3RyZWFtLmdldFZpZGVvU3RyZWFtKCkpIHtcblx0XHRcdFx0XHRpbml0bG9jYWxTdHJlYW0oKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5hZGRWaWRlb0xpc3RlbmVyKGluaXRsb2NhbFN0cmVhbSk7XG5cdFx0XHRcdFx0bG9jYWxzdHJlYW0uaW5pdFZpZGVvKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uVHlwZSA9PT0gdmFycy5BQ1RJT05fVFlQRV9BVURJTykge1xuXHRcdFx0XHRpbml0bG9jYWxTdHJlYW0gPSAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6d2VicnRjOjpfaW5pdGxvY2FsU3RyZWFtKWluaXRsb2NhbFN0cmVhbV9hdWRpbycpO1xuXHRcdFx0XHRcdGlmIChsb2NhbHN0cmVhbS5nZXRBdWRpb1N0cmVhbSgpICYmIGxvY2Fsc3RyZWFtLmdldEF1ZGlvU3RyZWFtKCkuY2xvbmUgJiYgdHlwZW9mIGxvY2Fsc3RyZWFtLmdldEF1ZGlvU3RyZWFtKCkuY2xvbmUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0c2VudFN0cmVhbSA9IGxvY2Fsc3RyZWFtLmdldEF1ZGlvU3RyZWFtKCkuY2xvbmUoKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VudFN0cmVhbSA9IGxvY2Fsc3RyZWFtLmdldEF1ZGlvU3RyZWFtKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChpc0F1ZGlvTXV0ZSkge1xuXHRcdFx0XHRcdFx0X211dGVBdWRpbygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoaXNWaWRlb011dGUpIHtcblx0XHRcdFx0XHRcdF9tdXRlVmlkZW8oKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cGMuYWRkU3RyZWFtKHNlbnRTdHJlYW0pO1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdHJlYW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0bG9jYWxTdHJlYW0pc3RhY2tJZD0ke3N0YWNrSWR9IHJlbmRlcmluZyBsb2NhbCBBdWRpbyB0byAke2xvY2FsU3RyZWFtc1tpXS5pZH1gKTtcblx0XHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKGxvY2FsU3RyZWFtc1tpXSwgbG9jYWxzdHJlYW0uZ2V0QXVkaW9TdHJlYW0oKSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKGxvY2Fsc3RyZWFtLmdldEF1ZGlvU3RyZWFtKCkpIHtcblx0XHRcdFx0XHRpbml0bG9jYWxTdHJlYW0oKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5hZGRBdWRpb0xpc3RlbmVyKGluaXRsb2NhbFN0cmVhbSk7XG5cdFx0XHRcdFx0bG9jYWxzdHJlYW0uaW5pdEF1ZGlvKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uVHlwZSA9PT0gYWN0aW9ucy5BQ1RJT05fVFlQRV9BVURJT19WSURFTykge1xuXHRcdFx0XHRpbml0bG9jYWxTdHJlYW0gPSAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6d2VicnRjOjpfaW5pdGxvY2FsU3RyZWFtKWluaXRsb2NhbFN0cmVhbV9hdWRpb192aWRlbycpO1xuXHRcdFx0XHRcdGlmIChsb2NhbHN0cmVhbS5nZXRBdWRpb1ZpZGVvU3RyZWFtKCkgJiYgbG9jYWxzdHJlYW0uZ2V0QXVkaW9WaWRlb1N0cmVhbSgpLmNsb25lICYmIHR5cGVvZiBsb2NhbHN0cmVhbS5nZXRBdWRpb1ZpZGVvU3RyZWFtKCkuY2xvbmUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0c2VudFN0cmVhbSA9IGxvY2Fsc3RyZWFtLmdldEF1ZGlvVmlkZW9TdHJlYW0oKS5jbG9uZSgpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZW50U3RyZWFtID0gbG9jYWxzdHJlYW0uZ2V0QXVkaW9WaWRlb1N0cmVhbSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoaXNBdWRpb011dGUpIHtcblx0XHRcdFx0XHRcdF9tdXRlQXVkaW8oKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGlzVmlkZW9NdXRlKSB7XG5cdFx0XHRcdFx0XHRfbXV0ZVZpZGVvKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cGMuYWRkU3RyZWFtKHNlbnRTdHJlYW0pO1xuXG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0cmVhbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2luaXRsb2NhbFN0cmVhbSlzdGFja0lkPSR7c3RhY2tJZH0gcmVuZGVyaW5nIGxvY2FsIEF1ZGlvVmlkZW8gdG8gJHtsb2NhbFN0cmVhbXNbaV0uaWR9YCk7XG5cdFx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShsb2NhbFN0cmVhbXNbaV0sIGxvY2Fsc3RyZWFtLmdldEF1ZGlvVmlkZW9TdHJlYW0oKSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblxuXG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmIChsb2NhbHN0cmVhbS5nZXRBdWRpb1ZpZGVvU3RyZWFtKCkpIHtcblx0XHRcdFx0XHRpbml0bG9jYWxTdHJlYW0oKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5hZGRBdWRpb1ZpZGVvTGlzdGVuZXIoaW5pdGxvY2FsU3RyZWFtKTtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5pbml0QXVkaW9WaWRlbygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUud2FybignKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0bG9jYWxTdHJlYW0pbm8gYWN0aW9uVHlwZSBzcGVjaWZpZWQnKTtcblx0XHR9XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBQcmVwYXJlcyB0aGUgU0RQIGNhbGxiYWNrcy5cblx0ICogUmVtb3RlIGRlc2NyaXB0aW9uIHdpbGwgYnkgZGVmaW5lZCBmb3IgdGhlIHBlZXIgY29ubmVjdGlvbiBhbmQgY2FsbGJhY2tzIGFyZSBkZWZpbmVkIGZvciBTRFAgYW5zd3NlciBhbmQgcmVzcG9uc2UgbWFuYWdlbWVudC5cblx0ICogSWYgdGhlcmUgaXMgbm8gcHVibGlzaGluZywgbG9jYWwgZGVzY3JpcHRpb24gd2lsbCBiZSBkZWZpbmVkLlxuXHQgKi9cblx0ZnVuY3Rpb24gX2luaXRTZHBDYWxsYmFja3MoKSB7XG5cdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0U2RwQ2FsbGJhY2tzKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdGlmIChpc1B1Ymxpc2gpIHtcblx0XHRcdGlmIChzZHBPZmZlckNiKSB7XG5cdFx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHNkcE9mZmVyQ2IpO1xuXHRcdFx0fVxuXHRcdFx0c2RwQW5zd2VyQ2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0aWYgKCFpc0Nsb3NlZCAmJiBzbmFwc2hvdC5uYW1lKCkgPT09ICdzZHBBbnN3ZXInKSB7XG5cdFx0XHRcdFx0Y29uc3QgZGF0YSA9IHNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpzZHBBbnN3ZXJDYilzdGFja0lkPSR7c3RhY2tJZH0tcmVjZWl2ZWQgc2RwQW5zd2VyOiAke0pTT04uc3RyaW5naWZ5KGRhdGEpfWApO1xuXHRcdFx0XHRcdHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBteVJUQ1Nlc3Npb25EZXNjcmlwdGlvbihkYXRhKSwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6OnNkcEFuc3dlckNiKXN0YWNrSWQ9JHtzdGFja0lkfS1yZW1vdGUgZGVzY3JpcHRpb24gc2V0YCk7XG5cdFx0XHRcdFx0XHQvLyByZW1vdmUgc2RwQW5zd2VyIGZyb20gd2ViY29tXG5cdFx0XHRcdFx0XHQvL3NuYXBzaG90LnJlZigpLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0c3RhcnRMaXN0ZW5pbmdUb1JlbW90ZUljZUNhbmRpZGF0ZSgpO1xuXHRcdFx0XHRcdH0sIG9uRXJyb3IpO1xuXHRcdFx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHNkcEFuc3dlckNiKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdHJlbW90ZURhdGFSZWYub24oJ2NoaWxkX2FkZGVkJywgc2RwQW5zd2VyQ2IpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoc2RwQW5zd2VyQ2IpIHtcblx0XHRcdFx0cmVtb3RlRGF0YVJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgc2RwQW5zd2VyQ2IpO1xuXHRcdFx0fVxuXHRcdFx0c2RwT2ZmZXJDYiA9IGZ1bmN0aW9uIChzbmFwc2hvdCkge1xuXHRcdFx0XHRpZiAoIWlzQ2xvc2VkICYmIHNuYXBzaG90Lm5hbWUoKSA9PT0gJ3NkcE9mZmVyJykge1xuXHRcdFx0XHRcdGNvbnN0IGRhdGEgPSBzbmFwc2hvdC52YWwoKTtcblx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6c2RwT2ZmZXJDYilzdGFja0lkPSR7c3RhY2tJZH0tcmVjZWl2ZWQgc2RwT2ZmZXI6ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9YCk7XG5cdFx0XHRcdFx0cGMuc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IG15UlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGRhdGEpLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRwYy5jcmVhdGVBbnN3ZXIoKGRlc2NyaXB0aW9uKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6c2RwT2ZmZXJDYilzdGFja0lkPSR7c3RhY2tJZH0tc2VuZGluZyBhbnN3ZXJgKTtcblx0XHRcdFx0XHRcdFx0cGMuc2V0TG9jYWxEZXNjcmlwdGlvbihkZXNjcmlwdGlvbiwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpzZHBPZmZlckNiKXN0YWNrSWQ9JHtzdGFja0lkfS1zZXQgc2RwQW5zd2VyIGluIGJhc2UgOiAke0pTT04uc3RyaW5naWZ5KGRlc2NyaXB0aW9uKX1gKTtcblx0XHRcdFx0XHRcdFx0XHRsb2NhbERhdGFSZWYuY2hpbGQoJ3NkcEFuc3dlcicpLnNldChKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRlc2NyaXB0aW9uKSkpOyAvLyBkZWNvZGluZy9lbmNvZGluZyBiZWNhdXNlIG9mIEZpcmVmb3ggYnVnXG5cdFx0XHRcdFx0XHRcdFx0Ly8gcmVtb3ZlIHNkcE9mZmVyIGZyb20gd2ViY29tXG5cdFx0XHRcdFx0XHRcdFx0Ly9zbmFwc2hvdC5yZWYoKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHRzdGFydExpc3RlbmluZ1RvUmVtb3RlSWNlQ2FuZGlkYXRlKCk7XG5cdFx0XHRcdFx0XHRcdH0sIG9uRXJyb3IpO1xuXHRcdFx0XHRcdFx0fSwgb25FcnJvciwgc3Vic2NyaWJlck1lZGlhQ29uc3RyYWludHMpO1xuXHRcdFx0XHRcdH0sIG9uRXJyb3IpO1xuXHRcdFx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHNkcE9mZmVyQ2IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0cmVtb3RlRGF0YVJlZi5vbignY2hpbGRfYWRkZWQnLCBzZHBPZmZlckNiKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ2xvc2VzIHRoZSBTRFAgY2FsbGJhY2tzIGJ5IGRpc2FibGluZyBjYWxsYmFja3MgZm9yIHRoZSBcImNoaWxkX2FkZGVkXCIgZXZlbnQgYW5kIGJ5IGRlZmluaW5nIHRoZW0gdG8gbnVsbC5cblx0ICovXG5cdGZ1bmN0aW9uIF9jbG9zZVNkcENhbGxiYWNrcygpIHtcblx0XHRpZiAoc2RwQW5zd2VyQ2IpIHtcblx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHNkcEFuc3dlckNiKTtcblx0XHRcdHNkcEFuc3dlckNiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHNkcE9mZmVyQ2IpIHtcblx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHNkcE9mZmVyQ2IpO1xuXHRcdFx0c2RwT2ZmZXJDYiA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNlbmRzIGFuIFNEUCBvZmZlciB0aHJvdWdoIHRoZSBwZWVyIGNvbm5lY3Rpb24uXG5cdCAqIEFuIFNEUCBvZmZlciBpcyBjcmVhdGVkLCB3aXRoIGEgbG9jYWwgZGVzY3JpcHRpb24sIGFuZCBpcyBzZW50LlxuXHQgKiBUaGUgZGVzY3JpcHRpb24gaXMgYm90aCBkZWNvZGVkIGFuZCBlbmNvZGVkIGJlY2F1c2Ugb2YgRmlyZWZveCBidWdzLlxuXHQgKi9cblx0ZnVuY3Rpb24gc2VuZE9mZmVyKCkge1xuXHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdC8vIHB1YmxpZSBsJ29mZnJlIGluaXRpYWxlXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0Y29uc29sZS5sb2coYCh3ZWJydGM6OnNlbmRPZmZlcilzdGFja2lkPSR7c3RhY2tJZH0tY3JlYXRpbmcgc2RwT2ZmZXJgKTtcblx0XHRwYy5jcmVhdGVPZmZlcigoZGVzY3JpcHRpb24pID0+IHtcblx0XHRcdHBjLnNldExvY2FsRGVzY3JpcHRpb24oZGVzY3JpcHRpb24sICgpID0+IHtcblx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6OmNyZWF0ZU9mZmVyKXN0YWNrSWQ9JHtzdGFja0lkfS1zZXQgc2RwT2ZmZXIgaW4gYmFzZSA6ICR7SlNPTi5zdHJpbmdpZnkoZGVzY3JpcHRpb24pfWApO1xuXHRcdFx0XHRsb2NhbERhdGFSZWYuY2hpbGQoJ3NkcE9mZmVyJykuc2V0KEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGVzY3JpcHRpb24pKSk7IC8vIGRlY29kaW5nL2VuY29kaW5nIGJlY2F1c2Ugb2YgRmlyZWZveCBidWdcblx0XHRcdH0sIG9uRXJyb3IpO1xuXHRcdH0sIG9uRXJyb3IsIHB1Ymxpc2hlck1lZGlhQ29uc3RyYWludHMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENsb3NlcyB0aGUgY29ubmVjdGlvbiBhbmQgdHJpZ2dlcnMgdGhlIGNhbGxiYWNrIHdoZW4gdGhlIG9wZXJhdGlvbiBpcyBkb25lXG5cdCAqIEBwYXJhbSBjYWxsYmFja1xuXHQgKi9cblx0ZnVuY3Rpb24gX2Nsb3NlKGNhbGxiYWNrKSB7XG5cblx0XHRpZiAoIWNsb3NlSW5Qcm9ncmVzcyAmJiAhaXNDbG9zZWQpIHtcblx0XHRcdGNsb3NlSW5Qcm9ncmVzcyA9IHRydWU7XG5cdFx0XHRvbkNsb3NlQ2IyID0gY2FsbGJhY2s7XG5cdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1jbG9zaW5nIHdlYnJ0YyBzdGFja2ApO1xuXHRcdFx0aWYgKHBjKSB7XG5cdFx0XHRcdHBjLmNsb3NlKCk7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gcmVtb3ZlIHdlYmNvbSBjYWxsYmFja3Ncblx0XHRcdGlmIChyZW1vdGVkYXRhcmVmQ2IpIHtcblx0XHRcdFx0cmVtb3RlRGF0YVJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgcmVtb3RlZGF0YXJlZkNiKTtcblx0XHRcdFx0cmVtb3RlZGF0YXJlZkNiID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGljZUNhbmRpZGF0ZXNMaXN0Q2IpIHtcblx0XHRcdFx0c3RvcExpc3RlbmluZ1RvUmVtb3RlSWNlQ2FuZGlkYXRlKCk7XG5cdFx0XHRcdGljZUNhbmRpZGF0ZXNMaXN0Q2IgPSBudWxsO1xuXHRcdFx0fVxuXHRcdFx0X2Nsb3NlU2RwQ2FsbGJhY2tzKCk7XG5cblx0XHRcdC8vIHJlbW92ZSB3ZWJjb20gZGF0YVxuLy9cdFx0XHRsb2NhbERhdGFSZWYucGFyZW50KCkub25EaXNjb25uZWN0KCkuY2FuY2VsKCk7XG4vL1x0XHRcdGxvY2FsRGF0YVJlZi5wYXJlbnQoKS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmUoKTtcblx0XHRcdC8vcmVtb3RlRGF0YVJlZi5yZW1vdmUoKTtcblxuXHRcdFx0Ly8gc3RvcCB2aWRlb1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0cmVhbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKGxvY2FsU3RyZWFtc1tpXSkge1xuXHRcdFx0XHRcdC8vbG9jYWxTdHJlYW1zW2ldLnNyYz1cIlwiOyBub3Qgc3VwcG9ydGVkIGJ5IEZpcmVmb3hcblx0XHRcdFx0XHRkZXRhY2hNZWRpYVN0cmVhbShsb2NhbFN0cmVhbXNbaV0pO1xuXHRcdFx0XHRcdC8vbG9jYWxTdHJlYW1zW2ldLnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKTtcblx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1zdG9wcGluZyBsb2NhbCB2aWRlbyB0byAke2xvY2FsU3RyZWFtc1tpXS5pZH1gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCByZW1vdGVTdHJlYW1zLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGlmIChyZW1vdGVTdHJlYW1zW2pdKSB7XG5cdFx0XHRcdFx0Ly9yZW1vdGVTdHJlYW1zW2pdLnNyYz1cIlwiOyBub3Qgc3VwcG9ydGVkIGJ5IEZpcmVmb3hcblx0XHRcdFx0XHRkZXRhY2hNZWRpYVN0cmVhbShyZW1vdGVTdHJlYW1zW2pdKTtcblx0XHRcdFx0XHQvL3JlbW90ZVN0cmVhbXNbal0ucmVtb3ZlQXR0cmlidXRlKFwic3JjXCIpO1xuXHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpfY2xvc2Upc3RhY2tJZD0ke3N0YWNrSWR9LXN0b3BwaW5nIHJlbW90ZSB2aWQgdG8gJHtyZW1vdGVTdHJlYW1zW2pdLmlkfWApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblxuXHRcdFx0aXNDbG9zZWQgPSB0cnVlO1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9jbG9zZSlzdGFja0lkPSR7c3RhY2tJZH0tY2xvc2luZyB3ZWJydGMgc3RhY2sgLT4gd2FpdGluZyBmb3IgSUNFX0NPTk5FQ1RJT05fU1RBVEVfRElTQ09OTkVDVEVEYCk7XG5cdFx0XHRpZiAoaXNDbG9zZWQgJiYgKGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRElTQ09OTkVDVEVEIHx8IGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0xPU0VEIHx8IGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRkFJTEVEKSkge1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1jbG9zZWQgd2VicnRjIHN0YWNrIGNvbXBsZXRlYCk7XG5cdFx0XHRcdHBjID0gbnVsbDtcblx0XHRcdFx0Y2xvc2VJblByb2dyZXNzID0gZmFsc2U7XG5cdFx0XHRcdHdlYnJ0Y21uZ3IuY2xlYXJXZWJydGNTdGFja3Mod2VicnRjU3RhY2tJZCk7XG5cdFx0XHRcdGlmIChvbkNsb3NlQ2IyICYmIHR5cGVvZiBvbkNsb3NlQ2IyID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRvbkNsb3NlQ2IyKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9jbG9zZSlzdGFja0lkPSR7c3RhY2tJZH0tY2xvc2luZyB3ZWJydGMgc3RhY2sgYWxyZWFkeSBpbiBwcm9ncmVzc2ApO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIF9jb25uZWN0TG9jYWxTdHJlYW0odmlkZW9FbHQsIGdldFN0cmVhbUNiKSB7XG5cdFx0aWYgKGFjdGlvblR5cGUpIHtcblx0XHRcdGlmIChhY3Rpb25UeXBlID09PSBhY3Rpb25zLkFDVElPTl9UWVBFX1ZJREVPKSB7XG5cdFx0XHRcdGxvY2Fsc3RyZWFtLmNvbm5lY3RMb2NhbFZpZGVvU3RyZWFtKHZpZGVvRWx0LCBnZXRTdHJlYW1DYik7XG5cdFx0XHR9IGVsc2UgaWYgKGFjdGlvblR5cGUgPT09IGFjdGlvbnMuQUNUSU9OX1RZUEVfQVVESU8pIHtcblx0XHRcdFx0bG9jYWxzdHJlYW0uY29ubmVjdExvY2FsQXVkaW9TdHJlYW0odmlkZW9FbHQsIGdldFN0cmVhbUNiKTtcblx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uVHlwZSA9PT0gYWN0aW9ucy5BQ1RJT05fVFlQRV9BVURJT19WSURFTykge1xuXHRcdFx0XHRsb2NhbHN0cmVhbS5jb25uZWN0TG9jYWxBdWRpb1ZpZGVvU3RyZWFtKHZpZGVvRWx0LCBnZXRTdHJlYW1DYik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gX2Nvbm5lY3RSZW1vdGVTdHJlYW0odmlkZW9FbHQsIGdldFN0cmVhbUNiKSB7XG5cdFx0aWYgKHZpZGVvRWx0KSB7XG5cdFx0XHRpZiAocmVjZWl2ZWRTdHJlYW0pIHtcblx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0odmlkZW9FbHQsIHJlY2VpdmVkU3RyZWFtKTtcblx0XHRcdFx0aWYgKGdldFN0cmVhbUNiICYmIHR5cGVvZiBnZXRTdHJlYW1DYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Z2V0U3RyZWFtQ2IocmVjZWl2ZWRTdHJlYW0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZW1vdGVTdHJlYW1zLnB1c2godmlkZW9FbHQpO1xuXHRcdFx0XHRpZiAoZ2V0U3RyZWFtQ2IgJiYgdHlwZW9mIGdldFN0cmVhbUNiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRyZW1vdGVTdHJlYW1zQ2IucHVzaChnZXRTdHJlYW1DYik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHJlY2VpdmVkU3RyZWFtKSB7XG5cdFx0XHRcdGlmIChnZXRTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0U3RyZWFtQ2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGdldFN0cmVhbUNiKHJlY2VpdmVkU3RyZWFtKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKGdldFN0cmVhbUNiICYmIHR5cGVvZiBnZXRTdHJlYW1DYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0cmVtb3RlU3RyZWFtc0NiLnB1c2goZ2V0U3RyZWFtQ2IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgcGVlciBjb25uZWN0aW9uXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0X3BjKCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6aW5pdF9wYylzdGFja0lkPSR7c3RhY2tJZH1fY29uZmlnPWAsIEpTT04uc3RyaW5naWZ5KGNvbmZpZykpO1xuXHRcdC8vIFRPRE8gdGVzdCBpcyBjb25maWcgaXMgbWFsZm9ybWF0ZWQgb3IgZW1wdHlcblx0XHRwYyA9IG5ldyBteVBlZXJDb25uZWN0aW9uKGNvbmZpZywgb3B0aW9uYWwpO1xuXG5cblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0XHQvLyBSZWNlaXZlZCBJY2UgY2FuZGlkYXRlIGZyb20gdGhlIHN0YWNrOiBzZW5kIGl0IHRvIHRoZSBwZWVyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0cGMub25pY2VjYW5kaWRhdGUgPSBmdW5jdGlvbiAoZSkge1xuXHRcdFx0aWYgKGUuY2FuZGlkYXRlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6cGMub25pY2VjYW5kaWRhdGUpc3RhY2tJZD0ke3N0YWNrSWR9IHNlbmQgaWNlIGNhbmRpZGF0ZT0ke0pTT04uc3RyaW5naWZ5KGUuY2FuZGlkYXRlKX1gKTtcblx0XHRcdFx0bG9jYWxEYXRhUmVmLmNoaWxkKCdpY2VDYW5kaWRhdGVzTGlzdCcpLnB1c2goe1xuXHRcdFx0XHRcdGxhYmVsOiBlLmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4LFxuXHRcdFx0XHRcdGlkOiBlLmNhbmRpZGF0ZS5zZHBNaWQsXG5cdFx0XHRcdFx0Y2FuZGlkYXRlOiBlLmNhbmRpZGF0ZS5jYW5kaWRhdGVcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdC8vIFJlY2VpdmVkIGEgcmVtb3RlIHN0cmVhbSBmcm9tIHRoZSBzdGFjazogcGxheSBpdCBvbiB0aGUgdmlkZW8gcGxheWVyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0cGMub25hZGRzdHJlYW0gPSBmdW5jdGlvbiAoZSkge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Om9uYWRkc3RyZWFtKXN0YWNrSWQ9JHtzdGFja0lkfS1zdHJlYW06JHtKU09OLnN0cmluZ2lmeShlLnN0cmVhbSl9YCk7XG5cdFx0XHRpZiAoZSAmJiBlLnN0cmVhbSkge1xuXHRcdFx0XHRyZWNlaXZlZFN0cmVhbSA9IGUuc3RyZWFtO1xuXHRcdFx0XHRpZiAoaXNBdWRpb011dGUpIHtcblx0XHRcdFx0XHRfbXV0ZUF1ZGlvKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGlzVmlkZW9NdXRlKSB7XG5cdFx0XHRcdFx0X211dGVWaWRlbygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG4vLyAgICAgICAgICAgIF9yZW1vdGVTdHJlYW0gPSBlLnN0cmVhbTtcbi8vXG4vL1x0XHRcdGZvciAodmFyIGk9MDtpPHJlbW90ZVN0cmVhbXMubGVuZ3RoO2krKykge1xuLy9cdFx0XHQgICAgaWYgKHJlbW90ZVN0cmVhbXNbaV0pIHtcbi8vXHRcdFx0ICAgIFx0ICBjb25zb2xlLmRlYnVnKFwiKFJlYWNoU0RLOjp3ZWJydGM6Om9uYWRkc3RyZWFtKXBjLm9uYWRkc3RyZWFtIHN0YWNrSWQ9XCIrc3RhY2tJZCArIFwiLVwiICtcInJlbmRlcmluZyByZW1vdGUgdmlkIHRvIFwiK3JlbW90ZVN0cmVhbXNbaV0uaWQpO1xuLy9cdFx0XHQgICAgXHQgIGF0dGFjaE1lZGlhU3RyZWFtKCByZW1vdGVTdHJlYW1zW2ldLF9yZW1vdGVTdHJlYW0pO1xuLy9cdFx0XHQgICAgfVxuLy9cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHBjLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gKCkgPT4ge1xuXG5cdFx0XHRpZiAoISFwYyAmJiBwYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0NIRUNLSU5HKSB7XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSlzdGFja0lkPSR7c3RhY2tJZH0tY2hlY2tpbmdgKTtcblx0XHRcdFx0aWNlQ29ubmVjdGlvblN0YXRlID0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0hFQ0tJTkc7XG5cdFx0XHR9IGVsc2UgaWYgKCEhcGMgJiYgcGMuaWNlQ29ubmVjdGlvblN0YXRlID09PSBJQ0VfQ09OTkVDVElPTl9TVEFURV9DT05ORUNURUQpIHtcblx0XHRcdFx0aWNlQ29ubmVjdGlvblN0YXRlID0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ09OTkVDVEVEO1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6b25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2Upc3RhY2tJZD0ke3N0YWNrSWR9LWNvbm5lY3RlZGApO1xuXHRcdFx0XHRpZiAocmVjZWl2ZWRTdHJlYW0pIHtcblx0XHRcdFx0XHRyZW1vdGVTdHJlYW1zLmZvckVhY2goKHJlbW90ZVN0cmVhbSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYocmVtb3RlU3RyZWFtKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpvbmFkZHN0cmVhbSlwYy5vbmFkZHN0cmVhbSBzdGFja0lkPSR7c3RhY2tJZH0tcmVuZGVyaW5nIHJlbW90ZSB2aWQgdG8gJHtyZW1vdGVTdHJlYW0uaWR9YCk7XG5cdFx0XHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKHJlbW90ZVN0cmVhbSwgcmVjZWl2ZWRTdHJlYW0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHJlbW90ZVN0cmVhbXNDYi5mb3JFYWNoKChyZW1vdGVTdHJlYW1DYikgPT4ge1xuXHRcdFx0XHRcdFx0aWYocmVtb3RlU3RyZWFtQ2IpIHtcblx0XHRcdFx0XHRcdFx0cmVtb3RlU3RyZWFtQ2IocmVjZWl2ZWRTdHJlYW0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHJlbW90ZVN0cmVhbXNDYiA9IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0b3BMaXN0ZW5pbmdUb1JlbW90ZUljZUNhbmRpZGF0ZSgpO1xuXHRcdFx0fSBlbHNlIGlmICghIXBjICYmIHBjLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ09NUExFVEVEKSB7XG5cdFx0XHRcdGljZUNvbm5lY3Rpb25TdGF0ZSA9IElDRV9DT05ORUNUSU9OX1NUQVRFX0NPTVBMRVRFRDtcblx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Om9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKXN0YWNrSWQ9JHtzdGFja0lkfS0ke0lDRV9DT05ORUNUSU9OX1NUQVRFX0NPTVBMRVRFRH1gKTtcblx0XHRcdFx0c3RvcExpc3RlbmluZ1RvUmVtb3RlSWNlQ2FuZGlkYXRlKCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoISFwYyAmJiBwYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0RJU0NPTk5FQ1RFRCkge1xuXHRcdFx0XHRpY2VDb25uZWN0aW9uU3RhdGUgPSBJQ0VfQ09OTkVDVElPTl9TVEFURV9ESVNDT05ORUNURUQ7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6b25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2Upc3RhY2tJZD0ke3N0YWNrSWR9LXJlbW90ZSBkaXNjb25uZWN0aW9uLCBjbG9zaW5nIHBlZXIgY29ubmVjdGlvbmApO1xuXHRcdFx0XHQvLyBfY2xvc2UoKTtcblx0XHRcdH0gZWxzZSBpZiAoISFwYyAmJiBwYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0NMT1NFRCkge1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6b25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2Upc3RhY2tJZD0ke3N0YWNrSWR9LWNsb3NlZGApO1xuXHRcdFx0XHRpY2VDb25uZWN0aW9uU3RhdGUgPSBJQ0VfQ09OTkVDVElPTl9TVEFURV9DTE9TRUQ7XG5cdFx0XHRcdF9jbG9zZSgpO1xuXHRcdFx0fSBlbHNlIGlmICghIXBjICYmIHBjLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRkFJTEVEKSB7XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSlzdGFja0lkPSR7c3RhY2tJZH0tZmFpbGVkYCk7XG5cdFx0XHRcdGljZUNvbm5lY3Rpb25TdGF0ZSA9IElDRV9DT05ORUNUSU9OX1NUQVRFX0ZBSUxFRDtcblx0XHRcdFx0Ly9fY2xvc2UoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChwYykge1xuXHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSlzdGFja0lkPSR7c3RhY2tJZH0tJHtwYy5pY2VDb25uZWN0aW9uU3RhdGV9YCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Om9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKXN0YWNrSWQ9JHtzdGFja0lkfS1wYyA9IG51bGxgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGljZUNvbm5lY3Rpb25TdGF0ZSA9IElDRV9DT05ORUNUSU9OX1NUQVRFX09USEVSO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXNDbG9zZWQgJiYgKGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRElTQ09OTkVDVEVEIHx8IGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0xPU0VEIHx8IGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRkFJTEVEKSkge1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1jbG9zZWQgd2VicnRjIHN0YWNrIGNvbXBsZXRlYCk7XG5cdFx0XHRcdHBjID0gbnVsbDtcblx0XHRcdFx0Y2xvc2VJblByb2dyZXNzID0gZmFsc2U7XG5cdFx0XHRcdHdlYnJ0Y21uZ3IuY2xlYXJXZWJydGNTdGFja3Mod2VicnRjU3RhY2tJZCk7XG5cdFx0XHRcdGlmIChvbkNsb3NlQ2IgJiYgdHlwZW9mIG9uQ2xvc2VDYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0b25DbG9zZUNiKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG9uQ2xvc2VDYjIgJiYgdHlwZW9mIG9uQ2xvc2VDYjIgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdG9uQ2xvc2VDYjIoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8vIHN1YnNjcmliZSB0byByZW1vdGUgZGF0YVxuXHRcdGljZUNhbmRpZGF0ZXNMaXN0Q2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdGNvbnN0XG5cdFx0XHRcdGRhdGEgPSBzbmFwc2hvdC52YWwoKSxcblx0XHRcdFx0Y2FuZGlkYXRlID0gbmV3IG15UlRDSWNlQ2FuZGlkYXRlKHtcblx0XHRcdFx0XHRzZHBNTGluZUluZGV4OiBkYXRhLmxhYmVsLFxuXHRcdFx0XHRcdGNhbmRpZGF0ZTogZGF0YS5jYW5kaWRhdGUsXG5cdFx0XHRcdFx0c2RwTWlkOiBkYXRhLmlkXG5cdFx0XHRcdH0pO1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjppY2VDYW5kaWRhdGVzTGlzdENiKXN0YWNrSWQ9JHtzdGFja0lkfXJlY2VpdmVkIGljZSBjYW5kaWRhdGU9JHtKU09OLnN0cmluZ2lmeShjYW5kaWRhdGUpfWApO1xuXG5cdFx0XHRwYy5hZGRJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKTtcblx0XHRcdC8vIHJlbW92ZSBjYW5kaWRhdGUgZnJvbSB3ZWJjb21cblx0XHRcdC8vc25hcHNob3QucmVmKCkucmVtb3ZlKCk7XG5cdFx0fTtcblxuXHRcdGlmIChpc1B1Ymxpc2gpIHtcblx0XHRcdF9pbml0bG9jYWxTdHJlYW0oKCkgPT4ge1xuXHRcdFx0XHRfaW5pdFNkcENhbGxiYWNrcygpO1xuXHRcdFx0XHRzZW5kT2ZmZXIoKTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRfaW5pdFNkcENhbGxiYWNrcygpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgb2JqZWN0XG5cdCAqL1xuXHQoKCkgPT4ge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6aW5pdClzdGFja0lkPSR7c3RhY2tJZH1gKTtcblx0XHQvLyBwZWVyY29ubmVjdGlvblxuXHRcdGlmICh0eXBlb2YoUlRDUGVlckNvbm5lY3Rpb24pID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRteVBlZXJDb25uZWN0aW9uID0gUlRDUGVlckNvbm5lY3Rpb247XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjp3ZWJydGM6OmluaXQpc3RhY2tJZD0ke3N0YWNrSWR9IGVycm9yPVdlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhYCk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1dlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZihSVENTZXNzaW9uRGVzY3JpcHRpb24pID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRteVJUQ1Nlc3Npb25EZXNjcmlwdGlvbiA9IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbjtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OndlYnJ0Yzo6aW5pdClzdGFja0lkPSR7c3RhY2tJZH0gZXJyb3IyPVdlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhYCk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1dlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZihSVENJY2VDYW5kaWRhdGUpID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRteVJUQ0ljZUNhbmRpZGF0ZSA9IFJUQ0ljZUNhbmRpZGF0ZTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OndlYnJ0Yzo6aW5pdClzdGFja0lkPSR7c3RhY2tJZH0gZXJyb3IzPVdlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhYCk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1dlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHBfbXV0ZUF1ZGlvKSB7XG5cdFx0XHRpc0F1ZGlvTXV0ZSA9IHRydWU7XG5cdFx0fVxuXHRcdGlmIChwX211dGVWaWRlbykge1xuXHRcdFx0aXNWaWRlb011dGUgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGdldEljZVNlcnZlcnNDb25maWdGcm9tU2VydmVyKChfY29uZmlnKSA9PiB7XG5cdFx0XHRjb25maWcgPSBfY29uZmlnO1xuXHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6d2VicnRjOjopIHVzZSBzZXJ2ZXIgY29uZmlnPScsIEpTT04uc3RyaW5naWZ5KGNvbmZpZykpO1xuXHRcdFx0aW5pdF9wYygpO1xuXHRcdH0sICgpID0+IHtcblx0XHRcdGlmICh0eXBlb2YgREVGQVVMVF9JQ0VfQ09ORklHICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRjb25maWcgPSBERUZBVUxUX0lDRV9DT05GSUc7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OndlYnJ0Yzo6KSB1c2UgREVGQVVMVF9JQ0VfQ09ORklHIGNvbmZpZz0nLCBKU09OLnN0cmluZ2lmeShjb25maWcpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OndlYnJ0Yzo6KSBubyBpY2UgIGNvbmZpZycpO1xuXHRcdFx0fVxuXHRcdFx0aW5pdF9wYygpO1xuXHRcdH0pO1xuXG5cdH0pKCk7XG5cblx0Ly9pbml0KCk7XG5cblx0cmV0dXJuIHtcblxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgc28gYXMgdG8gY2xvc2UgdGhlIGNvbW11bmljYXRpb25cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIFRoZSBjYWxsYmFjayB0byB0cmlnZ2VyXG5cdFx0ICovXG5cdFx0c2V0T25DbG9zZTogKGNiKSA9PiB7XG5cdFx0XHRvbkNsb3NlQ2IgPSBjYjtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIENsb3NlcyBhIGNhbGxiYWNrXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBUaGUgY2FsbGJhY2sgdG8gY2xvc2Vcblx0XHQgKi9cblx0XHRjbG9zZTogKGNiKSA9PiB7XG5cdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1jbG9zZSByZXF1ZXN0ZWRgKTtcblx0XHRcdF9jbG9zZShjYik7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIENvbm5lY3QgYSBsb2NhbCBzdHJlYW0gdG8gYW4gZWxlbWVudCBhY2NvcmRpbmcgdG8gdGhlIGFjdGlvbiB0eXBlIGluIHVzZSAoQUNUSU9OX1RZUEVfVklERU8sIEFDVElPTl9UWVBFX0FVRElPLCBBQ1RJT05fVFlQRV9BVURJT19WSURFTylcblx0XHQgKiBAcGFyYW0gdmlkZW9FbHQgLSBUaGUgdmlkZW8gZWxlbWVudFxuXHRcdCAqIEBwYXJhbSBnZXRTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHRcdCAqL1xuXHRcdGNvbm5lY3RMb2NhbFN0cmVhbTogX2Nvbm5lY3RMb2NhbFN0cmVhbSxcblx0XHQvKipcblx0XHQgKiBDb25uZWN0IGEgcmVtb3RlIHN0cmVhbSB0byBhbiBlbGVtZW50XG5cdFx0ICogQHBhcmFtIHZpZGVvRWx0IC0gVGhlIHZpZGVvIGVsZW1lbnRcblx0XHQgKiBAcGFyYW0gZ2V0U3RyZWFtQ2IgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJldHJpZXZlIHRoZSBtZWRpYXN0cmVhbSBvYmplY3Rcblx0XHQgKi9cblx0XHRjb25uZWN0UmVtb3RlU3RyZWFtOiBfY29ubmVjdFJlbW90ZVN0cmVhbSxcblx0XHQvKipcblx0XHQgKiBtdXRlIEF1ZGlvXG5cdFx0ICovXG5cdFx0bXV0ZUF1ZGlvOiBfbXV0ZUF1ZGlvLFxuXHRcdC8qKlxuXHRcdCAqIHVubXV0ZSBBdWRpb1xuXHRcdCAqL1xuXHRcdHVubXV0ZUF1ZGlvOiBfdW5tdXRlQXVkaW8sXG5cdFx0LyoqXG5cdFx0ICogbXV0ZSBWaWRlb1xuXHRcdCAqL1xuXHRcdG11dGVWaWRlbzogX211dGVWaWRlbyxcblx0XHQvKipcblx0XHQgKiB1bm11dGUgVmlkZW9cblx0XHQgKi9cblx0XHR1bm11dGVWaWRlbzogX3VubXV0ZVZpZGVvXG5cdH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCB3ZWJydGM7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2VicnRjLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==