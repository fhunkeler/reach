/*!
 * The MIT License (MIT)
 * 
 * Copyright (c) 2015 Webcom
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["Reach"] = factory();
	else
		root["Reach"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Reach=undefined;var _classCallCheck2=__webpack_require__(1),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(2),_createClass3=_interopRequireDefault(_createClass2),_adapter=__webpack_require__(6),_adapter2=_interopRequireDefault(_adapter),_actions=__webpack_require__(7),_actions2=_interopRequireDefault(_actions),_datarefs=__webpack_require__(8),_datarefs2=_interopRequireDefault(_datarefs),_reach=__webpack_require__(9),_reach2=_interopRequireDefault(_reach),_room=__webpack_require__(25),_room2=_interopRequireDefault(_room),_webrtcmngr=__webpack_require__(27),_webrtcmngr2=_interopRequireDefault(_webrtcmngr);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var SDK_VERSION='0.0.1';var Reach=exports.Reach=(function(){function Reach(){var url=arguments.length<=0||arguments[0]===undefined?'http://webcom.orange.com/base/webrtc':arguments[0];(0,_classCallCheck3.default)(this,Reach);this.datarefs=(0,_datarefs2.default)(url);this.webrtcmngr=(0,_webrtcmngr2.default)(this.datarefs);}(0,_createClass3.default)(Reach,[{key:'Room',value:function Room(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _room2.default.apply(undefined,args.concat([this.datarefs,this.webrtcmngr]));}},{key:'Reach',value:function Reach(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return _reach2.default.apply(undefined,args.concat([this.datarefs]));}}],[{key:'version',get:function get(){return SDK_VERSION;}},{key:'actions',get:function get(){return _actions2.default;}}]);return Reach;})();module.exports=Reach;

/***/ },
/* 1 */
/***/ function(module, exports) {

	"use strict";
	
	exports.default = function (instance, Constructor) {
	  if (!(instance instanceof Constructor)) {
	    throw new TypeError("Cannot call a class as a function");
	  }
	};
	
	exports.__esModule = true;

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	var _defineProperty = __webpack_require__(3);
	
	var _defineProperty2 = _interopRequireDefault(_defineProperty);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	exports.default = (function () {
	  function defineProperties(target, props) {
	    for (var i = 0; i < props.length; i++) {
	      var descriptor = props[i];
	      descriptor.enumerable = descriptor.enumerable || false;
	      descriptor.configurable = true;
	      if ("value" in descriptor) descriptor.writable = true;
	      (0, _defineProperty2.default)(target, descriptor.key, descriptor);
	    }
	  }
	
	  return function (Constructor, protoProps, staticProps) {
	    if (protoProps) defineProperties(Constructor.prototype, protoProps);
	    if (staticProps) defineProperties(Constructor, staticProps);
	    return Constructor;
	  };
	})();
	
	exports.__esModule = true;

/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(4), __esModule: true };

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	var $ = __webpack_require__(5);
	module.exports = function defineProperty(it, key, desc){
	  return $.setDesc(it, key, desc);
	};

/***/ },
/* 5 */
/***/ function(module, exports) {

	var $Object = Object;
	module.exports = {
	  create:     $Object.create,
	  getProto:   $Object.getPrototypeOf,
	  isEnum:     {}.propertyIsEnumerable,
	  getDesc:    $Object.getOwnPropertyDescriptor,
	  setDesc:    $Object.defineProperty,
	  setDescs:   $Object.defineProperties,
	  getKeys:    $Object.keys,
	  getNames:   $Object.getOwnPropertyNames,
	  getSymbols: $Object.getOwnPropertySymbols,
	  each:       [].forEach
	};

/***/ },
/* 6 */
/***/ function(module, exports) {

	'use strict';window.RTCPeerConnection=null;window.getUserMedia=null;window.attachMediaStream=null;window.reattachMediaStream=null;window.webrtcDetectedBrowser=null;window.webrtcDetectedVersion=null;function fixIceServer(iceServer){if(iceServer.hasOwnProperty('urls')){iceServer.url=iceServer.urls;delete iceServer.urls;}if(iceServer.hasOwnProperty('url')&&iceServer.url.toLowerCase().startsWith('turns')&&navigator.mozGetUserMedia){console.warn('(ReachSDK::maybeFixConfiguration) '+'turns detected on firefox -> ignore this entry');}}function maybeFixConfiguration(pcConfig){if(pcConfig===null){return;}if(pcConfig.iceServers&&pcConfig.iceServers.length>0){var mTempsServers=[];for(var i=pcConfig.iceServers.length-1;i>=0;i--){var iceServer=pcConfig.iceServers[i];fixIceServer(iceServer);mTempsServers.push(iceServer);}pcConfig.iceServers=mTempsServers;}}function createTurnServerConfig(url,username,password){var legacy=arguments.length<=3||arguments[3]===undefined?false:arguments[3],iceServer=undefined;if(legacy){var turn_url_parts=url.split('?');if(turn_url_parts.length===1||turn_url_parts[1].indexOf('transport=udp')===0){iceServer={url:turn_url_parts[0],credential:password,username:username};}}else {iceServer={url:url,credential:password,username:username};}return iceServer;}if(navigator.mozGetUserMedia){window.webrtcDetectedBrowser='firefox';window.webrtcDetectedVersion=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);window.RTCPeerConnection=function(pcConfig,pcConstraints){maybeFixConfiguration(pcConfig);return new mozRTCPeerConnection(pcConfig,pcConstraints);};window.RTCSessionDescription=mozRTCSessionDescription;window.RTCIceCandidate=mozRTCIceCandidate;window.getUserMedia=navigator.mozGetUserMedia.bind(navigator);navigator.getUserMedia=getUserMedia;window.createIceServer=function(url,username,password){var iceServer=null,url_parts=url.split(':');if(url_parts[0].indexOf('stun')===0){iceServer={url:url};}else if(url_parts[0].indexOf('turn')===0){iceServer=createTurnServerConfig(url,username,password,window.webrtcDetectedVersion<27);}return iceServer;};window.createIceServers=function(urls,username,password){var iceServers=[];for(var i=0;i<urls.length;i++){var iceServer=window.createIceServer(urls[i],username,password);if(iceServer!==null){iceServers.push(iceServer);}}return iceServers;};window.detachMediaStream=function(element){if(element){element.mozSrcObject=null;element.pause();}};window.attachMediaStream=function(element,stream){try{if(element&&stream){element.mozSrcObject=stream;if(element.play&&typeof element.play=='function'){element.play();}else {console.warn('(ReachSDK::attachMediaStream)element.play not available');}}else {console.error('ReachSDK::attachMediaStream->parameters not valid');}}catch(e) {console.error('(ReachSDK::attachMediaStream)Exception='+e);}};window.reattachMediaStream=function(to,from){if(to&&from){to.mozSrcObject=from.mozSrcObject;to.play();}else {console.error('ReachSDK::reattachMediaStream->parameters not valid');}};if(!MediaStream.prototype.getVideoTracks){MediaStream.prototype.getVideoTracks=function(){return [];};}if(!MediaStream.prototype.getAudioTracks){MediaStream.prototype.getAudioTracks=function(){return [];};}}else if(navigator.webkitGetUserMedia){window.webrtcDetectedBrowser='chrome';window.webrtcDetectedVersion=parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10);window.createIceServer=function(url,username,password){var iceServer=null,url_parts=url.split(':');if(url_parts[0].indexOf('stun')===0){iceServer={url:url};}else if(url_parts[0].indexOf('turn')===0){iceServer=createTurnServerConfig(url,password,username);}return iceServer;};window.createIceServers=function(urls,username,password){var iceServers=[];if(window.webrtcDetectedVersion>=34){iceServers={urls:urls,credential:password,username:username};}else {for(var i=0;i<urls.length;i++){var iceServer=window.createIceServer(urls[i],username,password);if(iceServer!==null){iceServers.push(iceServer);}}}return iceServers;};window.RTCPeerConnection=function(pcConfig,pcConstraints){if(window.webrtcDetectedVersion<34){maybeFixConfiguration(pcConfig);}return new webkitRTCPeerConnection(pcConfig,pcConstraints);};window.getUserMedia=navigator.webkitGetUserMedia.bind(navigator);navigator.getUserMedia=getUserMedia;window.attachMediaStream=function(element,stream){try{if(element&&stream){element.src=URL.createObjectURL(stream);element.autoplay=true;}else {console.error('ReachSDK::attachMediaStream ->parameters not valid');}}catch(e) {console.error('(ReachSDK::attachMediaStream)Exception='+e);}};window.detachMediaStream=function(element){if(element){if(typeof element.srcObject!=='undefined'){element.srcObject='';}else if(typeof element.mozSrcObject!=='undefined'){element.mozSrcObject='';}else if(typeof element.src!=='undefined'){element.src='';}else {console.log('Error attaching stream to element.');}}};window.reattachMediaStream=function(to,from){if(to&&from){to.src=from.src;}else {console.error('ReachSDK::reattachMediaStream media stream->parameters not valid');}};}else {throw new Error('Browser does not appear to be WebRTC-capable');}

/***/ },
/* 7 */
/***/ function(module, exports) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default={ACTION_TYPE_AUDIO:'audio',ACTION_TYPE_VIDEO:'video',ACTION_TYPE_CHAT:'chat',ACTION_TYPE_AUDIO_VIDEO:'audio-video',ACTION_TYPE_SCREEN_SHARING:'screen-sharing',ACTION_TYPE_CALL:'call'};

/***/ },
/* 8 */
/***/ function(module, exports) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(WEBCOMBASE_URL){var _datastore=null,_rooms=null,_reach=null,_webrtc=null,_sipPhoneNumbers=null;function _initChildren(){_rooms=_datastore.child('roomsList');_reach=_datastore.child('reach');_webrtc=_datastore.child('webrtc');_sipPhoneNumbers=_datastore.child('sipPhoneNumbers');}function _init(){_datastore=new Webcom(WEBCOMBASE_URL);_initChildren();}function _setWebcomBaseUrl(p_webcombase_url){_datastore=new Webcom(p_webcombase_url);_initChildren();}function _getWebcomBaseUrl(){if(_datastore){return _datastore.toString();}return undefined;}function _setDatastore(p_datastore){_datastore=p_datastore;_initChildren();}function _getDatastore(){return _datastore;}function _setRooms(p_rooms){_rooms=p_rooms;}function _getRooms(){return _rooms;}function _setReach(p_reach){_reach=p_reach;}function _getReach(){return _reach;}function _setWebrtc(p_webrtc){_webrtc=p_webrtc;}function _getWebrtc(){return _webrtc;}function _setSipPhoneNumbers(p_sipPhoneNumbers){_sipPhoneNumbers=p_sipPhoneNumbers;}function _getSipPhoneNumbers(){return _sipPhoneNumbers;}_init();return {setWebcomBaseUrl:_setWebcomBaseUrl,getWebcomBaseUrl:_getWebcomBaseUrl,setDatastore:_setDatastore,getDatastore:_getDatastore,setRooms:_setRooms,getRooms:_getRooms,setReach:_setReach,getReach:_getReach,setWebrtc:_setWebrtc,getWebrtc:_getWebrtc,setSipPhoneNumbers:_setSipPhoneNumbers,getSipPhoneNumbers:_getSipPhoneNumbers};};

/***/ },
/* 9 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _keys=__webpack_require__(10),_keys2=_interopRequireDefault(_keys),_stringify=__webpack_require__(22),_stringify2=_interopRequireDefault(_stringify),_utils=__webpack_require__(24),_utils2=_interopRequireDefault(_utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var INVITATION_ONGOING='ONGOING',INVITATION_ACCEPTED='ACCEPTED',INVITATION_REJECTED='REJECTED',INVITATION_CANCELED='CANCELED',DEVICE_STATUS_CONNECTED='CONNECTED',ROOM_STATUS_OPEN='OPEN',reach=function reach(p_me,datarefs){var _this=this,me=p_me,dataref=datarefs.getReach(),onUserAddedCb=null,onUserChangedCb=null,onUserRemovedCb=null,newInviteCb=null,onRoomInviteChangedCb=null,mOutgoingInvites=[],mIncomingInvitation=[],automaticRejectTimeOut=null,automaticRejectReason=null,mDeviceId=null;function init(){mDeviceId=dataref.child('userList/'+me+'/connectedList/'+_utils2.default.appInstanceId);mDeviceId.onDisconnect().remove();mDeviceId.child('status').set(DEVICE_STATUS_CONNECTED);try{(function(){var description=mDeviceId.child('description');if(_utils2.default.appInstanceId){description.child('appInstanceId').set(_utils2.default.appInstanceId);}var navigatorData={},properties=['appCodeName','appName','appVersion','buildID','cookieEnabled','language','onLine','oscpu','platform','product','productSub','securityPolicy','userAgent','vendor','vendorSub'];properties.forEach(function(property){if(navigator[property]){navigatorData[property]=navigator[property];}});description.child('navigator').set(navigatorData);})();}catch(e) {console.error('(ReachSDK::reach::init)failed to get information about device. error='+e);}dataref.child('userList/'+me+'/wasInsideReach').set(true);}function _isConnected(p_userId,p_cb){console.log('(ReachSDK::reach::_isConnected)userId: '+p_userId);dataref.child('userList/'+p_userId+'/connectedList').once('value',function(snapshot){if(p_cb&&typeof p_cb=='function'){p_cb(snapshot.val()!==null);}});}function _isRegistered(p_userId,p_cb){console.log('(ReachSDK::reach::_isRegistered)userId: '+p_userId);dataref.child('userList/'+p_userId+'/wasInsideReach').once('value',function(snapshot){if(p_cb&&typeof p_cb=='function'){p_cb(snapshot.val()!==null);}});}function _setConnectedStatus(p_status){if(mDeviceId){mDeviceId.child('status').set(p_status);}}function _setOnUserAdded(p_cb){if(onUserAddedCb){dataref.child('userList').off('child_added',onUserAddedCb);onUserAddedCb=null;}if(p_cb&&typeof p_cb=='function'){onUserAddedCb=function(snapshot){console.log('(ReachSDK::reach::onUserAddedCb) '+snapshot.name()+'='+(0,_stringify2.default)(snapshot.val()));var obj={};obj[snapshot.name()]=snapshot.val();p_cb(obj);};dataref.child('userList').on('child_added',onUserAddedCb);}}function _setOnUserChanged(p_cb){if(onUserChangedCb){dataref.child('userList').off('child_changed',onUserChangedCb);onUserChangedCb=null;}if(p_cb&&typeof p_cb=='function'){onUserChangedCb=function(snapshot){console.log('(ReachSDK::reach::onUserChangedCb) '+snapshot.name()+'='+(0,_stringify2.default)(snapshot.val()));var obj={};obj[snapshot.name()]=snapshot.val();p_cb(obj);};dataref.child('userList').on('child_changed',onUserChangedCb);}}function _setOnUserRemoved(p_cb){if(onUserRemovedCb){dataref.child('userList').off('child_removed',onUserRemovedCb);onUserRemovedCb=null;}if(p_cb&&typeof p_cb=='function'){onUserRemovedCb=function(snapshot){console.log('(ReachSDK::reach::onUserRemovedCb) '+snapshot.name()+'='+(0,_stringify2.default)(snapshot.val()));var obj={};obj[snapshot.name()]=snapshot.val();p_cb(obj);};dataref.child('userList').on('child_removed',onUserRemovedCb);}}function _setOnNewRoomInvitation(p_onNewRoomInviteCb){if(newInviteCb){dataref.child('invitationList/'+me).off('child_added',newInviteCb);newInviteCb=null;}if(p_onNewRoomInviteCb&&typeof p_onNewRoomInviteCb=='function'){newInviteCb=function(snapshot){if(snapshot.val().status===INVITATION_ONGOING){(function(){console.log('(ReachSDK::reach::_setOnNewRoomInvitation)new Invite received,id) '+snapshot.name()+',content='+(0,_stringify2.default)(snapshot.val()));var invitationId=snapshot.name();if(!mIncomingInvitation){mIncomingInvitation=[];}if(mIncomingInvitation[invitationId]){if(mIncomingInvitation[invitationId].timeout){clearTimeout(mIncomingInvitation[invitationId].timeout);}delete mIncomingInvitation[invitationId];}mIncomingInvitation[invitationId]={};var obj={};obj[invitationId]=snapshot.val();p_onNewRoomInviteCb(obj);var invitationRef=dataref.child('invitationList/'+me+'/'+invitationId);if(automaticRejectTimeOut){mIncomingInvitation[invitationId].timeout=setTimeout(function(){if(automaticRejectTimeOut){console.log('(ReachSDK::reach::_setOnNewRoomInvitation)automatic reject of Invite received='+(0,_stringify2.default)(snapshot.val()));invitationRef.onDisconnect().cancel();if(automaticRejectReason){invitationRef.update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_REJECTED,status_info:automaticRejectReason});}else {invitationRef.update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_REJECTED});}}},automaticRejectTimeOut);}invitationRef.once('child_changed',function(snapshot){if(snapshot&&snapshot.name()==='status'){snapshot.ref().parent().once('value',function(snapshot2){var cb_invitationId=undefined,cb_obj_content=undefined;if(snapshot2){cb_invitationId=snapshot.ref().parent().name();cb_obj_content=snapshot2.val();var cb_obj={};cb_obj[cb_invitationId]=cb_obj_content;if(mIncomingInvitation&&mIncomingInvitation[cb_invitationId]&&mIncomingInvitation[cb_invitationId].timeout){clearTimeout(mIncomingInvitation[cb_invitationId].timeout);}console.log('(ReachSDK::reach::_setOnNewRoomInvitation)Invite changed,id=) '+cb_invitationId+', new content='+(0,_stringify2.default)(cb_obj_content));if(cb_obj&&onRoomInviteChangedCb){onRoomInviteChangedCb(cb_obj);}delete mIncomingInvitation[cb_invitationId];}});}});})();}};dataref.child('invitationList/'+me).on('child_added',newInviteCb);}}function _setOnRoomInvitationChanged(p_onRoomInviteChangedCb){if(onRoomInviteChangedCb){onRoomInviteChangedCb=null;}if(p_onRoomInviteChangedCb&&typeof p_onRoomInviteChangedCb=='function'){onRoomInviteChangedCb=p_onRoomInviteChangedCb;}}function _setNewRoomInvitationTimeout(p_timeout,p_reason){if(automaticRejectTimeOut){automaticRejectTimeOut=null;}if(automaticRejectReason){automaticRejectReason=null;}if(p_timeout&&p_timeout===parseInt(p_timeout,10)&&p_timeout>0){console.log('(ReachSDK::reach::_setNewRoomInvitationTimeout)timeout='+p_timeout);automaticRejectTimeOut=p_timeout;}if(p_reason){automaticRejectReason=p_reason;}}function _isUserPresentInRoom(p_roomId,p_user,p_cb){console.log('(ReachSDK::reach::_isUserPresentInRoom)p_roomId='+p_roomId+' p_user='+p_user);if(!(p_roomId&&typeof p_roomId=='string')){console.error('(ReachSDK::reach::_isUserPresentInRoom)parameter p_roomid is incorrect. Expecting non empty string');return;}if(!(p_user&&typeof p_user=='string')){console.error('(ReachSDK::reach::_isUserPresentInRoom)parameter p_user is incorrect. Expecting non empty string');return;}if(!(p_cb&&typeof p_cb=='function')){console.error('(ReachSDK::reach::_isUserPresentInRoom)parameter p_cb is incorrect. if defined, expecting a function');return;}datarefs.getRooms().child(p_roomId+'/participantList/'+p_user+'/wasInsideRoom').once('value',function(snapshot){var wasPresent=snapshot.val()!==null;console.log('(ReachSDK::reach::_isUserPresentInRoom)p_roomId='+p_roomId+',p_user='+p_user+',result='+wasPresent);p_cb(wasPresent,p_roomId,p_user);});}function _cancelInvitation(p_roomId,p_guestIds,p_cb){if(!(p_roomId&&typeof p_roomId=='string')){console.error('(ReachSDK::reach::_cancelInvitation)parameter p_roomid is incorrect. Expecting non empty string');return;}if(p_guestIds&&!p_guestIds instanceof Array){console.error('(ReachSDK::reach::_cancelInvitation)parameter p_guestIds is incorrect. Expecting an Array');return;}console.log(' (ReachSDK::reach::_cancelInvitation)p_roomId='+p_roomId+', p_guestIds='+(0,_stringify2.default)(p_guestIds));if(mOutgoingInvites&&mOutgoingInvites[p_roomId]){if(p_guestIds){p_guestIds.forEach(function(guestId,i){if(!(guestId&&typeof guestId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_guestIds['+i+'] is incorrect. Expecting non empty string');}else if(mOutgoingInvites[p_roomId][guestId]){if(mOutgoingInvites[p_roomId][guestId].InviteDataref){mOutgoingInvites[p_roomId][guestId].InviteDataref.onDisconnect().cancel();if(mOutgoingInvites[p_roomId][guestId].InviteChangedCb&&typeof mOutgoingInvites[p_roomId][guestId].InviteChangedCb=='function'){mOutgoingInvites[p_roomId][guestId].InviteDataref.off('child_changed',mOutgoingInvites[p_roomId][guestId].InviteChangedCb);}mOutgoingInvites[p_roomId][guestId].InviteDataref.once('value',function(dataSnapshot){var cb_status=undefined,cb_guestId=undefined,cb_roomId=undefined;if(dataSnapshot&&dataSnapshot.val()){cb_status=dataSnapshot.val().status;cb_roomId=dataSnapshot.val().room;cb_guestId=dataSnapshot.ref().parent().name();if(cb_status&&cb_status===INVITATION_ONGOING){mOutgoingInvites[cb_roomId][cb_guestId].InviteDataref.update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_CANCELED});if(mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb&&typeof mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb=='function'){mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb(cb_roomId,cb_guestId,INVITATION_CANCELED);}console.log('(ReachSDK::reach::_cancelInvitation)deleting Invite to room '+cb_roomId+' for invitee '+cb_guestId);}else {console.warn('(ReachSDK::reach::_cancelInvitation)cannot delete intivation to room '+cb_roomId+' for guest '+cb_guestId+' Invitation has been removed/rejected/accepted');}}delete mOutgoingInvites[p_roomId][guestId];if(p_cb&&typeof p_cb=='function'){p_cb(guestId);}});}else {delete mOutgoingInvites[p_roomId][guestId];if(p_cb&&typeof p_cb=='function'){p_cb(guestId);}}}else {if(p_cb&&typeof p_cb=='function'){p_cb(guestId);}}});}else {(0,_keys2.default)(mOutgoingInvites[p_roomId]).forEach(function(invitee){_cancelInvitation(p_roomId,[invitee],p_cb);});}}else {console.warn('(ReachSDK::reach::_cancelInvitation) Invite to room '+p_roomId+' not found');}}function _inviteToRoom(p_roomId,p_guestIds,p_topic,p_statusChangedCb){if(!(p_roomId&&typeof p_roomId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_roomid is incorrect. Expecting non empty string');return;}if(!(p_topic&&typeof p_topic=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_topic is incorrect. Expecting non empty string');return;}if(p_statusChangedCb&&typeof p_statusChangedCb!='function'){console.warn('(ReachSDK::reach::inviteToRoom)parameter p_statusChangedCb is incorrect. if defined, expecting a function');}if(!(p_guestIds&&p_guestIds instanceof Array)){console.error('(ReachSDK::reach::inviteToRoom)parameter p_guestIds is incorrect. Expecting an Array');return;}datarefs.getRooms().child(p_roomId).child('commonDataList').update({status:ROOM_STATUS_OPEN,owner:me});var _isUserPresentInRoomCb=function _isUserPresentInRoomCb(isAlreadyPresent,p_roomId2,p_guestId2){if(!isAlreadyPresent){datarefs.getRooms().child(p_roomId2+'/participantList/'+p_guestId2).update({connected:false,wasInsideRoom:false});}},_InviteChangedCb=function _InviteChangedCb(snapshot){console.log('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)');if(snapshot&&snapshot.name()==='status'){var cb_guestId2=snapshot.ref().parent().parent().name();console.log('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cb_guestId2='+cb_guestId2);if(mOutgoingInvites&&mOutgoingInvites[p_roomId]&&mOutgoingInvites[p_roomId][cb_guestId2]&&mOutgoingInvites[p_roomId][cb_guestId2].InviteChangedCb){mOutgoingInvites[p_roomId][cb_guestId2].InviteDataref.off('child_changed',mOutgoingInvites[p_roomId][cb_guestId2].InviteChangedCb);}snapshot.ref().parent().once('value',function(snapshot2){var cb_status=undefined,cb_guestId=undefined,cb_roomId=undefined,cb_status_info=undefined;if(snapshot2){cb_status=snapshot2.val().status;cb_roomId=snapshot2.val().room;cb_status_info=snapshot2.val().status_info;cb_guestId=snapshot2.ref().parent().name();console.log('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)roomId='+cb_roomId+' invitee='+cb_guestId+' new invitation status='+cb_status+' status info='+cb_status_info);if(mOutgoingInvites&&mOutgoingInvites[cb_roomId]&&mOutgoingInvites[cb_roomId][cb_guestId]&&mOutgoingInvites[cb_roomId][cb_guestId].InviteDataref){mOutgoingInvites[cb_roomId][cb_guestId].InviteDataref.onDisconnect().cancel();if(mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb&&typeof mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb=='function'){mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb(cb_roomId,cb_guestId,cb_status,cb_status_info);}else {console.warn('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cannot retrieve mathing p_statusChangedCb');}delete mOutgoingInvites[cb_roomId][cb_guestId];}else {console.warn('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cannot retrieve mathing mOutgoingInvite');}}else {console.warn('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cannot retrieve invitation');}});}};p_guestIds.forEach(function(mGuestId,i){if(!(mGuestId&&typeof mGuestId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_guestIds['+i+'] is incorrect. Expecting non empty string');}else {console.log('(ReachSDK::reach::inviteToRoom)roomId='+p_roomId+' invitee='+mGuestId.toString());if(mOutgoingInvites[p_roomId]&&mOutgoingInvites[p_roomId][mGuestId]){_cancelInvitation(p_roomId,[mGuestId],function(p_guestId){if(p_guestId&&p_guestId===mGuestId){_inviteToRoom(p_roomId,[p_guestId],p_topic,p_statusChangedCb);}});return;}if(!mOutgoingInvites[p_roomId]){mOutgoingInvites[p_roomId]=[];}mOutgoingInvites[p_roomId][mGuestId]={};_isUserPresentInRoom(p_roomId,mGuestId,_isUserPresentInRoomCb);mOutgoingInvites[p_roomId][mGuestId].InviteDataref=dataref.child('invitationList').child(mGuestId).push({from:me,room:p_roomId,timestamp_creation:Webcom.ServerValue.TIMESTAMP,topic:p_topic,status:INVITATION_ONGOING});console.log('(ReachSDK::reach::inviteToRoom)InviteDataref='+mOutgoingInvites[p_roomId][mGuestId].InviteDataref.toString());mOutgoingInvites[p_roomId][mGuestId].InviteChangedCb=_InviteChangedCb;mOutgoingInvites[p_roomId][mGuestId].InviteDataref.on('child_changed',mOutgoingInvites[p_roomId][mGuestId].InviteChangedCb);mOutgoingInvites[p_roomId][mGuestId].statusChangedCb=p_statusChangedCb;mOutgoingInvites[p_roomId][mGuestId].InviteDataref.onDisconnect().update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_CANCELED});}});}function _acceptInvitation(p_invitation){var inviteId=(0,_keys2.default)(p_invitation)[0];if(!inviteId){console.error('(ReachSDK::reach::_acceptInvitation)parameter p_invitation is incorrect. cannot get invitation Id');return;}if(!p_invitation[inviteId]){console.error('(ReachSDK::reach::_acceptInvitation)parameter p_invitation is incorrect. cannot get invitation data');return;}dataref.child('invitationList/'+me+'/'+inviteId).once('value',function(dataSnapshot){var cb_status=undefined,cb_guestId=undefined,cb_invitationId=undefined;if(dataSnapshot&&dataSnapshot.val()){cb_invitationId=dataSnapshot.name();cb_status=dataSnapshot.val().status;cb_guestId=dataSnapshot.ref().parent().name();if(cb_status&&cb_status===INVITATION_ONGOING){console.log('(ReachSDK::reach::_acceptInvitation)inviteId='+inviteId+',data='+(0,_stringify2.default)(p_invitation[inviteId]));dataref.child('invitationList/'+cb_guestId+'/'+cb_invitationId).update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_ACCEPTED});}else {console.warn('(ReachSDK::reach::_acceptInvitation)inviteId='+cb_invitationId+',data='+(0,_stringify2.default)(p_invitation[inviteId])+', cannot be accepted. It has been removed or canceled');}}});}function _rejectInvitation(p_invitation,p_reason){var inviteId=(0,_keys2.default)(p_invitation)[0];if(!inviteId){console.error('(ReachSDK::reach::_rejectInvitation)parameter p_invitation is incorrect. cannot get invitation Id');return;}if(!p_invitation[inviteId]){console.error('(ReachSDK::reach::_rejectInvitation)parameter p_invitation is incorrect. cannot get invitation data');return;}dataref.child('invitationList/'+me+'/'+inviteId).once('value',function(dataSnapshot){var cb_status=undefined,cb_guestId=undefined,cb_invitationId=undefined;if(dataSnapshot&&dataSnapshot.val()){cb_invitationId=dataSnapshot.name();cb_status=dataSnapshot.val().status;cb_guestId=dataSnapshot.ref().parent().name();if(cb_status&&cb_status===INVITATION_ONGOING){console.log('(ReachSDK::reach::_rejectInvitation)inviteId='+inviteId+',data='+(0,_stringify2.default)(p_invitation[inviteId]));if(p_reason){dataref.child('invitationList/'+cb_guestId+'/'+cb_invitationId).update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status_info:p_reason,status:INVITATION_REJECTED});}else {dataref.child('invitationList/'+cb_guestId+'/'+cb_invitationId).update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_REJECTED});}}else {console.warn('(ReachSDK::reach::_rejectInvitation)inviteId='+cb_invitationId+',data='+(0,_stringify2.default)(p_invitation[inviteId])+', cannot be rejected. It has been removed or canceled');}}});}function _isRoomActive(p_invitation,p_cb){if(p_invitation&&p_cb&&typeof p_cb=='function'){(function(){var inviteId=(0,_keys2.default)(p_invitation)[0];console.log('(ReachSDK::reach::_isRoomActive)inviteId='+inviteId);var roomId=p_invitation[inviteId].room;datarefs.getRooms().child(roomId+'/commonDataList/status').once('value',function(snapshot){var opened=snapshot&&snapshot.val()&&snapshot.val()===ROOM_STATUS_OPEN;console.log('(ReachSDK::reach::_isRoomActive)inviteId='+inviteId+' result='+opened);p_cb(opened);});})();}}function _archiveInvitations(p_userId,p_cb){console.log('(ReachSDK::reach::_archiveInvitations)userId='+p_userId);dataref.child('invitationList/'+me).once('value',function(snapshot){if(snapshot&&snapshot.hasChildren()){(function(){var nbChildren=snapshot.numChildren(),nbChildrenProcessed=0;snapshot.forEach(function(childSnapshot){if(childSnapshot&&childSnapshot.val()){console.log('(ReachSDK::reach::_archiveInvitations)userId='+p_userId+' inviteId='+childSnapshot.name());if(childSnapshot.val().status===INVITATION_REJECTED||childSnapshot.val().status===INVITATION_CANCELED){dataref.child('invitationListHistory/'+p_userId+'/'+childSnapshot.name()).update(childSnapshot.val());childSnapshot.ref().remove();nbChildrenProcessed++;if(nbChildrenProcessed>=nbChildren&&p_cb&&typeof p_cb=='function'){p_cb();}}else {var inviteData={};inviteData[childSnapshot.name()]=childSnapshot.val();_isRoomActive(inviteData,function(isActive){if(isActive){nbChildrenProcessed++;if(nbChildrenProcessed>=nbChildren&&p_cb&&typeof p_cb=='function'){p_cb();}}else {if(childSnapshot.val().status===INVITATION_ONGOING){var newValue=childSnapshot.val();newValue.status=INVITATION_CANCELED;dataref.child('invitationListHistory/'+p_userId+'/'+childSnapshot.name()).set(newValue);}else {dataref.child('invitationListHistory/'+p_userId+'/'+childSnapshot.name()).set(childSnapshot.val());}childSnapshot.ref().remove();nbChildrenProcessed++;if(nbChildrenProcessed>=nbChildren&&p_cb&&typeof p_cb=='function'){p_cb();}}});}}else {if(p_cb&&typeof p_cb=='function'){p_cb();}}});})();}else {if(p_cb&&typeof p_cb=='function'){p_cb();}}});}function _close(){console.log('(ReachSDK::reach::_close)');if(newInviteCb){dataref.child('invitationList').child(me).off('child_added',newInviteCb);newInviteCb=null;}if(onUserAddedCb){dataref.child('userList').off('child_added',onUserAddedCb);onUserAddedCb=null;}if(onUserChangedCb){dataref.child('userList').off('child_changed',onUserChangedCb);onUserChangedCb=null;}if(onUserRemovedCb){dataref.child('userList').off('child_removed',onUserRemovedCb);onUserRemovedCb=null;}if(mOutgoingInvites){mOutgoingInvites.forEach(function(roomId){mOutgoingInvites[roomId].forEach(function(invitee){if(invitee.InviteDataref){invitee.InviteDataref.onDisconnect().cancel();invitee.InviteDataref.update({status:INVITATION_CANCELED,timestamp_end:Webcom.ServerValue.TIMESTAMP});}});});mOutgoingInvites=[];}if(automaticRejectTimeOut){automaticRejectTimeOut=null;}if(automaticRejectReason){automaticRejectReason=null;}if(mDeviceId){mDeviceId.remove();mDeviceId=null;}}init();return {getMe:function getMe(){return me;},isConnected:_isConnected,isRegistered:_isRegistered,setConnectedStatus:_setConnectedStatus,setOnUserAdded:_setOnUserAdded,setOnUserChanged:_setOnUserChanged,setOnUserRemoved:_setOnUserRemoved,inviteToRoom:_inviteToRoom,cancelInvitation:_cancelInvitation,setOnNewRoomInvitation:_setOnNewRoomInvitation,setOnRoomInvitationChanged:_setOnRoomInvitationChanged,setNewRoomInvitationTimeout:_setNewRoomInvitationTimeout,archiveMyInvitations:function archiveMyInvitations(p_cb){return _archiveInvitations(me,p_cb);},acceptInvitation:_acceptInvitation,rejectInvitation:_rejectInvitation,on:function on(p_evt,p_cb){switch(p_evt){case 'newRoomInvitation':_this.setOnNewRoomInvitation(p_cb);break;case 'roomInvitationChanged':_this.setOnRoomInvitationChanged(p_cb);break;case 'userAdded':_this.setOnUserAdded(p_cb);break;case 'userChanged':_this.setOnUserChanged(p_cb);break;case 'userRemoved':_this.setOnUserRemoved(p_cb);break;default:console.error('reach.set: no such event');return -1;}},close:_close};};exports.default=reach;

/***/ },
/* 10 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(11), __esModule: true };

/***/ },
/* 11 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(12);
	module.exports = __webpack_require__(18).Object.keys;

/***/ },
/* 12 */
/***/ function(module, exports, __webpack_require__) {

	// 19.1.2.14 Object.keys(O)
	var toObject = __webpack_require__(13);
	
	__webpack_require__(15)('keys', function($keys){
	  return function keys(it){
	    return $keys(toObject(it));
	  };
	});

/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

	// 7.1.13 ToObject(argument)
	var defined = __webpack_require__(14);
	module.exports = function(it){
	  return Object(defined(it));
	};

/***/ },
/* 14 */
/***/ function(module, exports) {

	// 7.2.1 RequireObjectCoercible(argument)
	module.exports = function(it){
	  if(it == undefined)throw TypeError("Can't call method on  " + it);
	  return it;
	};

/***/ },
/* 15 */
/***/ function(module, exports, __webpack_require__) {

	// most Object methods by ES6 should accept primitives
	var $export = __webpack_require__(16)
	  , core    = __webpack_require__(18)
	  , fails   = __webpack_require__(21);
	module.exports = function(KEY, exec){
	  var fn  = (core.Object || {})[KEY] || Object[KEY]
	    , exp = {};
	  exp[KEY] = exec(fn);
	  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);
	};

/***/ },
/* 16 */
/***/ function(module, exports, __webpack_require__) {

	var global    = __webpack_require__(17)
	  , core      = __webpack_require__(18)
	  , ctx       = __webpack_require__(19)
	  , PROTOTYPE = 'prototype';
	
	var $export = function(type, name, source){
	  var IS_FORCED = type & $export.F
	    , IS_GLOBAL = type & $export.G
	    , IS_STATIC = type & $export.S
	    , IS_PROTO  = type & $export.P
	    , IS_BIND   = type & $export.B
	    , IS_WRAP   = type & $export.W
	    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})
	    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]
	    , key, own, out;
	  if(IS_GLOBAL)source = name;
	  for(key in source){
	    // contains in native
	    own = !IS_FORCED && target && key in target;
	    if(own && key in exports)continue;
	    // export native or passed
	    out = own ? target[key] : source[key];
	    // prevent global pollution for namespaces
	    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
	    // bind timers to global for call from export context
	    : IS_BIND && own ? ctx(out, global)
	    // wrap global constructors for prevent change them in library
	    : IS_WRAP && target[key] == out ? (function(C){
	      var F = function(param){
	        return this instanceof C ? new C(param) : C(param);
	      };
	      F[PROTOTYPE] = C[PROTOTYPE];
	      return F;
	    // make static versions for prototype methods
	    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
	    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;
	  }
	};
	// type bitmap
	$export.F = 1;  // forced
	$export.G = 2;  // global
	$export.S = 4;  // static
	$export.P = 8;  // proto
	$export.B = 16; // bind
	$export.W = 32; // wrap
	module.exports = $export;

/***/ },
/* 17 */
/***/ function(module, exports) {

	// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
	var global = module.exports = typeof window != 'undefined' && window.Math == Math
	  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();
	if(typeof __g == 'number')__g = global; // eslint-disable-line no-undef

/***/ },
/* 18 */
/***/ function(module, exports) {

	var core = module.exports = {version: '1.2.6'};
	if(typeof __e == 'number')__e = core; // eslint-disable-line no-undef

/***/ },
/* 19 */
/***/ function(module, exports, __webpack_require__) {

	// optional / simple context binding
	var aFunction = __webpack_require__(20);
	module.exports = function(fn, that, length){
	  aFunction(fn);
	  if(that === undefined)return fn;
	  switch(length){
	    case 1: return function(a){
	      return fn.call(that, a);
	    };
	    case 2: return function(a, b){
	      return fn.call(that, a, b);
	    };
	    case 3: return function(a, b, c){
	      return fn.call(that, a, b, c);
	    };
	  }
	  return function(/* ...args */){
	    return fn.apply(that, arguments);
	  };
	};

/***/ },
/* 20 */
/***/ function(module, exports) {

	module.exports = function(it){
	  if(typeof it != 'function')throw TypeError(it + ' is not a function!');
	  return it;
	};

/***/ },
/* 21 */
/***/ function(module, exports) {

	module.exports = function(exec){
	  try {
	    return !!exec();
	  } catch(e){
	    return true;
	  }
	};

/***/ },
/* 22 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(23), __esModule: true };

/***/ },
/* 23 */
/***/ function(module, exports, __webpack_require__) {

	var core = __webpack_require__(18);
	module.exports = function stringify(it){ // eslint-disable-line no-unused-vars
	  return (core.JSON && core.JSON.stringify || JSON.stringify).apply(JSON, arguments);
	};

/***/ },
/* 24 */
/***/ function(module, exports) {

	"use strict";Object.defineProperty(exports,"__esModule",{value:true});var utils=(function(){function s4(){return Math.floor((1+Math.random())*0x10000).toString(16).substring(1);}function _guid(){return ""+s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4();}var _appInstanceId=_guid();return {appInstanceId:_appInstanceId};})();exports.default=utils;

/***/ },
/* 25 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(p_me,p_roomId,datarefs,webrtcmngr){var roomId=p_roomId,me=p_me,dataref=datarefs.getRooms().child(roomId),roomWebrtcStacks={},mAvailableStreams=[],mStreams=[],mMutedStreams=[],remoteUnpublishedCb=null,instantMessageListCb=null,publishedMediaListCb=null,publishedMediaListCbForAvailableStream=null,unPublishedMediaListCb=null,unPublishedMediaListCbForAvailableStream=null,participantListJoinAddedCb=null,participantListJoinChangedCb=null,participantListLeaveCb=null;function _addAvailableStream(data){console.log('(ReachSDK::room['+roomId+']::_addAvailableStream)data='+(0,_stringify2.default)(data));mAvailableStreams.push(data);}function _removeAvailableStream(streamId){console.log('(ReachSDK::room['+roomId+']::_removeAvailableStream)streamId='+streamId);if(mAvailableStreams&&streamId){for(var i=mAvailableStreams.length-1;i>=0;i--){if(mAvailableStreams[i]&&(0,_keys2.default)(mAvailableStreams[i])[0]&&(0,_keys2.default)(mAvailableStreams[i])[0]===streamId){delete mAvailableStreams[i];}}}}function initWebcomListener(){if(!publishedMediaListCbForAvailableStream){publishedMediaListCbForAvailableStream=function(snapshot){var obj={},name=snapshot.name(),value=snapshot.val();console.log('(ReachSDK::room['+roomId+']::onPublishedStreamForAvailableStream)stream='+(0,_stringify2.default)(value));obj[name]=value;obj[name].roomId=roomId;_addAvailableStream(obj);};dataref.child('publishedMediaList').on('child_added',publishedMediaListCbForAvailableStream);}if(!unPublishedMediaListCbForAvailableStream){unPublishedMediaListCbForAvailableStream=function(snapshot){var streamId=snapshot.name();console.log('(ReachSDK::room['+roomId+']::onUnPublishedStreamForAvailableStream)stream='+streamId);_removeAvailableStream(streamId);};dataref.child('publishedMediaList').on('child_removed',unPublishedMediaListCbForAvailableStream);}}function init(){dataref.child('participantList/'+me).update({connected:true,wasInsideRoom:true});dataref.child('participantList/'+me+'/connected').onDisconnect().set(false);initWebcomListener();}function _getRoomId(){return roomId;}function _getMe(){return me;}function _setOnParticipantJoin(p_cb){var participantListRef=dataref.child('participantList');if(participantListJoinAddedCb){participantListRef.off('child_added',participantListJoinAddedCb);participantListJoinAddedCb=null;}if(participantListJoinChangedCb){participantListRef.off('child_changed',participantListJoinChangedCb);participantListJoinChangedCb=null;}if(p_cb&&typeof p_cb=='function'){participantListJoinAddedCb=function(snapshot){var user=snapshot.name();if(snapshot.val()&&snapshot.val().connected&&snapshot.val().wasInsideRoom){console.log('(ReachSDK::room['+roomId+']::_setOnParticipantJoin) user has joined: '+user);p_cb(user);}};participantListRef.on('child_added',participantListJoinAddedCb);participantListJoinChangedCb=function(snapshot){var user=snapshot.name();if(snapshot.val()&&snapshot.val().connected&&snapshot.val().wasInsideRoom){console.log('(ReachSDK::room['+roomId+']::_setOnParticipantJoin) user has joined: '+user);p_cb(user);}};participantListRef.on('child_changed',participantListJoinChangedCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnParticipantJoin)parameter incorrect. Expected function');}}function _setOnParticipantLeave(p_cb){if(participantListLeaveCb){dataref.child('participantList').off('child_changed',participantListLeaveCb);participantListLeaveCb=null;}if(p_cb&&typeof p_cb=='function'){participantListLeaveCb=function(snapshot){var user=snapshot.name();if(snapshot.val()&&!snapshot.val().connected&&snapshot.val().wasInsideRoom){console.log('(ReachSDK::room['+roomId+']::_setOnParticipantLeave) user has left: '+user);p_cb(user);}};dataref.child('participantList').on('child_changed',participantListLeaveCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnParticipantLeave)parameter incorrect. Expected function');}}function _sendInstantMessage(p_message){if(p_message!==''){console.log('(ReachSDK::room['+roomId+']::sendInstantMessage)message='+p_message);dataref.child('instantMessageList').push({from:me,message:p_message,timestamp:Webcom.ServerValue.TIMESTAMP});}}function _setOnInstantMessage(p_cb){if(instantMessageListCb){dataref.child('instantMessageList').off('child_added',instantMessageListCb);instantMessageListCb=null;}if(p_cb&&typeof p_cb=='function'){instantMessageListCb=function(snapshot){var obj=snapshot.val();console.log('(ReachSDK::room['+roomId+']::_setOnInstantMessage)receive InstantMessage='+(0,_stringify2.default)(obj));p_cb(obj);};dataref.child('instantMessageList').on('child_added',instantMessageListCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnInstantMessage)parameter incorrect. Expected function');}}function _publishStream(streamId,localVid,p_actionType,getLocalStreamCb){console.log('(ReachSDK::room['+roomId+']::publishStream)roomId='+roomId+',streamId='+streamId+',me='+me+',actionType='+p_actionType);if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter streamId is incorrect. Expecting non empty string');return;}var localDataRef=dataref.child('publishedMediaList').child(streamId),remoteDataRef=localDataRef.child('subscribersList'),pubAndSubscribe=function pubAndSubscribe(){localDataRef.set({from:me,appInstanceId:_utils2.default.appInstanceId,actionType:p_actionType});localDataRef.onDisconnect().remove();var addSubscribersListCb=function addSubscribersListCb(snapshot){var remoteAppInstanceId=snapshot.name(),data=snapshot.val(),_subscriberId=data.userId,_peercoId=data.peercoId,_peercoRef=data.peercoRef,isAudioMute=mMutedStreams[streamId]&&mMutedStreams[streamId].audio,isVideoMute=mMutedStreams[streamId]&&mMutedStreams[streamId].video,streamStackId=streamId+'_pub';console.log('(ReachSDK::room['+roomId+']::publishStream::addSubscribersListCb)subscriber '+_subscriberId+' to stream '+streamId+' added '+(0,_stringify2.default)(data));if(!roomWebrtcStacks[streamStackId]){roomWebrtcStacks[streamStackId]=[];}var mStackId=webrtcmngr.createWebrtc(localVid,remoteAppInstanceId,function(){console.log('(ReachSDK::room['+roomId+']::publishStream::addSubscribersListCb)subscriber '+_subscriberId+' to stream '+streamId+' connection lost');},true,p_actionType,_peercoId,_peercoRef,isAudioMute,isVideoMute);roomWebrtcStacks[streamStackId].push({stackId:mStackId,subscriberId:_subscriberId,isPublish:true,peercoId:_peercoId,peercoRef:_peercoRef});},removeSubscribersListCb=function removeSubscribersListCb(snapshot){var subscriberId=snapshot.name(),streamStacks=roomWebrtcStacks[streamId+'_pub'];if(subscriberId&&streamStacks){console.log('(ReachSDK::room['+roomId+']::publishStream::removeSubscribersListCb)subscriber '+subscriberId+' to stream '+streamId+' removed');for(var i=streamStacks.length-1;i>=0;i--){if(streamStacks[i].subscriberId===subscriberId){webrtcmngr.closeWebrtc(streamStacks[i].stackId,true);}}delete roomWebrtcStacks[streamId+'_pub'];}};mStreams[streamId]={addSubscribersListCb:addSubscribersListCb,removeSubscribersListCb:removeSubscribersListCb};remoteDataRef.on('child_added',addSubscribersListCb);remoteDataRef.on('child_removed',removeSubscribersListCb);};if(p_actionType){if(p_actionType===_actions2.default.ACTION_TYPE_VIDEO){_localstream2.default.connectLocalVideoStream(localVid,pubAndSubscribe,getLocalStreamCb);}else if(p_actionType===_actions2.default.ACTION_TYPE_AUDIO){_localstream2.default.connectLocalAudioStream(localVid,pubAndSubscribe,getLocalStreamCb);}else if(p_actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){_localstream2.default.connectLocalAudioVideoStream(localVid,pubAndSubscribe,getLocalStreamCb);}}}function _setOnPublishedStream(p_cb){if(publishedMediaListCb){dataref.child('publishedMediaList').off('child_added',publishedMediaListCb);publishedMediaListCb=null;}if(p_cb&&typeof p_cb=='function'){publishedMediaListCb=function(snapshot){var obj={},name=snapshot.name();obj[name]=snapshot.val();obj[name].roomId=roomId;p_cb(obj);};dataref.child('publishedMediaList').on('child_added',publishedMediaListCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnPublishedStream)parameter incorrect. Expected function');}}function _unPublishStream(streamId,callback){console.log('(ReachSDK::room['+roomId+']::unPublishStream)streamId '+streamId);var localDataRef=dataref.child('publishedMediaList/'+streamId),remoteDataRef=localDataRef.child('subscribersList'),streamStacksId=streamId+'_pub';if(mStreams[streamId]&&mStreams[streamId].addSubscribersListCb){remoteDataRef.off('child_added',mStreams[streamId].addSubscribersListCb);}if(mStreams[streamId]&&mStreams[streamId].removeSubscribersListCb){remoteDataRef.off('child_removed',mStreams[streamId].removeSubscribersListCb);}delete mStreams[streamId];delete mMutedStreams[streamId];localDataRef.onDisconnect().cancel();localDataRef.remove();if(roomWebrtcStacks[streamStacksId]&&roomWebrtcStacks[streamStacksId].length>0){(function(){var nbStack=roomWebrtcStacks[streamStacksId].length,closeCb=function closeCb(){nbStack--;if(nbStack<1){delete roomWebrtcStacks[streamStacksId];if(callback&&typeof callback=='function'){callback();}}};for(var i=nbStack-1;i>=0;i--){webrtcmngr.closeWebrtc(roomWebrtcStacks[streamStacksId][i].stackId,true,closeCb);}})();}else {delete roomWebrtcStacks[streamStacksId];if(callback&&typeof callback=='function'){callback();}}}function _setOnUnPublishedStream(p_cb){if(unPublishedMediaListCb){dataref.child('publishedMediaList').off('child_removed',unPublishedMediaListCb);unPublishedMediaListCb=null;}if(p_cb&&typeof p_cb=='function'){unPublishedMediaListCb=function(snapshot){p_cb(snapshot.name());};dataref.child('publishedMediaList').on('child_removed',unPublishedMediaListCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnUnPublishedStream)parameter incorrect. Expected function');}}function _subscribeToStream(streamData,remoteVid,getRemoteStreamCb){var streamId=(0,_keys2.default)(streamData)[0],actionType=streamData[streamId].actionType;console.log('(ReachSDK::room['+roomId+']::subscribeToStream)streamId '+streamId);if(mStreams&&mStreams[streamId]){if(actionType){if(actionType===_actions2.default.ACTION_TYPE_VIDEO){_localstream2.default.connectLocalVideoStream(remoteVid,getRemoteStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO){_localstream2.default.connectLocalAudioStream(remoteVid,getRemoteStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){_localstream2.default.connectLocalAudioVideoStream(remoteVid,getRemoteStreamCb);}}return streamId;}var appInstanceId=streamData[streamId].appInstanceId,localDataRef=dataref.child('publishedMediaList').child(streamId),remoteDataRef=localDataRef.child('subscribersList'),streamStacksId=streamId+'_sub',_peercoId=undefined,_peercoRef=undefined;if(!roomWebrtcStacks[streamStacksId]){roomWebrtcStacks[streamStacksId]=[];}else if(roomWebrtcStacks[streamStacksId]&&roomWebrtcStacks[streamStacksId][0]&&roomWebrtcStacks[streamStacksId][0].peercoId){_peercoId=roomWebrtcStacks[streamStacksId][0].peercoId;}var getRandomIntInclusive=function getRandomIntInclusive(min,max){return Math.floor(Math.random()*(max-min+1))+min;};if(!_peercoId){_peercoId=Math.floor(Date.now()).toString()+getRandomIntInclusive(0,1000000);}_peercoRef=datarefs.getWebrtc().push().name();remoteDataRef.child(_utils2.default.appInstanceId).set({ts:Webcom.ServerValue.TIMESTAMP,userId:me,peercoId:_peercoId,peercoRef:_peercoRef});var isAudioMute=mMutedStreams[streamId]&&mMutedStreams[streamId].audio,isVideoMute=mMutedStreams[streamId]&&mMutedStreams[streamId].video,mStackId=webrtcmngr.createWebrtc(remoteVid,appInstanceId,function(){},false,actionType,_peercoId,_peercoRef,isAudioMute,isVideoMute,getRemoteStreamCb);if(!remoteUnpublishedCb){remoteUnpublishedCb=function(snapshot){var removedStreamId=(0,_keys2.default)(snapshot)[0]+'_sub';if(roomWebrtcStacks[removedStreamId]){var i=0;while(i<roomWebrtcStacks[removedStreamId].length){webrtcmngr.closeWebrtc(roomWebrtcStacks[removedStreamId][i].stackId,false);i++;}delete roomWebrtcStacks[removedStreamId];}};dataref.child('publishedMediaList').on('child_removed',remoteUnpublishedCb);}roomWebrtcStacks[streamStacksId].push({stackId:mStackId,isPublish:false,peercoId:_peercoId,peercoRef:_peercoRef});return streamId;}function _unSubscribeFromStream(streamId){console.log('(ReachSDK::room['+roomId+']::unSubscribeFromStream)streamId '+streamId);var localDataRef=dataref.child('publishedMediaList').child(streamId),remoteDataRef=localDataRef.child('subscribersList'),streamStacksId=streamId+'_sub';remoteDataRef.child(_utils2.default.appInstanceId).remove();if(roomWebrtcStacks[streamStacksId]){var i=0;while(i<roomWebrtcStacks[streamStacksId].length){if(roomWebrtcStacks[streamStacksId][i]){webrtcmngr.closeWebrtc(roomWebrtcStacks[streamStacksId][i].stackId,false);}i++;}delete roomWebrtcStacks[streamStacksId];}delete mMutedStreams[streamId];}function _getAvailableStreams(){console.log('(ReachSDK::room['+roomId+']::_getAvailableStreams)');return mAvailableStreams;}function _getAvailableStream(streamId){console.log('(ReachSDK::room['+roomId+']::_getAvailableStream)streamId='+streamId);if(mAvailableStreams&&streamId){for(var i=mAvailableStreams.length-1;i>=0;i--){if(mAvailableStreams[i]&&(0,_keys2.default)(mAvailableStreams[i])[0]&&(0,_keys2.default)(mAvailableStreams[i])[0]===streamId){return mAvailableStreams[i];}}}return null;}function _removeAllAvailableStreams(){console.log('(ReachSDK::room['+roomId+']::_removeAllAvailableStreams');mAvailableStreams=[];}function _muteAudioStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_muteAudioStream)parameter streamId is incorrect. Expecting non empty string');return;}console.log('(ReachSDK::room['+roomId+']::_muteAudioStream)streamId='+streamId);if(!mMutedStreams[streamId]){mMutedStreams[streamId]={};}mMutedStreams[streamId].audio=true;if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.muteAudioWebrtcStack(stacks[i].stackId);}}});}}function _unmuteAudioStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_unmuteAudioStream)parameter streamId is incorrect. Expecting non empty string');return;}if(mMutedStreams[streamId]&&mMutedStreams[streamId].audio){mMutedStreams[streamId].audio=false;}console.log('(ReachSDK::room['+roomId+']::_unmuteAudioStream)streamId='+streamId);if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.unmuteAudioWebrtcStack(stacks[i].stackId);}}});}}function _muteVideoStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_muteVideoStream)parameter streamId is incorrect. Expecting non empty string');return;}console.log('(ReachSDK::room['+roomId+']::_muteVideoStream)streamId='+streamId);if(!mMutedStreams[streamId]){mMutedStreams[streamId]={};}mMutedStreams[streamId].video=true;if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.muteVideoWebrtcStack(stacks[i].stackId);}}});}}function _unmuteVideoStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_unmuteVideoStream)parameter streamId is incorrect. Expecting non empty string');return;}if(mMutedStreams[streamId]&&mMutedStreams[streamId].video){mMutedStreams[streamId].video=false;}console.log('(ReachSDK::room['+roomId+']::_unmuteVideoStream)streamId='+streamId);if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.unmuteVideoWebrtcStack(stacks[i].stackId);}}});}}function _close(updateRoomStatusToClose){console.log('(ReachSDK::room['+roomId+']::_close)room '+roomId+', detroyRoom='+updateRoomStatusToClose);var participantListRef=dataref.child('participantList'),publishedMediaListRef=dataref.child('publishedMediaList');participantListRef.child(me+'/connected').set(false);(0,_keys2.default)(mStreams).forEach(_unPublishStream);mStreams=[];if(instantMessageListCb){dataref.child('instantMessageList').off('child_added',instantMessageListCb);instantMessageListCb=null;}if(publishedMediaListCb){publishedMediaListRef.off('child_added',publishedMediaListCb);publishedMediaListCb=null;}if(publishedMediaListCbForAvailableStream){publishedMediaListRef.off('child_added',publishedMediaListCbForAvailableStream);publishedMediaListCbForAvailableStream=null;}if(unPublishedMediaListCb){publishedMediaListRef.off('child_removed',unPublishedMediaListCb);unPublishedMediaListCb=null;}if(unPublishedMediaListCbForAvailableStream){publishedMediaListRef.off('child_removed',unPublishedMediaListCbForAvailableStream);unPublishedMediaListCbForAvailableStream=null;}if(participantListJoinAddedCb){participantListRef.off('child_added',participantListJoinAddedCb);participantListJoinAddedCb=null;}if(participantListJoinChangedCb){participantListRef.off('child_changed',participantListJoinChangedCb);participantListJoinChangedCb=null;}if(participantListLeaveCb){participantListRef.off('child_changed',participantListLeaveCb);participantListLeaveCb=null;}if(remoteUnpublishedCb){publishedMediaListRef.off('child_removed',remoteUnpublishedCb);remoteUnpublishedCb=null;}(0,_keys2.default)(roomWebrtcStacks).forEach(function(streamStacksId){roomWebrtcStacks[streamStacksId].forEach(function(stack){if(stack){webrtcmngr.closeWebrtc(stack.stackId,stack.isPublish);webrtcmngr.clearWebrtcStacks(stack.stackId);}});});roomWebrtcStacks={};mMutedStreams=[];_removeAllAvailableStreams();if(updateRoomStatusToClose&&updateRoomStatusToClose===true){dataref.child('commonDataList/status').set(ROOM_STATUS_CLOSE);}}init();return {getRoomId:_getRoomId,getMe:_getMe,setOnParticipantJoin:_setOnParticipantJoin,setOnParticipantLeave:_setOnParticipantLeave,sendInstantMessage:_sendInstantMessage,setOnInstantMessage:_setOnInstantMessage,publishStream:_publishStream,setOnPublishedStream:_setOnPublishedStream,unPublishStream:_unPublishStream,setOnUnPublishedStream:_setOnUnPublishedStream,subscribeToStream:_subscribeToStream,unSubscribeFromStream:_unSubscribeFromStream,getAvailableStreams:_getAvailableStreams,getAvailableStream:_getAvailableStream,muteAudioStream:_muteAudioStream,unmuteAudioStream:_unmuteAudioStream,muteVideoStream:_muteVideoStream,unmuteVideoStream:_unmuteVideoStream,close:_close,on:function on(evt,p_cb){switch(evt){case 'instantMessage':_setOnInstantMessage(p_cb);break;case 'publishedStream':_setOnPublishedStream(p_cb);break;case 'unPublishedStream':_setOnUnPublishedStream(p_cb);break;case 'participantJoin':_setOnParticipantJoin(p_cb);break;case 'participantLeave':_setOnParticipantLeave(p_cb);break;default:console.err('(ReachSDK::room['+roomId+']::on)unsupported '+evt+' event');break;}}};};var _keys=__webpack_require__(10),_keys2=_interopRequireDefault(_keys),_stringify=__webpack_require__(22),_stringify2=_interopRequireDefault(_stringify),_actions=__webpack_require__(7),_actions2=_interopRequireDefault(_actions),_localstream=__webpack_require__(26),_localstream2=_interopRequireDefault(_localstream),_utils=__webpack_require__(24),_utils2=_interopRequireDefault(_utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var ROOM_STATUS_CLOSE='CLOSE';

/***/ },
/* 26 */
/***/ function(module, exports) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var localstream=(function(){var localVideoStreams=[],localAudioStreams=[],localAudioVideoStreams=[],streamVideo=null,streamAudio=null,streamAudioVideo=null,listenersVideo=[],listenersAudio=[],listenersAudioVideo=[],mLocalStreamVideo=null,mLocalStreamAudio=null,mLocalStreamAudioVideo=null,initVideoProgress=false,initAudioProgress=false,initAudioVideoProgress=false;function _initVideo(callback){console.log('(ReachSDK::localstream::initVideo)');if(!initVideoProgress){initVideoProgress=true;navigator.getMedia=getUserMedia;mLocalStreamVideo=document.createElement('VIDEO');mLocalStreamVideo.muted=true;localVideoStreams.push(mLocalStreamVideo);if(streamVideo===null){navigator.getMedia({audio:false,video:true},function(s){streamVideo=s;localVideoStreams.forEach(function(localVideoStream){attachMediaStream(localVideoStream,streamVideo);});localVideoStreams=[];listenersVideo.forEach(function(listenerVideo){listenerVideo(streamVideo);});listenersVideo=[];initVideoProgress=false;if(callback){callback();}},function(error){console.error('Error on webrtcLocalStream - webkitGetUserMedia : error=');console.dir(error);initVideoProgress=false;if(callback){callback(error);}});}else {localVideoStreams.forEach(function(localVideoStream){attachMediaStream(localVideoStream,streamVideo);});localVideoStreams=[];listenersVideo.forEach(function(listenerVideo){listenerVideo(streamVideo);});listenersVideo=[];initVideoProgress=false;}}}function _initAudio(callback){console.log('(ReachSDK::localstream::initAudio)');if(!initAudioProgress){initAudioProgress=true;navigator.getMedia=getUserMedia;mLocalStreamAudio=document.createElement('AUDIO');mLocalStreamAudio.muted=true;localAudioStreams.push(mLocalStreamAudio);if(streamAudio===null){navigator.getMedia({audio:true,video:false},function(s){streamAudio=s;localAudioStreams.forEach(function(localAudioStream){attachMediaStream(localAudioStream,streamAudio);});localAudioStreams=[];listenersAudio.forEach(function(listenerAudio){listenerAudio(streamAudio);});listenersAudio=[];initAudioProgress=false;if(callback){callback();}},function(error){console.error('Error on webrtcLocalStream - webkitGetUserMedia :error=');console.dir(error);initAudioProgress=false;if(callback){callback(error);}});}else {localAudioStreams.forEach(function(localAudioStream){attachMediaStream(localAudioStream,streamAudio);});localAudioStreams=[];listenersAudio.forEach(function(listenerAudio){listenerAudio(streamAudio);});listenersAudio=[];initAudioProgress=false;}}}function _initAudioVideo(callback){console.log('(ReachSDK::localstream::initAudioVideo)');if(!initAudioVideoProgress){initAudioVideoProgress=true;navigator.getMedia=getUserMedia;mLocalStreamAudioVideo=document.createElement('AUDIOVIDEO');mLocalStreamAudioVideo.muted=true;localAudioVideoStreams.push(mLocalStreamAudioVideo);if(streamAudioVideo===null){navigator.getMedia({audio:true,video:true},function(s){streamAudioVideo=s;localAudioVideoStreams.forEach(function(localAudioVideoStream){attachMediaStream(localAudioVideoStream,streamAudioVideo);});localAudioVideoStreams=[];listenersAudioVideo.forEach(function(listenerAudioVideo){listenerAudioVideo(streamAudioVideo);});listenersAudioVideo=[];initAudioVideoProgress=false;if(callback){callback();}},function(error){console.error('(ReachSDK::localstream::initAudioVideo::Error on webrtcLocalStream - webkitGetUserMedia : error=');console.dir(error);initAudioVideoProgress=false;if(callback){callback(error);}});}else {localAudioVideoStreams.forEach(function(localAudioVideoStream){attachMediaStream(localAudioVideoStream,streamAudioVideo);});localAudioVideoStreams=[];listenersAudioVideo.forEach(function(listenerAudioVideo){listenerAudioVideo(streamAudioVideo);});listenersAudioVideo=[];initAudioVideoProgress=false;}}}function _close(){console.log('(ReachSDK::localstream::close)');if(mLocalStreamVideo){detachMediaStream(mLocalStreamVideo);mLocalStreamVideo=null;}if(streamAudioVideo){streamAudioVideo.stop();streamAudioVideo=null;}if(streamVideo){streamVideo.stop();streamVideo=null;}initVideoProgress=false;if(mLocalStreamAudio){detachMediaStream(mLocalStreamAudio);mLocalStreamAudio=null;}if(streamAudio){streamAudio.stop();streamAudio=null;}initAudioProgress=false;if(mLocalStreamAudioVideo){detachMediaStream(mLocalStreamAudioVideo);mLocalStreamAudioVideo=null;}if(streamAudioVideo){streamAudioVideo.stop();streamAudioVideo=null;}initAudioVideoProgress=false;}return {getVideoStream:function getVideoStream(){return streamVideo;},addVideoListener:function addVideoListener(cb){listenersVideo.push(cb);},initVideo:function initVideo(){_initVideo();},connectLocalVideoStream:function connectLocalVideoStream(videoElt,publishStreamCb,getLocalStreamCb){if(videoElt){videoElt.muted=true;if(streamVideo){console.log('(ReachSDK::localstream::connectLocalVideoStream)use existing streamVideo');attachMediaStream(videoElt,streamVideo);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamVideo);}}else {localVideoStreams.push(videoElt);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersVideo.push(getLocalStreamCb);}_initVideo(publishStreamCb);}}else {if(!streamVideo){if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersVideo.push(getLocalStreamCb);}_initVideo(publishStreamCb);}else {if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamVideo);}}}},getAudioStream:function getAudioStream(){return streamAudio;},addAudioListener:function addAudioListener(cb){listenersAudio.push(cb);},initAudio:function initAudio(){_initAudio();},connectLocalAudioStream:function connectLocalAudioStream(AudioElt,publishStreamCb,getLocalStreamCb){if(AudioElt){AudioElt.muted=true;if(streamAudio){console.log('(ReachSDK::localstream::connectLocalAudioStream)use existing streamAudio');attachMediaStream(AudioElt,streamAudio);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamAudio);}}else {localAudioStreams.push(AudioElt);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudio.push(getLocalStreamCb);}_initAudio(publishStreamCb);}}else {if(!streamAudio){if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudio.push(getLocalStreamCb);}_initAudio(publishStreamCb);}else {if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamAudio);}}}},getAudioVideoStream:function getAudioVideoStream(){return streamAudioVideo;},addAudioVideoListener:function addAudioVideoListener(cb){listenersAudioVideo.push(cb);},initAudioVideo:function initAudioVideo(){_initAudioVideo();},connectLocalAudioVideoStream:function connectLocalAudioVideoStream(AudioVideoElt,publishStreamCb,getLocalStreamCb){if(AudioVideoElt){AudioVideoElt.muted=true;if(streamAudioVideo){console.log('(ReachSDK::localstream::connectLocalAudioVideoStream)use existing streamAudioVideo');attachMediaStream(AudioVideoElt,streamAudioVideo);if(getLocalStreamCb){getLocalStreamCb(streamAudioVideo);}}else {localAudioVideoStreams.push(AudioVideoElt);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudioVideo.push(getLocalStreamCb);}_initAudioVideo(publishStreamCb);}}else {if(!streamAudioVideo){if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudioVideo.push(getLocalStreamCb);}_initAudioVideo(publishStreamCb);}else {if(getLocalStreamCb){getLocalStreamCb(streamAudioVideo);}}}},close:function close(){_close();}};})();exports.default=localstream;

/***/ },
/* 27 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _utils=__webpack_require__(24),_utils2=_interopRequireDefault(_utils),_webrtc=__webpack_require__(28),_webrtc2=_interopRequireDefault(_webrtc),_localstream=__webpack_require__(26),_localstream2=_interopRequireDefault(_localstream);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var webrtcmngr=function webrtcmngr(datarefs){var _this=this,webrtcStacks=[],virtualWebrtcStacks=[];function _createWebrtc(p_Vid,p_remoteAppInstId,p_onCloseCb,p_isPublish,p_actionType,p_peercoId,p_peercoRef,p_mutedAudio,p_muteVideo,p_getStreamCb){var webrtcStackId=p_peercoId,localDataRef=datarefs.getWebrtc().child(p_peercoRef+'/'+_utils2.default.appInstanceId),remoteDataRef=datarefs.getWebrtc().child(p_peercoRef+'/'+p_remoteAppInstId),virtualWebrtcStack=undefined;if(p_isPublish){virtualWebrtcStack={webRtcStackId:webrtcStackId,localVid:p_Vid};}else {virtualWebrtcStack={webRtcStackId:webrtcStackId,remoteVid:p_Vid};}var id=virtualWebrtcStacks.push(virtualWebrtcStack)-1;if(!webrtcStacks[webrtcStackId]){console.debug('ReachSDK::webrtcmngr::createWebrtc->create a new real webrtcStack');var webRtcStack=(0,_webrtc2.default)(this,p_isPublish,localDataRef,remoteDataRef,webrtcStackId,p_actionType,p_mutedAudio,p_muteVideo);webRtcStack.setOnClose(p_onCloseCb);if(p_isPublish){webrtcStacks[webrtcStackId]={stack:webRtcStack,isPublished:1,isSubscribed:0};webRtcStack.connectLocalStream(p_Vid,p_getStreamCb);}else {webrtcStacks[webrtcStackId]={stack:webRtcStack,isPublished:0,isSubscribed:1};webRtcStack.connectRemoteStream(p_Vid,p_getStreamCb);}}else {console.debug('ReachSDK::webrtcmngr::createWebrtc->use existing real webrtcStack');if(p_isPublish){webrtcStacks[webrtcStackId].isPublished++;webrtcStacks[webrtcStackId].stack.connectLocalStream(p_Vid,p_getStreamCb);}else {webrtcStacks[webrtcStackId].isSubscribed++;webrtcStacks[webrtcStackId].stack.connectRemoteStream(p_Vid,p_getStreamCb);}}console.debug('ReachSDK::webrtcmngr::createWebrtc->webrtcStack:'+webrtcStackId+' new isPublished count ='+webrtcStacks[webrtcStackId].isPublished+' new isSubscribed count ='+webrtcStacks[webrtcStackId].isSubscribed);return id;}function _closeWebrtc(id,p_isUnPublish,callback){console.debug('ReachSDK::webrtcmngr::closeWebrtc->id='+id);if(!virtualWebrtcStacks[id]){console.warn('ReachSDK::webrtcmngr::closeWebrtc: virtualstack '+id+' not found');if(callback&&typeof callback=='function'){callback();}return false;}var webrtcStackId=virtualWebrtcStacks[id].webRtcStackId;if(webrtcStackId&&webrtcStacks[webrtcStackId]){if(p_isUnPublish&&webrtcStacks[webrtcStackId].isPublished>0){webrtcStacks[webrtcStackId].isPublished--;}else if(!p_isUnPublish&&webrtcStacks[webrtcStackId].isSubscribed>0){webrtcStacks[webrtcStackId].isSubscribed--;}if(webrtcStacks[webrtcStackId].isPublished<1&&webrtcStacks[webrtcStackId].isSubscribed<1){console.debug('ReachSDK::webrtcmngr::closeWebrtc->destroy  real webrtcStack:'+webrtcStackId);webrtcStacks[webrtcStackId].stack.close(callback);webrtcStacks[webrtcStackId]=null;}else {console.debug('ReachSDK::webrtcmngr::closeWebrtc->decrement  real webrtcStack:'+webrtcStackId+' new isPublished count ='+webrtcStacks[webrtcStackId].isPublished+' new isSubscribed count ='+webrtcStacks[webrtcStackId].isSubscribed);if(callback&&typeof callback=='function'){callback();}}}else {if(callback&&typeof callback=='function'){callback();}console.warn('ReachSDK::webrtcmngr::closeWebrtc cannot found real stack');}if(virtualWebrtcStacks[id].localVid){_localstream2.default.close();detachMediaStream(virtualWebrtcStacks[id].localVid);}if(virtualWebrtcStacks[id].remoteVid){detachMediaStream(virtualWebrtcStacks[id].remoteVid);}return true;}function _clearWebrtcStacks(webrtcStackId){console.debug('ReachSDK::webrtcmngr::clearWebrtcStacks id='+webrtcStackId);if(webrtcStackId&&webrtcStacks&&webrtcStacks[webrtcStackId]){webrtcStacks[webrtcStackId]=null;}return true;}function _muteAudioWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.muteAudio();}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}function _unmuteAudioWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+',webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.unmuteAudio();}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}function _muteVideoWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.muteVideo();}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}function _unmuteVideoWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+', webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.unmuteVideo();}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}return {createWebrtc:function createWebrtc(p_Vid,p_remoteAppInstId,p_onCloseCb,p_isPublish,p_actionType,p_peercoId,p_mutedAudio,p_muteVideo,p_getStreamCb){return _createWebrtc.bind(_this)(p_Vid,p_remoteAppInstId,p_onCloseCb,p_isPublish,p_actionType,p_peercoId,p_mutedAudio,p_muteVideo,p_getStreamCb);},closeWebrtc:_closeWebrtc,clearWebrtcStacks:_clearWebrtcStacks,muteAudioWebrtcStack:_muteAudioWebrtcStack,unmuteAudioWebrtcStack:_unmuteAudioWebrtcStack,muteVideoWebrtcStack:_muteVideoWebrtcStack,unmuteVideoWebrtcStack:_unmuteVideoWebrtcStack};};exports.default=webrtcmngr;

/***/ },
/* 28 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _stringify=__webpack_require__(22),_stringify2=_interopRequireDefault(_stringify),_actions=__webpack_require__(7),_actions2=_interopRequireDefault(_actions),_localstream=__webpack_require__(26),_localstream2=_interopRequireDefault(_localstream);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var ICE_CONNECTION_STATE_DISCONNECTED='disconnected',ICE_CONNECTION_STATE_CONNECTED='connected',ICE_CONNECTION_STATE_COMPLETED='completed',ICE_CONNECTION_STATE_CHECKING='checking',ICE_CONNECTION_STATE_CLOSED='closed',ICE_CONNECTION_STATE_FAILED='failed',ICE_CONNECTION_STATE_OTHER='other',DEFAULT_ICE_CONFIG={iceServers:[{url:'turns:turn1.webcom.orange.com:443',username:'admin',credential:'webcom1234'},{url:'turn:turn2.webcom.orange.com:443',username:'admin',credential:'webcom1234'},{url:'turns:turn3.webcom.orange.com:443',username:'admin',credential:'webcom1234'}]},webrtc=function webrtc(p_webrtcmngr,p_isPublish,p_localDataRef,p_remoteDataRef,p_webrtcStackId,p_actionType,p_muteAudio,p_muteVideo){var webrtcmngr=p_webrtcmngr,stackId=new Date().getTime(),isPublish=p_isPublish,pc=null,localDataRef=p_localDataRef,remoteDataRef=p_remoteDataRef,iceCandidatesListCb=null,sdpOfferCb=null,sdpAnswerCb=null,remotedatarefCb=null,onCloseCb=null,webrtcStackId=p_webrtcStackId,actionType=p_actionType,config=null,myPeerConnection=null,myRTCSessionDescription=null,myRTCIceCandidate=null,localStreams=[],remoteStreams=[],remoteStreamsCb=[],receivedStream=null,sentStream=null,isClosed=false,closeInProgress=false,iceConnectionState=null,onCloseCb2=null,isAudioMute=false,isVideoMute=false;console.log('(ReachSDK::webrtc::)stackId=${stackId} isPublish=${isPublish},localDataRef=${localDataRef},remoteDataRef=${remoteDataRef})');var DtlsSrtpKeyAgreement={DtlsSrtpKeyAgreement:true},optional={optional:[DtlsSrtpKeyAgreement]},publisherMediaConstraints={mandatory:{OfferToReceiveAudio:false,OfferToReceiveVideo:false}},subscriberMediaConstraints={mandatory:{OfferToReceiveAudio:true,OfferToReceiveVideo:true}};function onError(e){console.log('(ReachSDK::webrtc::)stackId='+stackId+'error='+e);console.dir(e);}function getIceServersConfigFromServer(callbackOk,callbackKo){console.log('ReachSDK::webrtc::getIceServersConfigFromServer');if(localDataRef){localDataRef.root().child('config').once('value',function(snapshot){var _config=snapshot?snapshot.val():null;if(_config){if(typeof callbackOk=='function'){callbackOk(_config);}}else if(typeof callbackKo=='function'){callbackKo();}},function(error){if(typeof callbackKo=='function'){callbackKo(error);}});}else if(typeof callbackKo=='function'){callbackKo();}}function startListeningToRemoteIceCandidate(){remoteDataRef.child('iceCandidatesList').on('child_added',iceCandidatesListCb);}function stopListeningToRemoteIceCandidate(){remoteDataRef.child('iceCandidatesList').off('child_added',iceCandidatesListCb);}function _muteTracks(enabled,tracks){if(tracks){tracks.forEach(function(track){if(track){track.enabled=enabled;}});}}function _muteAudioTracks(mute){isAudioMute=mute;var stream=isPublish&&sentStream?sentStream:!isPublish&&receivedStream?receivedStream:null;if(stream){_muteTracks(!isAudioMute,stream.getAudioTracks());}}function _muteAudio(){console.log('(ReachSDK::webrtc::_muteAudio)stackId='+stackId);_muteAudioTracks(true);}function _unmuteAudio(){console.log('(ReachSDK::webrtc::_unmuteAudio)stackId='+stackId);_muteAudioTracks(false);}function _muteVideoTracks(mute){isVideoMute=mute;var stream=isPublish&&sentStream?sentStream:!isPublish&&receivedStream?receivedStream:null;if(stream){_muteTracks(!isAudioMute,stream.getVideoTracks());}}function _muteVideo(){console.log('(ReachSDK::webrtc::_muteVideo)stackId='+stackId);_muteVideoTracks(true);}function _unmuteVideo(){console.log('(ReachSDK::webrtc::_unmuteVideo)stackId='+stackId);_muteVideoTracks(false);}function _initlocalStream(callback){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' get local video stream and renders to local video');if(actionType){var initlocalStream=undefined;if(actionType===_actions2.default.ACTION_TYPE_VIDEO){initlocalStream=function(){console.log('(ReachSDK::webrtc::_initlocalStream)initlocalStream_video');if(_localstream2.default.getVideoStream()&&_localstream2.default.getVideoStream().clone&&typeof _localstream2.default.getVideoStream().clone=='function'){sentStream=_localstream2.default.getVideoStream().clone();}else {sentStream=_localstream2.default.getVideoStream();}if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}pc.addStream(sentStream);for(var i=0;i<localStreams.length;i++){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' rendering local video to '+localStreams[i].id);attachMediaStream(localStreams[i],_localstream2.default.getVideoStream());}if(callback&&typeof callback=='function'){callback();}};if(_localstream2.default.getVideoStream()){initlocalStream();}else {_localstream2.default.addVideoListener(initlocalStream);_localstream2.default.initVideo();}}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO){initlocalStream=function(){console.log('(ReachSDK::webrtc::_initlocalStream)initlocalStream_audio');if(_localstream2.default.getAudioStream()&&_localstream2.default.getAudioStream().clone&&typeof _localstream2.default.getAudioStream().clone=='function'){sentStream=_localstream2.default.getAudioStream().clone();}else {sentStream=_localstream2.default.getAudioStream();}if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}pc.addStream(sentStream);for(var i=0;i<localStreams.length;i++){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' rendering local Audio to '+localStreams[i].id);attachMediaStream(localStreams[i],_localstream2.default.getAudioStream());}if(callback&&typeof callback=='function'){callback();}};if(_localstream2.default.getAudioStream()){initlocalStream();}else {_localstream2.default.addAudioListener(initlocalStream);_localstream2.default.initAudio();}}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){initlocalStream=function(){console.log('(ReachSDK::webrtc::_initlocalStream)initlocalStream_audio_video');if(_localstream2.default.getAudioVideoStream()&&_localstream2.default.getAudioVideoStream().clone&&typeof _localstream2.default.getAudioVideoStream().clone=='function'){sentStream=_localstream2.default.getAudioVideoStream().clone();}else {sentStream=_localstream2.default.getAudioVideoStream();}if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}pc.addStream(sentStream);for(var i=0;i<localStreams.length;i++){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' rendering local AudioVideo to '+localStreams[i].id);attachMediaStream(localStreams[i],_localstream2.default.getAudioVideoStream());}if(callback&&typeof callback=='function'){callback();}};if(_localstream2.default.getAudioVideoStream()){initlocalStream();}else {_localstream2.default.addAudioVideoListener(initlocalStream);_localstream2.default.initAudioVideo();}}}else {console.warn('(ReachSDK::webrtc::_initlocalStream)no actionType specified');}}function _initSdpCallbacks(){console.debug('(ReachSDK::webrtc::_initSdpCallbacks)stackId='+stackId);if(isPublish){if(sdpOfferCb){remoteDataRef.off('child_added',sdpOfferCb);}sdpAnswerCb=function(snapshot){if(!isClosed&&snapshot.name()==='sdpAnswer'){var data=snapshot.val();console.debug('(ReachSDK::webrtc::sdpAnswerCb)stackId='+stackId+'-received sdpAnswer: '+(0,_stringify2.default)(data));pc.setRemoteDescription(new myRTCSessionDescription(data),function(){console.debug('(ReachSDK::webrtc::sdpAnswerCb)stackId='+stackId+'-remote description set');startListeningToRemoteIceCandidate();},onError);remoteDataRef.off('child_added',sdpAnswerCb);}};remoteDataRef.on('child_added',sdpAnswerCb);}else {if(sdpAnswerCb){remoteDataRef.off('child_added',sdpAnswerCb);}sdpOfferCb=function(snapshot){if(!isClosed&&snapshot.name()==='sdpOffer'){var data=snapshot.val();console.debug('(ReachSDK::webrtc::sdpOfferCb)stackId='+stackId+'-received sdpOffer: '+(0,_stringify2.default)(data));pc.setRemoteDescription(new myRTCSessionDescription(data),function(){pc.createAnswer(function(description){console.log('(ReachSDK::webrtc::sdpOfferCb)stackId='+stackId+'-sending answer');pc.setLocalDescription(description,function(){console.debug('(ReachSDK::webrtc::sdpOfferCb)stackId='+stackId+'-set sdpAnswer in base : '+(0,_stringify2.default)(description));localDataRef.child('sdpAnswer').set(JSON.parse((0,_stringify2.default)(description)));startListeningToRemoteIceCandidate();},onError);},onError,subscriberMediaConstraints);},onError);remoteDataRef.off('child_added',sdpOfferCb);}};remoteDataRef.on('child_added',sdpOfferCb);}}function _closeSdpCallbacks(){if(sdpAnswerCb){remoteDataRef.off('child_added',sdpAnswerCb);sdpAnswerCb=null;}if(sdpOfferCb){remoteDataRef.off('child_added',sdpOfferCb);sdpOfferCb=null;}}function sendOffer(){console.log('(webrtc::sendOffer)stackid='+stackId+'-creating sdpOffer');pc.createOffer(function(description){pc.setLocalDescription(description,function(){console.debug('(ReachSDK::webrtc::createOffer)stackId='+stackId+'-set sdpOffer in base : '+(0,_stringify2.default)(description));localDataRef.child('sdpOffer').set(JSON.parse((0,_stringify2.default)(description)));},onError);},onError,publisherMediaConstraints);}function _close(callback){if(!closeInProgress&&!isClosed){closeInProgress=true;onCloseCb2=callback;console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closing webrtc stack');if(pc){pc.close();}if(remotedatarefCb){remoteDataRef.off('child_added',remotedatarefCb);remotedatarefCb=null;}if(iceCandidatesListCb){stopListeningToRemoteIceCandidate();iceCandidatesListCb=null;}_closeSdpCallbacks();for(var i=0;i<localStreams.length;i++){if(localStreams[i]){detachMediaStream(localStreams[i]);console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-stopping local video to '+localStreams[i].id);}}for(var j=0;j<remoteStreams.length;j++){if(remoteStreams[j]){detachMediaStream(remoteStreams[j]);console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-stopping remote vid to '+remoteStreams[j].id);}}isClosed=true;console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closing webrtc stack -> waiting for ICE_CONNECTION_STATE_DISCONNECTED');if(isClosed&&(iceConnectionState===ICE_CONNECTION_STATE_DISCONNECTED||iceConnectionState===ICE_CONNECTION_STATE_CLOSED||iceConnectionState===ICE_CONNECTION_STATE_FAILED)){console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closed webrtc stack complete');pc=null;closeInProgress=false;webrtcmngr.clearWebrtcStacks(webrtcStackId);if(onCloseCb2&&typeof onCloseCb2=='function'){onCloseCb2();}}}else {console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closing webrtc stack already in progress');}}function _connectLocalStream(videoElt,getStreamCb){if(actionType){if(actionType===_actions2.default.ACTION_TYPE_VIDEO){_localstream2.default.connectLocalVideoStream(videoElt,getStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO){_localstream2.default.connectLocalAudioStream(videoElt,getStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){_localstream2.default.connectLocalAudioVideoStream(videoElt,getStreamCb);}}}function _connectRemoteStream(videoElt,getStreamCb){if(videoElt){if(receivedStream){attachMediaStream(videoElt,receivedStream);if(getStreamCb&&typeof getStreamCb=='function'){getStreamCb(receivedStream);}}else {remoteStreams.push(videoElt);if(getStreamCb&&typeof getStreamCb=='function'){remoteStreamsCb.push(getStreamCb);}}}else {if(receivedStream){if(getStreamCb&&typeof getStreamCb=='function'){getStreamCb(receivedStream);}}else {if(getStreamCb&&typeof getStreamCb=='function'){remoteStreamsCb.push(getStreamCb);}}}}function init_pc(){console.log('(ReachSDK::webrtc::init_pc)stackId='+stackId+'_config=',(0,_stringify2.default)(config));pc=new myPeerConnection(config,optional);pc.onicecandidate=function(e){if(e.candidate){console.log('(ReachSDK::webrtc::pc.onicecandidate)stackId='+stackId+' send ice candidate='+(0,_stringify2.default)(e.candidate));localDataRef.child('iceCandidatesList').push({label:e.candidate.sdpMLineIndex,id:e.candidate.sdpMid,candidate:e.candidate.candidate});}};pc.onaddstream=function(e){console.debug('(ReachSDK::webrtc::onaddstream)stackId='+stackId+'-stream:'+(0,_stringify2.default)(e.stream));if(e&&e.stream){receivedStream=e.stream;if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}}};pc.oniceconnectionstatechange=function(){if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_CHECKING){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-checking');iceConnectionState=ICE_CONNECTION_STATE_CHECKING;}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_CONNECTED){iceConnectionState=ICE_CONNECTION_STATE_CONNECTED;console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-connected');if(receivedStream){remoteStreams.forEach(function(remoteStream){if(remoteStream){console.debug('(ReachSDK::webrtc::onaddstream)pc.onaddstream stackId='+stackId+'-rendering remote vid to '+remoteStream.id);attachMediaStream(remoteStream,receivedStream);}});remoteStreamsCb.forEach(function(remoteStreamCb){if(remoteStreamCb){remoteStreamCb(receivedStream);}});remoteStreamsCb=[];}stopListeningToRemoteIceCandidate();}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_COMPLETED){iceConnectionState=ICE_CONNECTION_STATE_COMPLETED;console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-'+ICE_CONNECTION_STATE_COMPLETED);stopListeningToRemoteIceCandidate();}if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_DISCONNECTED){iceConnectionState=ICE_CONNECTION_STATE_DISCONNECTED;console.log('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-remote disconnection, closing peer connection');_close();}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_CLOSED){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-closed');iceConnectionState=ICE_CONNECTION_STATE_CLOSED;_close();}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_FAILED){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-failed');iceConnectionState=ICE_CONNECTION_STATE_FAILED;_close();}else {if(pc){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-'+pc.iceConnectionState);}else {console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-pc = null');}iceConnectionState=ICE_CONNECTION_STATE_OTHER;}if(isClosed&&(iceConnectionState===ICE_CONNECTION_STATE_DISCONNECTED||iceConnectionState===ICE_CONNECTION_STATE_CLOSED||iceConnectionState===ICE_CONNECTION_STATE_FAILED)){console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closed webrtc stack complete');pc=null;closeInProgress=false;webrtcmngr.clearWebrtcStacks(webrtcStackId);if(onCloseCb&&typeof onCloseCb=='function'){onCloseCb();}if(onCloseCb2&&typeof onCloseCb2=='function'){onCloseCb2();}}};iceCandidatesListCb=function(snapshot){var data=snapshot.val(),candidate=new myRTCIceCandidate({sdpMLineIndex:data.label,candidate:data.candidate,sdpMid:data.id});console.log('(ReachSDK::webrtc::iceCandidatesListCb)stackId='+stackId+'received ice candidate='+(0,_stringify2.default)(candidate));pc.addIceCandidate(candidate);};if(isPublish){_initlocalStream(function(){_initSdpCallbacks();sendOffer();});}else {_initSdpCallbacks();}}(function(){console.log('(ReachSDK::webrtc::init)stackId='+stackId);if(typeof RTCPeerConnection==='function'){myPeerConnection=RTCPeerConnection;}else {console.error('(ReachSDK::webrtc::init)stackId='+stackId+' error=Webrtc is not supported on this browser !');throw new Error('Webrtc is not supported on this browser !');}if(typeof RTCSessionDescription==='function'){myRTCSessionDescription=RTCSessionDescription;}else {console.error('(ReachSDK::webrtc::init)stackId='+stackId+' error2=Webrtc is not supported on this browser !');throw new Error('Webrtc is not supported on this browser !');}if(typeof RTCIceCandidate==='function'){myRTCIceCandidate=RTCIceCandidate;}else {console.error('(ReachSDK::webrtc::init)stackId='+stackId+' error3=Webrtc is not supported on this browser !');throw new Error('Webrtc is not supported on this browser !');}if(p_muteAudio){isAudioMute=true;}if(p_muteVideo){isVideoMute=true;}getIceServersConfigFromServer(function(_config){config=_config;console.log('(ReachSDK::webrtc::) use server config=',(0,_stringify2.default)(config));init_pc();},function(){if(typeof DEFAULT_ICE_CONFIG!=='undefined'){config=DEFAULT_ICE_CONFIG;console.log('(ReachSDK::webrtc::) use DEFAULT_ICE_CONFIG config=',(0,_stringify2.default)(config));}else {console.log('(ReachSDK::webrtc::) no ice  config');}init_pc();});})();return {setOnClose:function setOnClose(cb){onCloseCb=cb;},close:function close(cb){console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-close requested');_close(cb);},connectLocalStream:_connectLocalStream,connectRemoteStream:_connectRemoteStream,muteAudio:_muteAudio,unmuteAudio:_unmuteAudio,muteVideo:_muteVideo,unmuteVideo:_unmuteVideo};};exports.default=webrtc;

/***/ }
/******/ ])
});
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA2MTA4ZjEyNWQ1MmI5MjQ1Nzc0MyIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmpzIiwid2VicGFjazovLy8uL3NyYy9hZGFwdGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hY3Rpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhcmVmcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVhY2guanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnRvLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmRlZmluZWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5vYmplY3Qtc2FwLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZXhwb3J0LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuY29yZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmN0eC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmEtZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5mYWlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9yb29tLmpzIiwid2VicGFjazovLy8uL3NyYy9sb2NhbHN0cmVhbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2VicnRjbW5nci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2VicnRjLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELE87QUNW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YWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlJlYWNoXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlJlYWNoXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uXG4gKiovIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCA2MTA4ZjEyNWQ1MmI5MjQ1Nzc0M1xuICoqLyIsIi8vIFBvbHlmaWxscyBmb3IgV2ViUlRDXG5cblxuLy8gVE9ETyAxOWsgbWluaWZpZWQsIHdlIGNhbiBkbyBsZXNzIG1heWJlXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6MCAqL1xuaW1wb3J0IGFkYXB0ZXJqcyBmcm9tICcuL2FkYXB0ZXInO1xuXG5pbXBvcnQgYWN0aW9ucyBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IGRhdGFyZWZzIGZyb20gJy4vZGF0YXJlZnMnO1xuaW1wb3J0IHJlYWNoIGZyb20gJy4vcmVhY2gnO1xuaW1wb3J0IHJvb20gZnJvbSAnLi9yb29tJztcbmltcG9ydCB3ZWJydGNtbmdyIGZyb20gJy4vd2VicnRjbW5ncic7XG5cbmNvbnN0IFNES19WRVJTSU9OID0gJzAuMC4xJztcblxuZXhwb3J0IGNsYXNzIFJlYWNoIHtcblx0Y29uc3RydWN0b3IodXJsPSAnaHR0cDovL3dlYmNvbS5vcmFuZ2UuY29tL2Jhc2Uvd2VicnRjJykge1xuXHRcdHRoaXMuZGF0YXJlZnMgPSBkYXRhcmVmcyh1cmwpO1xuXHRcdHRoaXMud2VicnRjbW5nciA9IHdlYnJ0Y21uZ3IodGhpcy5kYXRhcmVmcyk7XG5cdH1cblxuXHRSb29tKC4uLmFyZ3MpIHtcblx0XHRyZXR1cm4gcm9vbSguLi5hcmdzLCB0aGlzLmRhdGFyZWZzLCB0aGlzLndlYnJ0Y21uZ3IpO1xuXHR9XG5cblx0UmVhY2goLi4uYXJncykge1xuXHRcdHJldHVybiByZWFjaCguLi5hcmdzLCB0aGlzLmRhdGFyZWZzKTtcblx0fVxuXG5cdHN0YXRpYyBnZXQgdmVyc2lvbigpIHtcblx0XHRyZXR1cm4gU0RLX1ZFUlNJT047XG5cdH1cblx0c3RhdGljIGdldCBhY3Rpb25zKCkge1xuXHRcdHJldHVybiBhY3Rpb25zO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY2g7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvaW5kZXguanNcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHlcIik7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfZGVmaW5lUHJvcGVydHkpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5leHBvcnRzLmRlZmF1bHQgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICgwLCBfZGVmaW5lUHJvcGVydHkyLmRlZmF1bHQpKHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgaWYgKHByb3RvUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTtcbiAgICBpZiAoc3RhdGljUHJvcHMpIGRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTtcbiAgICByZXR1cm4gQ29uc3RydWN0b3I7XG4gIH07XG59KSgpO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qc1xuICoqIG1vZHVsZSBpZCA9IDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanNcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgJCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKXtcbiAgcmV0dXJuICQuc2V0RGVzYyhpdCwga2V5LCBkZXNjKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyICRPYmplY3QgPSBPYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlOiAgICAgJE9iamVjdC5jcmVhdGUsXG4gIGdldFByb3RvOiAgICRPYmplY3QuZ2V0UHJvdG90eXBlT2YsXG4gIGlzRW51bTogICAgIHt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICBnZXREZXNjOiAgICAkT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixcbiAgc2V0RGVzYzogICAgJE9iamVjdC5kZWZpbmVQcm9wZXJ0eSxcbiAgc2V0RGVzY3M6ICAgJE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzLFxuICBnZXRLZXlzOiAgICAkT2JqZWN0LmtleXMsXG4gIGdldE5hbWVzOiAgICRPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyxcbiAgZ2V0U3ltYm9sczogJE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMsXG4gIGVhY2g6ICAgICAgIFtdLmZvckVhY2hcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuanNcbiAqKiBtb2R1bGUgaWQgPSA1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxuICogIyVMXG4gKiBXZWJjb20gc2VydmljZVxuICpcbiAqIE1vZHVsZSBuYW1lOiBjb20ub3JhbmdlLndlYnJ0Yzp3ZWJjb20tc2VydmljZVxuICogVmVyc2lvbjogICAgIDAuMC4xLVNOQVBTSE9UXG4gKiBDcmVhdGVkOiAgICAgMjAxNC0wNC0wMVxuICogJSVcbiAqIENvcHlyaWdodCAoQykgMjAxMyAtIDIwMTUgT3JhbmdlIExhYnNcbiAqICUlXG4gKiBUaGlzIHNvZnR3YXJlIGlzIGNvbmZpZGVudGlhbCBhbmQgcHJvcHJpZXRhcnkgaW5mb3JtYXRpb24gb2YgT3JhbmdlLlxuICogWW91IHNoYWxsIG5vdCBkaXNjbG9zZSBzdWNoIENvbmZpZGVudGlhbCBJbmZvcm1hdGlvbiBhbmQgc2hhbGwgdXNlIGl0IG9ubHkgaW5cbiAqIGFjY29yZGFuY2Ugd2l0aCB0aGUgdGVybXMgb2YgdGhlIGFncmVlbWVudCB5b3UgZW50ZXJlZCBpbnRvLlxuICogVW5hdXRob3JpemVkIGNvcHlpbmcgb2YgdGhpcyBmaWxlLCB2aWEgYW55IG1lZGl1bSBpcyBzdHJpY3RseSBwcm9oaWJpdGVkLlxuICpcbiAqIElmIHlvdSBhcmUgT3JhbmdlIGVtcGxveWVlIHlvdSBzaGFsbCB1c2UgdGhpcyBzb2Z0d2FyZSBpbiBhY2NvcmRhbmNlIHdpdGhcbiAqIHRoZSBPcmFuZ2UgU291cmNlIENoYXJ0ZXIgKGh0dHA6Ly9vcGVuc291cmNlLml0bi5mdGdyb3VwL2luZGV4LnBocC9PcmFuZ2VfU291cmNlKS5cbiAqICNMJVxuICovXG5cblxuLyogZ2xvYmFsIE1lZGlhU3RyZWFtLCB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbiwgbW96UlRDUGVlckNvbm5lY3Rpb24sIG1velJUQ0ljZUNhbmRpZGF0ZSwgbW96UlRDU2Vzc2lvbkRlc2NyaXB0aW9uICovXG5cbi8qKlxuICogQGZpbGUgYWRhcHQuanMgLSBKUyBmaWxlIHRvIHVzZSBzbyBhcyB0byBnZXQgc29tZSBhZGFwdGVkIG1ldGhvZHNcbiAqIEBkZXNjcmlwdGlvbiBUaGlzIGZpbGUgcHJvdmlkZXMgbWV0aG9kcyB0byBoYW5kbGUgSUNFIHNlcnZlcnMsIHVzZXIgbWVkaWFzIG9yIFJUQyBQZWVyIENvbm5lY3Rpb24gZm9yIGV4YW1wbGUuIE1lZGlhIHN0cmVhbVxuICogbWV0aG9kcyBhcmUgYWxzbyBwcm92aWRlZCBzbyBhcyB0byBhdHRhY2gsIHJyZWF0dGFjaCBvciByZW1vdmUgZXhpc3Rpbmcgc3RyZWFtcy5cbiAqIEBhdXRob3IgV2ViY29tXG4gKiBAY29weXJpZ2h0IE9yYW5nZSBMYWJzIChDKSAyMDEzIC0gMjAxNFxuICogQGxpY2VuY2UgT3JhbmdlXG4gKlxuICogVmVyc2lvbiBkb2MgOiAxLjMuMFxuICovXG5cblxuLyogKioqKioqKioqICpcbiAqIFZhcmlhYmxlcyAqXG4gKiAqKioqKioqKiogKi9cblxuLyoqXG4gKiBAZGVzY3JpcHRpb24gVGhlIFJUQyBQZWVyIENvbm5lY3Rpb24gdG8gdXNlLiBUaGlzIG9iamVjdCBwcm92aWRlcyB0aGUgY2hhbm5lbHMgdG8gdXNlXG4gKiB0byBlc3RhYmxpc2ggdGhlIGNvbW11bmljYXRpb24gYW5kIHNlbmQgZGF0YSBiZXR3ZWVuIHBhcnRpY2lwYW50cy4gVGhpcyBvYmplY3RcbiAqIGlzIGF2YWlsYWJsZSBvbmx5IG9uIHVwIHRvIGRhdGUgd2ViIGJyb3dzZXJzIChDaHJvbWUgMzEsIEZpcmVmb3ggMzUsIE9wZXJhIDI3KS5cbiAqL1xud2luZG93LlJUQ1BlZXJDb25uZWN0aW9uID0gbnVsbDtcbi8qKlxuICogQGRlc2NyaXB0aW9uIFRoZSB1c2VyIG1lZGlhIHBpY2tlZCBmcm9tIHRoZSB3ZWIgYnJvd3NlciBjb250YWluaW5nIHRoZSB2aWRlbyBhbmQgYXVkaW8gc3RyZWFtcyBnb3R0ZW4gZnJvbSB0aGVcbiAqIHdlYmNhbXMgYW5kIG1pY3JvcGhvbmVzLiBUaGlzIG1lZGlhIHJldHJpZXZtZW50IGlzIGF2YWlsYWJsZSBvbmx5IGZvciBtb2Rlcm4gd2ViIGJyb3dzZXJzIHNpbmNlIEZpcmVmb3ggMTcsIENocm9tZSAyMSBvciBPcGVyYSAxOC5cbiAqL1xud2luZG93LmdldFVzZXJNZWRpYSA9IG51bGw7XG4vKlxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRvIHVzZSB0byBhdHRhY2ggdGhlIG1lZGlhIHN0cmVhbSB3aGljaCB3aWxsIGJlIGludGVncmF0ZWQgdG8gYW4gSFRNTCBvYmplY3QgYXMgYSB2aWRlby5cbiAqL1xud2luZG93LmF0dGFjaE1lZGlhU3RyZWFtID0gbnVsbDtcbi8qXG4gKiBAZGVzY3JpcHRpb24gRnVuY3Rpb24gdG8gdXNlIHRvIHJlYXR0YWNoIHRoZSBtZWRpYSBzdHJlYW1cbiAqL1xud2luZG93LnJlYXR0YWNoTWVkaWFTdHJlYW0gPSBudWxsO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gVGhlIGRldGVjdGVkIGJyb3dzZXIgc3Vwb3J0aW5nIFdlYlJUQyAoRmlyZWZveCBvciBDaHJvbWUpXG4gKi9cbndpbmRvdy53ZWJydGNEZXRlY3RlZEJyb3dzZXIgPSBudWxsO1xuLyoqXG4gKiBAZGVzY3JpcHRpb24gVGhlIGRldGVjdGVkIHZlcnNpb24gb2YgdGhlIFdlYlJUQyBjYXBhYmxlIGRldGVjdGVkIGJyb3dlci4gVGhpcyB2ZXJzaW9uIHdpbGwgYmUgdXNlZCB0byBtYW5hZ2UgbmV0d29ya3MgYXNwZWN0cyBsaWtlIFRVUk4uXG4gKi9cbndpbmRvdy53ZWJydGNEZXRlY3RlZFZlcnNpb24gPSBudWxsO1xuXG4vKipcbiAqIEZpeCBpY2Ugc2VydmVyIGNvbmZpZyBvYmplY3RcbiAqIEBwYXJhbSBpY2VTZXJ2ZXJcbiAqL1xuZnVuY3Rpb24gZml4SWNlU2VydmVyKGljZVNlcnZlcikge1xuXHRpZiAoaWNlU2VydmVyLmhhc093blByb3BlcnR5KCd1cmxzJykpIHtcblx0XHRpY2VTZXJ2ZXIudXJsID0gaWNlU2VydmVyLnVybHM7XG5cdFx0ZGVsZXRlIGljZVNlcnZlci51cmxzO1xuXHR9XG5cdGlmIChpY2VTZXJ2ZXIuaGFzT3duUHJvcGVydHkoJ3VybCcpICYmXG5cdFx0aWNlU2VydmVyLnVybC50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgoJ3R1cm5zJykgJiZcblx0XHRuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhKSB7XG5cdFx0Y29uc29sZS53YXJuKCcoUmVhY2hTREs6Om1heWJlRml4Q29uZmlndXJhdGlvbikgJyArXG5cdFx0J3R1cm5zIGRldGVjdGVkIG9uIGZpcmVmb3ggLT4gaWdub3JlIHRoaXMgZW50cnknKTtcblx0fVxufVxuXG4vKipcbiAqIEZpeCBwZWVyIGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbiBpc3N1ZXMgaWYgbmVlZGVkLCBzcGVjaWFsbHkgYWJvdXQgSUNFIHNlcnZlcnNcbiAqIEBwYXJhbSBwY0NvbmZpZyAtIFRoZSBwZWVyIGNvbm5lY3Rpb24gY29uZmlndXJhdGlvbiB0byBmaXggaWYgbm90IG51bGxcbiAqL1xuZnVuY3Rpb24gbWF5YmVGaXhDb25maWd1cmF0aW9uKHBjQ29uZmlnKSB7XG5cdGlmIChwY0NvbmZpZyA9PT0gbnVsbCkge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGlmIChwY0NvbmZpZy5pY2VTZXJ2ZXJzICYmIHBjQ29uZmlnLmljZVNlcnZlcnMubGVuZ3RoID4gMCkge1xuXHRcdGNvbnN0IG1UZW1wc1NlcnZlcnMgPSBbXTtcblx0XHRmb3IgKGxldCBpID0gcGNDb25maWcuaWNlU2VydmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0Y29uc3QgaWNlU2VydmVyID0gcGNDb25maWcuaWNlU2VydmVyc1tpXTtcblx0XHRcdGZpeEljZVNlcnZlcihpY2VTZXJ2ZXIpO1xuXHRcdFx0bVRlbXBzU2VydmVycy5wdXNoKGljZVNlcnZlcik7XG5cdFx0fVxuXHRcdHBjQ29uZmlnLmljZVNlcnZlcnMgPSBtVGVtcHNTZXJ2ZXJzO1xuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyB0dXJuIGNvbmZpZyBvYmplY3RcbiAqIEBwYXJhbSB7U3RyaW5nfSB1cmxcbiAqIEBwYXJhbSB7U3RyaW5nfSB1c2VybmFtZVxuICogQHBhcmFtIHtTdHJpbmd9IHBhc3N3b3JkXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGxlZ2FjeVxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuZnVuY3Rpb24gY3JlYXRlVHVyblNlcnZlckNvbmZpZyh1cmwsIHVzZXJuYW1lLCBwYXNzd29yZCwgbGVnYWN5PSBmYWxzZSkge1xuXHRsZXQgaWNlU2VydmVyO1xuXG5cdGlmIChsZWdhY3kpIHtcblx0XHQvLyBDcmVhdGUgaWNlU2VydmVyIHdpdGggdHVybiB1cmwuXG5cdFx0Ly8gSWdub3JlIHRoZSB0cmFuc3BvcnQgcGFyYW1ldGVyIGZyb20gVFVSTiB1cmwgZm9yIEZGIHZlcnNpb24gPD0yNy5cblx0XHRjb25zdCB0dXJuX3VybF9wYXJ0cyA9IHVybC5zcGxpdCgnPycpO1xuXHRcdC8vIFJldHVybiBudWxsIGZvciBjcmVhdGVJY2VTZXJ2ZXIgaWYgdHJhbnNwb3J0PXRjcC5cblx0XHRpZiAodHVybl91cmxfcGFydHMubGVuZ3RoID09PSAxIHx8XG5cdFx0XHR0dXJuX3VybF9wYXJ0c1sxXS5pbmRleE9mKCd0cmFuc3BvcnQ9dWRwJykgPT09IDApIHtcblx0XHRcdGljZVNlcnZlciA9IHtcblx0XHRcdFx0dXJsOiB0dXJuX3VybF9wYXJ0c1swXSxcblx0XHRcdFx0J2NyZWRlbnRpYWwnOiBwYXNzd29yZCxcblx0XHRcdFx0dXNlcm5hbWVcblx0XHRcdH07XG5cdFx0fVxuXHR9IGVsc2Uge1xuXHRcdC8vIEZGIDI3IGFuZCBhYm92ZSBzdXBwb3J0cyB0cmFuc3BvcnQgcGFyYW1ldGVycyBpbiBUVVJOIHVybCxcblx0XHQvLyBTbyBwYXNzaW5nIGluIHRoZSBmdWxsIHVybCB0byBjcmVhdGUgaWNlU2VydmVyLlxuXHRcdGljZVNlcnZlciA9IHtcblx0XHRcdHVybCxcblx0XHRcdGNyZWRlbnRpYWw6IHBhc3N3b3JkLFxuXHRcdFx0dXNlcm5hbWVcblx0XHR9O1xuXHR9XG5cblx0cmV0dXJuIGljZVNlcnZlcjtcbn1cblxuXG4vKiAqKioqKioqKiogKlxuICogU2NyaXB0aW5nICpcbiAqICoqKioqKioqKiAqL1xuXG4vKlxuICogSWYgdGhlIHdlYiBicm93c2VyIGluIHVzZSBpcyBGaXJlZm94XG4gKi9cbmlmIChuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhKSB7XG5cdHdpbmRvdy53ZWJydGNEZXRlY3RlZEJyb3dzZXIgPSAnZmlyZWZveCc7XG5cblx0d2luZG93LndlYnJ0Y0RldGVjdGVkVmVyc2lvbiA9XG5cdFx0cGFyc2VJbnQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRmlyZWZveFxcLyhbMC05XSspXFwuLylbMV0sIDEwKTtcblxuXHQvKipcblx0ICogVGhlIFJUQ1BlZXJDb25uZWN0aW9uIG9iamV0IGJhc2VkIG9uIG1vemtpdC5cblx0ICogSWYgbmVlZGVkLCB0aGUgY29uZmlndXJhdGlvbiBvZiB0aGUgcGVlciBjb25uZWN0aW9uIHdpbGwgYmUgZml4ZWQuXG5cdCAqIEBwYXJhbSBwY0NvbmZpZyAtIFRoZSBwZWVyIGNvbm5lY3Rpb24gY29uZmlnXG5cdCAqIEBwYXJhbSBwY0NvbnN0cmFpbnRzIC0gVGhlIHBlZXIgY29ubmVjdGlvbiBjb25zdHJhaW50c1xuXHQgKi9cblx0d2luZG93LlJUQ1BlZXJDb25uZWN0aW9uID0gZnVuY3Rpb24gKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKSB7XG5cdFx0Ly8gLnVybHMgaXMgbm90IHN1cHBvcnRlZCBpbiBGRiB5ZXQuXG5cdFx0bWF5YmVGaXhDb25maWd1cmF0aW9uKHBjQ29uZmlnKTtcblx0XHRyZXR1cm4gbmV3IG1velJUQ1BlZXJDb25uZWN0aW9uKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKTtcblx0fTtcblxuXHQvLyBUaGUgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uIG9iamVjdC5cblx0d2luZG93LlJUQ1Nlc3Npb25EZXNjcmlwdGlvbiA9IG1velJUQ1Nlc3Npb25EZXNjcmlwdGlvbjtcblxuXHQvLyBUaGUgUlRDSWNlQ2FuZGlkYXRlIG9iamVjdC5cblx0d2luZG93LlJUQ0ljZUNhbmRpZGF0ZSA9IG1velJUQ0ljZUNhbmRpZGF0ZTtcblxuXHQvLyBHZXQgVXNlck1lZGlhIChvbmx5IGRpZmZlcmVuY2UgaXMgdGhlIHByZWZpeCkuXG5cdHdpbmRvdy5nZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yKTtcblx0bmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9IGdldFVzZXJNZWRpYTtcblxuXG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgdGhlIElDRSBzZXJ2ZXIgZm9yIHRoZSBVUkwgZm9yIEZpcmVmb3guXG5cdCAqIFRoZSBTVFVOIGFuZCBUVVJOIHNlcnZlcnMgd2lsbCBiZSBjb25zaWRlcmVkLiBJbiBjYXNlIG9mIGEgVFVSTiBzZXJ2ZXIgaXMgaW4gdXNlLCBjcmVkZW50aWFscyBhbmQgdXNlcm5hbWVzIHdpbGwgYmUgZ290LlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB1c2UgdG8gZ2V0IHRoZSBJQ0Ugc2VydmVyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSAtIFRoZSB1c2VybmFtZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgLSBUaGUgcGFzc3dvcmRcblx0ICovXG5cdHdpbmRvdy5jcmVhdGVJY2VTZXJ2ZXIgPSAodXJsLCB1c2VybmFtZSwgcGFzc3dvcmQpID0+IHtcblx0XHRsZXQgaWNlU2VydmVyID0gbnVsbDtcblx0XHRjb25zdCB1cmxfcGFydHMgPSB1cmwuc3BsaXQoJzonKTtcblx0XHRpZiAodXJsX3BhcnRzWzBdLmluZGV4T2YoJ3N0dW4nKSA9PT0gMCkge1xuXHRcdFx0Ly8gQ3JlYXRlIGljZVNlcnZlciB3aXRoIHN0dW4gdXJsLlxuXHRcdFx0aWNlU2VydmVyID0ge1xuXHRcdFx0XHR1cmxcblx0XHRcdH07XG5cdFx0fSBlbHNlIGlmICh1cmxfcGFydHNbMF0uaW5kZXhPZigndHVybicpID09PSAwKSB7XG5cdFx0XHRpY2VTZXJ2ZXIgPSBjcmVhdGVUdXJuU2VydmVyQ29uZmlnKFx0dXJsLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dXNlcm5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRwYXNzd29yZCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHdpbmRvdy53ZWJydGNEZXRlY3RlZFZlcnNpb24gPCAyNyk7XG5cdFx0fVxuXHRcdHJldHVybiBpY2VTZXJ2ZXI7XG5cdH07XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgdGhlIElDRSBzZXJ2ZXJzIGZyb20gc29tZSBVUkxzLiBUaGUgU1RVTiBhbmQgVFVSTiBzZXZlcnMgY29uc3RyYWludHMgd2lsbCBiZSBoYW5kbGVkLlxuXHQgKiBAcGFyYW0ge2FycmF5fSB1cmxzIC0gVGhlIHVybHMgdG8gdXNlIHRvIGdldCB0aGUgSUNFIHNlcnZlclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUgLSBUaGUgdXNlcm5hbWVcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIC0gVGhlIHBhc3N3b3JkXG5cdCAqL1xuXHR3aW5kb3cuY3JlYXRlSWNlU2VydmVycyA9IGZ1bmN0aW9uICh1cmxzLCB1c2VybmFtZSwgcGFzc3dvcmQpIHtcblx0XHRjb25zdCBpY2VTZXJ2ZXJzID0gW107XG5cdFx0Ly8gVXNlIC51cmwgZm9yIEZpcmVGb3guXG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB1cmxzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBpY2VTZXJ2ZXIgPSB3aW5kb3cuY3JlYXRlSWNlU2VydmVyKHVybHNbaV0sXG5cdFx0XHRcdHVzZXJuYW1lLFxuXHRcdFx0XHRwYXNzd29yZCk7XG5cdFx0XHRpZiAoaWNlU2VydmVyICE9PSBudWxsKSB7XG5cdFx0XHRcdGljZVNlcnZlcnMucHVzaChpY2VTZXJ2ZXIpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gaWNlU2VydmVycztcblx0fTtcblxuXHQvKipcblx0ICogRGV0YWNoIHRoZSBtZWRpYSBzdHJlYW0gZnJvbSB0aGUgZWxlbWVudC5cblx0ICogVGhlIGVsZW1lbnQgd2lsbCBoYXZlIGl0cyBzcmMgY29udGVudCBjaGFuZ2VkIHRvIG51bGwgYW5kIHdpbGwgYmUgcGF1c2VkLlxuXHQgKiBAcGFyYW0ge3ZpZGVvIHRhZ30gZWxlbWVudCAtIFRoZSB2aWRlbyB0YWcgd2hlcmUgdGhlIHN0cmVhbSBpcyBkaXNwbGF5ZWRcblx0ICovXG5cdHdpbmRvdy5kZXRhY2hNZWRpYVN0cmVhbSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG5cdFx0aWYgKGVsZW1lbnQpIHtcblx0XHRcdGVsZW1lbnQubW96U3JjT2JqZWN0ID0gbnVsbDtcblx0XHRcdGVsZW1lbnQucGF1c2UoKTtcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEF0dGFjaCBhIG1lZGlhIHN0cmVhbSB0byBhbiBlbGVtZW50LlxuXHQgKiBUaGUgc3JjIGF0dHJpYnV0ZSBvZiB0aGUgZWxlbWVudCB3aWxsIGJlIGRlZmluZWQgd2l0aCB0aGUgc3RyZWFtIGFuZCB3aWxsIGJlIHBsYXllZC5cblx0ICogQHBhcmFtIHt2aWRlbyB0YWd9IGVsZW1lbnQgLSBUaGUgdmlkZW8gdGFnIHdoZXJlIHRoZSBzdHJlYW0gaXMgZGlzcGxheWVkXG5cdCAqIEBwYXJhbSBzdHJlYW0gLSBUaGUgc3RyZWFtIHRvIGF0dGFjaCB0byB0aGUgZWxlbWVudFxuXHQgKi9cblx0d2luZG93LmF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24gKGVsZW1lbnQsIHN0cmVhbSkge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoZWxlbWVudCAmJiBzdHJlYW0pIHtcblx0XHRcdFx0ZWxlbWVudC5tb3pTcmNPYmplY3QgPSBzdHJlYW07XG5cdFx0XHRcdGlmIChlbGVtZW50LnBsYXkgJiYgdHlwZW9mIGVsZW1lbnQucGxheSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0ZWxlbWVudC5wbGF5KCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKCcoUmVhY2hTREs6OmF0dGFjaE1lZGlhU3RyZWFtKWVsZW1lbnQucGxheSBub3QgYXZhaWxhYmxlJyk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ1JlYWNoU0RLOjphdHRhY2hNZWRpYVN0cmVhbS0+cGFyYW1ldGVycyBub3QgdmFsaWQnKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OmF0dGFjaE1lZGlhU3RyZWFtKUV4Y2VwdGlvbj0ke2V9YCk7XG5cdFx0fVxuXG5cblx0fTtcblxuXHQvKipcblx0ICogQXR0YWNoIGFnYWluIGEgbWVkaWEgc3RyZWFtIHRvIGFuIGVsZW1lbnQuXG5cdCAqIFRoZSBcImZyb21cIiBlbGVtZW50IHdpbGwgaGF2ZSBpdHMgc3JjIHZhbHVlIGNvcGllZCB0byB0aGUgXCJ0b1wiIG9iamVjdCBiZWZvcmUgcGxheWluZyBpdC5cblx0ICogQHBhcmFtIHt2aWRlbyB0YWd9IHRvIC0gVGhlIHZpZGVvIHRhZyB3aGVyZSB0aGUgc3RyZWFtIHNob3VsZCBiZSBwdXRcblx0ICogQHBhcmFtIHt2aWRlbyB0YWd9IGZyb20gLSBUaGUgdmlkZW8gdGFnIHdoZXJlIHRoZSBzdHJlYW0gc2hvdWxkIGJlIHRha2VuXG5cdCAqL1xuXHR3aW5kb3cucmVhdHRhY2hNZWRpYVN0cmVhbSA9IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuXHRcdGlmICh0byAmJiBmcm9tKSB7XG5cdFx0XHR0by5tb3pTcmNPYmplY3QgPSBmcm9tLm1velNyY09iamVjdDtcblx0XHRcdHRvLnBsYXkoKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcignUmVhY2hTREs6OnJlYXR0YWNoTWVkaWFTdHJlYW0tPnBhcmFtZXRlcnMgbm90IHZhbGlkJyk7XG5cdFx0fVxuXHR9O1xuXG5cdC8vIEZha2UgZ2V0e1ZpZGVvLEF1ZGlvfVRyYWNrc1xuXHRpZiAoIU1lZGlhU3RyZWFtLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcykge1xuXHRcdE1lZGlhU3RyZWFtLnByb3RvdHlwZS5nZXRWaWRlb1RyYWNrcyA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHJldHVybiBbXTtcblx0XHR9O1xuXHR9XG5cblx0aWYgKCFNZWRpYVN0cmVhbS5wcm90b3R5cGUuZ2V0QXVkaW9UcmFja3MpIHtcblx0XHRNZWRpYVN0cmVhbS5wcm90b3R5cGUuZ2V0QXVkaW9UcmFja3MgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fTtcblx0fVxuXG5cdC8qXG5cdCAqIElmIHRoZSB3ZWIgYnJvd3NlciBpbiB1c2UgaXMgQ2hyb21lXG5cdCAqL1xufSBlbHNlIGlmIChuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhKSB7XG5cdHdpbmRvdy53ZWJydGNEZXRlY3RlZEJyb3dzZXIgPSAnY2hyb21lJztcblx0d2luZG93LndlYnJ0Y0RldGVjdGVkVmVyc2lvbiA9XG5cdFx0cGFyc2VJbnQobmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb20oZXxpdW0pXFwvKFswLTldKylcXC4vKVsyXSwgMTApO1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIHRoZSBJQ0Ugc2VydmVyIGZyb20gdGhlIFVSTCBhbmQgaGFuZGxlcyBTVFVOIC8gVFVSTiBzZXJ2ZXJzIGNvbnN0cmFpbnRzIGJ5IHJldHJpZXZpbmcgY3JlZGVudGlhbHMgYW5kIHVzZXJuYW1lcyBpZiBuZWVkZWQuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSBUaGUgdXJsIHRvIHVzZSB0byBnZXQgdGhlIElDRSBzZXJ2ZXJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gVGhlIHVzZXJuYW1lXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCAtIFRoZSBwYXNzd29yZFxuXHQgKi9cblx0d2luZG93LmNyZWF0ZUljZVNlcnZlciA9IGZ1bmN0aW9uICh1cmwsIHVzZXJuYW1lLCBwYXNzd29yZCkge1xuXHRcdGxldCBpY2VTZXJ2ZXIgPSBudWxsO1xuXHRcdGNvbnN0IHVybF9wYXJ0cyA9IHVybC5zcGxpdCgnOicpO1xuXHRcdGlmICh1cmxfcGFydHNbMF0uaW5kZXhPZignc3R1bicpID09PSAwKSB7XG5cdFx0XHQvLyBDcmVhdGUgaWNlU2VydmVyIHdpdGggc3R1biB1cmwuXG5cdFx0XHRpY2VTZXJ2ZXIgPSB7XG5cdFx0XHRcdHVybFxuXHRcdFx0fTtcblx0XHR9IGVsc2UgaWYgKHVybF9wYXJ0c1swXS5pbmRleE9mKCd0dXJuJykgPT09IDApIHtcblx0XHRcdC8vIENocm9tZSBNMjggJiBhYm92ZSB1c2VzIGJlbG93IFRVUk4gZm9ybWF0LlxuXHRcdFx0aWNlU2VydmVyID0gY3JlYXRlVHVyblNlcnZlckNvbmZpZyh1cmwsIHBhc3N3b3JkLCB1c2VybmFtZSk7XG5cdFx0fVxuXHRcdHJldHVybiBpY2VTZXJ2ZXI7XG5cdH07XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgdGhlIElDRSBzZXJ2ZXJzIGZyb20gdGhlIFVSTCBmb3IgQ2hyb21lIE0zNCBhbmQgYWJvdmVcblx0ICogQHBhcmFtIHthcnJheX0gdXJscyAtIFRoZSB1cmxzIHRvIHVzZSB0byBnZXQgdGhlIElDRSBzZXJ2ZXJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gVGhlIHVzZXJuYW1lXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCAtIFRoZSBwYXNzd29yZFxuXHQgKi9cblx0d2luZG93LmNyZWF0ZUljZVNlcnZlcnMgPSBmdW5jdGlvbiAodXJscywgdXNlcm5hbWUsIHBhc3N3b3JkKSB7XG5cdFx0bGV0IGljZVNlcnZlcnMgPSBbXTtcblx0XHRpZiAod2luZG93LndlYnJ0Y0RldGVjdGVkVmVyc2lvbiA+PSAzNCkge1xuXHRcdFx0Ly8gLnVybHMgaXMgc3VwcG9ydGVkIHNpbmNlIENocm9tZSBNMzQuXG5cdFx0XHRpY2VTZXJ2ZXJzID0ge1xuXHRcdFx0XHR1cmxzLFxuXHRcdFx0XHRjcmVkZW50aWFsOiBwYXNzd29yZCxcblx0XHRcdFx0dXNlcm5hbWVcblx0XHRcdH07XG5cdFx0fSBlbHNlIHtcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdXJscy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRjb25zdCBpY2VTZXJ2ZXIgPSB3aW5kb3cuY3JlYXRlSWNlU2VydmVyKHVybHNbaV0sXG5cdFx0XHRcdFx0dXNlcm5hbWUsXG5cdFx0XHRcdFx0cGFzc3dvcmQpO1xuXHRcdFx0XHRpZiAoaWNlU2VydmVyICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0aWNlU2VydmVycy5wdXNoKGljZVNlcnZlcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGljZVNlcnZlcnM7XG5cdH07XG5cblx0LyoqXG5cdCAqIFRoZSBSVEMgUGVlciBDb25uZWN0aW9uIG9iamVjdC4gSWYgbmVlZGVkLCBpdHMgcGVlciBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gd2lsbCBiZSBmaXhlZFxuXHQgKiBAcGFyYW0gcGNDb25maWcgLSBUaGUgcGVlciBjb25uZWN0aW9uIGNvbmZpZ1xuXHQgKiBAcGFyYW0gcGNDb25zdHJhaW50cyAtIFRoZSBwZWVyIGNvbm5lY3Rpb24gY29uc3RyYWludHNcblx0ICovXG5cdHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChwY0NvbmZpZywgcGNDb25zdHJhaW50cykge1xuXHRcdC8vIC51cmxzIGlzIHN1cHBvcnRlZCBzaW5jZSBDaHJvbWUgTTM0LlxuXHRcdGlmICh3aW5kb3cud2VicnRjRGV0ZWN0ZWRWZXJzaW9uIDwgMzQpIHtcblx0XHRcdG1heWJlRml4Q29uZmlndXJhdGlvbihwY0NvbmZpZyk7XG5cdFx0fVxuXHRcdHJldHVybiBuZXcgd2Via2l0UlRDUGVlckNvbm5lY3Rpb24ocGNDb25maWcsIHBjQ29uc3RyYWludHMpO1xuXHR9O1xuXG5cdC8vIEdldCBVc2VyTWVkaWEgKG9ubHkgZGlmZmVyZW5jZSBpcyB0aGUgcHJlZml4KS5cblx0Ly8gQ29kZSBmcm9tIEFkYW0gQmFydGguXG5cdHdpbmRvdy5nZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3Iud2Via2l0R2V0VXNlck1lZGlhLmJpbmQobmF2aWdhdG9yKTtcblx0bmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9IGdldFVzZXJNZWRpYTtcblxuLy8gIC8vIEF0dGFjaCBhIG1lZGlhIHN0cmVhbSB0byBhbiBlbGVtZW50LlxuLy8gIGF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24oZWxlbWVudCwgc3RyZWFtKSB7XG4vLyAgICBpZiAodHlwZW9mIGVsZW1lbnQuc3JjT2JqZWN0ICE9PSAndW5kZWZpbmVkJykge1xuLy8gICAgICBlbGVtZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbi8vICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQubW96U3JjT2JqZWN0ICE9PSAndW5kZWZpbmVkJykge1xuLy8gICAgICBlbGVtZW50Lm1velNyY09iamVjdCA9IHN0cmVhbTtcbi8vICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQuc3JjICE9PSAndW5kZWZpbmVkJykge1xuLy8gICAgICBlbGVtZW50LnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKTtcbi8vICAgIH0gZWxzZSB7XG4vLyAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBhdHRhY2hpbmcgc3RyZWFtIHRvIGVsZW1lbnQuJyk7XG4vLyAgICB9XG4vLyAgfTtcblxuXHQvKipcblx0ICogQXR0YWNoIGEgbWVkaWEgc3RyZWFtIHRvIGFuIGVsZW1lbnQuXG5cdCAqIFRoZSBzcmMgYXR0cmlidXRlIG9mIHRoZSBlbGVtZW50IHdpbGwgYmUgZGVmaW5lZCB3aXRoIHRoZSBzdHJlYW0gYW5kIHdpbGwgYmUgcGxheWVkLlxuXHQgKiBAcGFyYW0ge3ZpZGVvIHRhZ30gZWxlbWVudCAtIFRoZSB2aWRlbyB0YWcgd2hlcmUgdGhlIHN0cmVhbSBpcyBkaXNwbGF5ZWRcblx0ICogQHBhcmFtIHN0cmVhbSAtIFRoZSBzdHJlYW0gdG8gYXR0YWNoIHRvIHRoZSBlbGVtZW50XG5cdCAqL1xuXHR3aW5kb3cuYXR0YWNoTWVkaWFTdHJlYW0gPSBmdW5jdGlvbiAoZWxlbWVudCwgc3RyZWFtKSB7XG5cdFx0dHJ5IHtcblx0XHRcdGlmIChlbGVtZW50ICYmIHN0cmVhbSkge1xuXHRcdFx0XHQvLyBlbGVtZW50LnNyYyA9IHdlYmtpdFVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKTtcblx0XHRcdFx0ZWxlbWVudC5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHN0cmVhbSk7XG5cdFx0XHRcdGVsZW1lbnQuYXV0b3BsYXkgPSB0cnVlO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcignUmVhY2hTREs6OmF0dGFjaE1lZGlhU3RyZWFtIC0+cGFyYW1ldGVycyBub3QgdmFsaWQnKTtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OmF0dGFjaE1lZGlhU3RyZWFtKUV4Y2VwdGlvbj0ke2V9YCk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBEZXRhY2ggdGhlIG1lZGlhIHN0cmVhbSBmcm9tIHRoZSBlbGVtZW50IGJ5IGFzc2luZ2VkIG51bGwgdmFsdWUgdG8gaXRzIHNyYyBhdHRyaWJ1dGUuXG5cdCAqIEBwYXJhbSB7dmlkZW8gdGFnfSBlbGVtZW50IC0gVGhlIHZpZGVvIHRhZyB3aGVyZSB0aGUgc3RyZWFtIGlzIGRpc3BsYXllZFxuXHQgKi9cblx0d2luZG93LmRldGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcblx0XHRpZiAoZWxlbWVudCkge1xuXHRcdFx0aWYgKHR5cGVvZiBlbGVtZW50LnNyY09iamVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0ZWxlbWVudC5zcmNPYmplY3QgPSAnJztcblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQubW96U3JjT2JqZWN0ICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRlbGVtZW50Lm1velNyY09iamVjdCA9ICcnO1xuXHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgZWxlbWVudC5zcmMgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdGVsZW1lbnQuc3JjID0gJyc7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnRXJyb3IgYXR0YWNoaW5nIHN0cmVhbSB0byBlbGVtZW50LicpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHR9O1xuXG5cdC8qKlxuXHQgKiBBdHRhY2ggYWdhaW4gYSBtZWRpYSBzdHJlYW0gdG8gYW4gZWxlbWVudC5cblx0ICogVGhlIFwiZnJvbVwiIGVsZW1lbnQgd2lsbCBoYXZlIGl0cyBzcmMgdmFsdWUgY29waWVkIHRvIHRoZSBcInRvXCIgb2JqZWN0IGJlZm9yZSBwbGF5aW5nIGl0LlxuXHQgKiBAcGFyYW0ge3ZpZGVvIHRhZ30gdG8gLSBUaGUgdmlkZW8gdGFnIHdoZXJlIHRoZSBzdHJlYW0gc2hvdWxkIGJlIHB1dFxuXHQgKiBAcGFyYW0ge3ZpZGVvIHRhZ30gZnJvbSAtIFRoZSB2aWRlbyB0YWcgd2hlcmUgdGhlIHN0cmVhbSBzaG91bGQgYmUgdGFrZW5cblx0ICovXG5cdHdpbmRvdy5yZWF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24gKHRvLCBmcm9tKSB7XG5cdFx0aWYgKHRvICYmIGZyb20pIHtcblx0XHRcdHRvLnNyYyA9IGZyb20uc3JjO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCdSZWFjaFNESzo6cmVhdHRhY2hNZWRpYVN0cmVhbSBtZWRpYSBzdHJlYW0tPnBhcmFtZXRlcnMgbm90IHZhbGlkJyk7XG5cdFx0fVxuXHR9O1xuXG59IGVsc2Uge1xuXHR0aHJvdyBuZXcgRXJyb3IoJ0Jyb3dzZXIgZG9lcyBub3QgYXBwZWFyIHRvIGJlIFdlYlJUQy1jYXBhYmxlJyk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hZGFwdGVyLmpzXG4gKiovIiwiZXhwb3J0IGRlZmF1bHQge1xuXG5cdC8qKlxuXHQgKiBBdWRpbyBjb21tdW5pY2F0aW9uIHNlcnZpY2Vcblx0ICogQGNvbnN0YW50XG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqL1xuXHRBQ1RJT05fVFlQRV9BVURJTzogJ2F1ZGlvJyxcblx0LyoqXG5cdCAqIFZpZGVvIGNvbW11bmljYXRpb24gc2VydmljZVxuXHQgKiBAY29uc3RhbnRcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICovXG5cdEFDVElPTl9UWVBFX1ZJREVPOiAndmlkZW8nLFxuXHQvKipcblx0ICogQ2hhdCBjb21tdW5pY2F0aW9uIHNlcnZpY2Vcblx0ICogQGNvbnN0YW50XG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqL1xuXHRBQ1RJT05fVFlQRV9DSEFUOiAnY2hhdCcsXG5cdC8qKlxuXHQgKiBBdWRpbyBhbmQgdmlkZW8gY29tbXVuaWNhdGlvbiBzZXJ2aWNlXG5cdCAqIEBjb25zdGFudFxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKi9cblx0QUNUSU9OX1RZUEVfQVVESU9fVklERU86ICdhdWRpby12aWRlbycsXG5cdC8qKlxuXHQgKiBTY3JlZW4tc2hhcmluZyBzZXJ2aWNlXG5cdCAqIEBjb25zdGFudFxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKi9cblx0QUNUSU9OX1RZUEVfU0NSRUVOX1NIQVJJTkc6ICdzY3JlZW4tc2hhcmluZycsXG5cdC8qKlxuXHQgKiBDYWxsIGNvbW11bmljYXRpb24gc2VydmljZVxuXHQgKiBAY29uc3RhbnRcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICovXG5cdEFDVElPTl9UWVBFX0NBTEw6ICdjYWxsJ1xufTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hY3Rpb25zLmpzXG4gKiovIiwiLyoqXG4gKiBAZmlsZSBkYXRhcmVmcy5qcyAtIEpTIGZpbGUgbW9kZWxpemluZyBhIGRhdGFyZWYsIGkuZS4gYSBwb2ludGVyIHRvIHRoZSBXZWJjb20geHdpdGggZGVkaWNhdGVkIG5vZGVzIGZvciByb29tcywgcmVhY2ggc2VydmljZSBhbmQgV2ViUlRDIGNvbW11bmljYXRpb25zLlxuICogQGF1dGhvciBXZWJjb21cbiAqL1xuXG4vKmVzbGludCBjb21wbGV4aXR5OjEsIG1heC1zdGF0ZW1lbnRzOiAxLCBtYXgtbGVuOiAxKi9cblxuLyoqXG4gKiBSZXByZXNlbnRzIGEgZGF0YXJlZiB3aXRoIHNldmVyYWwgbm9kZXMgaW4gaXQgd2hpY2ggYXJlIHBvaW50aW5nIHRvIHNvbWUgbG9jYXRpb25zIGluIHRoZSBkYXRhYmFzZS5cbiAqIFRoZSBkYXRhcmVmcyBjYW4gYmUgY29uc2lkZXJlZCBhcyBhIFdlYmNvbSBvYmplY3QgcG9pbnRpbmcgdG8gYSBiYXNlIFVSTC4gVGhpcyBub2RlIGNvbnRhaW5zIGNoaWxkcmVuIG5vZGVzIGZvclxuICogcmVhY2ggc2VydmljZSwgcm9vbXMgYW5kIFdlYlJUQyBjb21tdW5pY2F0aW9ucy5cbiAqXG4gKiBXYXJuaW5nIDogd2hlbiB1c2VkIHdpdGggZGVtbyBVSSwgdGhpcyBmaWxlIGlzIG5vdCBpbXBvcnRlZDogIGRlbW8gVUkgaGFzZSBpdHMgb3duIGNvbmZpZ3VyYXRpb24gc3lzdGVtIChpbXBvcnQganNvbiBjb25maWcgd2l0aCBhIHBocCBzZXJ2ZXIgbW9kdWxlKVxuICogVGhlc2Ugbm9kZXMgYXJlIDpcbiAqICAgICAgIC0gcm9vbXNcbiAqICAgICAgIC0gcmVhY2hcbiAqICAgICAgIC0gd2VicnRjXG4gKiAgICAgICAtIHNpcFBob25lTnVtYmVyc1xuICogICAgICAgLSBkYXRhc3RvcmUsIGkuZS4gdGhlIFdlYmNvbSBvYmplY3RcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihXRUJDT01CQVNFX1VSTCkge1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGRhdGFzdG9yZSBpbiB0aGUgbWFpbiBvYmplY3Qgd2hpY2ggY2FuIGJlIGNvbnNpZGVyZWQgaGFzIHRoZSByb290IG5vZGUgb2YgdGhlIGJhc2UuXG5cdCAqIEl0IGNvbnRhaW5zIHRoZSBpbnN0YW5jaWF0ZWQgV2ViY29tIGRlZmluZWQgYnkgYSBXRUJDT01CQVNFX1VSTFxuXHQgKiBUaGUgbWFpbiBub2RlcyBjb250YWluaW5nIHRoZSByb29tcywgdGhlIFNJUCBwaG9uZSBudW1iZXJzIGFuZCB0aGUgcmVhY2ggYW5kIFdlYlJUQyBkYXRhIGFyZSBjaGlsZHJlbiBvZiB0aGlzIG5vZGUuXG5cdCAqL1xuXHRsZXQgX2RhdGFzdG9yZSA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSByb29tcyBvZiB0aGUgY29tbXVuaWNhdGlvbiBzeXN0ZW0uXG5cdCAqIEVhY2ggXCJyb29tXCIgbm9kZSBwb3NzZXNzZXMgdGhlIHBhcnRpY2lwYW50cyBhbmQgdGhlIGV4Y2hhbmdlZCBpbnN0YW50IG1lc3NhZ2VzIGZvciBleGFtcGxlLlxuXHQgKiBJbiB0aGUgZGF0YWJhc2UsIHRoaXMgbm9kZSBpcyBpZGVudGlmaWVkIGJ5IFwicm9vbXNMaXN0XCIuXG5cdCAqL1xuXHRsZXQgX3Jvb21zID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIGRhdGEgYWJvdXQgdGhlIHJlYWNoIHNlcnZpY2UgdXNlZCB0byBwdXQgaW4gcmVsYXRpb24gdXNlcnMuXG5cdCAqIEluIHRoZSBkYXRhYmFzZSwgdGhpcyBub2RlIGlzIGlkZW50aWZpZWQgYnkgXCJyZWFjaFwiLlxuXHQgKi9cblx0bGV0IF9yZWFjaCA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBkYXRhIGFib3V0IHRoZSBXZWJSVEMgZmVhdHVyZS5cblx0ICogSW4gdGhlIGRhdGFiYXNlLCB0aGlzIG5vZGUgaXMgaWRlbnRpZmllZCBieSBcIndlYnJ0Y1wiLlxuXHQgKi9cblx0bGV0IF93ZWJydGMgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgU0lQIHBob25lIG51bWJlcnMuXG5cdCAqIEluIHRoZSBkYXRhYmFzZSwgdGhpcyBub2RlIGlzIGlkZW50aWZpZWQgYnkgXCJzaXBQaG9uZU51bWJlcnNcIi5cblx0ICovXG5cdGxldCBfc2lwUGhvbmVOdW1iZXJzID0gbnVsbDtcblxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgY2hpbGRyZW4gbm9kZXMsIGkuZS4gY3JlYXRlcyBmb3IgZWFjaCBvZiB0aGVtIGEgZGVkaWNhdGVkIG5vZGUgaW4gdGhlIGRhdGFiYXNlXG5cdCAqIHVuZGVyIHRoZSBtYWluIG5vZGUgKGRhdGEgc3RvcmUpLiBDcmVhdGVkIG5vZGVzIGFyZSBcInJvb21zTGlzdFwiLCBcInJlYWNoXCIsIFwid2VicnRjXCIsIFwic2lwUGhvbmVOdW1iZXJzXCIuXG5cdCAqL1xuXHRmdW5jdGlvbiBfaW5pdENoaWxkcmVuKCkge1xuXHRcdF9yb29tcyA9IF9kYXRhc3RvcmUuY2hpbGQoJ3Jvb21zTGlzdCcpO1xuXHRcdF9yZWFjaCA9IF9kYXRhc3RvcmUuY2hpbGQoJ3JlYWNoJyk7XG5cdFx0X3dlYnJ0YyA9IF9kYXRhc3RvcmUuY2hpbGQoJ3dlYnJ0YycpO1xuXHRcdF9zaXBQaG9uZU51bWJlcnMgPSBfZGF0YXN0b3JlLmNoaWxkKCdzaXBQaG9uZU51bWJlcnMnKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBUaGUgaW5pdGlhbGl6YXRpb24gZnVuY3Rpb24gd2hpY2ggaW5zdGFudGlhdGVzIHRoZSBXZWJjb20gc3RvcmVkIGluIHRoZSBkYXRhIHN0b3JlLlxuXHQgKiBBbGwgdGhlIGNoaWxkcmVuIG5vZGVzbmFyZSBkZWZpbmVzIGhlcmUuXG5cdCAqL1xuXHRmdW5jdGlvbiBfaW5pdCgpIHtcblx0XHRfZGF0YXN0b3JlID0gbmV3IFdlYmNvbShXRUJDT01CQVNFX1VSTCk7XG5cdFx0X2luaXRDaGlsZHJlbigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIFdlYmNvbSBVUkwgYW5kIHJlaW5pdCB0aGUgY2hpbGRyZW4uXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3dlYmNvbWJhc2VfdXJsIC0gVGhlIFVSTCBvZiB0aGUgV2ViY29tXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0V2ViY29tQmFzZVVybChwX3dlYmNvbWJhc2VfdXJsKSB7XG5cdFx0X2RhdGFzdG9yZSA9IG5ldyBXZWJjb20ocF93ZWJjb21iYXNlX3VybCk7XG5cdFx0X2luaXRDaGlsZHJlbigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIHJldHVybiB0aGUgV2ViY29tIFVSTC5cblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRXZWJjb21CYXNlVXJsKCkge1xuXHRcdGlmIChfZGF0YXN0b3JlKSB7XG5cdFx0XHRyZXR1cm4gX2RhdGFzdG9yZS50b1N0cmluZygpO1xuXHRcdH1cblx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIGRhdGFzdG9yZSBhbmQgcmVpbml0IHRoZSBjaGlsZHJlbi5cblx0ICogQHBhcmFtIHtXZWJjb219IHBfZGF0YXN0b3JlIC0gQSBXZWJjb20gb2JqZWN0IHdoaWNoIGlzIHRoZSBuZXcgZGF0YSBzdG9yZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldERhdGFzdG9yZShwX2RhdGFzdG9yZSkge1xuXHRcdF9kYXRhc3RvcmU9cF9kYXRhc3RvcmU7XG5cdFx0X2luaXRDaGlsZHJlbigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIGRhdGFzdG9yZVxuXHQgKiBAcmV0dXJuIHtXZWJjb219IC0gVGhlIGRhdGEgc3RvcmUgYXMgYSBXZWJjb21cblx0ICovXG5cdGZ1bmN0aW9uIF9nZXREYXRhc3RvcmUoKSB7XG5cdFx0cmV0dXJuIF9kYXRhc3RvcmU7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIGEgbmV3IHJvb21zIG5vZGVcblx0ICogQHBhcmFtIHBfcm9vbXMgLSBBIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIHJvb21zXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0Um9vbXMocF9yb29tcykge1xuXHRcdF9yb29tcz1wX3Jvb21zO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIHJvb3Qgbm9kZSBvZiB0aGUgcm9vbXMuXG5cdCAqIEByZXR1cm4gLSBUaGUgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgcm9vbXMgbGlzdFxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldFJvb21zKCkge1xuXHRcdHJldHVybiBfcm9vbXM7XG5cdH1cblxuXHQvKipcblx0ICogRGVmaW5lcyBhIG5ldyByZWFjaCBub2RlXG5cdCAqIEBwYXJhbSBwX3JlYWNoIC0gQSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBkYXRhIGFib3V0IHRoZSByZWFjaCBzZXJ2aWNlXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0UmVhY2gocF9yZWFjaCkge1xuXHRcdF9yZWFjaD1wX3JlYWNoO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIHJlYWNoIG5vZGUgb2YgdGhlIHJvb21zLlxuXHQgKiBAcmV0dXJuIC0gVGhlIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSByZWFjaCBzZXJ2aWNlXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0UmVhY2goKSB7XG5cdFx0cmV0dXJuIF9yZWFjaDtcblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIGEgbmV3IHdlYnJ0YyBub2RlXG5cdCAqIEBwYXJhbSBwX3dlYnJ0YyAtIEEgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgV2ViUlRDIGZlYXR1cmVcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRXZWJydGMocF93ZWJydGMpIHtcblx0XHRfd2VicnRjPXBfd2VicnRjO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIFdlYlJUQyBub2RlXG5cdCAqIEByZXR1cm4gLSBUaGUgbm9kZSBjb250YWluaWcgYWxsIHRoZSBkYXRhIGFib3V0IHRoZSBXZWJSVEMgZmVhdHVyZVxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldFdlYnJ0YygpIHtcblx0XHRyZXR1cm4gX3dlYnJ0Yztcblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIGEgbm9kZSBjb250YWluaW5nIHRoZSBTSVAgcGhvbmUgbnVtYmVyc1xuXHQgKiBAcGFyYW0gcF9zaXBQaG9uZU51bWJlcnMgLSBUaGUgcm9vdCBub2RlIGNvbnRhaW5pbmcgdGhlIFNJUCBwaG9uZSBudW1iZXJzXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0U2lwUGhvbmVOdW1iZXJzKHBfc2lwUGhvbmVOdW1iZXJzKSB7XG5cdFx0X3NpcFBob25lTnVtYmVycz1wX3NpcFBob25lTnVtYmVycztcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSByb290IG5vZGUgY29udGFpbmluZyB0aGUgU0lQIHBob25lIG51bWJlcnNcblx0ICogQHJldHVybiAtIFRoZSByb290IG5vZGUgd2l0aCB0aGUgU0lQIG51bWJlcnNcblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRTaXBQaG9uZU51bWJlcnMoKSB7XG5cdFx0cmV0dXJuIF9zaXBQaG9uZU51bWJlcnM7XG5cdH1cblxuXHRfaW5pdCgpO1xuXG5cdHJldHVybiB7XG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyB0aGUgV2ViY29tIFVSTCBhbmQgcmVpbml0IHRoZSBjaGlsZHJlbi5cblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcF93ZWJjb21iYXNlX3VybCAtIFRoZSBVUkwgb2YgdGhlIFdlYmNvbVxuXHRcdCAqL1xuXHRcdHNldFdlYmNvbUJhc2VVcmwgOiBfc2V0V2ViY29tQmFzZVVybCxcblx0XHQvKipcblx0XHQgKiByZXR1cm4gdGhlIFdlYmNvbSBVUkwuXG5cblx0XHQgKi9cblx0XHRnZXRXZWJjb21CYXNlVXJsIDogX2dldFdlYmNvbUJhc2VVcmwsXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyB0aGUgZGF0YXN0b3JlIGFuZCByZWluaXQgdGhlIGNoaWxkcmVuLlxuXHRcdCAqIEBwYXJhbSB7V2ViY29tfSBwX2RhdGFzdG9yZSAtIEEgV2ViY29tIG9iamVjdCB3aGljaCBpcyB0aGUgbmV3IGRhdGEgc3RvcmVcblx0XHQgKi9cblx0XHRzZXREYXRhc3RvcmUgOiBfc2V0RGF0YXN0b3JlLFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIGRhdGFzdG9yZVxuXHRcdCAqIEByZXR1cm4ge1dlYmNvbX0gLSBUaGUgZGF0YSBzdG9yZSBhcyBhIFdlYmNvbVxuXHRcdCAqL1xuXHRcdGdldERhdGFzdG9yZSA6IF9nZXREYXRhc3RvcmUsXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyBhIG5ldyByb29tcyBub2RlXG5cdFx0ICogQHBhcmFtIHBfcm9vbXMgLSBBIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIHJvb21zXG5cdFx0ICovXG5cdFx0c2V0Um9vbXMgOiBfc2V0Um9vbXMsXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgcm9vdCBub2RlIG9mIHRoZSByb29tcy5cblx0XHQgKiBAcmV0dXJuIC0gVGhlIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIHJvb21zIGxpc3Rcblx0XHQgKi9cblx0XHRnZXRSb29tcyA6IF9nZXRSb29tcyxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIGEgbmV3IHJlYWNoIG5vZGVcblx0XHQgKiBAcGFyYW0gcF9yZWFjaCAtIEEgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgcmVhY2ggc2VydmljZVxuXHRcdCAqL1xuXHRcdHNldFJlYWNoIDogX3NldFJlYWNoLFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHJlYWNoIG5vZGUgb2YgdGhlIHJvb21zLlxuXHRcdCAqIEByZXR1cm4gLSBUaGUgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlYWNoIHNlcnZpY2Vcblx0XHQgKi9cblx0XHRnZXRSZWFjaCA6IF9nZXRSZWFjaCxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIGEgbmV3IHdlYnJ0YyBub2RlXG5cdFx0ICogQHBhcmFtIHBfd2VicnRjIC0gQSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBkYXRhIGFib3V0IHRoZSBXZWJSVEMgZmVhdHVyZVxuXHRcdCAqL1xuXHRcdHNldFdlYnJ0YyA6IF9zZXRXZWJydGMsXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgV2ViUlRDIG5vZGVcblx0XHQgKiBAcmV0dXJuIC0gVGhlIG5vZGUgY29udGFpbmlnIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgV2ViUlRDIGZlYXR1cmVcblx0XHQgKi9cblx0XHRnZXRXZWJydGMgOiBfZ2V0V2VicnRjLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgYSBub2RlIGNvbnRhaW5pbmcgdGhlIFNJUCBwaG9uZSBudW1iZXJzXG5cdFx0ICogQHBhcmFtIHBfc2lwUGhvbmVOdW1iZXJzIC0gVGhlIHJvb3Qgbm9kZSBjb250YWluaW5nIHRoZSBTSVAgcGhvbmUgbnVtYmVyc1xuXHRcdCAqL1xuXHRcdHNldFNpcFBob25lTnVtYmVycyA6IF9zZXRTaXBQaG9uZU51bWJlcnMsXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgcm9vdCBub2RlIGNvbnRhaW5pbmcgdGhlIFNJUCBwaG9uZSBudW1iZXJzXG5cdFx0ICogQHJldHVybiAtIFRoZSByb290IG5vZGUgd2l0aCB0aGUgU0lQIG51bWJlcnNcblx0XHQgKi9cblx0XHRnZXRTaXBQaG9uZU51bWJlcnMgOiBfZ2V0U2lwUGhvbmVOdW1iZXJzXG5cdH07XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvZGF0YXJlZnMuanNcbiAqKi8iLCIvKipcbiAqIEBmaWxlIHJlYWNoLmpzIC0gSlMgZmlsZSB0byB1c2UgZm9yIHRoZSByZWFjaCBzZXJ2aWNlLiBUaGlzIHNlcnZpY2UgYWxsb3dzIHRvIGNyZWF0ZSBhIGRlZGljYXRlZCByb29tIGZvciB1c2VycyBzbyBhcyB0byBwcm92aWRlIHRoZW0gYSBjb21tdW5pY2F0aW9uIHN1aXRlLlxuICogQGF1dGhvciBXZWJjb21cbiAqL1xuXG4vKmVzbGludCBjb21wbGV4aXR5OjEsIG1heC1zdGF0ZW1lbnRzOiAxLCBtYXgtbGVuOiAxKi9cblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMnO1xuXG4vKipcbiAqIElOVklURSBzdGF0dXMgOiBvbmdvaW5nIHN0YXR1c1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJTlZJVEFUSU9OX09OR09JTkcgPSAnT05HT0lORyc7XG5cbi8qKlxuICogSU5WSVRFIHN0YXR1cyA6IGFjY2VwdGVkIHN0YXR1c1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJTlZJVEFUSU9OX0FDQ0VQVEVEID0gJ0FDQ0VQVEVEJztcblxuLyoqXG4gKiBJTlZJVEUgc3RhdHVzIDogcmVmdXNlZCBzdGF0dXNcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSU5WSVRBVElPTl9SRUpFQ1RFRCA9ICdSRUpFQ1RFRCc7XG5cbi8qKlxuICogSU5WSVRFIHN0YXR1cyA6IGNhbmNlbGVkIHN0YXR1c1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJTlZJVEFUSU9OX0NBTkNFTEVEID0gJ0NBTkNFTEVEJztcblxuLyoqXG4gKiBERVZJQ0VfU1RBVFVTX0NPTk5FVEVEIHN0YXR1cyA6IGNvbm5lY3RlZCBzdGF0dXNcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgREVWSUNFX1NUQVRVU19DT05ORUNURUQgPSAnQ09OTkVDVEVEJztcblxuLyoqXG4gKiBST09NX1NUQVRVU19PUEVOIHN0YXR1cyA6IHJvb20gaXMgb3BlbiAvIGFjdGl2ZVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBST09NX1NUQVRVU19PUEVOID0gJ09QRU4nO1xuXG5cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBkZXNjcmlwdGlvbiBUaGUgcmVhY2ggb2JqZWN0IHdpdGggaXRzIHN0cmVhbXMsIGZsYWdzIGFuZCBjYWxsYmFja3MuXG4gKiBUaGlzIG9iamVjdCBpcyB1c2VkIHNvIGFzIHRvIG1ha2UgaW4gY29ubmVjdGlvbiBzZXZlcmFsIHVzZXJzLiBUaGUgcm9vbSBJbnZpdGVzIG1hbmFnZW1lbnQgKGFjY2VwdCAvIHJlZnVzZSAvIGNhbmNlbCksIHRoZSB1c2VyIG1hbmFnZW1lbnQgKGFkZCAvIHJlbW92ZSkgYW5kXG4gKiB0aGUgSW52aXRlIGFyZSBoYW5kbGVkIGhlcmUuXG4gKiBAcGFyYW0ge3N0cmluZ30gcF9tZSAtIFRoZSB1c2VyIGlkZW50aWZpZXJcbiAqL1xuY29uc3QgcmVhY2ggPSBmdW5jdGlvbiAocF9tZSwgZGF0YXJlZnMpIHtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSB1c2VyIGlkZW50aWZpZXIuIFRoaXMgaWRlbnRpZmllciB3aWxsIGJlIHVzZSB0byBjcmVhdGUgYSBkZWRpY2F0ZWQgbm9kZSBpbiB0aGUgZGF0YWJhc2UgZm9yIHRoaXMgdXNlci5cblx0ICovXG5cdGNvbnN0IG1lID0gcF9tZTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgZGF0YSByZWYgcG9pbnRlciBmb3IgdGhlIHJlYWNoIHBhcnQuIEl0IGNhbiBiZSBjb25zaWRlcmVkIGFzIGEgcG9pbnRlciB0byB0aGUgZGF0YWJhc2UgdG8gdXNlIHRvIG5hdmlnYXRlIGludG8gaXQgYW5kIG1vZGlmeSBpdHMgY29udGVudC5cblx0ICovXG5cdGNvbnN0IGRhdGFyZWYgPSBkYXRhcmVmcy5nZXRSZWFjaCgpO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIGhhbmRsaW5nIHRoZSB1c2VyIGFkZGluZ1xuXHQgKi9cblx0bGV0IG9uVXNlckFkZGVkQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIGhhbmRsaW5nIHRoZSB1c2VyIGNoYW5nZXNcblx0ICovXG5cdGxldCBvblVzZXJDaGFuZ2VkQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIGhhbmRsaW5nIHRoZSB1c2VyIHJlbW92YWxcblx0ICovXG5cdGxldCBvblVzZXJSZW1vdmVkQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIGZvciBuZXcgSW52aXRlIHJlY2VpdmVkXG5cdCAqL1xuXHRsZXQgbmV3SW52aXRlQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIGZvciBJbnZpdGUgcmVjZWl2ZWQgY2hhbmdlc1xuXHQgKi9cblx0bGV0IG9uUm9vbUludml0ZUNoYW5nZWRDYiA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIGFsbCBvdXRnb2luZyBJbnZpdGVcblx0ICovXG5cdGxldCBtT3V0Z29pbmdJbnZpdGVzID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyBhbGwgaW5jb21pbmcgSW52aXRhdGlvblxuXHQgKi9cblx0bGV0IG1JbmNvbWluZ0ludml0YXRpb24gPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiB0aGUgdGltZW91dCB0byByZWplY3QgYXV0b21hdGljYWxseSB0aGUgSW52aXRlXG5cdCAqL1xuXHRsZXQgYXV0b21hdGljUmVqZWN0VGltZU91dCA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiB0aGUgcmVhc29uIHRvIHJlamVjdCBhdXRvbWF0aWNhbGx5IHRoZSBJbnZpdGVcblx0ICovXG5cdGxldCBhdXRvbWF0aWNSZWplY3RSZWFzb24gPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gdGhlIGN1cnJlbnQgZGV2aWNlIElkXG5cdCAqL1xuXHRsZXQgbURldmljZUlkID0gbnVsbDtcblxuXHQvKipcblx0KiBJbml0aWFsaXNhdGlvbiBmdW5jdGlvbi4gVXBkYXRlcyB0aGUgZGF0YXJlZiBhYm91dCB0aGUgdXNlciBpZGVudGlmaWVyIGluIHRoZSB1c2VyIGxpc3QgOlxuXHQqIGl0IHdpbGwgZGlzY29ubmVjdCBhbmQgcmVjb25uZWN0IGl0LlxuXHQqL1xuXHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdG1EZXZpY2VJZCA9IGRhdGFyZWYuY2hpbGQoYHVzZXJMaXN0LyR7bWV9L2Nvbm5lY3RlZExpc3QvJHt1dGlscy5hcHBJbnN0YW5jZUlkfWApO1xuXHRcdG1EZXZpY2VJZC5vbkRpc2Nvbm5lY3QoKS5yZW1vdmUoKTtcblx0XHRtRGV2aWNlSWQuY2hpbGQoJ3N0YXR1cycpLnNldChERVZJQ0VfU1RBVFVTX0NPTk5FQ1RFRCk7XG5cdFx0dHJ5IHtcblx0XHRcdGNvbnN0IGRlc2NyaXB0aW9uID0gbURldmljZUlkLmNoaWxkKCdkZXNjcmlwdGlvbicpO1xuXHRcdFx0aWYgKHV0aWxzLmFwcEluc3RhbmNlSWQpIHtcblx0XHRcdFx0ZGVzY3JpcHRpb24uY2hpbGQoJ2FwcEluc3RhbmNlSWQnKS5zZXQodXRpbHMuYXBwSW5zdGFuY2VJZCk7XG5cdFx0XHR9XG5cblx0XHRcdGNvbnN0XG5cdFx0XHRcdG5hdmlnYXRvckRhdGEgPSB7fSxcblx0XHRcdFx0cHJvcGVydGllcyA9IFtcblx0XHRcdFx0XHQnYXBwQ29kZU5hbWUnLFxuXHRcdFx0XHRcdCdhcHBOYW1lJyxcblx0XHRcdFx0XHQnYXBwVmVyc2lvbicsXG5cdFx0XHRcdFx0J2J1aWxkSUQnLFxuXHRcdFx0XHRcdCdjb29raWVFbmFibGVkJyxcblx0XHRcdFx0XHQnbGFuZ3VhZ2UnLFxuXHRcdFx0XHRcdCdvbkxpbmUnLFxuXHRcdFx0XHRcdCdvc2NwdScsXG5cdFx0XHRcdFx0J3BsYXRmb3JtJyxcblx0XHRcdFx0XHQncHJvZHVjdCcsXG5cdFx0XHRcdFx0J3Byb2R1Y3RTdWInLFxuXHRcdFx0XHRcdCdzZWN1cml0eVBvbGljeScsXG5cdFx0XHRcdFx0J3VzZXJBZ2VudCcsXG5cdFx0XHRcdFx0J3ZlbmRvcicsXG5cdFx0XHRcdFx0J3ZlbmRvclN1Yidcblx0XHRcdFx0XTtcblx0XHRcdHByb3BlcnRpZXMuZm9yRWFjaCgocHJvcGVydHkpID0+IHtcblx0XHRcdFx0aWYobmF2aWdhdG9yW3Byb3BlcnR5XSkge1xuXHRcdFx0XHRcdG5hdmlnYXRvckRhdGFbcHJvcGVydHldID0gbmF2aWdhdG9yW3Byb3BlcnR5XTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0XHRkZXNjcmlwdGlvbi5jaGlsZCgnbmF2aWdhdG9yJykuc2V0KG5hdmlnYXRvckRhdGEpO1xuXG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyZWFjaDo6aW5pdClmYWlsZWQgdG8gZ2V0IGluZm9ybWF0aW9uIGFib3V0IGRldmljZS4gZXJyb3I9JHtlfWApO1xuXHRcdH1cblx0XHRkYXRhcmVmLmNoaWxkKGB1c2VyTGlzdC8ke21lfS93YXNJbnNpZGVSZWFjaGApLnNldCh0cnVlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBjaGVjayBpZiBhIHVzZXIgaXMgY29ubmVjdGVkXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3VzZXJJZCAtIHRoZSB1c2VyIElkXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSB0aGUgY2FsbGJhY2sgdHJpZ2dlcnMgdG8gcmV0dXJuIHRoZSByZXN1bHQuIFRoZSByZXN1bHQgd2lsbCBiZSBwYXNzZWQgaW4gcGFyYW1ldGVyIGFzIGJvb2xlYW4gOiB0cnVlID0gY29ubmVjdGVkIC8gZmFsc2UgPSBub3QgY29ubmVjdGVkXG5cdCAqL1xuXHRmdW5jdGlvbiBfaXNDb25uZWN0ZWQocF91c2VySWQscF9jYikge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfaXNDb25uZWN0ZWQpdXNlcklkOiAke3BfdXNlcklkfWApO1xuXHRcdGRhdGFyZWYuY2hpbGQoYHVzZXJMaXN0LyR7cF91c2VySWR9L2Nvbm5lY3RlZExpc3RgKS5vbmNlKCd2YWx1ZScsIChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0Ly8gb25Vc2VyQ29ubmVjdGVkQ2IuIFVzZXIgaXMgY29ubmVjdGVkIGlmIHNuYXBzaG90IHZhbHVlIGlzIG5vdCBudWxsXG5cdFx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHBfY2Ioc25hcHNob3QudmFsKCkgIT09IG51bGwpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIGNoZWNrIGlmIGEgdXNlciBpcyByZWdpc3RlclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF91c2VySWQgLSB0aGUgdXNlciBJZFxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gdGhlIGNhbGxiYWNrIHRyaWdnZXJzIHRvIHJldHVybiB0aGUgcmVzdWx0LiBUaGUgcmVzdWx0IHdpbGwgYmUgcGFzc2VkIGluIHBhcmFtZXRlciBhcyBib29sZWFuIDogdHJ1ZSA9IHJlZ2lzdGVyZWQgLyBmYWxzZSA9IG5vdCByZWdpc3RlcmVkXG5cdCAqL1xuXHRmdW5jdGlvbiBfaXNSZWdpc3RlcmVkKHBfdXNlcklkLHBfY2IpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2lzUmVnaXN0ZXJlZCl1c2VySWQ6ICR7cF91c2VySWR9YCk7XG5cdFx0ZGF0YXJlZi5jaGlsZChgdXNlckxpc3QvJHtwX3VzZXJJZH0vd2FzSW5zaWRlUmVhY2hgKS5vbmNlKCd2YWx1ZScsIChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0Ly8gb25Vc2VyUmVnaXN0ZXJlZENiLiBVc2VyIGlzIHJlZ2lzdGVyZWQgaWYgc25hcHNob3QgdmFsdWUgaXMgbm90IG51bGxcblx0XHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0cF9jYihzbmFwc2hvdC52YWwoKSAhPT0gbnVsbCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogc2V0IHRoZSBkZXZpY2Ugc3RhdHVzIChERVZJQ0VfU1RBVFVTX0NPTk5FQ1RFRClcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBfc3RhdHVzIC0gdGhlIG5ldyBzdGF0dXNcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRDb25uZWN0ZWRTdGF0dXMocF9zdGF0dXMpIHtcblx0XHRpZiAobURldmljZUlkKSB7XG5cdFx0XHRtRGV2aWNlSWQuY2hpbGQoJ3N0YXR1cycpLnNldChwX3N0YXR1cyk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIG5ldyB1c2VyIGlzIGFkZGVkXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2sgdG8gdXNlXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0T25Vc2VyQWRkZWQocF9jYikge1xuXHRcdGlmIChvblVzZXJBZGRlZENiKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCd1c2VyTGlzdCcpLm9mZignY2hpbGRfYWRkZWQnLCBvblVzZXJBZGRlZENiKTtcblx0XHRcdG9uVXNlckFkZGVkQ2IgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRvblVzZXJBZGRlZENiID0gZnVuY3Rpb24oc25hcHNob3QpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Om9uVXNlckFkZGVkQ2IpICR7c25hcHNob3QubmFtZSgpfT0ke0pTT04uc3RyaW5naWZ5KHNuYXBzaG90LnZhbCgpKX1gKTtcblx0XHRcdFx0Y29uc3Qgb2JqID0ge307XG5cdFx0XHRcdG9ialtzbmFwc2hvdC5uYW1lKCldID0gc25hcHNob3QudmFsKCk7XG5cdFx0XHRcdHBfY2Iob2JqKTtcblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCd1c2VyTGlzdCcpLm9uKCdjaGlsZF9hZGRlZCcsIG9uVXNlckFkZGVkQ2IpO1xuXHRcdH1cblx0fVxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIHRoZSB1c2VyIGhhcyBjaGFuZ2VkXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2sgdG8gdXNlXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0T25Vc2VyQ2hhbmdlZChwX2NiKSB7XG5cdFx0aWYgKG9uVXNlckNoYW5nZWRDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vZmYoJ2NoaWxkX2NoYW5nZWQnLCBvblVzZXJDaGFuZ2VkQ2IpO1xuXHRcdFx0b25Vc2VyQ2hhbmdlZENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0b25Vc2VyQ2hhbmdlZENiID0gZnVuY3Rpb24oc25hcHNob3QpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Om9uVXNlckNoYW5nZWRDYikgJHtzbmFwc2hvdC5uYW1lKCl9PSR7SlNPTi5zdHJpbmdpZnkoc25hcHNob3QudmFsKCkpfWApO1xuXHRcdFx0XHRjb25zdCBvYmogPSB7fTtcblx0XHRcdFx0b2JqW3NuYXBzaG90Lm5hbWUoKV09c25hcHNob3QudmFsKCk7XG5cdFx0XHRcdHBfY2Iob2JqKTtcblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCd1c2VyTGlzdCcpLm9uKCdjaGlsZF9jaGFuZ2VkJywgb25Vc2VyQ2hhbmdlZENiKTtcblx0XHR9XG5cblx0fVxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIGEgdXNlciBoYXMgYmVlbiByZW1vdmVkLlxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrIHRvIHVzZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE9uVXNlclJlbW92ZWQocF9jYikge1xuXHRcdGlmIChvblVzZXJSZW1vdmVkQ2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3VzZXJMaXN0Jykub2ZmKCdjaGlsZF9yZW1vdmVkJyxvblVzZXJSZW1vdmVkQ2IpO1xuXHRcdFx0b25Vc2VyUmVtb3ZlZENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0b25Vc2VyUmVtb3ZlZENiID0gZnVuY3Rpb24oc25hcHNob3QpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Om9uVXNlclJlbW92ZWRDYikgJHtzbmFwc2hvdC5uYW1lKCl9PSR7SlNPTi5zdHJpbmdpZnkoc25hcHNob3QudmFsKCkpfWApO1xuXHRcdFx0XHRjb25zdCBvYmogPSB7fTtcblx0XHRcdFx0b2JqW3NuYXBzaG90Lm5hbWUoKV09c25hcHNob3QudmFsKCk7XG5cdFx0XHRcdHBfY2Iob2JqKTtcblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCd1c2VyTGlzdCcpLm9uKCdjaGlsZF9yZW1vdmVkJyxvblVzZXJSZW1vdmVkQ2IpO1xuXHRcdH1cblxuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIHJvb20gSW52aXRlIGhhcyBiZWVuIHJlY2VpdmVkLlxuXHQgKiBPdGhlciBjYWxsYmFja3Mgd2lsbCBiZSB0cmlnZ2VyZWQgYWJvdXQgSW52aXRlIGxpc3RzLlxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX29uTmV3Um9vbUludml0ZUNiIC0gVGhlIGNhbGxiYWNrIHRyaWdnZXJzIHdoZW4gYSBJbnZpdGUgaXMgcmVjZWl2ZWQgKHN0YXR1cyA9IG9uIGdvaW5nKVxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE9uTmV3Um9vbUludml0YXRpb24ocF9vbk5ld1Jvb21JbnZpdGVDYikge1xuXG5cdFx0aWYgKG5ld0ludml0ZUNiKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdC8ke21lfWApLm9mZignY2hpbGRfYWRkZWQnLG5ld0ludml0ZUNiKTtcblx0XHRcdG5ld0ludml0ZUNiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocF9vbk5ld1Jvb21JbnZpdGVDYiAmJiB0eXBlb2YgcF9vbk5ld1Jvb21JbnZpdGVDYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRuZXdJbnZpdGVDYiA9IChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRpZiAoc25hcHNob3QudmFsKCkuc3RhdHVzPT09IElOVklUQVRJT05fT05HT0lORykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfc2V0T25OZXdSb29tSW52aXRhdGlvbiluZXcgSW52aXRlIHJlY2VpdmVkLGlkKSAke3NuYXBzaG90Lm5hbWUoKX0sY29udGVudD0ke0pTT04uc3RyaW5naWZ5KHNuYXBzaG90LnZhbCgpKX1gKTtcblx0XHRcdFx0XHRjb25zdCBpbnZpdGF0aW9uSWQgPSBzbmFwc2hvdC5uYW1lKCk7XG5cdFx0XHRcdFx0aWYgKCFtSW5jb21pbmdJbnZpdGF0aW9uKSB7XG5cdFx0XHRcdFx0XHRtSW5jb21pbmdJbnZpdGF0aW9uID0gW107XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChtSW5jb21pbmdJbnZpdGF0aW9uW2ludml0YXRpb25JZF0pIHtcblx0XHRcdFx0XHRcdGlmIChtSW5jb21pbmdJbnZpdGF0aW9uW2ludml0YXRpb25JZF0udGltZW91dCkge1xuXHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQobUluY29taW5nSW52aXRhdGlvbltpbnZpdGF0aW9uSWRdLnRpbWVvdXQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0ZGVsZXRlIG1JbmNvbWluZ0ludml0YXRpb25baW52aXRhdGlvbklkXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0bUluY29taW5nSW52aXRhdGlvbltpbnZpdGF0aW9uSWRdPXt9O1xuXG5cdFx0XHRcdFx0Y29uc3Qgb2JqID0ge307XG5cdFx0XHRcdFx0b2JqW2ludml0YXRpb25JZF0gPSBzbmFwc2hvdC52YWwoKTtcblx0XHRcdFx0XHRwX29uTmV3Um9vbUludml0ZUNiKG9iaik7XG5cblx0XHRcdFx0XHRjb25zdCBpbnZpdGF0aW9uUmVmID0gZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3QvJHttZX0vJHtpbnZpdGF0aW9uSWR9YCk7XG5cblx0XHRcdFx0XHRpZiAoYXV0b21hdGljUmVqZWN0VGltZU91dCkge1xuXHRcdFx0XHRcdFx0bUluY29taW5nSW52aXRhdGlvbltpbnZpdGF0aW9uSWRdLnRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0aWYgKGF1dG9tYXRpY1JlamVjdFRpbWVPdXQpIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X3NldE9uTmV3Um9vbUludml0YXRpb24pYXV0b21hdGljIHJlamVjdCBvZiBJbnZpdGUgcmVjZWl2ZWQ9JHtKU09OLnN0cmluZ2lmeShzbmFwc2hvdC52YWwoKSl9YCk7XG5cdFx0XHRcdFx0XHRcdFx0aW52aXRhdGlvblJlZi5vbkRpc2Nvbm5lY3QoKS5jYW5jZWwoKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoYXV0b21hdGljUmVqZWN0UmVhc29uKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpbnZpdGF0aW9uUmVmLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRpbWVzdGFtcF9lbmQ6IFdlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN0YXR1czogSU5WSVRBVElPTl9SRUpFQ1RFRCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3RhdHVzX2luZm86IGF1dG9tYXRpY1JlamVjdFJlYXNvblxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGludml0YXRpb25SZWYudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGltZXN0YW1wX2VuZDogV2ViY29tLlNlcnZlclZhbHVlLlRJTUVTVEFNUCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3RhdHVzOiBJTlZJVEFUSU9OX1JFSkVDVEVEXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sIGF1dG9tYXRpY1JlamVjdFRpbWVPdXQpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGludml0YXRpb25SZWYub25jZSgnY2hpbGRfY2hhbmdlZCcsIChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYoc25hcHNob3QgJiYgc25hcHNob3QubmFtZSgpID09PSAnc3RhdHVzJykge1xuXHRcdFx0XHRcdFx0XHRzbmFwc2hvdC5yZWYoKS5wYXJlbnQoKS5vbmNlKCd2YWx1ZScsIChzbmFwc2hvdDIpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRsZXQgY2JfaW52aXRhdGlvbklkLGNiX29ial9jb250ZW50O1xuXHRcdFx0XHRcdFx0XHRcdGlmIChzbmFwc2hvdDIpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNiX2ludml0YXRpb25JZCA9IHNuYXBzaG90LnJlZigpLnBhcmVudCgpLm5hbWUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdGNiX29ial9jb250ZW50PSBzbmFwc2hvdDIudmFsKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBjYl9vYmogPSB7fTtcblx0XHRcdFx0XHRcdFx0XHRcdGNiX29ialtjYl9pbnZpdGF0aW9uSWRdID0gY2Jfb2JqX2NvbnRlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAobUluY29taW5nSW52aXRhdGlvbiAmJiBtSW5jb21pbmdJbnZpdGF0aW9uW2NiX2ludml0YXRpb25JZF0gJiYgbUluY29taW5nSW52aXRhdGlvbltjYl9pbnZpdGF0aW9uSWRdLnRpbWVvdXQpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KG1JbmNvbWluZ0ludml0YXRpb25bY2JfaW52aXRhdGlvbklkXS50aW1lb3V0KTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfc2V0T25OZXdSb29tSW52aXRhdGlvbilJbnZpdGUgY2hhbmdlZCxpZD0pICR7Y2JfaW52aXRhdGlvbklkfSwgbmV3IGNvbnRlbnQ9JHtKU09OLnN0cmluZ2lmeShjYl9vYmpfY29udGVudCl9YCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoY2Jfb2JqICYmIG9uUm9vbUludml0ZUNoYW5nZWRDYiApIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0b25Sb29tSW52aXRlQ2hhbmdlZENiKGNiX29iaik7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRkZWxldGUgbUluY29taW5nSW52aXRhdGlvbltjYl9pbnZpdGF0aW9uSWRdO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0LyR7bWV9YCkub24oJ2NoaWxkX2FkZGVkJywgbmV3SW52aXRlQ2IpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSByb29tIEludml0ZSBoYXMgYmVlbiBjaGFuZ2VkLlxuXHQgKiBPdGhlciBjYWxsYmFja3Mgd2lsbCBiZSB0cmlnZ2VyZWQgYWJvdXQgSW52aXRlIGxpc3RzLlxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX29uUm9vbUludml0ZUNoYW5nZWRDYiAtIFRoZSBjYWxsYmFjayB0cmlnZ2VycyB3aGVuIHRoZSBzYXR1cyBvbiB0aGUgSW52aXRlIHJlY2VpdmVkIGhhcyBjaGFuZ2VkIChzdGF0dXMgPSBhY2NlcHRlZC9yZWplY3RlZC9jYW5jZWxlZClcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRPblJvb21JbnZpdGF0aW9uQ2hhbmdlZChwX29uUm9vbUludml0ZUNoYW5nZWRDYikge1xuXG5cdFx0aWYgKG9uUm9vbUludml0ZUNoYW5nZWRDYikge1xuXHRcdFx0b25Sb29tSW52aXRlQ2hhbmdlZENiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocF9vblJvb21JbnZpdGVDaGFuZ2VkQ2IgJiYgdHlwZW9mIHBfb25Sb29tSW52aXRlQ2hhbmdlZENiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdG9uUm9vbUludml0ZUNoYW5nZWRDYiA9IHBfb25Sb29tSW52aXRlQ2hhbmdlZENiO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIGEgdGltZW91dCB0byByZWplY3QgYXV0b21hdGljYWxseSB0aGUgaW5jb21pbmcgSW52aXRlXG5cdCAqIEBwYXJhbSB7aW50ZWdlcn0gcF90aW1lb3V0IC0gVGhlIGRlbGF5XG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3JlYXNvbiAtIG9wdGlvbmFsIGluZm8gYWJvdXQgdGhlIHJlamVjdFxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE5ld1Jvb21JbnZpdGF0aW9uVGltZW91dChwX3RpbWVvdXQscF9yZWFzb24pIHtcblx0XHRpZiAoYXV0b21hdGljUmVqZWN0VGltZU91dCkge1xuXHRcdFx0YXV0b21hdGljUmVqZWN0VGltZU91dCA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChhdXRvbWF0aWNSZWplY3RSZWFzb24pIHtcblx0XHRcdGF1dG9tYXRpY1JlamVjdFJlYXNvbiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHBfdGltZW91dFx0JiYgcF90aW1lb3V0ID09PSBwYXJzZUludChwX3RpbWVvdXQsIDEwKSAmJiBwX3RpbWVvdXQ+MCkge1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9zZXROZXdSb29tSW52aXRhdGlvblRpbWVvdXQpdGltZW91dD0ke3BfdGltZW91dH1gKTtcblx0XHRcdGF1dG9tYXRpY1JlamVjdFRpbWVPdXQ9cF90aW1lb3V0O1xuXHRcdH1cblx0XHRpZiAocF9yZWFzb24pIHtcblx0XHRcdGF1dG9tYXRpY1JlamVjdFJlYXNvbj1wX3JlYXNvbjtcblx0XHR9XG5cdH1cblxuXG5cdC8qKlxuXHQgKiB0ZXN0IGlmIHBfdXNlciAgaXMgYWxyZWFkeSBwcmVzZW50IGluIHRoZSBwYXJ0aWNpcGFudCBsaXN0IG9mIHRoZSByb29tIHBfcm9vbUlkXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3Jvb21JZCAtIFRoZSByb29tIHVzZWQgYXMgdGhlIG5hbWUgb2YgYSBicmFuY2ggaXMgdGhlIGRhdGFiYXNlXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3VzZXIgLSBUaGUgdXNlciBJZFxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gdGhlIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHRpZ2dlciB0byBnZXQgdGhlIHJlc3VsdC4gSXQgd2lsbCBjb250YWludHMgYSBwYXJhbWV0ZXIgPSB0cnVlIGlzIGFscmVhZHkgcHJlc2VudCwgZmFsc2UgZWl0aGVyLlxuXHQgKi9cblx0ZnVuY3Rpb24gX2lzVXNlclByZXNlbnRJblJvb20ocF9yb29tSWQscF91c2VyLHBfY2IpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2lzVXNlclByZXNlbnRJblJvb20pcF9yb29tSWQ9JHtwX3Jvb21JZH0gcF91c2VyPSR7cF91c2VyfWApO1xuXHRcdGlmICghKHBfcm9vbUlkICYmIHR5cGVvZiBwX3Jvb21JZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Ol9pc1VzZXJQcmVzZW50SW5Sb29tKXBhcmFtZXRlciBwX3Jvb21pZCBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICghKHBfdXNlciAmJiB0eXBlb2YgcF91c2VyID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6X2lzVXNlclByZXNlbnRJblJvb20pcGFyYW1ldGVyIHBfdXNlciBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICghKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Ol9pc1VzZXJQcmVzZW50SW5Sb29tKXBhcmFtZXRlciBwX2NiIGlzIGluY29ycmVjdC4gaWYgZGVmaW5lZCwgZXhwZWN0aW5nIGEgZnVuY3Rpb24nKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZGF0YXJlZnMuZ2V0Um9vbXMoKS5jaGlsZChgJHtwX3Jvb21JZH0vcGFydGljaXBhbnRMaXN0LyR7cF91c2VyfS93YXNJbnNpZGVSb29tYCkub25jZSgndmFsdWUnLCAoc25hcHNob3QpID0+IHtcblx0XHRcdGNvbnN0IHdhc1ByZXNlbnQgPSAoc25hcHNob3QudmFsKCkgIT09IG51bGwpO1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9pc1VzZXJQcmVzZW50SW5Sb29tKXBfcm9vbUlkPSR7cF9yb29tSWR9LHBfdXNlcj0ke3BfdXNlcn0scmVzdWx0PSR7d2FzUHJlc2VudH1gKTtcblx0XHRcdHBfY2Iod2FzUHJlc2VudCwgcF9yb29tSWQsIHBfdXNlcik7XG5cdFx0fSk7XG5cblx0fVxuXG5cblx0LyoqXG5cdCAqIENhbmNlbHMgdGhlIEludml0ZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF9yb29tSWQgLSBUaGUgcm9vbSBJZCBvZiB0aGUgSW52aXRlXG5cdCAqIEBwYXJhbSB7YXJyYXlbc3RpbmddfSBwX2d1ZXN0SWRzIC0gb3B0aW9uYWwgOiBBbiBhcnJheSBwb3NzZXNzaW5nIHRoZSBpZGVudGlmaWVycyBvZiB0aGUgaW52aXRlZXMuIChpZiB1bmRlZmluZWQgLCAgYWxsIGludml0ZWUgd2lsbCBoYXZlIHRoZWlyIEludml0ZSBjYW5jZWxlZClcblx0ICogQHBhcmFtIHtzdHJpbmd9IGludml0ZUlkIC0gVGhlIGludml0ZSBpZGVudGlmaWVyXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gdGhlIG9wZXJhdGlvbiBpcyBjb21wbGV0ZSAuIHRoaXMgY2FsbGJhY2sgd2lsbCBjb250YWludCBhcyBwYXJhbWV0ZXIgdGhlIHJlbGF0ZWQgZ3Vlc3RJZFxuXHQgKi9cblx0ZnVuY3Rpb24gX2NhbmNlbEludml0YXRpb24ocF9yb29tSWQsIHBfZ3Vlc3RJZHMsIHBfY2IpIHtcblx0XHRpZiAoIShwX3Jvb21JZCAmJiB0eXBlb2YgcF9yb29tSWQgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjpfY2FuY2VsSW52aXRhdGlvbilwYXJhbWV0ZXIgcF9yb29taWQgaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZycpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAocF9ndWVzdElkcyAmJiAhIHBfZ3Vlc3RJZHMgaW5zdGFuY2VvZiBBcnJheSApIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Ol9jYW5jZWxJbnZpdGF0aW9uKXBhcmFtZXRlciBwX2d1ZXN0SWRzIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIGFuIEFycmF5Jyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKGAgKFJlYWNoU0RLOjpyZWFjaDo6X2NhbmNlbEludml0YXRpb24pcF9yb29tSWQ9JHtwX3Jvb21JZH0sIHBfZ3Vlc3RJZHM9JHtKU09OLnN0cmluZ2lmeShwX2d1ZXN0SWRzKX1gKTtcblx0XHRpZiAobU91dGdvaW5nSW52aXRlcyAmJiBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXSkge1xuXHRcdFx0aWYgKHBfZ3Vlc3RJZHMpIHtcblx0XHRcdFx0cF9ndWVzdElkcy5mb3JFYWNoKChndWVzdElkLCBpKSA9PiB7XG5cdFx0XHRcdFx0aWYgKCEoZ3Vlc3RJZCAmJiB0eXBlb2YgZ3Vlc3RJZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbSlwYXJhbWV0ZXIgcF9ndWVzdElkc1ske2l9XSBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nYCk7XG5cdFx0XHRcdFx0fSBlbHNlIGlmIChtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtndWVzdElkXSkge1xuXHRcdFx0XHRcdFx0aWYgKG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2d1ZXN0SWRdLkludml0ZURhdGFyZWYpIHtcblx0XHRcdFx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bZ3Vlc3RJZF0uSW52aXRlRGF0YXJlZi5vbkRpc2Nvbm5lY3QoKS5jYW5jZWwoKTtcblx0XHRcdFx0XHRcdFx0aWYgKG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2d1ZXN0SWRdLkludml0ZUNoYW5nZWRDYiAmJiB0eXBlb2YgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bZ3Vlc3RJZF0uSW52aXRlQ2hhbmdlZENiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtndWVzdElkXS5JbnZpdGVEYXRhcmVmLm9mZignY2hpbGRfY2hhbmdlZCcsIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2d1ZXN0SWRdLkludml0ZUNoYW5nZWRDYik7XG5cdFx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtndWVzdElkXS5JbnZpdGVEYXRhcmVmLm9uY2UoJ3ZhbHVlJywgKGRhdGFTbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGxldCBjYl9zdGF0dXMsIGNiX2d1ZXN0SWQsIGNiX3Jvb21JZDtcblx0XHRcdFx0XHRcdFx0XHRpZiAoZGF0YVNuYXBzaG90ICYmIGRhdGFTbmFwc2hvdC52YWwoKSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2Jfc3RhdHVzPSBkYXRhU25hcHNob3QudmFsKCkuc3RhdHVzO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2Jfcm9vbUlkPSBkYXRhU25hcHNob3QudmFsKCkucm9vbTtcblx0XHRcdFx0XHRcdFx0XHRcdGNiX2d1ZXN0SWQ9IGRhdGFTbmFwc2hvdC5yZWYoKS5wYXJlbnQoKS5uYW1lKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoY2Jfc3RhdHVzICYmIGNiX3N0YXR1cz09PUlOVklUQVRJT05fT05HT0lORykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0uSW52aXRlRGF0YXJlZi51cGRhdGUoe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRpbWVzdGFtcF9lbmQ6IFdlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c3RhdHVzOiBJTlZJVEFUSU9OX0NBTkNFTEVEXG5cdFx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAobU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLnN0YXR1c0NoYW5nZWRDYiAmJiB0eXBlb2YgbU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLnN0YXR1c0NoYW5nZWRDYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLnN0YXR1c0NoYW5nZWRDYihjYl9yb29tSWQsIGNiX2d1ZXN0SWQsIElOVklUQVRJT05fQ0FOQ0VMRUQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfY2FuY2VsSW52aXRhdGlvbilkZWxldGluZyBJbnZpdGUgdG8gcm9vbSAke2NiX3Jvb21JZH0gZm9yIGludml0ZWUgJHtjYl9ndWVzdElkfWApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OnJlYWNoOjpfY2FuY2VsSW52aXRhdGlvbiljYW5ub3QgZGVsZXRlIGludGl2YXRpb24gdG8gcm9vbSAke2NiX3Jvb21JZH0gZm9yIGd1ZXN0ICR7Y2JfZ3Vlc3RJZH0gSW52aXRhdGlvbiBoYXMgYmVlbiByZW1vdmVkL3JlamVjdGVkL2FjY2VwdGVkYCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGRlbGV0ZSBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtndWVzdElkXTtcblx0XHRcdFx0XHRcdFx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdFx0cF9jYihndWVzdElkKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRkZWxldGUgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bZ3Vlc3RJZF07XG5cdFx0XHRcdFx0XHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdFx0cF9jYihndWVzdElkKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdHBfY2IoZ3Vlc3RJZCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0T2JqZWN0LmtleXMobU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF0pLmZvckVhY2goKGludml0ZWUpID0+IHtcblx0XHRcdFx0XHRfY2FuY2VsSW52aXRhdGlvbihwX3Jvb21JZCwgW2ludml0ZWVdLCBwX2NiKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjpyZWFjaDo6X2NhbmNlbEludml0YXRpb24pIEludml0ZSB0byByb29tICR7cF9yb29tSWR9IG5vdCBmb3VuZGApO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBHYXRoZXIgdGhlIGludml0ZWVzIHRvIHRoZSByb29tLlxuXHQgKiBEZWZpbmVzIGEgY2FsbGJhY2sgdG8gdHJpZ2dlciBmb3IgSW52aXRlIGNoYW5nZXMsIGFuZCBjYWxscyBjYWxsYmFja3MgZm9yIHJvb20gaW52aXRlIGFjY2VwdGF0aW9uIG9yIHJlZnVzZS5cblx0ICogRm9yIGVhY2ggaW52aXRlZSBhIG5vZGUgaXMgY3JlYXRlZCBpbiB0aGUgZGF0YWJhc2UgYWJvdXQgdGhlIEludml0ZSBsaXN0LlxuXHQgKiBJbiBhZGR0aW9uLCBhIG5vZGUgaXMgY3JlYXRlZCB0b28gZm9yIGVhY2ggaW52aXRlZSBhYm91dCB0aGUgcGFydGljaXBhbnRMaXN0LlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF9yb29tSWQgLSBUaGUgcm9vbSB1c2VkIGFzIHRoZSBuYW1lIG9mIGEgYnJhbmNoIGlzIHRoZSBkYXRhYmFzZVxuXHQgKiBAcGFyYW0ge2FycmF5W3N0aW5nXX0gcF9ndWVzdElkcyAtIEFuIGFycmF5IHBvc3Nlc3NpbmcgdGhlIGlkZW50aWZpZXJzIG9mIHRoZSBpbnZpdGVlc1xuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF90b3BpYyAtIGN1c3RvbSBtZXNzYWdlIGZvciBpbnZpdGF0aW9uXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfc3RhdHVzQ2hhbmdlZENiIC0gb3B0aW9uYWwgOiBjYWxsYmFjayBmdW5jdGlvbiB3aGVuIGFuIGludml0ZWUgYWNjZXB0cy9yZWplY3RlZC9jYW5jZWxlZCB0aGUgSW52aXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfaW52aXRlVG9Sb29tKHBfcm9vbUlkLCBwX2d1ZXN0SWRzLCBwX3RvcGljLHBfc3RhdHVzQ2hhbmdlZENiKSB7XG5cdFx0aWYgKCEocF9yb29tSWQgJiYgdHlwZW9mIHBfcm9vbUlkID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tKXBhcmFtZXRlciBwX3Jvb21pZCBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICghKHBfdG9waWMgJiYgdHlwZW9mIHBfdG9waWMgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb20pcGFyYW1ldGVyIHBfdG9waWMgaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZycpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAocF9zdGF0dXNDaGFuZ2VkQ2IgJiYgdHlwZW9mIHBfc3RhdHVzQ2hhbmdlZENiICE9ICdmdW5jdGlvbicpIHtcblx0XHRcdGNvbnNvbGUud2FybignKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tKXBhcmFtZXRlciBwX3N0YXR1c0NoYW5nZWRDYiBpcyBpbmNvcnJlY3QuIGlmIGRlZmluZWQsIGV4cGVjdGluZyBhIGZ1bmN0aW9uJyk7XG5cdFx0fVxuXHRcdGlmICghKHBfZ3Vlc3RJZHMgJiYgcF9ndWVzdElkcyBpbnN0YW5jZW9mIEFycmF5ICkpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbSlwYXJhbWV0ZXIgcF9ndWVzdElkcyBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBhbiBBcnJheScpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRkYXRhcmVmcy5nZXRSb29tcygpLmNoaWxkKHBfcm9vbUlkKS5jaGlsZCgnY29tbW9uRGF0YUxpc3QnKS51cGRhdGUoe1xuXHRcdFx0c3RhdHVzOlJPT01fU1RBVFVTX09QRU4sXG5cdFx0XHRvd25lcjptZVxuXHRcdH0pO1xuXG5cblx0XHRjb25zdCBfaXNVc2VyUHJlc2VudEluUm9vbUNiID0gKGlzQWxyZWFkeVByZXNlbnQsIHBfcm9vbUlkMiwgcF9ndWVzdElkMikgPT4ge1xuXHRcdFx0aWYgKCFpc0FscmVhZHlQcmVzZW50KSB7XG5cdFx0XHRcdGRhdGFyZWZzLmdldFJvb21zKCkuY2hpbGQoYCR7cF9yb29tSWQyfS9wYXJ0aWNpcGFudExpc3QvJHtwX2d1ZXN0SWQyfWApLnVwZGF0ZSh7XG5cdFx0XHRcdFx0Y29ubmVjdGVkOiBmYWxzZSxcblx0XHRcdFx0XHR3YXNJbnNpZGVSb29tOiBmYWxzZVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Y29uc3QgX0ludml0ZUNoYW5nZWRDYiA9IChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbTo6X0ludml0ZUNoYW5nZWRDYiknKTtcblx0XHRcdGlmKHNuYXBzaG90ICYmIHNuYXBzaG90Lm5hbWUoKT09PSdzdGF0dXMnKSB7XG5cdFx0XHRcdGNvbnN0IGNiX2d1ZXN0SWQyID0gc25hcHNob3QucmVmKCkucGFyZW50KCkucGFyZW50KCkubmFtZSgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tOjpfSW52aXRlQ2hhbmdlZENiKWNiX2d1ZXN0SWQyPSR7Y2JfZ3Vlc3RJZDJ9YCk7XG5cdFx0XHRcdGlmIChtT3V0Z29pbmdJbnZpdGVzICYmIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdICYmIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2NiX2d1ZXN0SWQyXSAmJiBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtjYl9ndWVzdElkMl0uSW52aXRlQ2hhbmdlZENiICkge1xuXHRcdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2NiX2d1ZXN0SWQyXS5JbnZpdGVEYXRhcmVmLm9mZignY2hpbGRfY2hhbmdlZCcsIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2NiX2d1ZXN0SWQyXS5JbnZpdGVDaGFuZ2VkQ2IpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNuYXBzaG90LnJlZigpLnBhcmVudCgpLm9uY2UoJ3ZhbHVlJywoc25hcHNob3QyKSA9PiB7XG5cdFx0XHRcdFx0bGV0IGNiX3N0YXR1cywgY2JfZ3Vlc3RJZCwgY2Jfcm9vbUlkLCBjYl9zdGF0dXNfaW5mbztcblx0XHRcdFx0XHRpZiAoc25hcHNob3QyKSB7XG5cdFx0XHRcdFx0XHRjYl9zdGF0dXM9IHNuYXBzaG90Mi52YWwoKS5zdGF0dXM7XG5cdFx0XHRcdFx0XHRjYl9yb29tSWQ9IHNuYXBzaG90Mi52YWwoKS5yb29tO1xuXHRcdFx0XHRcdFx0Y2Jfc3RhdHVzX2luZm89IHNuYXBzaG90Mi52YWwoKS5zdGF0dXNfaW5mbztcblx0XHRcdFx0XHRcdGNiX2d1ZXN0SWQ9IHNuYXBzaG90Mi5yZWYoKS5wYXJlbnQoKS5uYW1lKCk7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tOjpfSW52aXRlQ2hhbmdlZENiKXJvb21JZD0ke2NiX3Jvb21JZH0gaW52aXRlZT0ke2NiX2d1ZXN0SWR9IG5ldyBpbnZpdGF0aW9uIHN0YXR1cz0ke2NiX3N0YXR1c30gc3RhdHVzIGluZm89JHtjYl9zdGF0dXNfaW5mb31gKTtcblx0XHRcdFx0XHRcdGlmIChtT3V0Z29pbmdJbnZpdGVzICYmIG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXSAmJiBtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0gJiYgbU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLkludml0ZURhdGFyZWYpIHtcblx0XHRcdFx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLkludml0ZURhdGFyZWYub25EaXNjb25uZWN0KCkuY2FuY2VsKCk7XG5cdFx0XHRcdFx0XHRcdC8vaWYgKG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXS5JbnZpdGVSZW1vdmVDYilcblx0XHRcdFx0XHRcdFx0Ly9cdG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXS5JbnZpdGVEYXRhcmVmLnBhcmVudCgpLm9mZihcImNoaWxkX3JlbW92ZWRcIixtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0uSW52aXRlUmVtb3ZlQ2IpO1xuXHRcdFx0XHRcdFx0XHRpZiAobU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLnN0YXR1c0NoYW5nZWRDYiAmJiB0eXBlb2YgbU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLnN0YXR1c0NoYW5nZWRDYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLnN0YXR1c0NoYW5nZWRDYihjYl9yb29tSWQsY2JfZ3Vlc3RJZCxjYl9zdGF0dXMsY2Jfc3RhdHVzX2luZm8pO1xuXHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tOjpfSW52aXRlQ2hhbmdlZENiKWNhbm5vdCByZXRyaWV2ZSBtYXRoaW5nIHBfc3RhdHVzQ2hhbmdlZENiJyk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0ZGVsZXRlIG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXTtcblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tOjpfSW52aXRlQ2hhbmdlZENiKWNhbm5vdCByZXRyaWV2ZSBtYXRoaW5nIG1PdXRnb2luZ0ludml0ZScpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJyhSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbTo6X0ludml0ZUNoYW5nZWRDYiljYW5ub3QgcmV0cmlldmUgaW52aXRhdGlvbicpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHBfZ3Vlc3RJZHMuZm9yRWFjaCgobUd1ZXN0SWQsIGkpID0+IHtcblx0XHRcdGlmICghKG1HdWVzdElkICYmIHR5cGVvZiBtR3Vlc3RJZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tKXBhcmFtZXRlciBwX2d1ZXN0SWRzWyR7aX1dIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmdgKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb20pcm9vbUlkPSR7cF9yb29tSWR9IGludml0ZWU9JHttR3Vlc3RJZC50b1N0cmluZygpfWApO1xuXG5cdFx0XHRcdGlmIChtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXSAmJiBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0pIHtcblx0XHRcdFx0XHQvL2ludml0YXRpb24gaXMgYWxyZWFkeSBleGlzdGluZyAtPiBjYW5jZWwgaXRcblx0XHRcdFx0XHQvL2lmIChtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZiAmJiBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlUmVtb3ZlQ2IpICBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZi5vZmYoXCJjaGlsZF9yZW1vdmVkXCIsbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZVJlbW92ZUNiKTtcblx0XHRcdFx0XHQvL2lmIChtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZiAmJiBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlQ2hhbmdlZENiKSBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZi5vZmYoXCJjaGlsZF9jaGFuZ2VkXCIsbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZUNoYW5nZWRDYik7XG5cdFx0XHRcdFx0X2NhbmNlbEludml0YXRpb24ocF9yb29tSWQsIFttR3Vlc3RJZF0sIChwX2d1ZXN0SWQpID0+IHtcblx0XHRcdFx0XHRcdGlmIChwX2d1ZXN0SWQgJiYgcF9ndWVzdElkID09PSBtR3Vlc3RJZCkge1xuXHRcdFx0XHRcdFx0XHRfaW52aXRlVG9Sb29tKHBfcm9vbUlkLCBbcF9ndWVzdElkXSwgcF90b3BpYyxwX3N0YXR1c0NoYW5nZWRDYik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKCFtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXSkge1xuXHRcdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly9pZiAoIW1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXSkge1xuXHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0gPSB7fTtcblx0XHRcdFx0Ly99XG5cblx0XHRcdFx0X2lzVXNlclByZXNlbnRJblJvb20ocF9yb29tSWQsIG1HdWVzdElkLCBfaXNVc2VyUHJlc2VudEluUm9vbUNiKTtcblxuXHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZiA9IGRhdGFyZWYuY2hpbGQoJ2ludml0YXRpb25MaXN0JykuY2hpbGQobUd1ZXN0SWQpLnB1c2goe1xuXHRcdFx0XHRcdGZyb206bWUsXG5cdFx0XHRcdFx0cm9vbTpwX3Jvb21JZCxcblx0XHRcdFx0XHR0aW1lc3RhbXBfY3JlYXRpb246V2ViY29tLlNlcnZlclZhbHVlLlRJTUVTVEFNUCxcblx0XHRcdFx0XHR0b3BpYzpwX3RvcGljLFxuXHRcdFx0XHRcdHN0YXR1czpJTlZJVEFUSU9OX09OR09JTkdcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb20pSW52aXRlRGF0YXJlZj0ke21PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVEYXRhcmVmLnRvU3RyaW5nKCl9YCk7XG5cblx0XHRcdFx0Ly9tT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlUmVtb3ZlQ2IgPSBfSW52aXRhdGlvblJlbW92ZUNiO1xuXHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlQ2hhbmdlZENiID0gX0ludml0ZUNoYW5nZWRDYjtcblx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZURhdGFyZWYub24oJ2NoaWxkX2NoYW5nZWQnLCBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlQ2hhbmdlZENiKTtcblx0XHRcdFx0Ly9tT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZi5wYXJlbnQoKS5vbihcImNoaWxkX3JlbW92ZWRcIixtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlUmVtb3ZlQ2IpO1xuXHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uc3RhdHVzQ2hhbmdlZENiID0gcF9zdGF0dXNDaGFuZ2VkQ2I7XG5cblx0XHRcdFx0Ly8gY2FuY2VsZWQgSW52aXRlIG9uIGRpc2Nvbm5lY3Rpb25cblx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZURhdGFyZWYub25EaXNjb25uZWN0KCkudXBkYXRlKHtcblx0XHRcdFx0XHR0aW1lc3RhbXBfZW5kOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QLFxuXHRcdFx0XHRcdHN0YXR1czogSU5WSVRBVElPTl9DQU5DRUxFRFxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIE1ha2VzIGFuIGludml0ZSBhY2NlcHRlZCwgYW5kIGRlZmluZXMgdGhlIFwiYWNjZXB0ZWRcIiBmbGFnIG9mIHRoaXMgaW52aXRlIGF0IHRydWUgaW4gdGhlIGRhdGFiYXNlLlxuXHQgKiBAcGFyYW0gcF9pbnZpdGF0aW9uIC1cblx0ICovXG5cdGZ1bmN0aW9uIF9hY2NlcHRJbnZpdGF0aW9uKHBfaW52aXRhdGlvbikge1xuXHRcdGNvbnN0IGludml0ZUlkID0gT2JqZWN0LmtleXMocF9pbnZpdGF0aW9uKVswXTtcblx0XHRpZiAoIWludml0ZUlkKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjpfYWNjZXB0SW52aXRhdGlvbilwYXJhbWV0ZXIgcF9pbnZpdGF0aW9uIGlzIGluY29ycmVjdC4gY2Fubm90IGdldCBpbnZpdGF0aW9uIElkJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICghcF9pbnZpdGF0aW9uW2ludml0ZUlkXSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6X2FjY2VwdEludml0YXRpb24pcGFyYW1ldGVyIHBfaW52aXRhdGlvbiBpcyBpbmNvcnJlY3QuIGNhbm5vdCBnZXQgaW52aXRhdGlvbiBkYXRhJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0ZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3QvJHttZX0vJHtpbnZpdGVJZH1gKS5vbmNlKCd2YWx1ZScsIChkYXRhU25hcHNob3QpID0+IHtcblx0XHRcdGxldCBjYl9zdGF0dXMsXG5cdFx0XHRcdGNiX2d1ZXN0SWQsXG5cdFx0XHRcdGNiX2ludml0YXRpb25JZDtcblxuXHRcdFx0aWYgKGRhdGFTbmFwc2hvdCAmJiBkYXRhU25hcHNob3QudmFsKCkpIHtcblx0XHRcdFx0Y2JfaW52aXRhdGlvbklkID0gZGF0YVNuYXBzaG90Lm5hbWUoKTtcblx0XHRcdFx0Y2Jfc3RhdHVzID0gZGF0YVNuYXBzaG90LnZhbCgpLnN0YXR1cztcblx0XHRcdFx0Y2JfZ3Vlc3RJZCA9IGRhdGFTbmFwc2hvdC5yZWYoKS5wYXJlbnQoKS5uYW1lKCk7XG5cdFx0XHRcdGlmIChjYl9zdGF0dXMgJiYgY2Jfc3RhdHVzPT09SU5WSVRBVElPTl9PTkdPSU5HKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9hY2NlcHRJbnZpdGF0aW9uKWludml0ZUlkPSR7aW52aXRlSWR9LGRhdGE9JHtKU09OLnN0cmluZ2lmeShwX2ludml0YXRpb25baW52aXRlSWRdKX1gKTtcblx0XHRcdFx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdC8ke2NiX2d1ZXN0SWR9LyR7Y2JfaW52aXRhdGlvbklkfWApLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHR0aW1lc3RhbXBfZW5kOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QLFxuXHRcdFx0XHRcdFx0c3RhdHVzOiBJTlZJVEFUSU9OX0FDQ0VQVEVEXG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OnJlYWNoOjpfYWNjZXB0SW52aXRhdGlvbilpbnZpdGVJZD0ke2NiX2ludml0YXRpb25JZH0sZGF0YT0ke0pTT04uc3RyaW5naWZ5KHBfaW52aXRhdGlvbltpbnZpdGVJZF0pfSwgY2Fubm90IGJlIGFjY2VwdGVkLiBJdCBoYXMgYmVlbiByZW1vdmVkIG9yIGNhbmNlbGVkYCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZWZ1c2VzIHRoZSBpbnZpdGUgYW5kIHNldCB0aGUgXCJhY2NlcHRlZFwiIGZsYWcgb2YgdGhpcyBpbnZpdGUgaW4gdGhlIGRhdGFiYXNlIHRvIGZhbHNlXG5cdCAqIEBwYXJhbSBwX2ludml0YXRpb24gLSBUaGUgaW52aXRlIGRhdGFcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBfcmVhc29uIC0gb3B0aW9uYWwgaW5mbyBhYm91dCB0aGUgcmVqZWN0XG5cdCAqL1xuXHRmdW5jdGlvbiBfcmVqZWN0SW52aXRhdGlvbihwX2ludml0YXRpb24scF9yZWFzb24pIHtcblx0XHRjb25zdCBpbnZpdGVJZCA9IE9iamVjdC5rZXlzKHBfaW52aXRhdGlvbilbMF07XG5cdFx0aWYgKCFpbnZpdGVJZCkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6X3JlamVjdEludml0YXRpb24pcGFyYW1ldGVyIHBfaW52aXRhdGlvbiBpcyBpbmNvcnJlY3QuIGNhbm5vdCBnZXQgaW52aXRhdGlvbiBJZCcpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIXBfaW52aXRhdGlvbltpbnZpdGVJZF0pIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Ol9yZWplY3RJbnZpdGF0aW9uKXBhcmFtZXRlciBwX2ludml0YXRpb24gaXMgaW5jb3JyZWN0LiBjYW5ub3QgZ2V0IGludml0YXRpb24gZGF0YScpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdC8ke21lfS8ke2ludml0ZUlkfWApLm9uY2UoJ3ZhbHVlJywgKGRhdGFTbmFwc2hvdCkgPT4ge1xuXHRcdFx0bGV0IGNiX3N0YXR1cyxjYl9ndWVzdElkLGNiX2ludml0YXRpb25JZDtcblx0XHRcdGlmIChkYXRhU25hcHNob3QgJiYgZGF0YVNuYXBzaG90LnZhbCgpKSB7XG5cdFx0XHRcdGNiX2ludml0YXRpb25JZCA9IGRhdGFTbmFwc2hvdC5uYW1lKCk7XG5cdFx0XHRcdGNiX3N0YXR1cyA9IGRhdGFTbmFwc2hvdC52YWwoKS5zdGF0dXM7XG5cdFx0XHRcdGNiX2d1ZXN0SWQgPSBkYXRhU25hcHNob3QucmVmKCkucGFyZW50KCkubmFtZSgpO1xuXHRcdFx0XHRpZiAoY2Jfc3RhdHVzICYmIGNiX3N0YXR1cyA9PT0gSU5WSVRBVElPTl9PTkdPSU5HKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9yZWplY3RJbnZpdGF0aW9uKWludml0ZUlkPSR7aW52aXRlSWR9LGRhdGE9JHtKU09OLnN0cmluZ2lmeShwX2ludml0YXRpb25baW52aXRlSWRdKX1gKTtcblx0XHRcdFx0XHRpZiAocF9yZWFzb24pIHtcblx0XHRcdFx0XHRcdGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0LyR7Y2JfZ3Vlc3RJZH0vJHtjYl9pbnZpdGF0aW9uSWR9YCkudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0dGltZXN0YW1wX2VuZDogV2ViY29tLlNlcnZlclZhbHVlLlRJTUVTVEFNUCxcblx0XHRcdFx0XHRcdFx0c3RhdHVzX2luZm86IHBfcmVhc29uLFxuXHRcdFx0XHRcdFx0XHRzdGF0dXM6IElOVklUQVRJT05fUkVKRUNURURcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdC8ke2NiX2d1ZXN0SWR9LyR7Y2JfaW52aXRhdGlvbklkfWApLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRcdHRpbWVzdGFtcF9lbmQ6IFdlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVAsXG5cdFx0XHRcdFx0XHRcdHN0YXR1czogSU5WSVRBVElPTl9SRUpFQ1RFRFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjpyZWFjaDo6X3JlamVjdEludml0YXRpb24paW52aXRlSWQ9JHtjYl9pbnZpdGF0aW9uSWR9LGRhdGE9JHtKU09OLnN0cmluZ2lmeShwX2ludml0YXRpb25baW52aXRlSWRdKX0sIGNhbm5vdCBiZSByZWplY3RlZC4gSXQgaGFzIGJlZW4gcmVtb3ZlZCBvciBjYW5jZWxlZGApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogY2hlY2sgaWYgdGhlIHJvb20gY29ycmVzcG9uZGluZyB0byB0aGUgaW52aXRhdGlvbiBpcyBhY3RpdmVcblx0ICogQHBhcmFtIHBfaW52aXRhdGlvbiAtIFRoZSBpbnZpdGF0aW9uIERhdGFcblx0ICogQHBhcmFtIHBfY2IgLSBUaGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB0byBnZXQgdGhlIHJlc3VsdC4gdGhpcyBjYWxsYmFjayB3aWxsIGNvbnRhaW5zIHRoZSBwYXJhbWV0ZXIgdHJ1ZSBpcyB0aGUgcm9vbSBpcyBhY3RpdmVcblx0ICovXG5cdGZ1bmN0aW9uIF9pc1Jvb21BY3RpdmUocF9pbnZpdGF0aW9uLHBfY2IpIHtcblx0XHRpZiAocF9pbnZpdGF0aW9uICYmIHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y29uc3QgaW52aXRlSWQgPSBPYmplY3Qua2V5cyhwX2ludml0YXRpb24pWzBdO1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9pc1Jvb21BY3RpdmUpaW52aXRlSWQ9JHtpbnZpdGVJZH1gKTtcblx0XHRcdGNvbnN0IHJvb21JZCA9IHBfaW52aXRhdGlvbltpbnZpdGVJZF0ucm9vbTtcblxuXHRcdFx0ZGF0YXJlZnMuZ2V0Um9vbXMoKS5jaGlsZChgJHtyb29tSWR9L2NvbW1vbkRhdGFMaXN0L3N0YXR1c2ApLm9uY2UoJ3ZhbHVlJywgKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRcdGNvbnN0IG9wZW5lZCA9IHNuYXBzaG90ICYmIHNuYXBzaG90LnZhbCgpICYmIHNuYXBzaG90LnZhbCgpID09PSBST09NX1NUQVRVU19PUEVOO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2lzUm9vbUFjdGl2ZSlpbnZpdGVJZD0ke2ludml0ZUlkfSByZXN1bHQ9JHtvcGVuZWR9YCk7XG5cdFx0XHRcdHBfY2Iob3BlbmVkKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBtb3ZlIGFsbCB0aGUgbm9uIGFjdGl2ZSBpbnZpdGF0aW9ucyBwcm9jZXNzZWQgb2YgYW4gdXNlciB0byB0aGUgaW52aXRhdGlvbiBMaXN0IEhpc3Rvcnk6XG5cdCAqIEFsbCBpbnZpdGF0aW9ucyB3aXRoIHN0YXR1cyBDYW5jZWxlZCBvciBSZWplY3RlZCB3aWxsIGJlIGFyY2hpdmVkXG5cdCAqIEFsbCBpbnZpdGF0aW9uIHdpdGggc3RhdHVzIE9uZ29pbmcgb3IgQWNjZXB0ZWQgV2lsbCBiZSBhcmNoaXZlZCBpZiB0aGUgY29ycmVzcG9uZGluZyByb29tIGlzIGNsb3NlZFxuXHQgKiBJZiBhbiBpbnZpdGF0aW9uIHdpdGggc3RhdHVzIFwiT25nb2luZ1wiIGlzIGFyY2hpdmVkLCBpdHMgc3RhdHVzIHdpbGwgYmUgc2V0IHRvIGNhbmNlbGVkXG5cdCAqIEBwYXJhbSBwX3VzZXJJZCAtIFRoZSB1c2VyIElkXG5cdCAqIEBwYXJhbSBwX2NiIC0gVGhpcyBjYWxsYmFjayBpcyB0cmlnZ2VyIHdoZW4gYXJjaGl2ZSBpcyBjb21wbGV0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX2FyY2hpdmVJbnZpdGF0aW9ucyhwX3VzZXJJZCwgcF9jYikge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfYXJjaGl2ZUludml0YXRpb25zKXVzZXJJZD0ke3BfdXNlcklkfWApO1xuXHRcdGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0LyR7bWV9YCkub25jZSgndmFsdWUnLCAoc25hcHNob3QpID0+IHtcblx0XHRcdGlmIChzbmFwc2hvdCAmJiBzbmFwc2hvdC5oYXNDaGlsZHJlbigpKSB7XG5cdFx0XHRcdGNvbnN0IG5iQ2hpbGRyZW4gPSBzbmFwc2hvdC5udW1DaGlsZHJlbigpO1xuXHRcdFx0XHRsZXQgbmJDaGlsZHJlblByb2Nlc3NlZCA9IDA7XG5cdFx0XHRcdHNuYXBzaG90LmZvckVhY2goKGNoaWxkU25hcHNob3QpID0+IHtcblx0XHRcdFx0XHRpZiAoY2hpbGRTbmFwc2hvdCAmJiBjaGlsZFNuYXBzaG90LnZhbCgpKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2FyY2hpdmVJbnZpdGF0aW9ucyl1c2VySWQ9JHtwX3VzZXJJZH0gaW52aXRlSWQ9JHtjaGlsZFNuYXBzaG90Lm5hbWUoKX1gKTtcblx0XHRcdFx0XHRcdGlmIChjaGlsZFNuYXBzaG90LnZhbCgpLnN0YXR1cyA9PT0gSU5WSVRBVElPTl9SRUpFQ1RFRCB8fCBjaGlsZFNuYXBzaG90LnZhbCgpLnN0YXR1cyA9PT0gSU5WSVRBVElPTl9DQU5DRUxFRCApIHtcblx0XHRcdFx0XHRcdFx0ZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3RIaXN0b3J5LyR7cF91c2VySWR9LyR7Y2hpbGRTbmFwc2hvdC5uYW1lKCl9YCkudXBkYXRlKGNoaWxkU25hcHNob3QudmFsKCkpO1xuXHRcdFx0XHRcdFx0XHRjaGlsZFNuYXBzaG90LnJlZigpLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHRuYkNoaWxkcmVuUHJvY2Vzc2VkKys7XG5cdFx0XHRcdFx0XHRcdGlmIChuYkNoaWxkcmVuUHJvY2Vzc2VkPj1uYkNoaWxkcmVuICYmIHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdHBfY2IoKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgaW52aXRlRGF0YSA9IHt9O1xuXHRcdFx0XHRcdFx0XHRpbnZpdGVEYXRhW2NoaWxkU25hcHNob3QubmFtZSgpXSA9IGNoaWxkU25hcHNob3QudmFsKCk7XG5cdFx0XHRcdFx0XHRcdF9pc1Jvb21BY3RpdmUoaW52aXRlRGF0YSwgKGlzQWN0aXZlKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGlzQWN0aXZlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRuYkNoaWxkcmVuUHJvY2Vzc2VkKys7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAobmJDaGlsZHJlblByb2Nlc3NlZD49bmJDaGlsZHJlbiAmJiBwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cF9jYigpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoY2hpbGRTbmFwc2hvdC52YWwoKS5zdGF0dXM9PT1JTlZJVEFUSU9OX09OR09JTkcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgbmV3VmFsdWUgPSBjaGlsZFNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRuZXdWYWx1ZS5zdGF0dXMgPSBJTlZJVEFUSU9OX0NBTkNFTEVEO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdEhpc3RvcnkvJHtwX3VzZXJJZH0vJHtjaGlsZFNuYXBzaG90Lm5hbWUoKX1gKS5zZXQobmV3VmFsdWUpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3RIaXN0b3J5LyR7cF91c2VySWR9LyR7Y2hpbGRTbmFwc2hvdC5uYW1lKCl9YCkuc2V0KGNoaWxkU25hcHNob3QudmFsKCkpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0Y2hpbGRTbmFwc2hvdC5yZWYoKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdG5iQ2hpbGRyZW5Qcm9jZXNzZWQrKztcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChuYkNoaWxkcmVuUHJvY2Vzc2VkPj1uYkNoaWxkcmVuICYmIHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRwX2NiKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRwX2NiKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdHBfY2IoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0fSk7XG5cdH1cblxuXG5cblxuXG5cdC8qKlxuXHQgKiBDbG9zZSB0aGUgcmVhY2ggc2VydmljZSxcblx0ICogZGlzYWJsZXMgYW5kIGRlbGV0ZXMgYW55IGxpc3RlbmVycy9jYWxsYmFjayBkZWZpbmVkLlxuXHQgKiBjYW5jZWwgYWxsIG91dGdvaW5nIGludml0ZSBub3QgYWxyZWFkeSBwcm9jZXNzZWRcblx0ICogZG8gbm90IGltcGFjdCBpbmNvbWluZyBpbnZpdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9jbG9zZSgpIHtcblx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjpyZWFjaDo6X2Nsb3NlKScpO1xuXG5cdFx0aWYgKG5ld0ludml0ZUNiKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdpbnZpdGF0aW9uTGlzdCcpLmNoaWxkKG1lKS5vZmYoJ2NoaWxkX2FkZGVkJyxuZXdJbnZpdGVDYik7XG5cdFx0XHRuZXdJbnZpdGVDYiA9IG51bGw7XG5cdFx0fVxuLy9cdFx0aWYgKG9uUm9vbUludml0ZUNoYW5nZWRDYikge1xuLy9cdFx0XHRkYXRhcmVmLmNoaWxkKFwiaW52aXRhdGlvbkxpc3RcIikuY2hpbGQobWUpLm9mZihcImNoaWxkX2NoYW5nZWRcIixJbnZpdGVDaGFuZ2VkQ2IpO1xuLy9cdFx0XHRvblJvb21JbnZpdGVDaGFuZ2VkQ2IgPSBudWxsO1xuLy9cdFx0fVxuLy9cbi8vXHRcdGlmIChtVGltZW91dE9uTmV3SW52aXRlQ2IpIHtcbi8vXHRcdFx0ZGF0YXJlZi5jaGlsZChcImludml0YXRpb25MaXN0XCIpLmNoaWxkKG1lKS5vZmYoXCJjaGlsZF9hZGRlZFwiLG1UaW1lb3V0T25OZXdJbnZpdGVDYik7XG4vL1x0XHRcdG1UaW1lb3V0T25OZXdJbnZpdGVDYiA9IG51bGw7XG4vL1x0XHR9XG4vL1x0XHRpZiAobVRpbWVvdXRPbkludml0ZUNoYW5nZWRDYikge1xuLy9cdFx0XHRkYXRhcmVmLmNoaWxkKFwiaW52aXRhdGlvbkxpc3RcIikuY2hpbGQobWUpLm9mZihcImNoaWxkX2NoYW5nZWRcIixtVGltZW91dE9uSW52aXRlQ2hhbmdlZENiKTtcbi8vXHRcdFx0bVRpbWVvdXRPbkludml0ZUNoYW5nZWRDYiA9IG51bGw7XG4vL1x0XHR9XG5cblx0XHRpZiAob25Vc2VyQWRkZWRDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vZmYoJ2NoaWxkX2FkZGVkJywgb25Vc2VyQWRkZWRDYik7XG5cdFx0XHRvblVzZXJBZGRlZENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKG9uVXNlckNoYW5nZWRDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vZmYoJ2NoaWxkX2NoYW5nZWQnLCBvblVzZXJDaGFuZ2VkQ2IpO1xuXHRcdFx0b25Vc2VyQ2hhbmdlZENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKG9uVXNlclJlbW92ZWRDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vZmYoJ2NoaWxkX3JlbW92ZWQnLCBvblVzZXJSZW1vdmVkQ2IpO1xuXHRcdFx0b25Vc2VyUmVtb3ZlZENiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAobU91dGdvaW5nSW52aXRlcykge1xuXHRcdFx0bU91dGdvaW5nSW52aXRlcy5mb3JFYWNoKChyb29tSWQpID0+IHtcblx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1tyb29tSWRdLmZvckVhY2goKGludml0ZWUpID0+IHtcblx0XHRcdFx0XHRpZiAoaW52aXRlZS5JbnZpdGVEYXRhcmVmKSB7XG5cdFx0XHRcdFx0XHRpbnZpdGVlLkludml0ZURhdGFyZWYub25EaXNjb25uZWN0KCkuY2FuY2VsKCk7XG5cdFx0XHRcdFx0XHRpbnZpdGVlLkludml0ZURhdGFyZWYudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0c3RhdHVzOiBJTlZJVEFUSU9OX0NBTkNFTEVELFxuXHRcdFx0XHRcdFx0XHR0aW1lc3RhbXBfZW5kOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0XHRtT3V0Z29pbmdJbnZpdGVzID0gW107XG5cdFx0fVxuXG5cdFx0aWYgKGF1dG9tYXRpY1JlamVjdFRpbWVPdXQpIHtcblx0XHRcdGF1dG9tYXRpY1JlamVjdFRpbWVPdXQgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAoYXV0b21hdGljUmVqZWN0UmVhc29uKSB7XG5cdFx0XHRhdXRvbWF0aWNSZWplY3RSZWFzb24gPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChtRGV2aWNlSWQpIHtcblx0XHRcdG1EZXZpY2VJZC5yZW1vdmUoKTtcblx0XHRcdG1EZXZpY2VJZCA9IG51bGw7XG5cdFx0fVxuXG5cdH1cblxuXHRpbml0KCk7XG5cdHJldHVybiB7XG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgdXNlciBpZGVudGlmaWVyIHVzZWQgaW4gdGhlIGRhdGFiYXNlLiBUaGlzIHZhbHVlXG5cdFx0ICogaWRlbnRpZmllcyB0aGUgdXNlciBpZiB0aGUgV2ViY29tYmFzZS5cblx0XHQgKiBAcmV0dXJuIHtzdHJpbmd9IC0gVGhlIHVzZXIgSURcblx0XHQgKi9cblx0XHRnZXRNZTogKCkgPT4ge1xuXHRcdFx0cmV0dXJuIG1lO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogY2hlY2sgaWYgYSB1c2VyIGlzIGNvbm5lY3RlZFxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3VzZXJJZCAtIHRoZSB1c2VyIElkXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIHRoZSBjYWxsYmFjayB0cmlnZ2VycyB0byByZXR1cm4gdGhlIHJlc3VsdC4gVGhlIHJlc3VsdCB3aWxsIGJlIHBhc3NlZCBpbiBwYXJhbWV0ZXIgYXMgYm9vbGVhbiA6IHRydWUgPSBjb25uZWN0ZWQgLyBmYWxzZSA9IG5vdCBjb25uZWN0ZWRcblx0XHQgKi9cblx0XHRpc0Nvbm5lY3RlZDogX2lzQ29ubmVjdGVkLFxuXHRcdC8qKlxuXHRcdCAqIGNoZWNrIGlmIGEgdXNlciBpcyByZWdpc3RlclxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3VzZXJJZCAtIHRoZSB1c2VyIElkXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIHRoZSBjYWxsYmFjayB0cmlnZ2VycyB0byByZXR1cm4gdGhlIHJlc3VsdC4gVGhlIHJlc3VsdCB3aWxsIGJlIHBhc3NlZCBpbiBwYXJhbWV0ZXIgYXMgYm9vbGVhbiA6IHRydWUgPSByZWdpc3RlcmVkIC8gZmFsc2UgPSBub3QgcmVnaXN0ZXJlZFxuXHRcdCAqL1xuXHRcdGlzUmVnaXN0ZXJlZDogX2lzUmVnaXN0ZXJlZCxcblx0XHQvKipcblx0XHQgKiBzZXQgdGhlIGRldmljZSBzdGF0dXMgKERFVklDRV9TVEFUVVNfQ09OTkVDVEVEKVxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0dXMgLSB0aGUgbmV3IHN0YXR1c1xuXHRcdCAqL1xuXHRcdHNldENvbm5lY3RlZFN0YXR1czogX3NldENvbm5lY3RlZFN0YXR1cyxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSBuZXcgdXNlciBpcyBhZGRlZFxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2sgdG8gdXNlXG5cdFx0ICovXG5cdFx0c2V0T25Vc2VyQWRkZWQ6IF9zZXRPblVzZXJBZGRlZCxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gdGhlIHVzZXIgaGFzIGNoYW5nZWRcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrIHRvIHVzZVxuXHRcdCAqL1xuXHRcdHNldE9uVXNlckNoYW5nZWQ6IF9zZXRPblVzZXJDaGFuZ2VkLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIHVzZXIgaGFzIGJlZW4gcmVtb3ZlZC5cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrIHRvIHVzZVxuXHRcdCAqL1xuXHRcdHNldE9uVXNlclJlbW92ZWQ6IF9zZXRPblVzZXJSZW1vdmVkLFxuXHRcdC8qKlxuXHRcdCAqIEdhdGhlciB0aGUgaW52aXRlZXMgdG8gdGhlIHJvb20uXG5cdFx0ICogRGVmaW5lcyBhIGNhbGxiYWNrIHRvIHRyaWdnZXIgZm9yIEludml0ZSBjaGFuZ2VzLCBhbmQgY2FsbHMgY2FsbGJhY2tzIGZvciByb29tIGludml0ZSBhY2NlcHRhdGlvbiBvciByZWZ1c2UuXG5cdFx0ICogRm9yIGVhY2ggaW52aXRlZSBhIG5vZGUgaXMgY3JlYXRlZCBpbiB0aGUgZGF0YWJhc2UgYWJvdXQgdGhlIEludml0ZSBsaXN0LlxuXHRcdCAqIEluIGFkZHRpb24sIGEgbm9kZSBpcyBjcmVhdGVkIHRvbyBmb3IgZWFjaCBpbnZpdGVlIGFib3V0IHRoZSBwYXJ0aWNpcGFudExpc3QuXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHBfcm9vbUlkIC0gVGhlIHJvb20gdXNlZCBhcyB0aGUgbmFtZSBvZiBhIGJyYW5jaCBpcyB0aGUgZGF0YWJhc2Vcblx0XHQgKiBAcGFyYW0ge2FycmF5fSBwX2d1ZXN0SWRzIC0gQW4gYXJyYXkgcG9zc2Vzc2luZyB0aGUgaWRlbnRpZmllcnMgb2YgdGhlIGludml0ZWVzXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHBfdG9waWMgLSBjdXN0b20gbWVzc2FnZSBmb3IgdGhlIGludml0YXRpb25cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX3N0YXR1c0NoYW5nZWRDYiAtIG9wdGlvbmFsIDogY2FsbGJhY2sgZnVuY3Rpb24gd2hlbiBhbiBpbnZpdGVlIGFjY2VwdHMvcmVqZWN0ZWQvY2FuY2VsZWQgdGhlIEludml0ZVxuXHRcdCAqL1xuXHRcdGludml0ZVRvUm9vbTogX2ludml0ZVRvUm9vbSxcblx0XHQvKipcblx0XHQgKiBDYW5jZWxzIHRoZSBJbnZpdGVcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcF9yb29tSWQgLSBUaGUgcm9vbSBJZCBvZiB0aGUgSW52aXRlXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHBfZ3Vlc3RJZHMgLSBvcHRpb25hbCA6IEFuIGFycmF5IHBvc3Nlc3NpbmcgdGhlIGlkZW50aWZpZXJzIG9mIHRoZSBpbnZpdGVlcy4gKGlmIHVuZGVmaW5lZCAsICBhbGwgaW52aXRlZSB3aWxsIGhhdmUgdGhlaXIgSW52aXRlIGNhbmNlbGVkKVxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBpbnZpdGVJZCAtIFRoZSBpbnZpdGUgaWRlbnRpZmllclxuXHRcdCAqL1xuXHRcdGNhbmNlbEludml0YXRpb246IF9jYW5jZWxJbnZpdGF0aW9uLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIHJvb20gaW52aXRlIGhhcyBiZWVuIHJlY2VpdmVkLlxuXHRcdCAqIE90aGVyIGNhbGxiYWNrcyB3aWxsIGJlIHRyaWdnZXJlZCBhYm91dCBJbnZpdGUgbGlzdHMuXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gb25OZXdSb29tSW52aXRhdGlvbkNiIC0gVGhlIGNhbGxiYWNrIHRyaWdnZXJzIHdoZW4gYSBJbnZpdGUgaXMgcmVjZWl2ZWQgKHN0YXR1cyA9IG9uIGdvaW5nKVxuXHRcdCAqL1xuXHRcdHNldE9uTmV3Um9vbUludml0YXRpb246IF9zZXRPbk5ld1Jvb21JbnZpdGF0aW9uLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIHJvb20gaW52aXRlIGhhcyBiZWVuIHJlY2VpdmVkLlxuXHRcdCAqIE90aGVyIGNhbGxiYWNrcyB3aWxsIGJlIHRyaWdnZXJlZCBhYm91dCBJbnZpdGUgbGlzdHMuXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gb25Sb29tSW52aXRhdGlvbkNoYW5nZWRDYiAtIFRoZSBjYWxsYmFjayB0cmlnZ2VycyB3aGVuIHRoZSBzYXR1cyBvbiB0aGUgSW52aXRlIHJlY2VpdmVkIGhhcyBjaGFuZ2VkIChzdGF0dXMgPSBhY2NlcHRlZC9yZWplY3RlZC9jYW5jZWxlZClcblx0XHQgKi9cblx0XHRzZXRPblJvb21JbnZpdGF0aW9uQ2hhbmdlZDogX3NldE9uUm9vbUludml0YXRpb25DaGFuZ2VkLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgYSB0aW1lb3V0IHRvIHJlamVjdCBhdXRvbWF0aWNhbGx5IHRoZSBJbnZpdGVcblx0XHQgKiBPdGhlciBjYWxsYmFja3Mgd2lsbCBiZSB0cmlnZ2VyZWQgYWJvdXQgSW52aXRlIGxpc3RzLlxuXHRcdCAqIEBwYXJhbSB7aW50ZWdlcn0gcF90aW1lb3V0IC0gVGhlIGRlbGF5XG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHBfcmVhc29uIC0gb3B0aW9uYWwgaW5mbyBhYm91dCB0aGUgcmVqZWN0XG5cdFx0ICovXG5cdFx0c2V0TmV3Um9vbUludml0YXRpb25UaW1lb3V0OiBfc2V0TmV3Um9vbUludml0YXRpb25UaW1lb3V0LFxuXG5cdFx0LyoqXG5cdFx0ICogbW92ZSBhbGwgdGhlIG5vbiBhY3RpdmUgaW52aXRhdGlvbnMgcHJvY2Vzc2VkIG9mIGFuIHVzZXIgdG8gdGhlIGludml0YXRpb24gTGlzdCBIaXN0b3J5OlxuXHRcdCAqIEFsbCBpbnZpdGF0aW9ucyB3aXRoIHN0YXR1cyBDYW5jZWxlZCBvciBSZWplY3RlZCB3aWxsIGJlIGFyY2hpdmVkXG5cdFx0ICogQWxsIGludml0YXRpb24gd2l0aCBzdGF0dXMgT25nb2luZyBvciBBY2NlcHRlZCBXaWxsIGJlIGFyY2hpdmVkIGlmIHRoZSBjb3JyZXNwb25kaW5nIHJvb20gaXMgY2xvc2VkXG5cdFx0ICogSWYgYW4gaW52aXRhdGlvbiB3aXRoIHN0YXR1cyBcIk9uZ29pbmdcIiBpcyBhcmNoaXZlZCwgaXRzIHN0YXR1cyB3aWxsIGJlIHNldCB0byBjYW5jZWxlZFxuXHRcdCAqIEBwYXJhbSBwX2NiIC0gVGhpcyBjYWxsYmFjayBpcyB0cmlnZ2VyIHdoZW4gYXJjaGl2ZSBpcyBjb21wbGV0ZVxuXHRcdCAqL1xuXHRcdGFyY2hpdmVNeUludml0YXRpb25zOiAocF9jYikgPT4ge1xuXHRcdFx0cmV0dXJuIF9hcmNoaXZlSW52aXRhdGlvbnMobWUsIHBfY2IpO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogTWFrZXMgYW4gaW52aXRlIGFjY2VwdGVkLCBhbmQgZGVmaW5lcyB0aGUgXCJhY2NlcHRlZFwiIGZsYWcgb2YgdGhpcyBpbnZpdGUgYXQgdHJ1ZSBpbiB0aGUgZGF0YWJhc2UuXG5cdFx0ICogQHBhcmFtIHBfaW52aXRhdGlvbkRhdGEgLVxuXHRcdCAqL1xuXHRcdGFjY2VwdEludml0YXRpb246IF9hY2NlcHRJbnZpdGF0aW9uLFxuXG5cdFx0LyoqXG5cdFx0ICogUmVmdXNlcyB0aGUgaW52aXRlIGFuZCBzZXQgdGhlIFwiYWNjZXB0ZWRcIiBmbGFnIG9mIHRoaXMgaW52aXRlIGluIHRoZSBkYXRhYmFzZSB0byBmYWxzZVxuXHRcdCAqIEBwYXJhbSBwX2ludml0YXRpb25EYXRhIC0gVGhlIGludml0ZSBkYXRhXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHBfcmVhc29uIC0gb3B0aW9uYWwgaW5mbyBhYm91dCB0aGUgcmVqZWN0XG5cdFx0ICovXG5cdFx0cmVqZWN0SW52aXRhdGlvbjogX3JlamVjdEludml0YXRpb24sXG5cblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIGEgY2FsbGJhY2sgZm9yIGEgcGFydGljdWxhciBldmVudFxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX2V2dCAtIFRvIGNob29zZSBiZXR3ZWVuIFwicm9vbUludml0ZVwiLCBcInJvb21JbnZpdGVBY2NlcHRlZFwiLCBcInJvb21JbnZpdGVDYW5jZWxlZFwiLCBcInVzZXJcIiBhbmQgXCJ1c2VyUmVtb3ZhbFwiXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFjayB0byByaXNlXG5cdFx0ICovXG5cdFx0b246IChwX2V2dCwgcF9jYikgPT4ge1xuXHRcdFx0c3dpdGNoIChwX2V2dCkge1xuXHRcdFx0Y2FzZSAnbmV3Um9vbUludml0YXRpb24nOlxuXHRcdFx0XHR0aGlzLnNldE9uTmV3Um9vbUludml0YXRpb24ocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAncm9vbUludml0YXRpb25DaGFuZ2VkJzpcblx0XHRcdFx0dGhpcy5zZXRPblJvb21JbnZpdGF0aW9uQ2hhbmdlZChwX2NiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICd1c2VyQWRkZWQnOlxuXHRcdFx0XHR0aGlzLnNldE9uVXNlckFkZGVkKHBfY2IpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3VzZXJDaGFuZ2VkJzpcblx0XHRcdFx0dGhpcy5zZXRPblVzZXJDaGFuZ2VkKHBfY2IpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3VzZXJSZW1vdmVkJzpcblx0XHRcdFx0dGhpcy5zZXRPblVzZXJSZW1vdmVkKHBfY2IpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ3JlYWNoLnNldDogbm8gc3VjaCBldmVudCcpO1xuXHRcdFx0XHRyZXR1cm4gLTE7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBDbG9zZXMgYW5kIHJlbW92ZXMgY2FsbGJhY2tzXG5cdFx0ICovXG5cdFx0Y2xvc2U6IF9jbG9zZVxuXHR9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcmVhY2g7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcmVhY2guanNcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXNcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczYub2JqZWN0LmtleXMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy8kLmNvcmUnKS5PYmplY3Qua2V5cztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gMTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi8kLnRvLW9iamVjdCcpO1xuXG5yZXF1aXJlKCcuLyQub2JqZWN0LXNhcCcpKCdrZXlzJywgZnVuY3Rpb24oJGtleXMpe1xuICByZXR1cm4gZnVuY3Rpb24ga2V5cyhpdCl7XG4gICAgcmV0dXJuICRrZXlzKHRvT2JqZWN0KGl0KSk7XG4gIH07XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gMTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi8kLmRlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gT2JqZWN0KGRlZmluZWQoaXQpKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQudG8tb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5kZWZpbmVkLmpzXG4gKiogbW9kdWxlIGlkID0gMTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIG1vc3QgT2JqZWN0IG1ldGhvZHMgYnkgRVM2IHNob3VsZCBhY2NlcHQgcHJpbWl0aXZlc1xudmFyICRleHBvcnQgPSByZXF1aXJlKCcuLyQuZXhwb3J0JylcbiAgLCBjb3JlICAgID0gcmVxdWlyZSgnLi8kLmNvcmUnKVxuICAsIGZhaWxzICAgPSByZXF1aXJlKCcuLyQuZmFpbHMnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZLCBleGVjKXtcbiAgdmFyIGZuICA9IChjb3JlLk9iamVjdCB8fCB7fSlbS0VZXSB8fCBPYmplY3RbS0VZXVxuICAgICwgZXhwID0ge307XG4gIGV4cFtLRVldID0gZXhlYyhmbik7XG4gICRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogZmFpbHMoZnVuY3Rpb24oKXsgZm4oMSk7IH0pLCAnT2JqZWN0JywgZXhwKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQub2JqZWN0LXNhcC5qc1xuICoqIG1vZHVsZSBpZCA9IDE1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZ2xvYmFsICAgID0gcmVxdWlyZSgnLi8kLmdsb2JhbCcpXG4gICwgY29yZSAgICAgID0gcmVxdWlyZSgnLi8kLmNvcmUnKVxuICAsIGN0eCAgICAgICA9IHJlcXVpcmUoJy4vJC5jdHgnKVxuICAsIFBST1RPVFlQRSA9ICdwcm90b3R5cGUnO1xuXG52YXIgJGV4cG9ydCA9IGZ1bmN0aW9uKHR5cGUsIG5hbWUsIHNvdXJjZSl7XG4gIHZhciBJU19GT1JDRUQgPSB0eXBlICYgJGV4cG9ydC5GXG4gICAgLCBJU19HTE9CQUwgPSB0eXBlICYgJGV4cG9ydC5HXG4gICAgLCBJU19TVEFUSUMgPSB0eXBlICYgJGV4cG9ydC5TXG4gICAgLCBJU19QUk9UTyAgPSB0eXBlICYgJGV4cG9ydC5QXG4gICAgLCBJU19CSU5EICAgPSB0eXBlICYgJGV4cG9ydC5CXG4gICAgLCBJU19XUkFQICAgPSB0eXBlICYgJGV4cG9ydC5XXG4gICAgLCBleHBvcnRzICAgPSBJU19HTE9CQUwgPyBjb3JlIDogY29yZVtuYW1lXSB8fCAoY29yZVtuYW1lXSA9IHt9KVxuICAgICwgdGFyZ2V0ICAgID0gSVNfR0xPQkFMID8gZ2xvYmFsIDogSVNfU1RBVElDID8gZ2xvYmFsW25hbWVdIDogKGdsb2JhbFtuYW1lXSB8fCB7fSlbUFJPVE9UWVBFXVxuICAgICwga2V5LCBvd24sIG91dDtcbiAgaWYoSVNfR0xPQkFMKXNvdXJjZSA9IG5hbWU7XG4gIGZvcihrZXkgaW4gc291cmNlKXtcbiAgICAvLyBjb250YWlucyBpbiBuYXRpdmVcbiAgICBvd24gPSAhSVNfRk9SQ0VEICYmIHRhcmdldCAmJiBrZXkgaW4gdGFyZ2V0O1xuICAgIGlmKG93biAmJiBrZXkgaW4gZXhwb3J0cyljb250aW51ZTtcbiAgICAvLyBleHBvcnQgbmF0aXZlIG9yIHBhc3NlZFxuICAgIG91dCA9IG93biA/IHRhcmdldFtrZXldIDogc291cmNlW2tleV07XG4gICAgLy8gcHJldmVudCBnbG9iYWwgcG9sbHV0aW9uIGZvciBuYW1lc3BhY2VzXG4gICAgZXhwb3J0c1trZXldID0gSVNfR0xPQkFMICYmIHR5cGVvZiB0YXJnZXRba2V5XSAhPSAnZnVuY3Rpb24nID8gc291cmNlW2tleV1cbiAgICAvLyBiaW5kIHRpbWVycyB0byBnbG9iYWwgZm9yIGNhbGwgZnJvbSBleHBvcnQgY29udGV4dFxuICAgIDogSVNfQklORCAmJiBvd24gPyBjdHgob3V0LCBnbG9iYWwpXG4gICAgLy8gd3JhcCBnbG9iYWwgY29uc3RydWN0b3JzIGZvciBwcmV2ZW50IGNoYW5nZSB0aGVtIGluIGxpYnJhcnlcbiAgICA6IElTX1dSQVAgJiYgdGFyZ2V0W2tleV0gPT0gb3V0ID8gKGZ1bmN0aW9uKEMpe1xuICAgICAgdmFyIEYgPSBmdW5jdGlvbihwYXJhbSl7XG4gICAgICAgIHJldHVybiB0aGlzIGluc3RhbmNlb2YgQyA/IG5ldyBDKHBhcmFtKSA6IEMocGFyYW0pO1xuICAgICAgfTtcbiAgICAgIEZbUFJPVE9UWVBFXSA9IENbUFJPVE9UWVBFXTtcbiAgICAgIHJldHVybiBGO1xuICAgIC8vIG1ha2Ugc3RhdGljIHZlcnNpb25zIGZvciBwcm90b3R5cGUgbWV0aG9kc1xuICAgIH0pKG91dCkgOiBJU19QUk9UTyAmJiB0eXBlb2Ygb3V0ID09ICdmdW5jdGlvbicgPyBjdHgoRnVuY3Rpb24uY2FsbCwgb3V0KSA6IG91dDtcbiAgICBpZihJU19QUk9UTykoZXhwb3J0c1tQUk9UT1RZUEVdIHx8IChleHBvcnRzW1BST1RPVFlQRV0gPSB7fSkpW2tleV0gPSBvdXQ7XG4gIH1cbn07XG4vLyB0eXBlIGJpdG1hcFxuJGV4cG9ydC5GID0gMTsgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgIC8vIGdsb2JhbFxuJGV4cG9ydC5TID0gNDsgIC8vIHN0YXRpY1xuJGV4cG9ydC5QID0gODsgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgLy8gYmluZFxuJGV4cG9ydC5XID0gMzI7IC8vIHdyYXBcbm1vZHVsZS5leHBvcnRzID0gJGV4cG9ydDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5leHBvcnQuanNcbiAqKiBtb2R1bGUgaWQgPSAxNlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanMvaXNzdWVzLzg2I2lzc3VlY29tbWVudC0xMTU3NTkwMjhcbnZhciBnbG9iYWwgPSBtb2R1bGUuZXhwb3J0cyA9IHR5cGVvZiB3aW5kb3cgIT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93Lk1hdGggPT0gTWF0aFxuICA/IHdpbmRvdyA6IHR5cGVvZiBzZWxmICE9ICd1bmRlZmluZWQnICYmIHNlbGYuTWF0aCA9PSBNYXRoID8gc2VsZiA6IEZ1bmN0aW9uKCdyZXR1cm4gdGhpcycpKCk7XG5pZih0eXBlb2YgX19nID09ICdudW1iZXInKV9fZyA9IGdsb2JhbDsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmdsb2JhbC5qc1xuICoqIG1vZHVsZSBpZCA9IDE3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcxLjIuNid9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuY29yZS5qc1xuICoqIG1vZHVsZSBpZCA9IDE4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBvcHRpb25hbCAvIHNpbXBsZSBjb250ZXh0IGJpbmRpbmdcbnZhciBhRnVuY3Rpb24gPSByZXF1aXJlKCcuLyQuYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKXtcbiAgYUZ1bmN0aW9uKGZuKTtcbiAgaWYodGhhdCA9PT0gdW5kZWZpbmVkKXJldHVybiBmbjtcbiAgc3dpdGNoKGxlbmd0aCl7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oYSl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKGEsIGIpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbihhLCBiLCBjKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKC8qIC4uLmFyZ3MgKi8pe1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5jdHguanNcbiAqKiBtb2R1bGUgaWQgPSAxOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIGlmKHR5cGVvZiBpdCAhPSAnZnVuY3Rpb24nKXRocm93IFR5cGVFcnJvcihpdCArICcgaXMgbm90IGEgZnVuY3Rpb24hJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuYS1mdW5jdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDIwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5mYWlscy5qc1xuICoqIG1vZHVsZSBpZCA9IDIxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnlcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvanNvbi9zdHJpbmdpZnkuanNcbiAqKiBtb2R1bGUgaWQgPSAyMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGNvcmUgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHJldHVybiAoY29yZS5KU09OICYmIGNvcmUuSlNPTi5zdHJpbmdpZnkgfHwgSlNPTi5zdHJpbmdpZnkpLmFwcGx5KEpTT04sIGFyZ3VtZW50cyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkuanNcbiAqKiBtb2R1bGUgaWQgPSAyM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXG4vKipcbiAqIEBmaWxlIHV0aWxzLmpzIC0gSlMgZmlsZSBmb3IgdXRpbHMgbWV0aG9kcy5cbiAqIEBhdXRob3IgV2ViY29tXG4gKi9cblxuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGRlc2NyaXB0aW9uIFRoZSB1dGlscyBjbGFzc1xuICovXG5jb25zdCB1dGlscyA9IGZ1bmN0aW9uKCkge1xuXHQvKipcblx0ICpcblx0ICovXG5cdGZ1bmN0aW9uIHM0KCkge1xuXHRcdHJldHVybiBNYXRoLmZsb29yKCgxICsgTWF0aC5yYW5kb20oKSkgKiAweDEwMDAwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO1xuXHR9XG5cdC8qKlxuXHQgKiBHZW5lcmF0ZXMgYW4gaWRlbnRpZmllci4gVHdvIGNhbGxzIG9mIHRoaXMgbWV0aG9kZSBtYXkgbm90IHJldHVybiB0aGUgc2FtZSBpZGVudGlmaWVyXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gLSBUaGUgaWRlbnRpZmllclxuXHQgKi9cblx0ZnVuY3Rpb24gX2d1aWQoKSB7XG5cdFx0cmV0dXJuIGAke3M0KCl9JHtzNCgpfS0ke3M0KCl9LSR7czQoKX0tJHtzNCgpfS0ke3M0KCl9JHtzNCgpfSR7czQoKX1gO1xuXHR9XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGFwcGxpY2F0aW9uIGluc3RhbmNlIGluZGVudGlmaWVyXG5cdCAqL1xuXHRjb25zdCBfYXBwSW5zdGFuY2VJZCA9IF9ndWlkKCk7XG5cblx0cmV0dXJuIHtcblx0XHRhcHBJbnN0YW5jZUlkOiBfYXBwSW5zdGFuY2VJZFxuXHR9O1xufSgpO1xuXG5leHBvcnQgZGVmYXVsdCB1dGlscztcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy91dGlscy5qc1xuICoqLyIsIi8qKlxuICogQGZpbGUgcm9vbS5qcyAtIEpTIGZpbGUgdG8gdXNlIGZvciB0aGUgcm9vbSBzZXJ2aWNlLlxuICogQGF1dGhvciBXZWJjb21cbiAqL1xuXG4vKmVzbGludCBjb21wbGV4aXR5OjEsIG1heC1zdGF0ZW1lbnRzOiAxLCBtYXgtbGVuOiAxKi9cblxuaW1wb3J0IGFjdGlvbnMgZnJvbSAnLi9hY3Rpb25zJztcbmltcG9ydCBsb2NhbHN0cmVhbSBmcm9tICcuL2xvY2Fsc3RyZWFtJztcbmltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzJztcblxuLyoqXG4gKiBST09NX1NUQVRVU19DTE9TRSBzdGF0dXMgOiByb29tIGlzIENMT1NFIC8gaW5hY3RpdmVcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgUk9PTV9TVEFUVVNfQ0xPU0UgPSAnQ0xPU0UnO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGRlc2NyaXB0aW9uIFRoZSByb29tIG9iamVjdCB3aXRoIGl0cyBzdHJlYW1zLCBtZXNzYWdlcywgZmxhZ3MgYW5kIGNhbGxiYWNrcy4gVGhlIHB1Ymxpc2hlZCBtZWRpYSBzdHJlYW1zLCB0aGUgV2ViUlRDIHN0YWNrcywgdGhlIGluc3RhbnQgbWVzc2FnZXMsIGFuZCB0aGUgcGFydGljaXBhbnQgbGlzdHNcbiAqIGFyZSBtYW5hZ2VkIGluIHRoaXMgZGF0YSBzdHJ1Y3R1cmUuXG4gKiBAcGFyYW0gcF9tZSAtIFRoZSB1c2VyIGlkZW50aWZpZXIsIGlkZW50aWZ5aW5nIHRoZSBjdXJyZW50IHVzZXIgaW4gdGhlIGRhdGFiYXNlXG4gKiBAcGFyYW0gcF9yb29tSWQgLSBUaGUgcm9vbSBpZGVudGlmaWVyLCBpZGVudGlmeWluZyBpbiB0aGUgZGF0YWJhc2UgdGhlIHJvb20gaW4gdXNlXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChwX21lLCBwX3Jvb21JZCwgZGF0YXJlZnMsIHdlYnJ0Y21uZ3IpIHtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSByb29tIGlkZW50aWZpZXIsIGlkZW50aWZ5aW5nIGEgcm9vbSBpbiB0aGUgZGF0YWJhc2Vcblx0ICovXG5cdGNvbnN0IHJvb21JZCA9IHBfcm9vbUlkO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSB1c2VyIGlkZW50aWZpZXJcblx0ICovXG5cdGNvbnN0IG1lID0gcF9tZTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBIGRhdGFyZWYgcG9pbnRlciBwb2ludGluZyB0byBhIG5vZGUgaWRlbnRpZmllZCBieSB0aGUgcm9vbSBpZGVudGlmaWVyIHVuZGVyIHRoZSByb29tcyBub2RlXG5cdCAqL1xuXHRjb25zdCBkYXRhcmVmID0gZGF0YXJlZnMuZ2V0Um9vbXMoKS5jaGlsZChyb29tSWQpO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBXZWJSVEMgc3RhY2tzIHVzZWQgaW4gdGhpcyByb29tXG5cdCAqL1xuXHRsZXQgcm9vbVdlYnJ0Y1N0YWNrcyA9IHt9O1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBhdmFpbGFibGUgc3RyZWFtc1xuXHQgKi9cblx0bGV0IG1BdmFpbGFibGVTdHJlYW1zID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyBkYXRhIHN0cnVjdHVyZXMgZm9yIHN0cmVhbXMgd2hpY2ggcG9zc2VzcyBjYWxsYmFja3MgdG8gdHJpZ2dlciBpbiBKU09OIGZvcm1hdC5cblx0ICogVGhlc2UgY2FsbGJhY2tzIGFyZSBhZGRTdWJzY3JpYmVyTGlzdENiIGFuZCByZW1vdmVTdWJzY3JpYmVyc0xpc3RDYi5cblx0ICovXG5cdGxldCBtU3RyZWFtcyA9IFtdO1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyBhbGwgdGhlIHN0cmVhbSBtYXJrZWQgYXMgbXV0ZWRcblx0ICovXG5cdGxldCBtTXV0ZWRTdHJlYW1zID0gW107XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBIGNhbGxiYWNrIHRvIHRyaWdnZXIgZm9yIHVucHVibGlzaGVkIHJlbW90ZSBvYmplY3RzXG5cdCAqL1xuXHRsZXQgcmVtb3RlVW5wdWJsaXNoZWRDYiA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBDYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIGxpc3Qgb2YgaW5zdGFudCBtZXNzYWdlcyBoYXMgYmVlbiByZWNlaXZlZFxuXHQgKi9cblx0bGV0IGluc3RhbnRNZXNzYWdlTGlzdENiID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBVc2VyJ3MgY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gYSBsaXN0IG9mIG1lZGlhcyBoYXMgYmVlbiBwdWJsaXNoZWRcblx0ICovXG5cdGxldCBwdWJsaXNoZWRNZWRpYUxpc3RDYiA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiByb29tJ3MgY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gYSBsaXN0IG9mIG1lZGlhcyBoYXMgYmVlbiBwdWJsaXNoZWRcblx0ICovXG5cdGxldCBwdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gdXNlcidzIGNhbGxiYWNrIHRyaWdnZXJlZCB3aGVuIGEgbGlzdCBvZiBtZWRpYXMgaGFzIGJlZW4gdW5wdWJsaXNoZWRcblx0ICovXG5cdGxldCB1blB1Ymxpc2hlZE1lZGlhTGlzdENiID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiByb29tJ3MgY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gYSBsaXN0IG9mIG1lZGlhcyBoYXMgYmVlbiBwdWJsaXNoZWRcblx0ICovXG5cdGxldCB1blB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBDYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIGxpc3Qgb2YgcGFydGljaXBhbnRzIGpvaW5zIHRoZSByb29tIChhZGRlZClcblx0ICovXG5cdGxldCBwYXJ0aWNpcGFudExpc3RKb2luQWRkZWRDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQ2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gYSBsaXN0IG9mIHBhcnRpY2lwYW50cyBqb2lucyB0aGUgcm9vbSAoY2hhbmdlZClcblx0ICovXG5cdGxldCBwYXJ0aWNpcGFudExpc3RKb2luQ2hhbmdlZENiID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBDYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIGxpc3Qgb2YgcGFydGljaXBhbnRzIGxlYXZlcyB0aGUgcm9vbVxuXHQgKi9cblx0bGV0IHBhcnRpY2lwYW50TGlzdExlYXZlQ2IgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBBZGRzIGFuIGF2YWlsYWJsZSBzdHJlYW1cblx0ICogQHBhcmFtIGRhdGEgLSBUaGUgc3RyZWFtIHRvIGFkZFxuXHQgKi9cblx0ZnVuY3Rpb24gX2FkZEF2YWlsYWJsZVN0cmVhbShkYXRhKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfYWRkQXZhaWxhYmxlU3RyZWFtKWRhdGE9JHtKU09OLnN0cmluZ2lmeShkYXRhKX1gKTtcblx0XHRtQXZhaWxhYmxlU3RyZWFtcy5wdXNoKGRhdGEpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgYW4gYXZhaWxhYmxlIHN0cmVhbVxuXHQgKiBAcGFyYW0gc3RyZWFtIC0gVGhlIHN0cmVhbUlkIHRvIHJlbW92ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3JlbW92ZUF2YWlsYWJsZVN0cmVhbShzdHJlYW1JZCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3JlbW92ZUF2YWlsYWJsZVN0cmVhbSlzdHJlYW1JZD0ke3N0cmVhbUlkfWApO1xuXHRcdGlmIChtQXZhaWxhYmxlU3RyZWFtcyAmJiBzdHJlYW1JZCkge1xuXHRcdFx0Zm9yIChsZXQgaSA9IG1BdmFpbGFibGVTdHJlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmIChtQXZhaWxhYmxlU3RyZWFtc1tpXSAmJiBPYmplY3Qua2V5cyhtQXZhaWxhYmxlU3RyZWFtc1tpXSlbMF0gJiYgT2JqZWN0LmtleXMobUF2YWlsYWJsZVN0cmVhbXNbaV0pWzBdID09PSBzdHJlYW1JZCkge1xuXHRcdFx0XHRcdGRlbGV0ZSBtQXZhaWxhYmxlU3RyZWFtc1tpXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyBhIFdlYmNvbSBsaXN0ZW5lci5cblx0ICogRGVmaW5lcyBjYWxsYmFja3MgKGlmIG5vdCBhbHJlYWR5IGRlZmluZWQpIGZvciA6IGluc3RhbnQgbWVzc2FnZXMsIG1lZGlhIGxpc3QgYW5kIHBhcnRpY2lwYW50cy5cblx0ICogVGhlc2UgY2FsbGJhY2tzIGFyZSBjYWxsZWQgaWYgYSBuZXcgdmFsdWUgaXMgYWRkZWQgb3IgaWYgYSB2YWx1ZSBoYXMgYmVlbiByZW1vdmVkIGluIHRoZSBkYXRhYmFzZS5cblx0ICovXG5cdGZ1bmN0aW9uIGluaXRXZWJjb21MaXN0ZW5lcigpIHtcblx0XHRpZiAoIXB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtKSB7XG5cdFx0XHRwdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSA9IGZ1bmN0aW9uIChzbmFwc2hvdCkge1xuXHRcdFx0XHRjb25zdFxuXHRcdFx0XHRcdG9iaiA9IHt9LFxuXHRcdFx0XHRcdG5hbWUgPSBzbmFwc2hvdC5uYW1lKCksXG5cdFx0XHRcdFx0dmFsdWUgPSBzbmFwc2hvdC52YWwoKTtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpvblB1Ymxpc2hlZFN0cmVhbUZvckF2YWlsYWJsZVN0cmVhbSlzdHJlYW09JHtKU09OLnN0cmluZ2lmeSh2YWx1ZSl9YCk7XG5cdFx0XHRcdG9ialtuYW1lXSA9IHZhbHVlO1xuXHRcdFx0XHRvYmpbbmFtZV0ucm9vbUlkID0gcm9vbUlkO1xuXHRcdFx0XHRfYWRkQXZhaWxhYmxlU3RyZWFtKG9iaik7XG5cdFx0XHR9O1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0Jykub24oJ2NoaWxkX2FkZGVkJywgcHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0pO1xuXHRcdH1cblxuXHRcdGlmICghdW5QdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSkge1xuXHRcdFx0dW5QdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSA9IGZ1bmN0aW9uIChzbmFwc2hvdCkge1xuXHRcdFx0XHRjb25zdCBzdHJlYW1JZCA9IHNuYXBzaG90Lm5hbWUoKTtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpvblVuUHVibGlzaGVkU3RyZWFtRm9yQXZhaWxhYmxlU3RyZWFtKXN0cmVhbT0ke3N0cmVhbUlkfWApO1xuXHRcdFx0XHRfcmVtb3ZlQXZhaWxhYmxlU3RyZWFtKHN0cmVhbUlkKTtcblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdwdWJsaXNoZWRNZWRpYUxpc3QnKS5vbignY2hpbGRfcmVtb3ZlZCcsIHVuUHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgcm9vbSBvYmplY3QgYnkgYWRkaW5nIGEgbmV3IHZhbHVlIGluIGEgY2hpbGQgaWRlbnRpZmllZCBieSB0aGUgdXNlciBpZGVudGlmaWVyIHVuZGVyXG5cdCAqIHRoZSBwYXJ0aWNpcGFudExpc3Qgbm9kZVxuXHQgKi9cblx0ZnVuY3Rpb24gaW5pdCgpIHtcblx0XHRkYXRhcmVmLmNoaWxkKGBwYXJ0aWNpcGFudExpc3QvJHttZX1gKS51cGRhdGUoe1xuXHRcdFx0Y29ubmVjdGVkOiB0cnVlLFxuXHRcdFx0d2FzSW5zaWRlUm9vbTogdHJ1ZVxuXHRcdH0pO1xuXHRcdGRhdGFyZWYuY2hpbGQoYHBhcnRpY2lwYW50TGlzdC8ke21lfS9jb25uZWN0ZWRgKS5vbkRpc2Nvbm5lY3QoKS5zZXQoZmFsc2UpO1xuXHRcdGluaXRXZWJjb21MaXN0ZW5lcigpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybiB0aGUgcm9vbSBpZGVudGlmaWVyXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gLSBUaGUgcm9vbSBpZGVudGlmaWVyXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0Um9vbUlkKCkge1xuXHRcdHJldHVybiByb29tSWQ7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgdXNlciBpZGVudGlmaWVyXG5cdCAqIEByZXR1cm4ge3N0cmluZ30gLSBUaGUgdXNlciBpZGVudGlmaWVyXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0TWUoKSB7XG5cdFx0cmV0dXJuIG1lO1xuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSBQYXJ0aWNpcGFudHMgYWRkZWQgbGlzdGVuZXIuXG5cdCAqIERlZmluZXMgY2FsbGJhY2sgKHJlbW92ZSBhbnkgZXhpc3Rpbmcgb25lKSBmb3IgdGhlIHBhcnRpY2lwYW50cy5cblx0ICogVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQsIGZpcnN0IGZvciBhbnkgZXhpc3RpbmcgY29ubmVjdGVkIHBhcnRpY2lwYW50cywgdGhlbiB3aGVuIGEgbmV3IHBhcnRpY2lwYW50IGlzIGFkZGVkLlxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE9uUGFydGljaXBhbnRKb2luKHBfY2IpIHtcblx0XHRjb25zdCBwYXJ0aWNpcGFudExpc3RSZWYgPSBkYXRhcmVmLmNoaWxkKCdwYXJ0aWNpcGFudExpc3QnKTtcblxuXHRcdGlmIChwYXJ0aWNpcGFudExpc3RKb2luQWRkZWRDYikge1xuXHRcdFx0cGFydGljaXBhbnRMaXN0UmVmLm9mZignY2hpbGRfYWRkZWQnLCBwYXJ0aWNpcGFudExpc3RKb2luQWRkZWRDYik7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RKb2luQWRkZWRDYiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHBhcnRpY2lwYW50TGlzdEpvaW5DaGFuZ2VkQ2IpIHtcblx0XHRcdHBhcnRpY2lwYW50TGlzdFJlZi5vZmYoJ2NoaWxkX2NoYW5nZWQnLCBwYXJ0aWNpcGFudExpc3RKb2luQ2hhbmdlZENiKTtcblx0XHRcdHBhcnRpY2lwYW50TGlzdEpvaW5DaGFuZ2VkQ2IgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiID0gKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHVzZXIgPSBzbmFwc2hvdC5uYW1lKCk7XG5cdFx0XHRcdGlmIChzbmFwc2hvdC52YWwoKSAmJiBzbmFwc2hvdC52YWwoKS5jb25uZWN0ZWQgJiYgc25hcHNob3QudmFsKCkud2FzSW5zaWRlUm9vbSkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3NldE9uUGFydGljaXBhbnRKb2luKSB1c2VyIGhhcyBqb2luZWQ6ICR7dXNlcn1gKTtcblx0XHRcdFx0XHRwX2NiKHVzZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0cGFydGljaXBhbnRMaXN0UmVmLm9uKCdjaGlsZF9hZGRlZCcsIHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiKTtcblxuXHRcdFx0cGFydGljaXBhbnRMaXN0Sm9pbkNoYW5nZWRDYiA9IGZ1bmN0aW9uIChzbmFwc2hvdCkge1xuXHRcdFx0XHRjb25zdCB1c2VyID0gc25hcHNob3QubmFtZSgpO1xuXHRcdFx0XHRpZiAoc25hcHNob3QudmFsKCkgJiYgKHNuYXBzaG90LnZhbCgpLmNvbm5lY3RlZCAmJiBzbmFwc2hvdC52YWwoKS53YXNJbnNpZGVSb29tKSkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3NldE9uUGFydGljaXBhbnRKb2luKSB1c2VyIGhhcyBqb2luZWQ6ICR7dXNlcn1gKTtcblx0XHRcdFx0XHRwX2NiKHVzZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0cGFydGljaXBhbnRMaXN0UmVmLm9uKCdjaGlsZF9jaGFuZ2VkJywgcGFydGljaXBhbnRMaXN0Sm9pbkNoYW5nZWRDYik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfc2V0T25QYXJ0aWNpcGFudEpvaW4pcGFyYW1ldGVyIGluY29ycmVjdC4gRXhwZWN0ZWQgZnVuY3Rpb25gKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIFBhcnRpY2lwYW50cyBsZWZ0IGxpc3RlbmVyLlxuXHQgKiBEZWZpbmVzIGNhbGxiYWNrIChyZW1vdmUgYW55IGV4aXN0aW5nIG9uZSkgZm9yIHRoZSBwYXJ0aWNpcGFudHMuXG5cdCAqIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIHdoZW4gYSBuZXcgcGFydGljaXBhbnQgaXMgcmVtb3ZlZC5cblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRPblBhcnRpY2lwYW50TGVhdmUocF9jYikge1xuXG5cdFx0aWYgKHBhcnRpY2lwYW50TGlzdExlYXZlQ2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3BhcnRpY2lwYW50TGlzdCcpLm9mZignY2hpbGRfY2hhbmdlZCcsIHBhcnRpY2lwYW50TGlzdExlYXZlQ2IpO1xuXHRcdFx0cGFydGljaXBhbnRMaXN0TGVhdmVDYiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0cGFydGljaXBhbnRMaXN0TGVhdmVDYiA9IChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRjb25zdCB1c2VyID0gc25hcHNob3QubmFtZSgpO1xuXHRcdFx0XHRpZiAoc25hcHNob3QudmFsKCkgJiYgKCFzbmFwc2hvdC52YWwoKS5jb25uZWN0ZWQgJiYgc25hcHNob3QudmFsKCkud2FzSW5zaWRlUm9vbSkpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9zZXRPblBhcnRpY2lwYW50TGVhdmUpIHVzZXIgaGFzIGxlZnQ6ICR7dXNlcn1gKTtcblx0XHRcdFx0XHRwX2NiKHVzZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgncGFydGljaXBhbnRMaXN0Jykub24oJ2NoaWxkX2NoYW5nZWQnLCBwYXJ0aWNpcGFudExpc3RMZWF2ZUNiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9zZXRPblBhcnRpY2lwYW50TGVhdmUpcGFyYW1ldGVyIGluY29ycmVjdC4gRXhwZWN0ZWQgZnVuY3Rpb25gKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU2VuZHMgYW4gaW5zdGFudCBtZXNzYWdlIGJ5IHB1c2hpbmcgYW4gbmV3IGVsZW1lbnQgaW4gdGhlIGRhdGFiYXNlIHdpdGggYSB0aW1lc3RhbXAsIHRoZSBtZXNzYWdlIGFuZCBpdHMgYXV0aG9yIChpLmUuIHRoZSBjdXJyZW50IHVzZXIpXG5cdCAqIEBwYXJhbSB7c3RyaW5nfXBfbWVzc2FnZSAtIFRoZSBtZXNzYWdlIHRvIHNlbmRcblx0ICovXG5cdGZ1bmN0aW9uIF9zZW5kSW5zdGFudE1lc3NhZ2UocF9tZXNzYWdlKSB7XG5cdFx0aWYgKHBfbWVzc2FnZSAhPT0gJycpIHtcblx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6c2VuZEluc3RhbnRNZXNzYWdlKW1lc3NhZ2U9JHtwX21lc3NhZ2V9YCk7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdpbnN0YW50TWVzc2FnZUxpc3QnKS5wdXNoKHtcblx0XHRcdFx0ZnJvbTogbWUsXG5cdFx0XHRcdG1lc3NhZ2U6IHBfbWVzc2FnZSxcblx0XHRcdFx0dGltZXN0YW1wOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QXG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIGluc3RhbnQgbWVzc2FnZSBsaXN0ZW5lci5cblx0ICogRGVmaW5lcyBjYWxsYmFjayAocmVtb3ZlIGFueSBleGlzdGluZyBvbmUpIGZvciA6IGluc3RhbnQgbWVzc2FnZXMuXG5cdCAqIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkLCBmaXJzdCBmb3IgYW55IGV4aXN0aW5nIGluc3RhbnQgbWVzc2FnZXMsIHRoZW4gd2hlbiBhIG5ldyB2YWx1ZSBpcyBhZGRlZCBpbiB0aGUgZGF0YWJhc2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0T25JbnN0YW50TWVzc2FnZShwX2NiKSB7XG5cdFx0aWYgKGluc3RhbnRNZXNzYWdlTGlzdENiKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdpbnN0YW50TWVzc2FnZUxpc3QnKS5vZmYoJ2NoaWxkX2FkZGVkJywgaW5zdGFudE1lc3NhZ2VMaXN0Q2IpO1xuXHRcdFx0aW5zdGFudE1lc3NhZ2VMaXN0Q2IgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRpbnN0YW50TWVzc2FnZUxpc3RDYiA9IGZ1bmN0aW9uIChzbmFwc2hvdCkge1xuXHRcdFx0XHRjb25zdCBvYmogPSBzbmFwc2hvdC52YWwoKTtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfc2V0T25JbnN0YW50TWVzc2FnZSlyZWNlaXZlIEluc3RhbnRNZXNzYWdlPSR7SlNPTi5zdHJpbmdpZnkob2JqKX1gKTtcblx0XHRcdFx0cF9jYihvYmopO1xuXHRcdFx0fTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ2luc3RhbnRNZXNzYWdlTGlzdCcpLm9uKCdjaGlsZF9hZGRlZCcsIGluc3RhbnRNZXNzYWdlTGlzdENiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9zZXRPbkluc3RhbnRNZXNzYWdlKXBhcmFtZXRlciBpbmNvcnJlY3QuIEV4cGVjdGVkIGZ1bmN0aW9uYCk7XG5cdFx0fVxuXHR9XG5cblxuXHQvKipcblx0ICogUHVibGlzaGVzIHRoZSBzdHJlYW1cblx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIGlkZW50aWZpZXIgb2YgdGhlIHN0cmVhbSB0byBwdWJsaXNoXG5cdCAqIEBwYXJhbSBsb2NhbFZpZCAtIFRoZSBsb2NhbCB2aWRlb1xuXHQgKiBAcGFyYW0gcF9hY3Rpb25UeXBlIC0gQSB2YWx1ZSBkZXRlcm1pbmluZyB0aGUgdHlwZSBvZiBzdHJlYW0gaW4gdXNlICh2aWRlbywgYXVkaW8sIHZpZGVvIGFuZCBhdWRpbywgc2NyZWVuLXNoYXJpbmcpLlxuXHQgKiBAcGFyYW0gZ2V0TG9jYWxTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHQgKi9cblx0ZnVuY3Rpb24gX3B1Ymxpc2hTdHJlYW0oc3RyZWFtSWQsIGxvY2FsVmlkLCBwX2FjdGlvblR5cGUsIGdldExvY2FsU3RyZWFtQ2IpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06OnB1Ymxpc2hTdHJlYW0pcm9vbUlkPSR7cm9vbUlkfSxzdHJlYW1JZD0ke3N0cmVhbUlkfSxtZT0ke21lfSxhY3Rpb25UeXBlPSR7cF9hY3Rpb25UeXBlfWApO1xuXHRcdGlmICghKHN0cmVhbUlkICYmIHR5cGVvZiBzdHJlYW1JZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbSlwYXJhbWV0ZXIgc3RyZWFtSWQgaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZycpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zdCBsb2NhbERhdGFSZWYgPSBkYXRhcmVmLmNoaWxkKCdwdWJsaXNoZWRNZWRpYUxpc3QnKS5jaGlsZChzdHJlYW1JZCk7XG5cdFx0Y29uc3QgcmVtb3RlRGF0YVJlZiA9IGxvY2FsRGF0YVJlZi5jaGlsZCgnc3Vic2NyaWJlcnNMaXN0Jyk7XG5cblx0XHRjb25zdCBwdWJBbmRTdWJzY3JpYmUgPSAoKSA9PiB7XG5cdFx0XHQvLyBwdWJsaXNoIHRoZSBzdHJlYW1cblx0XHRcdGxvY2FsRGF0YVJlZi5zZXQoe1xuXHRcdFx0XHRmcm9tOiBtZSxcblx0XHRcdFx0YXBwSW5zdGFuY2VJZDogdXRpbHMuYXBwSW5zdGFuY2VJZCxcblx0XHRcdFx0YWN0aW9uVHlwZTogcF9hY3Rpb25UeXBlXG5cdFx0XHR9KTtcblx0XHRcdGxvY2FsRGF0YVJlZi5vbkRpc2Nvbm5lY3QoKS5yZW1vdmUoKTtcblxuXHRcdFx0Ly8gc3Vic2NyaWJlIHRvIHN0cmVhbSB1cGRhdGVzIGZvciBhZGRcblx0XHRcdGNvbnN0IGFkZFN1YnNjcmliZXJzTGlzdENiID0gKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRcdGNvbnN0XG5cdFx0XHRcdFx0cmVtb3RlQXBwSW5zdGFuY2VJZCA9IHNuYXBzaG90Lm5hbWUoKSxcblx0XHRcdFx0XHRkYXRhID0gc25hcHNob3QudmFsKCksXG5cdFx0XHRcdFx0X3N1YnNjcmliZXJJZCA9IGRhdGEudXNlcklkLFxuXHRcdFx0XHRcdF9wZWVyY29JZCA9IGRhdGEucGVlcmNvSWQsXG5cdFx0XHRcdFx0X3BlZXJjb1JlZiA9IGRhdGEucGVlcmNvUmVmLFxuXHRcdFx0XHRcdGlzQXVkaW9NdXRlID0gbU11dGVkU3RyZWFtc1tzdHJlYW1JZF0gJiYgbU11dGVkU3RyZWFtc1tzdHJlYW1JZF0uYXVkaW8sXG5cdFx0XHRcdFx0aXNWaWRlb011dGUgPSBtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXSAmJiBtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXS52aWRlbyxcblx0XHRcdFx0XHRzdHJlYW1TdGFja0lkID0gYCR7c3RyZWFtSWR9X3B1YmA7XG5cblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpwdWJsaXNoU3RyZWFtOjphZGRTdWJzY3JpYmVyc0xpc3RDYilzdWJzY3JpYmVyICR7X3N1YnNjcmliZXJJZH0gdG8gc3RyZWFtICR7c3RyZWFtSWR9IGFkZGVkICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9YCk7XG5cblx0XHRcdFx0aWYgKCFyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrSWRdKSB7XG5cdFx0XHRcdFx0cm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja0lkXSA9IFtdO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Y29uc3QgbVN0YWNrSWQgPSB3ZWJydGNtbmdyLmNyZWF0ZVdlYnJ0Yyhsb2NhbFZpZCwgcmVtb3RlQXBwSW5zdGFuY2VJZCwgKCkgPT4ge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6cHVibGlzaFN0cmVhbTo6YWRkU3Vic2NyaWJlcnNMaXN0Q2Ipc3Vic2NyaWJlciAke19zdWJzY3JpYmVySWR9IHRvIHN0cmVhbSAke3N0cmVhbUlkfSBjb25uZWN0aW9uIGxvc3RgKTtcblx0XHRcdFx0XHQvL29uVW5QdWJsaXNoZWRTdHJlYW0obG9jYWxWaWQsIHJlbW90ZVZpZCk7XG5cdFx0XHRcdH0sIHRydWUsIHBfYWN0aW9uVHlwZSwgX3BlZXJjb0lkLCBfcGVlcmNvUmVmLCBpc0F1ZGlvTXV0ZSwgaXNWaWRlb011dGUpO1xuXG5cdFx0XHRcdHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tJZF0ucHVzaCh7XG5cdFx0XHRcdFx0c3RhY2tJZDogbVN0YWNrSWQsXG5cdFx0XHRcdFx0c3Vic2NyaWJlcklkOiBfc3Vic2NyaWJlcklkLFxuXHRcdFx0XHRcdGlzUHVibGlzaDogdHJ1ZSxcblx0XHRcdFx0XHRwZWVyY29JZDogX3BlZXJjb0lkLFxuXHRcdFx0XHRcdHBlZXJjb1JlZjogX3BlZXJjb1JlZlxuXHRcdFx0XHR9KTtcblx0XHRcdFx0Ly9kZWxldGUgcm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1JZCtcIl9wdWJcIl07XG5cdFx0XHRcdC8vJChcImRpdiN2aWRlb0J1dHRvbl9cIityb29tSWQrXCIudmlkZW9CdXR0b24sIGRpdiNtaWNCdXR0b25fXCIrcm9vbUlkK1wiLm1pY0J1dHRvblwiKS5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpO1xuXHRcdFx0fTtcblxuXHRcdFx0Ly8gc3Vic2NyaWJlIHRvIHN0cmVhbSB1cGRhdGVzIGZvciByZW1vdmVcblx0XHRcdGNvbnN0IHJlbW92ZVN1YnNjcmliZXJzTGlzdENiID0gKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRcdGNvbnN0XG5cdFx0XHRcdFx0c3Vic2NyaWJlcklkID0gc25hcHNob3QubmFtZSgpLFxuXHRcdFx0XHRcdHN0cmVhbVN0YWNrcyA9IHJvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3B1YmBdO1xuXG5cdFx0XHRcdGlmIChzdWJzY3JpYmVySWQgJiYgc3RyZWFtU3RhY2tzKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpwdWJsaXNoU3RyZWFtOjpyZW1vdmVTdWJzY3JpYmVyc0xpc3RDYilzdWJzY3JpYmVyICR7c3Vic2NyaWJlcklkfSB0byBzdHJlYW0gJHtzdHJlYW1JZH0gcmVtb3ZlZGApO1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSBzdHJlYW1TdGFja3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHRcdGlmIChzdHJlYW1TdGFja3NbaV0uc3Vic2NyaWJlcklkID09PSBzdWJzY3JpYmVySWQpIHtcblx0XHRcdFx0XHRcdFx0d2VicnRjbW5nci5jbG9zZVdlYnJ0YyhzdHJlYW1TdGFja3NbaV0uc3RhY2tJZCwgdHJ1ZSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRlbGV0ZSByb29tV2VicnRjU3RhY2tzW2Ake3N0cmVhbUlkfV9wdWJgXTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0bVN0cmVhbXNbc3RyZWFtSWRdID0ge1xuXHRcdFx0XHRhZGRTdWJzY3JpYmVyc0xpc3RDYixcblx0XHRcdFx0cmVtb3ZlU3Vic2NyaWJlcnNMaXN0Q2Jcblx0XHRcdH07XG5cblx0XHRcdHJlbW90ZURhdGFSZWYub24oJ2NoaWxkX2FkZGVkJywgYWRkU3Vic2NyaWJlcnNMaXN0Q2IpO1xuXHRcdFx0cmVtb3RlRGF0YVJlZi5vbignY2hpbGRfcmVtb3ZlZCcsIHJlbW92ZVN1YnNjcmliZXJzTGlzdENiKTtcblx0XHR9O1xuXG5cdFx0Ly9pbml0IGxvY2FsIHN0cmVhbVxuXHRcdGlmIChwX2FjdGlvblR5cGUpIHtcblx0XHRcdGlmIChwX2FjdGlvblR5cGUgPT09IGFjdGlvbnMuQUNUSU9OX1RZUEVfVklERU8pIHtcblx0XHRcdFx0bG9jYWxzdHJlYW0uY29ubmVjdExvY2FsVmlkZW9TdHJlYW0obG9jYWxWaWQsIHB1YkFuZFN1YnNjcmliZSwgZ2V0TG9jYWxTdHJlYW1DYik7XG5cdFx0XHR9IGVsc2UgaWYgKHBfYWN0aW9uVHlwZSA9PT0gYWN0aW9ucy5BQ1RJT05fVFlQRV9BVURJTykge1xuXHRcdFx0XHRsb2NhbHN0cmVhbS5jb25uZWN0TG9jYWxBdWRpb1N0cmVhbShsb2NhbFZpZCwgcHViQW5kU3Vic2NyaWJlLCBnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdH0gZWxzZSBpZiAocF9hY3Rpb25UeXBlID09PSBhY3Rpb25zLkFDVElPTl9UWVBFX0FVRElPX1ZJREVPKSB7XG5cdFx0XHRcdGxvY2Fsc3RyZWFtLmNvbm5lY3RMb2NhbEF1ZGlvVmlkZW9TdHJlYW0obG9jYWxWaWQsIHB1YkFuZFN1YnNjcmliZSwgZ2V0TG9jYWxTdHJlYW1DYik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSBQdWJsaXNoZWQgTWVkaWFMaXN0IGxpc3RlbmVyLlxuXHQgKiBEZWZpbmVzIGNhbGxiYWNrIChyZW1vdmUgYW55IGV4aXN0aW5nIG9uZSkgZm9yIDogcHVibGlzaGVkIE1lZGlhLlxuXHQgKiBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCwgZmlyc3QgZm9yIGFueSBleGlzdGluZyBwdWJsaXNoZWQgbWVkaWEsIHRoZW4gd2hlbiBhIG5ldyB2YWx1ZSBpcyBhZGRlZCBpbiB0aGUgZGF0YWJhc2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0T25QdWJsaXNoZWRTdHJlYW0ocF9jYikge1xuXG5cdFx0aWYgKHB1Ymxpc2hlZE1lZGlhTGlzdENiKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdwdWJsaXNoZWRNZWRpYUxpc3QnKS5vZmYoJ2NoaWxkX2FkZGVkJywgcHVibGlzaGVkTWVkaWFMaXN0Q2IpO1xuXHRcdFx0cHVibGlzaGVkTWVkaWFMaXN0Q2IgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRwdWJsaXNoZWRNZWRpYUxpc3RDYiA9IGZ1bmN0aW9uIChzbmFwc2hvdCkge1xuXHRcdFx0XHRjb25zdFxuXHRcdFx0XHRcdG9iaiA9IHt9LFxuXHRcdFx0XHRcdG5hbWUgPSBzbmFwc2hvdC5uYW1lKCk7XG5cdFx0XHRcdG9ialtuYW1lXSA9IHNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRvYmpbbmFtZV0ucm9vbUlkID0gcm9vbUlkO1xuXHRcdFx0XHRwX2NiKG9iaik7XG5cdFx0XHR9O1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0Jykub24oJ2NoaWxkX2FkZGVkJywgcHVibGlzaGVkTWVkaWFMaXN0Q2IpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3NldE9uUHVibGlzaGVkU3RyZWFtKXBhcmFtZXRlciBpbmNvcnJlY3QuIEV4cGVjdGVkIGZ1bmN0aW9uYCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFVucHVibGlzaGVzIHRoZSBzdHJlYW1cblx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gVGhlIGNhbGxiYWNrIHRvIHRyaWdnZXJcblx0ICovXG5cdGZ1bmN0aW9uIF91blB1Ymxpc2hTdHJlYW0oc3RyZWFtSWQsIGNhbGxiYWNrKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjp1blB1Ymxpc2hTdHJlYW0pc3RyZWFtSWQgJHtzdHJlYW1JZH1gKTtcblx0XHRjb25zdFxuXHRcdFx0bG9jYWxEYXRhUmVmID0gZGF0YXJlZi5jaGlsZChgcHVibGlzaGVkTWVkaWFMaXN0LyR7c3RyZWFtSWR9YCksXG5cdFx0XHRyZW1vdGVEYXRhUmVmID0gbG9jYWxEYXRhUmVmLmNoaWxkKCdzdWJzY3JpYmVyc0xpc3QnKSxcblx0XHRcdHN0cmVhbVN0YWNrc0lkID0gYCR7c3RyZWFtSWR9X3B1YmA7XG5cblx0XHRpZiAobVN0cmVhbXNbc3RyZWFtSWRdICYmIG1TdHJlYW1zW3N0cmVhbUlkXS5hZGRTdWJzY3JpYmVyc0xpc3RDYikge1xuXHRcdFx0cmVtb3RlRGF0YVJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgbVN0cmVhbXNbc3RyZWFtSWRdLmFkZFN1YnNjcmliZXJzTGlzdENiKTtcblx0XHR9XG5cdFx0aWYgKG1TdHJlYW1zW3N0cmVhbUlkXSAmJiBtU3RyZWFtc1tzdHJlYW1JZF0ucmVtb3ZlU3Vic2NyaWJlcnNMaXN0Q2IpIHtcblx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9yZW1vdmVkJywgbVN0cmVhbXNbc3RyZWFtSWRdLnJlbW92ZVN1YnNjcmliZXJzTGlzdENiKTtcblx0XHR9XG5cblx0XHRkZWxldGUgbVN0cmVhbXNbc3RyZWFtSWRdO1xuXHRcdGRlbGV0ZSBtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXTtcblxuXHRcdGxvY2FsRGF0YVJlZi5vbkRpc2Nvbm5lY3QoKS5jYW5jZWwoKTtcblx0XHRsb2NhbERhdGFSZWYucmVtb3ZlKCk7XG5cblxuXHRcdGlmIChyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXSAmJiByb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXS5sZW5ndGggPiAwKSB7XG5cdFx0XHRsZXQgbmJTdGFjayA9IHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdLmxlbmd0aDtcblx0XHRcdGNvbnN0IGNsb3NlQ2IgPSAoKSA9PiB7XG5cdFx0XHRcdG5iU3RhY2stLTtcblx0XHRcdFx0aWYgKG5iU3RhY2sgPCAxKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdO1xuXHRcdFx0XHRcdGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRmb3IgKGxldCBpID0gbmJTdGFjayAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdHdlYnJ0Y21uZ3IuY2xvc2VXZWJydGMocm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF1baV0uc3RhY2tJZCwgdHJ1ZSwgY2xvc2VDYik7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlbGV0ZSByb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXTtcblx0XHRcdGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdH1cblxuXG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIHVuUHVibGlzaGVkIE1lZGlhTGlzdCBsaXN0ZW5lci5cblx0ICogRGVmaW5lcyBjYWxsYmFjayAocmVtb3ZlIGFueSBleGludGluZyBvbmUpIGZvciA6IHVucHVibGlzaGVkIE1lZGlhLlxuXHQgKiBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCB3aGVuIGEgbWVkaWEgaXMgdW5wdWJsaXNoLlxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE9uVW5QdWJsaXNoZWRTdHJlYW0ocF9jYikge1xuXG5cdFx0aWYgKHVuUHVibGlzaGVkTWVkaWFMaXN0Q2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpLm9mZignY2hpbGRfcmVtb3ZlZCcsIHVuUHVibGlzaGVkTWVkaWFMaXN0Q2IpO1xuXHRcdFx0dW5QdWJsaXNoZWRNZWRpYUxpc3RDYiA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdHVuUHVibGlzaGVkTWVkaWFMaXN0Q2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0cF9jYihzbmFwc2hvdC5uYW1lKCkpO1xuXHRcdFx0fTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpLm9uKCdjaGlsZF9yZW1vdmVkJywgdW5QdWJsaXNoZWRNZWRpYUxpc3RDYik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfc2V0T25VblB1Ymxpc2hlZFN0cmVhbSlwYXJhbWV0ZXIgaW5jb3JyZWN0LiBFeHBlY3RlZCBmdW5jdGlvbmApO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTdWJzY3JpYmVzIHRvIGEgc3RyZWFtIGFuZCBhZGRzIGNhbGxiYWNrcyB0byB0aGUgZGVkaWNhdGVkIG5vZGUgYWNjb3JkaW5nIHRvIHRoZSBhY3Rpb24gdHlwZSBvZiB0aGUgc3RyZWFtIGRhdGEuXG5cdCAqIEBwYXJhbSBzdHJlYW1EYXRhIC0gVGhlIHN0cmVhbSBkYXRhXG5cdCAqIEBwYXJhbSByZW1vdGVWaWQgLSBUaGUgcmVtb3RlIHZpZGVvXG5cdCAqIEBwYXJhbSBnZXRSZW1vdGVTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHQgKi9cblx0ZnVuY3Rpb24gX3N1YnNjcmliZVRvU3RyZWFtKHN0cmVhbURhdGEsIHJlbW90ZVZpZCwgZ2V0UmVtb3RlU3RyZWFtQ2IpIHtcblx0XHRjb25zdFxuXHRcdFx0c3RyZWFtSWQgPSBPYmplY3Qua2V5cyhzdHJlYW1EYXRhKVswXSxcblx0XHRcdGFjdGlvblR5cGUgPSBzdHJlYW1EYXRhW3N0cmVhbUlkXS5hY3Rpb25UeXBlO1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6c3Vic2NyaWJlVG9TdHJlYW0pc3RyZWFtSWQgJHtzdHJlYW1JZH1gKTtcblx0XHQvL3Rlc3QgaWYgc3RyZWFtIGlzIG5vdCBvdXJcblx0XHRpZiAobVN0cmVhbXMgJiYgbVN0cmVhbXNbc3RyZWFtSWRdKSB7XG5cdFx0XHQvL2l0IGlzIG91ciBzdHJlYW0gLT4gc3Vic2NyaWJlIHRvIGxvY2FsU3RyZWFtXG5cdFx0XHRpZiAoYWN0aW9uVHlwZSkge1xuXHRcdFx0XHRpZiAoYWN0aW9uVHlwZSA9PT0gYWN0aW9ucy5BQ1RJT05fVFlQRV9WSURFTykge1xuXHRcdFx0XHRcdGxvY2Fsc3RyZWFtLmNvbm5lY3RMb2NhbFZpZGVvU3RyZWFtKHJlbW90ZVZpZCwgZ2V0UmVtb3RlU3RyZWFtQ2IpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGFjdGlvblR5cGUgPT09IGFjdGlvbnMuQUNUSU9OX1RZUEVfQVVESU8pIHtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5jb25uZWN0TG9jYWxBdWRpb1N0cmVhbShyZW1vdGVWaWQsIGdldFJlbW90ZVN0cmVhbUNiKTtcblx0XHRcdFx0fSBlbHNlIGlmIChhY3Rpb25UeXBlID09PSBhY3Rpb25zLkFDVElPTl9UWVBFX0FVRElPX1ZJREVPKSB7XG5cdFx0XHRcdFx0bG9jYWxzdHJlYW0uY29ubmVjdExvY2FsQXVkaW9WaWRlb1N0cmVhbShyZW1vdGVWaWQsIGdldFJlbW90ZVN0cmVhbUNiKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHN0cmVhbUlkO1xuXHRcdH1cblxuXG5cdFx0Y29uc3Rcblx0XHRcdGFwcEluc3RhbmNlSWQgPSBzdHJlYW1EYXRhW3N0cmVhbUlkXS5hcHBJbnN0YW5jZUlkLFxuXHRcdFx0bG9jYWxEYXRhUmVmID0gZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0JykuY2hpbGQoc3RyZWFtSWQpLFxuXHRcdFx0cmVtb3RlRGF0YVJlZiA9IGxvY2FsRGF0YVJlZi5jaGlsZCgnc3Vic2NyaWJlcnNMaXN0JyksXG5cdFx0XHRzdHJlYW1TdGFja3NJZCA9IGAke3N0cmVhbUlkfV9zdWJgO1xuXG5cdFx0bGV0IF9wZWVyY29JZCwgX3BlZXJjb1JlZjtcblxuXHRcdGlmICghcm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF0pIHtcblx0XHRcdHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdID0gW107XG5cdFx0fSBlbHNlIGlmIChyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXSAmJiByb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXVswXSAmJiByb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXVswXS5wZWVyY29JZCkge1xuXHRcdFx0X3BlZXJjb0lkID0gcm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF1bMF0ucGVlcmNvSWQ7XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJucyBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIChpbmNsdWRlZCkgYW5kIG1heCAoaW5jbHVkZWQpXG5cdFx0Ly8gVXNpbmcgTWF0aC5yb3VuZCgpIHdpbGwgZ2l2ZSB5b3UgYSBub24tdW5pZm9ybSBkaXN0cmlidXRpb24hXG5cdFx0Y29uc3QgZ2V0UmFuZG9tSW50SW5jbHVzaXZlID0gKG1pbiwgbWF4KSA9PiB7XG5cdFx0XHRyZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcblx0XHR9O1xuXG5cdFx0aWYgKCFfcGVlcmNvSWQpIHtcblx0XHRcdF9wZWVyY29JZCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSkudG9TdHJpbmcoKSArIGdldFJhbmRvbUludEluY2x1c2l2ZSgwLCAxMDAwMDAwKTtcblx0XHR9XG5cblx0XHRfcGVlcmNvUmVmID0gZGF0YXJlZnMuZ2V0V2VicnRjKCkucHVzaCgpLm5hbWUoKTtcblxuXHRcdHJlbW90ZURhdGFSZWYuY2hpbGQodXRpbHMuYXBwSW5zdGFuY2VJZCkuc2V0KHtcblx0XHRcdHRzOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QLFxuXHRcdFx0dXNlcklkOiBtZSxcblx0XHRcdHBlZXJjb0lkOiBfcGVlcmNvSWQsXG5cdFx0XHRwZWVyY29SZWY6IF9wZWVyY29SZWZcblx0XHR9KTtcblxuXHRcdGNvbnN0XG5cdFx0XHRpc0F1ZGlvTXV0ZSA9IG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdICYmIG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLmF1ZGlvLFxuXHRcdFx0aXNWaWRlb011dGUgPSBtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXSAmJiBtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXS52aWRlbztcblxuXHRcdGNvbnN0IG1TdGFja0lkID0gd2VicnRjbW5nci5jcmVhdGVXZWJydGMocmVtb3RlVmlkLCBhcHBJbnN0YW5jZUlkLCAoKSA9PiB7XG5cdFx0XHQvL1x0b25VblB1Ymxpc2hlZFN0cmVhbShsb2NhbFZpZCwgcmVtb3RlVmlkKTtcblx0XHR9LCBmYWxzZSwgYWN0aW9uVHlwZSwgX3BlZXJjb0lkLCBfcGVlcmNvUmVmLCBpc0F1ZGlvTXV0ZSwgaXNWaWRlb011dGUsIGdldFJlbW90ZVN0cmVhbUNiKTtcblxuXHRcdC8vaGFuZGxlIHJlbW90ZSB1bnB1Ymxpc2hcblx0XHRpZiAoIXJlbW90ZVVucHVibGlzaGVkQ2IpIHtcblx0XHRcdHJlbW90ZVVucHVibGlzaGVkQ2IgPSBmdW5jdGlvbiAoc25hcHNob3QpIHtcblx0XHRcdFx0Y29uc3QgcmVtb3ZlZFN0cmVhbUlkID0gYCR7T2JqZWN0LmtleXMoc25hcHNob3QpWzBdfV9zdWJgO1xuXHRcdFx0XHRpZiAocm9vbVdlYnJ0Y1N0YWNrc1tyZW1vdmVkU3RyZWFtSWRdKSB7XG5cdFx0XHRcdFx0bGV0IGkgPSAwO1xuXHRcdFx0XHRcdHdoaWxlIChpIDwgcm9vbVdlYnJ0Y1N0YWNrc1tyZW1vdmVkU3RyZWFtSWRdLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0d2VicnRjbW5nci5jbG9zZVdlYnJ0Yyhyb29tV2VicnRjU3RhY2tzW3JlbW92ZWRTdHJlYW1JZF1baV0uc3RhY2tJZCwgZmFsc2UpO1xuXHRcdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkZWxldGUgcm9vbVdlYnJ0Y1N0YWNrc1tyZW1vdmVkU3RyZWFtSWRdO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0Jykub24oJ2NoaWxkX3JlbW92ZWQnLCByZW1vdGVVbnB1Ymxpc2hlZENiKTtcblx0XHR9XG5cblx0XHRyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXS5wdXNoKHtcblx0XHRcdHN0YWNrSWQ6IG1TdGFja0lkLFxuXHRcdFx0aXNQdWJsaXNoOiBmYWxzZSxcblx0XHRcdHBlZXJjb0lkOiBfcGVlcmNvSWQsXG5cdFx0XHRwZWVyY29SZWY6IF9wZWVyY29SZWZcblx0XHR9KTtcblxuXHRcdHJldHVybiBzdHJlYW1JZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBVblN1YnNjcmliZSBmcm9tIGEgc3RyZWFtXG5cdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBzdHJlYW0gaWRlbnRpZmllciBmcm9tIHdoaWNoIHRoZSB1blN1YnNjcmlwdGlvbiBoYXZlIHRvIGJlIGRvbmVcblx0ICovXG5cdGZ1bmN0aW9uIF91blN1YnNjcmliZUZyb21TdHJlYW0oc3RyZWFtSWQpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06OnVuU3Vic2NyaWJlRnJvbVN0cmVhbSlzdHJlYW1JZCAke3N0cmVhbUlkfWApO1xuXHRcdGNvbnN0XG5cdFx0XHRsb2NhbERhdGFSZWYgPSBkYXRhcmVmLmNoaWxkKCdwdWJsaXNoZWRNZWRpYUxpc3QnKS5jaGlsZChzdHJlYW1JZCksXG5cdFx0XHRyZW1vdGVEYXRhUmVmID0gbG9jYWxEYXRhUmVmLmNoaWxkKCdzdWJzY3JpYmVyc0xpc3QnKSxcblx0XHRcdHN0cmVhbVN0YWNrc0lkID0gYCR7c3RyZWFtSWR9X3N1YmA7XG5cblx0XHRyZW1vdGVEYXRhUmVmLmNoaWxkKHV0aWxzLmFwcEluc3RhbmNlSWQpLnJlbW92ZSgpO1xuXG5cdFx0aWYgKHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdKSB7XG5cdFx0XHRsZXQgaSA9IDA7XG5cdFx0XHR3aGlsZSAoaSA8IHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdLmxlbmd0aCkge1xuXHRcdFx0XHRpZiAocm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF1baV0pIHtcblx0XHRcdFx0XHR3ZWJydGNtbmdyLmNsb3NlV2VicnRjKHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdW2ldLnN0YWNrSWQsIGZhbHNlKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpKys7XG5cdFx0XHR9XG5cdFx0XHRkZWxldGUgcm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF07XG5cdFx0fVxuXHRcdGRlbGV0ZSBtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGFsbCB0aGUgYXZhaWxhYmxlIHN0cmVhbXNcblx0ICogQHJldHVybiB7YXJyYXl9XG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0QXZhaWxhYmxlU3RyZWFtcygpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9nZXRBdmFpbGFibGVTdHJlYW1zKWApO1xuXHRcdHJldHVybiBtQXZhaWxhYmxlU3RyZWFtcztcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGFuIGF2YWlsYWJsZSBzdHJlYW0gaGF2aW5nIHRoZSBpZGVudGlmaWVyXG5cdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBzdHJlYW0gaWRlbnRpZmllclxuXHQgKiBAcmV0dXJuIC0gQSBzdHJlYW1cblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRBdmFpbGFibGVTdHJlYW0oc3RyZWFtSWQpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9nZXRBdmFpbGFibGVTdHJlYW0pc3RyZWFtSWQ9JHtzdHJlYW1JZH1gKTtcblx0XHRpZiAobUF2YWlsYWJsZVN0cmVhbXMgJiYgc3RyZWFtSWQpIHtcblx0XHRcdGZvciAobGV0IGkgPSBtQXZhaWxhYmxlU3RyZWFtcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRpZiAobUF2YWlsYWJsZVN0cmVhbXNbaV0gJiYgT2JqZWN0LmtleXMobUF2YWlsYWJsZVN0cmVhbXNbaV0pWzBdICYmIE9iamVjdC5rZXlzKG1BdmFpbGFibGVTdHJlYW1zW2ldKVswXSA9PT0gc3RyZWFtSWQpIHtcblx0XHRcdFx0XHRyZXR1cm4gbUF2YWlsYWJsZVN0cmVhbXNbaV07XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBSZW1vdmVzIGFsbCB0aGUgc3RyZWFtcyBieSBkZWxldGluZyB0aGUgYXJyYXkgY29udGFpbmluZyB0aGVtIHdpdGhvdXQgdHJpZ2dlcnJpbmcgY2FsbGJhY2tzXG5cdCAqL1xuXHRmdW5jdGlvbiBfcmVtb3ZlQWxsQXZhaWxhYmxlU3RyZWFtcygpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9yZW1vdmVBbGxBdmFpbGFibGVTdHJlYW1zYCk7XG5cdFx0bUF2YWlsYWJsZVN0cmVhbXMgPSBbXTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBdWRpbyBtdXRlIHRoZSBzdHJlYW0gc3RyZWFtSWRcblx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyIHRvIG11dGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlQXVkaW9TdHJlYW0oc3RyZWFtSWQpIHtcblx0XHRpZiAoIShzdHJlYW1JZCAmJiB0eXBlb2Ygc3RyZWFtSWQgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X211dGVBdWRpb1N0cmVhbSlwYXJhbWV0ZXIgc3RyZWFtSWQgaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZ2ApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9tdXRlQXVkaW9TdHJlYW0pc3RyZWFtSWQ9JHtzdHJlYW1JZH1gKTtcblx0XHRpZiAoIW1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdKSB7XG5cdFx0XHRtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXSA9IHt9O1xuXHRcdH1cblx0XHRtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXS5hdWRpbyA9IHRydWU7XG5cblx0XHRpZihyb29tV2VicnRjU3RhY2tzKXtcblx0XHRcdFtyb29tV2VicnRjU3RhY2tzW2Ake3N0cmVhbUlkfV9wdWJgXSwgcm9vbVdlYnJ0Y1N0YWNrc1tgJHtzdHJlYW1JZH1fc3ViYF1dLmZvckVhY2goKHN0YWNrcykgPT4ge1xuXHRcdFx0XHRpZihzdGFja3MgJiYgc3RhY2tzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gc3RhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdFx0XHR3ZWJydGNtbmdyLm11dGVBdWRpb1dlYnJ0Y1N0YWNrKHN0YWNrc1tpXS5zdGFja0lkKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBBdWRpbyB1bm11dGVTdHJlYW0gdGhlIHN0cmVhbSBzdHJlYW1JZFxuXHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgc3RyZWFtIGlkZW50aWZpZXIgdG8gdW5tdXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfdW5tdXRlQXVkaW9TdHJlYW0oc3RyZWFtSWQpIHtcblx0XHRpZiAoIShzdHJlYW1JZCAmJiB0eXBlb2Ygc3RyZWFtSWQgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3VubXV0ZUF1ZGlvU3RyZWFtKXBhcmFtZXRlciBzdHJlYW1JZCBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nYCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXSAmJiBtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXS5hdWRpbykge1xuXHRcdFx0bU11dGVkU3RyZWFtc1tzdHJlYW1JZF0uYXVkaW8gPSBmYWxzZTtcblx0XHR9XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfdW5tdXRlQXVkaW9TdHJlYW0pc3RyZWFtSWQ9JHtzdHJlYW1JZH1gKTtcblx0XHRpZihyb29tV2VicnRjU3RhY2tzKXtcblx0XHRcdFtyb29tV2VicnRjU3RhY2tzW2Ake3N0cmVhbUlkfV9wdWJgXSwgcm9vbVdlYnJ0Y1N0YWNrc1tgJHtzdHJlYW1JZH1fc3ViYF1dLmZvckVhY2goKHN0YWNrcykgPT4ge1xuXHRcdFx0XHRpZihzdGFja3MgJiYgc3RhY2tzLmxlbmd0aCA+IDApIHtcblx0XHRcdFx0XHRmb3IgKGxldCBpID0gc3RhY2tzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdFx0XHR3ZWJydGNtbmdyLnVubXV0ZUF1ZGlvV2VicnRjU3RhY2soc3RhY2tzW2ldLnN0YWNrSWQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFZpZGVvIG11dGUgdGhlIHN0cmVhbSBzdHJlYW1JZFxuXHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgc3RyZWFtIGlkZW50aWZpZXIgdG8gbXV0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX211dGVWaWRlb1N0cmVhbShzdHJlYW1JZCkge1xuXHRcdGlmICghKHN0cmVhbUlkICYmIHR5cGVvZiBzdHJlYW1JZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfbXV0ZVZpZGVvU3RyZWFtKXBhcmFtZXRlciBzdHJlYW1JZCBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nYCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X211dGVWaWRlb1N0cmVhbSlzdHJlYW1JZD0ke3N0cmVhbUlkfWApO1xuXHRcdGlmICghbU11dGVkU3RyZWFtc1tzdHJlYW1JZF0pIHtcblx0XHRcdG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdID0ge307XG5cdFx0fVxuXHRcdG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLnZpZGVvID0gdHJ1ZTtcblxuXHRcdGlmKHJvb21XZWJydGNTdGFja3Mpe1xuXHRcdFx0W3Jvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3B1YmBdLCByb29tV2VicnRjU3RhY2tzW2Ake3N0cmVhbUlkfV9zdWJgXV0uZm9yRWFjaCgoc3RhY2tzKSA9PiB7XG5cdFx0XHRcdGlmKHN0YWNrcyAmJiBzdGFja3MubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSBzdGFja3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHRcdHdlYnJ0Y21uZ3IubXV0ZVZpZGVvV2VicnRjU3RhY2soc3RhY2tzW2ldLnN0YWNrSWQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFZpZGVvIHVubXV0ZVN0cmVhbSB0aGUgc3RyZWFtIHN0cmVhbUlkXG5cdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBzdHJlYW0gaWRlbnRpZmllciB0byB1bm11dGVcblx0ICovXG5cdGZ1bmN0aW9uIF91bm11dGVWaWRlb1N0cmVhbShzdHJlYW1JZCkge1xuXHRcdGlmICghKHN0cmVhbUlkICYmIHR5cGVvZiBzdHJlYW1JZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfdW5tdXRlVmlkZW9TdHJlYW0pcGFyYW1ldGVyIHN0cmVhbUlkIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmdgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdICYmIG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLnZpZGVvKSB7XG5cdFx0XHRtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXS52aWRlbyA9IGZhbHNlO1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol91bm11dGVWaWRlb1N0cmVhbSlzdHJlYW1JZD0ke3N0cmVhbUlkfWApO1xuXHRcdGlmKHJvb21XZWJydGNTdGFja3Mpe1xuXHRcdFx0W3Jvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3B1YmBdLCByb29tV2VicnRjU3RhY2tzW2Ake3N0cmVhbUlkfV9zdWJgXV0uZm9yRWFjaCgoc3RhY2tzKSA9PiB7XG5cdFx0XHRcdGlmKHN0YWNrcyAmJiBzdGFja3MubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSBzdGFja3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHRcdHdlYnJ0Y21uZ3IudW5tdXRlVmlkZW9XZWJydGNTdGFjayhzdGFja3NbaV0uc3RhY2tJZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBDbG9zZXMgdGhlIHJvb20uXG5cdCAqIFNldHMgdGhlIGNvbm5lY3RlZCBzdGF0dXMgb2YgdGhlIGN1cnJlbnQgcGFydGljaXBhbnQgdG8gZmFsc2UsIGRlbGV0ZXMgbWVkaWFzIGFuZCBjYWxsYmFja3MsIHRoZW4gY2xvc2UgV2ViUlRDIHN0YWNrcyBpbiB1c2UuXG5cdCAqIEBwYXJhbSB1cGRhdGVSb29tU3RhdHVzVG9DbG9zZSAtIHRydWUgaWYgdGhlIHJvb20gc2hvdWxkIGJlIG1hcmtlZCBhcyBjbG9zZWRcblx0ICovXG5cdGZ1bmN0aW9uIF9jbG9zZSh1cGRhdGVSb29tU3RhdHVzVG9DbG9zZSkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X2Nsb3NlKXJvb20gJHtyb29tSWR9LCBkZXRyb3lSb29tPSR7dXBkYXRlUm9vbVN0YXR1c1RvQ2xvc2V9YCk7XG5cblx0XHRjb25zdFxuXHRcdFx0cGFydGljaXBhbnRMaXN0UmVmID0gZGF0YXJlZi5jaGlsZCgncGFydGljaXBhbnRMaXN0JyksXG5cdFx0XHRwdWJsaXNoZWRNZWRpYUxpc3RSZWYgPSBkYXRhcmVmLmNoaWxkKCdwdWJsaXNoZWRNZWRpYUxpc3QnKTtcblxuXHRcdC8vIG1hcmsgYXMgZGlzY29ubmVjdGVkIHdoZW4gdGhlIHJvb20gaXMgbGVmdFxuXHRcdHBhcnRpY2lwYW50TGlzdFJlZi5jaGlsZChgJHttZX0vY29ubmVjdGVkYCkuc2V0KGZhbHNlKTtcblxuXHRcdC8vIHJlbW92ZSB3ZWJjb20gY2FsbGJhY2tzXG5cdFx0T2JqZWN0LmtleXMobVN0cmVhbXMpLmZvckVhY2goX3VuUHVibGlzaFN0cmVhbSk7XG5cdFx0bVN0cmVhbXMgPSBbXTtcblxuXHRcdGlmIChpbnN0YW50TWVzc2FnZUxpc3RDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgnaW5zdGFudE1lc3NhZ2VMaXN0Jykub2ZmKCdjaGlsZF9hZGRlZCcsIGluc3RhbnRNZXNzYWdlTGlzdENiKTtcblx0XHRcdGluc3RhbnRNZXNzYWdlTGlzdENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHB1Ymxpc2hlZE1lZGlhTGlzdENiKSB7XG5cdFx0XHRwdWJsaXNoZWRNZWRpYUxpc3RSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHB1Ymxpc2hlZE1lZGlhTGlzdENiKTtcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtKSB7XG5cdFx0XHRwdWJsaXNoZWRNZWRpYUxpc3RSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtKTtcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAodW5QdWJsaXNoZWRNZWRpYUxpc3RDYikge1xuXHRcdFx0cHVibGlzaGVkTWVkaWFMaXN0UmVmLm9mZignY2hpbGRfcmVtb3ZlZCcsIHVuUHVibGlzaGVkTWVkaWFMaXN0Q2IpO1xuXHRcdFx0dW5QdWJsaXNoZWRNZWRpYUxpc3RDYiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHVuUHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0pIHtcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdFJlZi5vZmYoJ2NoaWxkX3JlbW92ZWQnLCB1blB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtKTtcblx0XHRcdHVuUHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0gPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChwYXJ0aWNpcGFudExpc3RKb2luQWRkZWRDYikge1xuXHRcdFx0cGFydGljaXBhbnRMaXN0UmVmLm9mZignY2hpbGRfYWRkZWQnLCBwYXJ0aWNpcGFudExpc3RKb2luQWRkZWRDYik7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RKb2luQWRkZWRDYiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHBhcnRpY2lwYW50TGlzdEpvaW5DaGFuZ2VkQ2IpIHtcblx0XHRcdHBhcnRpY2lwYW50TGlzdFJlZi5vZmYoJ2NoaWxkX2NoYW5nZWQnLCBwYXJ0aWNpcGFudExpc3RKb2luQ2hhbmdlZENiKTtcblx0XHRcdHBhcnRpY2lwYW50TGlzdEpvaW5DaGFuZ2VkQ2IgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChwYXJ0aWNpcGFudExpc3RMZWF2ZUNiKSB7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RSZWYub2ZmKCdjaGlsZF9jaGFuZ2VkJywgcGFydGljaXBhbnRMaXN0TGVhdmVDYik7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RMZWF2ZUNiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocmVtb3RlVW5wdWJsaXNoZWRDYikge1xuXHRcdFx0cHVibGlzaGVkTWVkaWFMaXN0UmVmLm9mZignY2hpbGRfcmVtb3ZlZCcsIHJlbW90ZVVucHVibGlzaGVkQ2IpO1xuXHRcdFx0cmVtb3RlVW5wdWJsaXNoZWRDYiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0Ly8gY2xvc2UgYWxsIHdlYnJ0YyBzdGFja3Ncblx0XHRPYmplY3Qua2V5cyhyb29tV2VicnRjU3RhY2tzKS5mb3JFYWNoKChzdHJlYW1TdGFja3NJZCkgPT4ge1xuXHRcdFx0cm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF0uZm9yRWFjaCgoc3RhY2spID0+IHtcblx0XHRcdFx0aWYoc3RhY2spe1xuXHRcdFx0XHRcdHdlYnJ0Y21uZ3IuY2xvc2VXZWJydGMoc3RhY2suc3RhY2tJZCwgc3RhY2suaXNQdWJsaXNoKTtcblx0XHRcdFx0XHR3ZWJydGNtbmdyLmNsZWFyV2VicnRjU3RhY2tzKHN0YWNrLnN0YWNrSWQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRyb29tV2VicnRjU3RhY2tzID0ge307XG5cblxuXHRcdG1NdXRlZFN0cmVhbXMgPSBbXTtcblxuXHRcdF9yZW1vdmVBbGxBdmFpbGFibGVTdHJlYW1zKCk7XG5cdFx0aWYgKHVwZGF0ZVJvb21TdGF0dXNUb0Nsb3NlICYmIHVwZGF0ZVJvb21TdGF0dXNUb0Nsb3NlID09PSB0cnVlKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdjb21tb25EYXRhTGlzdC9zdGF0dXMnKS5zZXQoUk9PTV9TVEFUVVNfQ0xPU0UpO1xuXHRcdH1cblxuXHR9XG5cblx0aW5pdCgpO1xuXG5cdHJldHVybiB7XG5cdFx0LyoqXG5cdFx0ICogUmV0dXJuIHRoZSByb29tIGlkZW50aWZpZXJcblx0XHQgKiBAcmV0dXJuIHtzdHJpbmd9IC0gVGhlIHJvb20gaWRlbnRpZmllclxuXHRcdCAqL1xuXHRcdGdldFJvb21JZDogX2dldFJvb21JZCxcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSB1c2VyIGlkZW50aWZpZXJcblx0XHQgKiBAcmV0dXJuIHtzdHJpbmd9IC0gVGhlIHVzZXIgaWRlbnRpZmllclxuXHRcdCAqL1xuXHRcdGdldE1lOiBfZ2V0TWUsXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIGEgcGFydGljaXBhbnQgaGFzIGpvaW5lZCB0aGUgcm9vbVxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2tcblx0XHQgKi9cblx0XHRzZXRPblBhcnRpY2lwYW50Sm9pbjogX3NldE9uUGFydGljaXBhbnRKb2luLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIHBhcnRpY2lwYW50IGhhcyBsZWZ0IHRoZSByb29tXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFja1xuXHRcdCAqL1xuXHRcdHNldE9uUGFydGljaXBhbnRMZWF2ZTogX3NldE9uUGFydGljaXBhbnRMZWF2ZSxcblx0XHQvKipcblx0XHQgKiBTZW5kcyBhbiBpbnN0YW50IG1lc3NhZ2Vcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSAtIFRoZSBlbXNzYWdlIHRvIHNlbmRcblx0XHQgKiBAcmV0dXJuIG5vdGhpbmdcblx0XHQgKi9cblx0XHRzZW5kSW5zdGFudE1lc3NhZ2U6IF9zZW5kSW5zdGFudE1lc3NhZ2UsXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB0byBzZW5kIGFuIGluc3RhbnQgbWVzc2FnZVxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2tcblx0XHQgKi9cblx0XHRzZXRPbkluc3RhbnRNZXNzYWdlOiBfc2V0T25JbnN0YW50TWVzc2FnZSxcblx0XHQvKipcblx0XHQgKiBQdWJsaXNoZXMgYSBzdHJlYW1cblx0XHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgaWRlbnRpZmllciBvZiB0aGUgc3RyZWFtIHRvIHB1Ymxpc2hcblx0XHQgKiBAcGFyYW0gbG9jYWxWaWQgLSBUaGUgbG9jYWwgdmlkZW9cblx0XHQgKiBAcGFyYW0gYWN0aW9uVHlwZSAtXG5cdFx0ICogQHBhcmFtIGdldFN0cmVhbUNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgbWVkaWFzdHJlYW0gb2JqZWN0XG5cdFx0ICogQHJldHVybiBub3RoaW5nXG5cdFx0ICovXG5cdFx0cHVibGlzaFN0cmVhbTogX3B1Ymxpc2hTdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlcndoZW4gYSBzdHJlYW0gaGFzIGJlZW4gcHVibGlzaGVkXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFja1xuXHRcdCAqL1xuXHRcdHNldE9uUHVibGlzaGVkU3RyZWFtOiBfc2V0T25QdWJsaXNoZWRTdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogVW5wdWJsaXNoZXMgdGhlIHN0cmVhbVxuXHRcdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBzdHJlYW0gdG8gdW5wdWJsaXNoXG5cdFx0ICogQHBhcmFtIGNhbGxiYWNrIC0gVGhlIGNsYWxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgc3RyZWFtIGhhcyBiZWVuIHVucHVibGlzaGVkXG5cdFx0ICovXG5cdFx0dW5QdWJsaXNoU3RyZWFtOiBfdW5QdWJsaXNoU3RyZWFtLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIHN0cmVhbSBoYXMgYmVlbiB1bnB1Ymxpc2hlZFxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2tcblx0XHQgKi9cblx0XHRzZXRPblVuUHVibGlzaGVkU3RyZWFtOiBfc2V0T25VblB1Ymxpc2hlZFN0cmVhbSxcblxuXHRcdC8qKlxuXHRcdCAqIFN1YnNjcmliZXMgdG8gYSBzdHJlYW1cblx0XHQgKiBAcGFyYW0gc3RyZWFtRGF0YSAtIFRoZSBzdHJlYW0gZGF0YVxuXHRcdCAqIEBwYXJhbSByZW1vdGVWaWQgLSBUaGUgcmVtb3RlIHZpZGVvXG5cdFx0ICogQHBhcmFtIGdldFN0cmVhbUNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgbWVkaWFzdHJlYW0gb2JqZWN0XG5cdFx0ICogQHJldHVybiBub3RoaW5nXG5cdFx0ICovXG5cdFx0c3Vic2NyaWJlVG9TdHJlYW06IF9zdWJzY3JpYmVUb1N0cmVhbSxcblx0XHQvKipcblx0XHQgKiBVbnN1YmNyaWJlcyBmcm9tIGEgc3RyZWFtXG5cdFx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIGlkZW50aWZpZXIgb2YgdGhlIHN0cmVhbSB0byB1bnN1YnNjcmliZVxuXHRcdCAqL1xuXHRcdHVuU3Vic2NyaWJlRnJvbVN0cmVhbTogX3VuU3Vic2NyaWJlRnJvbVN0cmVhbSxcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIGFsbCB0aGUgYXZhaWxhYmxlIHN0cmVhbXNcblx0XHQgKiBAcmV0dXJuIHthcnJheX0gLSBUaGUgYXZhaWxhYmxlIHN0cmVhbXNcblx0XHQgKi9cblx0XHRnZXRBdmFpbGFibGVTdHJlYW1zOiBfZ2V0QXZhaWxhYmxlU3RyZWFtcyxcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBzdHJlYW0gbWF0Y2hpbmcgdGhlIGlkZW50aWZpZXJcblx0XHQgKiBAcGFyYW0gc3RyZWFtIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyXG5cdFx0ICovXG5cdFx0Z2V0QXZhaWxhYmxlU3RyZWFtOiBfZ2V0QXZhaWxhYmxlU3RyZWFtLFxuXHRcdC8qKlxuXHRcdCAqICBtdXRlIGF1ZGlvIHRoZSBzdHJlYW0gc3RyZWFtSWRcblx0XHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgc3RyZWFtIGlkZW50aWZpZXIgdG8gbXV0ZVxuXHRcdCAqL1xuXHRcdG11dGVBdWRpb1N0cmVhbTogX211dGVBdWRpb1N0cmVhbSxcblx0XHQvKipcblx0XHQgKiB1bm11dGUgYXVkaW8gdGhlIHN0cmVhbSBzdHJlYW1JZFxuXHRcdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBzdHJlYW0gaWRlbnRpZmllciB0byBtdXRlXG5cdFx0ICovXG5cdFx0dW5tdXRlQXVkaW9TdHJlYW06IF91bm11dGVBdWRpb1N0cmVhbSxcblx0XHQvKipcblx0XHQgKiAgbXV0ZSBWaWRlbyB0aGUgc3RyZWFtIHN0cmVhbUlkXG5cdFx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyIHRvIG11dGVcblx0XHQgKi9cblx0XHRtdXRlVmlkZW9TdHJlYW06IF9tdXRlVmlkZW9TdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogdW5tdXRlIFZpZGVvIHRoZSBzdHJlYW0gc3RyZWFtSWRcblx0XHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgc3RyZWFtIGlkZW50aWZpZXIgdG8gbXV0ZVxuXHRcdCAqL1xuXHRcdHVubXV0ZVZpZGVvU3RyZWFtOiBfdW5tdXRlVmlkZW9TdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogQ2xvc2VzIHRoZSByb29tLlxuXHRcdCAqIFNldHMgdGhlIGNvbm5lY3RlZCBzdGF0dXMgb2YgdGhlIGN1cnJlbnQgcGFydGljaXBhbnQgdG8gZmFsc2UsIGRlbGV0ZXMgbWVkaWFzIGFuZCBjYWxsYmFja3MsIHRoZW4gY2xvc2UgV2ViUlRDIHN0YWNrcyBpbiB1c2UuXG5cdFx0ICogQHBhcmFtIHVwZGF0ZVJvb21TdGF0dXNUb0Nsb3NlIC0gdHJ1ZSBpZiB0aGUgcm9vbSBzaG91bGQgYmUgbWFya2VkIGFzIGNsb3NlZFxuXHRcdCAqL1xuXHRcdGNsb3NlOiBfY2xvc2UsXG5cdFx0LyoqXG5cdFx0ICogQ2FsbHMgdGhlIG1hY2hpbmcgZnVuY3Rpb24gZm9yIGEgZGVkaWNhdGVkIGV2ZW50XG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IGV2dCAtIFRoZSBldmVudCwgaW4gXCJpbnN0YW50TWVzc2FnZVwiLCBcInB1Ymxpc2hlZFN0cmVhbVwiLCBcInVuUHVibGlzaGVkU3RyZWFtXCIsIFwicGFydGljaXBhbnRKb2luXCIsIFwicGFydGljaXBhbnRMZWF2ZVwiXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFjayB0byBjYWxsXG5cdFx0ICovXG5cdFx0b246IChldnQsIHBfY2IpID0+IHtcblx0XHRcdHN3aXRjaCAoZXZ0KSB7XG5cdFx0XHRjYXNlICdpbnN0YW50TWVzc2FnZSc6XG5cdFx0XHRcdF9zZXRPbkluc3RhbnRNZXNzYWdlKHBfY2IpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3B1Ymxpc2hlZFN0cmVhbSc6XG5cdFx0XHRcdF9zZXRPblB1Ymxpc2hlZFN0cmVhbShwX2NiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICd1blB1Ymxpc2hlZFN0cmVhbSc6XG5cdFx0XHRcdF9zZXRPblVuUHVibGlzaGVkU3RyZWFtKHBfY2IpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3BhcnRpY2lwYW50Sm9pbic6XG5cdFx0XHRcdF9zZXRPblBhcnRpY2lwYW50Sm9pbihwX2NiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdwYXJ0aWNpcGFudExlYXZlJzpcblx0XHRcdFx0X3NldE9uUGFydGljaXBhbnRMZWF2ZShwX2NiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHRjb25zb2xlLmVycihgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Om9uKXVuc3VwcG9ydGVkICR7ZXZ0fSBldmVudGApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcm9vbS5qc1xuICoqLyIsIi8qKlxuICogQGZpbGUgbG9jYWxzdHJlYW0uanMgLSBKUyBmaWxlIHRvIGhhbmRsZSBsb2NhbCBzdHJlYW1zLlxuICogQGRlc2NyaXB0aW9uIFByb3ZpZGVzIGRhdGEgc3RydWN0dXJlcyB0byBzdG9yZSBhbmQgaGFuZGxlIHZpZGVvLCBhdWRpbyBhbmQgdmlkZW8tYW5kLWF1ZGlvIHN0cmVhbXMuIFRoZSBhdWRpbyBhbmQgdmlkZW8gc3RyZWFtcyBhcmUgbWFuYWdlZCB0b28uXG4gKiBJbml0aWFsaXphdGlvbiBtZXRob2RzIGFyZSBwcm92aWRlZCwgc3RyZWFtIGNvbm5lY3Rpb25zIGFuZCBsaXN0ZW5lcnMgdG9vLlxuICogQGF1dGhvciBXZWJjb21cbiAqL1xuXG4vKmVzbGludCBjb21wbGV4aXR5OjEsIG1heC1zdGF0ZW1lbnRzOiAxLCBtYXgtbGVuOiAxKi9cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBkZXNjcmlwdGlvbiBUaGUgbG9jYWwgc3RyZWFtIG9iamVjdCB3aXRoIGl0cyBzdHJlYW1zLCBmbGFncyBhbmQgY2FsbGJhY2tzLiBJdCBpcyBhIHNpbmdsZXRvbi5cbiAqL1xuY29uc3QgbG9jYWxzdHJlYW0gPSAoZnVuY3Rpb24oKSB7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgbG9jYWwgdmlkZW8gc3RyZWFtcywgYXMgSFRNTCB2aWRlbyBvYmplY3RzLCBpbiBhbiBhcnJheVxuXHQgKi9cblx0bGV0IGxvY2FsVmlkZW9TdHJlYW1zID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGxvY2FsIGF1ZGlvIHN0cmVhbXMsIGFzIEhUTUwgdmlkZW8gb2JqZWN0cywgaW4gYW4gYXJyYXlcblx0ICovXG5cdGxldCBsb2NhbEF1ZGlvU3RyZWFtcyA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBsb2NhbCBhdWRpbyBhbmQgdmlkZW8gc3RyZWFtcywgYXMgSFRNTCB2aWRlbyBvYmplY3RzLCBpbiBhbiBhcnJheVxuXHQgKi9cblx0bGV0IGxvY2FsQXVkaW9WaWRlb1N0cmVhbXMgPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgdmlkZW8gc3RyZWFtIG9iamVjdFxuXHQgKi9cblx0bGV0IHN0cmVhbVZpZGVvID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgYXVkaW8gc3RyZWFtIG9iamVjdFxuXHQgKi9cblx0bGV0IHN0cmVhbUF1ZGlvID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgdmlkZW8gYW5kIGF1ZGlvIHN0cmVhbSBvYmplY3Rcblx0ICovXG5cdGxldCBzdHJlYW1BdWRpb1ZpZGVvID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIHZpZGVvIGxpc3RlbmVycyBhcyBmdW5jdGlvbnMuIFRoZXNlIGxpc3RlbmVycyB3aWxsIGJlIHRyaWdnZXJlZCBpZiB0aGUgdmlkZW8gc3RyZWFtIGlzIGVzdGFibGlzaGVkLlxuXHQgKi9cblx0bGV0IGxpc3RlbmVyc1ZpZGVvID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyBhdWRpbyBsaXN0ZW5lcnMgYXMgZnVuY3Rpb25zLiBUaGVzZSBsaXN0ZW5lcnMgd2lsbCBiZSB0cmlnZ2VyZWQgaWYgdGhlIGF1ZGlvIHN0cmVhbSBpcyBlc3RhYmxpc2hlZC5cblx0ICovXG5cdGxldCBsaXN0ZW5lcnNBdWRpbyA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIGFycmF5IGNvbnRhaW5pbmcgYXVkaW8gYW5kIHZpZGVvIGxpc3RlbmVycyBhcyBmdW5jdGlvbnMuIFRoZXNlIGxpc3RlbmVycyB3aWxsIGJlIHRyaWdnZXJlZCBpZiB0aGUgdmlkZS1hbmQtYXVkaW8gc3RyZWFtIGlzIGVzdGFibGlzaGVkLlxuXHQgKi9cblx0bGV0IGxpc3RlbmVyc0F1ZGlvVmlkZW8gPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgbG9jYWwgdmlkZW8gc3RyZWFtLCBhcyBhbiBIVE1MIHZpZGVvIGVsZW1lbnRcblx0ICovXG5cdGxldCBtTG9jYWxTdHJlYW1WaWRlbyA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGxvY2FsIGF1ZGlvIHN0cmVhbSwgYXMgYW4gSFRNTCB2aWRlbyBlbGVtZW50XG5cdCAqL1xuXHRsZXQgbUxvY2FsU3RyZWFtQXVkaW8gPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBsb2NhbCBhdWRpbyBhbmQgdmlkZW8gc3RyZWFtLCBhcyBhbiBIVE1MIHZpZGVvIGVsZW1lbnRcblx0ICovXG5cdGxldCBtTG9jYWxTdHJlYW1BdWRpb1ZpZGVvID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGbGFnIGluZGljYXRpbmcgaWYgdGhlIHZpZGVvIGluaXRpYWxpc2F0aW9uIGlzIGluIHByb2dyZXNzXG5cdCAqL1xuXHRsZXQgaW5pdFZpZGVvUHJvZ3Jlc3MgPSBmYWxzZTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGbGFnIGluZGljYXRpbmcgaWYgdGhlIGF1ZGlvIGluaXRpYWxpc2F0aW9uIGlzIGluIHByb2dyZXNzXG5cdCAqL1xuXHRsZXQgaW5pdEF1ZGlvUHJvZ3Jlc3MgPSBmYWxzZTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGbGFnIGluZGljYXRpbmcgaWYgdGhlIGF1ZGlvIGFuZCB2aWRlbyBpbml0aWFsaXNhdGlvbiBpcyBpbiBwcm9ncmVzc1xuXHQgKi9cblx0bGV0IGluaXRBdWRpb1ZpZGVvUHJvZ3Jlc3MgPSBmYWxzZTtcblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIHZpZGVvIGxvY2FsIHN0cmVhbS5cblx0ICogVGhlIHdlYiBicm93c2VyJ3MgdXNlciBtZWRpYSB3aWxsIGJlIGNhbGxlZCwgc28gdGhlIGJyb3dzZXIgaW4gdXNlIG11c3QgYmUgcmVjZW50IChGaXJlZm94IDE3LCBDaHJvbWUgMjEsIE9wZXJhIDE4IGFuZCBsYXRlciB2ZXJzaW9ucykuXG5cdCAqIEEgdmlkZW8gZWxlbWVudCB3aWxsIGJlIGNyZWF0ZWQsIGFuZCBwdXNoZWQgdG8gdGhlIGxvY2FsIHN0cmVhbXMgb2JqZWN0cy4gVGhlIGNhdGNoZWQgdmlkZW8gYW5kIGF1ZGlvIHN0cmVhbSB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBjcmVhdGVkIEhUTUwgZWxlbWVudC5cblx0ICogTGlzdGVuZXJzIHdpbGwgYWxzbyBiZSBjYWxsZWQuXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0VmlkZW8oY2FsbGJhY2spe1xuXHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OmxvY2Fsc3RyZWFtOjppbml0VmlkZW8pJyk7XG5cdFx0aWYgKCEgaW5pdFZpZGVvUHJvZ3Jlc3MpIHtcblx0XHRcdGluaXRWaWRlb1Byb2dyZXNzPXRydWU7XG5cblx0XHRcdG5hdmlnYXRvci5nZXRNZWRpYSA9IGdldFVzZXJNZWRpYTtcblx0XHRcdG1Mb2NhbFN0cmVhbVZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnVklERU8nKTtcblx0XHRcdG1Mb2NhbFN0cmVhbVZpZGVvLm11dGVkPSB0cnVlO1xuXHRcdFx0bG9jYWxWaWRlb1N0cmVhbXMucHVzaChtTG9jYWxTdHJlYW1WaWRlbyk7XG5cblx0XHRcdGlmKHN0cmVhbVZpZGVvID09PSBudWxsKXtcblx0XHRcdFx0bmF2aWdhdG9yLmdldE1lZGlhKHthdWRpbyA6IGZhbHNlLHZpZGVvIDogdHJ1ZX0sXG5cdFx0XHRcdFx0KHMpID0+IHtcblx0XHRcdFx0XHRcdHN0cmVhbVZpZGVvID0gcztcblxuXHRcdFx0XHRcdFx0bG9jYWxWaWRlb1N0cmVhbXMuZm9yRWFjaCgobG9jYWxWaWRlb1N0cmVhbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShsb2NhbFZpZGVvU3RyZWFtLCBzdHJlYW1WaWRlbyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGxvY2FsVmlkZW9TdHJlYW1zID0gW107XG5cblx0XHRcdFx0XHRcdGxpc3RlbmVyc1ZpZGVvLmZvckVhY2goKGxpc3RlbmVyVmlkZW8pID0+IHtcblx0XHRcdFx0XHRcdFx0bGlzdGVuZXJWaWRlbyhzdHJlYW1WaWRlbyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGxpc3RlbmVyc1ZpZGVvID0gW107XG5cblx0XHRcdFx0XHRcdGluaXRWaWRlb1Byb2dyZXNzPWZhbHNlO1xuXG5cdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdChlcnJvcikgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3Igb24gd2VicnRjTG9jYWxTdHJlYW0gLSB3ZWJraXRHZXRVc2VyTWVkaWEgOiBlcnJvcj0nKTtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZGlyKGVycm9yKTtcblx0XHRcdFx0XHRcdGluaXRWaWRlb1Byb2dyZXNzID0gZmFsc2U7XG5cblx0XHRcdFx0XHRcdGlmIChjYWxsYmFjaykge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjayhlcnJvcik7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0bG9jYWxWaWRlb1N0cmVhbXMuZm9yRWFjaCgobG9jYWxWaWRlb1N0cmVhbSkgPT4ge1xuXHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKGxvY2FsVmlkZW9TdHJlYW0sIHN0cmVhbVZpZGVvKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGxvY2FsVmlkZW9TdHJlYW1zID0gW107XG5cblx0XHRcdFx0bGlzdGVuZXJzVmlkZW8uZm9yRWFjaCgobGlzdGVuZXJWaWRlbykgPT4ge1xuXHRcdFx0XHRcdGxpc3RlbmVyVmlkZW8oc3RyZWFtVmlkZW8pO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0bGlzdGVuZXJzVmlkZW8gPSBbXTtcblxuXHRcdFx0XHRpbml0VmlkZW9Qcm9ncmVzcyA9IGZhbHNlO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgdmlkZW8gbG9jYWwgc3RyZWFtLlxuXHQgKiBUaGUgd2ViIGJyb3dzZXIncyB1c2VyIG1lZGlhIHdpbGwgYmUgY2FsbGVkLCBzbyB0aGUgYnJvd3NlciBpbiB1c2UgbXVzdCBiZSByZWNlbnQgKEZpcmVmb3ggMTcsIENocm9tZSAyMSwgT3BlcmEgMTggYW5kIGxhdGVyIHZlcnNpb25zKS5cblx0ICogQSB2aWRlbyBlbGVtZW50IHdpbGwgYmUgY3JlYXRlZCwgYW5kIHB1c2hlZCB0byB0aGUgbG9jYWwgc3RyZWFtcyBvYmplY3RzLiBUaGUgY2F0Y2hlZCBhdWRpbyBzdHJlYW0gd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgY3JlYXRlZCBIVE1MIGVsZW1lbnQuXG5cdCAqIExpc3RlbmVycyB3aWxsIGFsc28gYmUgY2FsbGVkLlxuXHQgKi9cblx0ZnVuY3Rpb24gaW5pdEF1ZGlvKGNhbGxiYWNrKSB7XG5cdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6bG9jYWxzdHJlYW06OmluaXRBdWRpbyknKTtcblx0XHRpZiAoISBpbml0QXVkaW9Qcm9ncmVzcykge1xuXHRcdFx0aW5pdEF1ZGlvUHJvZ3Jlc3M9dHJ1ZTtcblxuXHRcdFx0bmF2aWdhdG9yLmdldE1lZGlhID0gZ2V0VXNlck1lZGlhO1xuXHRcdFx0bUxvY2FsU3RyZWFtQXVkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdBVURJTycpO1xuXHRcdFx0bUxvY2FsU3RyZWFtQXVkaW8ubXV0ZWQ9IHRydWU7XG5cdFx0XHRsb2NhbEF1ZGlvU3RyZWFtcy5wdXNoKG1Mb2NhbFN0cmVhbUF1ZGlvKTtcblxuXHRcdFx0aWYoc3RyZWFtQXVkaW8gPT09IG51bGwpe1xuXHRcdFx0XHRuYXZpZ2F0b3IuZ2V0TWVkaWEoe2F1ZGlvIDogdHJ1ZSx2aWRlbyA6IGZhbHNlfSxcblx0XHRcdFx0XHQocykgPT4ge1xuXHRcdFx0XHRcdFx0c3RyZWFtQXVkaW8gPSBzO1xuXHRcdFx0XHRcdFx0bG9jYWxBdWRpb1N0cmVhbXMuZm9yRWFjaCgobG9jYWxBdWRpb1N0cmVhbSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShsb2NhbEF1ZGlvU3RyZWFtLCBzdHJlYW1BdWRpbyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGxvY2FsQXVkaW9TdHJlYW1zID0gW107XG5cblx0XHRcdFx0XHRcdGxpc3RlbmVyc0F1ZGlvLmZvckVhY2goKGxpc3RlbmVyQXVkaW8pID0+IHtcblx0XHRcdFx0XHRcdFx0bGlzdGVuZXJBdWRpbyhzdHJlYW1BdWRpbyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGxpc3RlbmVyc0F1ZGlvID0gW107XG5cblx0XHRcdFx0XHRcdGluaXRBdWRpb1Byb2dyZXNzID0gZmFsc2U7XG5cblx0XHRcdFx0XHRcdGlmIChjYWxsYmFjaykge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0KGVycm9yKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBvbiB3ZWJydGNMb2NhbFN0cmVhbSAtIHdlYmtpdEdldFVzZXJNZWRpYSA6ZXJyb3I9Jyk7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmRpcihlcnJvcik7XG5cdFx0XHRcdFx0XHRpbml0QXVkaW9Qcm9ncmVzcz1mYWxzZTtcblxuXHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrKGVycm9yKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsb2NhbEF1ZGlvU3RyZWFtcy5mb3JFYWNoKChsb2NhbEF1ZGlvU3RyZWFtKSA9PiB7XG5cdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0obG9jYWxBdWRpb1N0cmVhbSwgc3RyZWFtQXVkaW8pO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0bG9jYWxBdWRpb1N0cmVhbXMgPSBbXTtcblxuXHRcdFx0XHRsaXN0ZW5lcnNBdWRpby5mb3JFYWNoKChsaXN0ZW5lckF1ZGlvKSA9PiB7XG5cdFx0XHRcdFx0bGlzdGVuZXJBdWRpbyhzdHJlYW1BdWRpbyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRsaXN0ZW5lcnNBdWRpbyA9IFtdO1xuXG5cdFx0XHRcdGluaXRBdWRpb1Byb2dyZXNzID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSBhdWRpby1hbmQtdmlkZW8gbG9jYWwgc3RyZWFtLlxuXHQgKiBUaGUgd2ViIGJyb3dzZXIncyB1c2VyIG1lZGlhIHdpbGwgYmUgY2FsbGVkLCBzbyB0aGUgYnJvd3NlciBpbiB1c2UgbXVzdCBiZSByZWNlbnQgKEZpcmVmb3ggMTcsIENocm9tZSAyMSwgT3BlcmEgMTggYW5kIGxhdGVyIHZlcnNpb25zKS5cblx0ICogQSB2aWRlbyBlbGVtZW50IHdpbGwgYmUgY3JlYXRlZCwgYW5kIHB1c2hlZCB0byB0aGUgbG9jYWwgc3RyZWFtcyBvYmplY3RzLiBUaGUgY2F0Y2hlZCBhdWRpbyBzdHJlYW0gd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgY3JlYXRlZCBIVE1MIGVsZW1lbnQuXG5cdCAqIExpc3RlbmVycyB3aWxsIGFsc28gYmUgY2FsbGVkLlxuXHQgKi9cblx0ZnVuY3Rpb24gaW5pdEF1ZGlvVmlkZW8oY2FsbGJhY2spIHtcblx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjpsb2NhbHN0cmVhbTo6aW5pdEF1ZGlvVmlkZW8pJyk7XG5cdFx0aWYgKCFpbml0QXVkaW9WaWRlb1Byb2dyZXNzKSB7XG5cdFx0XHRpbml0QXVkaW9WaWRlb1Byb2dyZXNzPXRydWU7XG5cblx0XHRcdG5hdmlnYXRvci5nZXRNZWRpYSA9IGdldFVzZXJNZWRpYTtcblx0XHRcdG1Mb2NhbFN0cmVhbUF1ZGlvVmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdBVURJT1ZJREVPJyk7XG5cdFx0XHRtTG9jYWxTdHJlYW1BdWRpb1ZpZGVvLm11dGVkPSB0cnVlO1xuXHRcdFx0bG9jYWxBdWRpb1ZpZGVvU3RyZWFtcy5wdXNoKG1Mb2NhbFN0cmVhbUF1ZGlvVmlkZW8pO1xuXG5cdFx0XHRpZihzdHJlYW1BdWRpb1ZpZGVvID09PSBudWxsKXtcblx0XHRcdFx0bmF2aWdhdG9yLmdldE1lZGlhKHthdWRpbyA6IHRydWUsdmlkZW8gOiB0cnVlfSxcblx0XHRcdFx0XHQocykgPT4ge1xuXHRcdFx0XHRcdFx0c3RyZWFtQXVkaW9WaWRlbyA9IHM7XG5cblx0XHRcdFx0XHRcdGxvY2FsQXVkaW9WaWRlb1N0cmVhbXMuZm9yRWFjaCgobG9jYWxBdWRpb1ZpZGVvU3RyZWFtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKGxvY2FsQXVkaW9WaWRlb1N0cmVhbSwgc3RyZWFtQXVkaW9WaWRlbyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGxvY2FsQXVkaW9WaWRlb1N0cmVhbXMgPSBbXTtcblxuXHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW9WaWRlby5mb3JFYWNoKChsaXN0ZW5lckF1ZGlvVmlkZW8pID0+IHtcblx0XHRcdFx0XHRcdFx0bGlzdGVuZXJBdWRpb1ZpZGVvKHN0cmVhbUF1ZGlvVmlkZW8pO1xuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lcnNBdWRpb1ZpZGVvID0gW107XG5cblx0XHRcdFx0XHRcdGluaXRBdWRpb1ZpZGVvUHJvZ3Jlc3MgPSBmYWxzZTtcblxuXHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQoZXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6bG9jYWxzdHJlYW06OmluaXRBdWRpb1ZpZGVvOjpFcnJvciBvbiB3ZWJydGNMb2NhbFN0cmVhbSAtIHdlYmtpdEdldFVzZXJNZWRpYSA6IGVycm9yPScpO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5kaXIoZXJyb3IpO1xuXHRcdFx0XHRcdFx0aW5pdEF1ZGlvVmlkZW9Qcm9ncmVzcz1mYWxzZTtcblxuXHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrKGVycm9yKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsb2NhbEF1ZGlvVmlkZW9TdHJlYW1zLmZvckVhY2goKGxvY2FsQXVkaW9WaWRlb1N0cmVhbSkgPT4ge1xuXHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKGxvY2FsQXVkaW9WaWRlb1N0cmVhbSwgc3RyZWFtQXVkaW9WaWRlbyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRsb2NhbEF1ZGlvVmlkZW9TdHJlYW1zID0gW107XG5cblx0XHRcdFx0bGlzdGVuZXJzQXVkaW9WaWRlby5mb3JFYWNoKChsaXN0ZW5lckF1ZGlvVmlkZW8pID0+IHtcblx0XHRcdFx0XHRsaXN0ZW5lckF1ZGlvVmlkZW8oc3RyZWFtQXVkaW9WaWRlbyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRsaXN0ZW5lcnNBdWRpb1ZpZGVvID0gW107XG5cblx0XHRcdFx0aW5pdEF1ZGlvVmlkZW9Qcm9ncmVzcyA9IGZhbHNlO1xuXHRcdFx0fVxuXG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENsb3NlcyBhbGwgdGhlIHN0cmVhbXMuXG5cdCAqIFNldCBhbGwgdGhlIGluaXRQcm9ncmVzcyBmbGFncyB0byBmYWxzZSwgZGV0YWNoIGFsbCB0aGUgc3RyZWFtcyBhZnRlciBzdG9wcGluZyB0aGVtLlxuXHQgKi9cblx0ZnVuY3Rpb24gY2xvc2UoKSB7XG5cdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6bG9jYWxzdHJlYW06OmNsb3NlKScpO1xuXHRcdGlmIChtTG9jYWxTdHJlYW1WaWRlbykge1xuXHRcdFx0ZGV0YWNoTWVkaWFTdHJlYW0obUxvY2FsU3RyZWFtVmlkZW8pO1xuXHRcdFx0bUxvY2FsU3RyZWFtVmlkZW89bnVsbDtcblx0XHR9XG5cdFx0aWYgKHN0cmVhbUF1ZGlvVmlkZW8pIHtcblx0XHRcdHN0cmVhbUF1ZGlvVmlkZW8uc3RvcCgpO1xuXHRcdFx0c3RyZWFtQXVkaW9WaWRlbz1udWxsO1xuXHRcdH1cblx0XHRpZiAoc3RyZWFtVmlkZW8pIHtcblx0XHRcdHN0cmVhbVZpZGVvLnN0b3AoKTtcblx0XHRcdHN0cmVhbVZpZGVvID0gbnVsbDtcblx0XHR9XG5cdFx0aW5pdFZpZGVvUHJvZ3Jlc3M9ZmFsc2U7XG5cblx0XHRpZiAobUxvY2FsU3RyZWFtQXVkaW8pIHtcblx0XHRcdGRldGFjaE1lZGlhU3RyZWFtKG1Mb2NhbFN0cmVhbUF1ZGlvKTtcblx0XHRcdG1Mb2NhbFN0cmVhbUF1ZGlvPW51bGw7XG5cdFx0fVxuXHRcdGlmIChzdHJlYW1BdWRpbykge1xuXHRcdFx0c3RyZWFtQXVkaW8uc3RvcCgpO1xuXHRcdFx0c3RyZWFtQXVkaW8gPSBudWxsO1xuXHRcdH1cblxuXHRcdGluaXRBdWRpb1Byb2dyZXNzPWZhbHNlO1xuXG5cdFx0aWYgKG1Mb2NhbFN0cmVhbUF1ZGlvVmlkZW8pIHtcblx0XHRcdGRldGFjaE1lZGlhU3RyZWFtKG1Mb2NhbFN0cmVhbUF1ZGlvVmlkZW8pO1xuXHRcdFx0bUxvY2FsU3RyZWFtQXVkaW9WaWRlbz1udWxsO1xuXHRcdH1cblx0XHRpZiAoc3RyZWFtQXVkaW9WaWRlbykge1xuXHRcdFx0c3RyZWFtQXVkaW9WaWRlby5zdG9wKCk7XG5cdFx0XHRzdHJlYW1BdWRpb1ZpZGVvID0gbnVsbDtcblx0XHR9XG5cblx0XHRpbml0QXVkaW9WaWRlb1Byb2dyZXNzPWZhbHNlO1xuXHR9XG5cblxuXHRyZXR1cm4ge1xuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHZpZGVvIHN0cmVhbVxuXHRcdCAqL1xuXHRcdGdldFZpZGVvU3RyZWFtOiAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gc3RyZWFtVmlkZW87XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBBZGRzIGEgdmlkZW8gbGlzdGVuZXIgd2hpY2ggd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgdGhlIHZpZGVvIHN0cmVhbSBpcyBlc3RhYmxpc2hlZC5cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIFRoZSBsaXN0ZW5lciB0byBhZGRcblx0XHQgKi9cblx0XHRhZGRWaWRlb0xpc3RlbmVyOiAoY2IpID0+IHtcblx0XHRcdGxpc3RlbmVyc1ZpZGVvLnB1c2goY2IpO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZXMgdGhlIHZpZGVvIGxvY2FsIHN0cmVhbS5cblx0XHQgKiBUaGUgd2ViIGJyb3dzZXIncyB1c2VyIG1lZGlhIHdpbGwgYmUgY2FsbGVkLCBzbyB0aGUgYnJvd3NlciBpbiB1c2UgbXVzdCBiZSByZWNlbnQgKEZpcmVmb3ggMTcsIENocm9tZSAyMSwgT3BlcmEgMTggYW5kIGxhdGVyIHZlcnNpb25zKS5cblx0XHQgKiBBIHZpZGVvIGVsZW1lbnQgd2lsbCBiZSBjcmVhdGVkLCBhbmQgcHVzaGVkIHRvIHRoZSBsb2NhbCBzdHJlYW1zIG9iamVjdHMuIFRoZSBjYXRjaGVkIHZpZGVvIGFuZCBhdWRpbyBzdHJlYW0gd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgY3JlYXRlZCBIVE1MIGVsZW1lbnQuXG5cdFx0ICogTGlzdGVuZXJzIHdpbGwgYWxzbyBiZSBjYWxsZWQuXG5cdFx0ICovXG5cdFx0aW5pdFZpZGVvOiAoKSA9PiB7XG5cdFx0XHRpbml0VmlkZW8oKTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIE1ha2VzIHRoZSBjb25uZWN0aW9uIHRvIHRoZSBsb2NhbCB2aWRlbyBzdHJlYW0sIGFuZCBhdHRhY2ggdGhlIGxvY2FsIHZpZGVvIHN0cmVhbSB0byB0aGUgdmlkZW8gZWxlbWVudCBpZiBkZWZpbmVkLlxuXHRcdCAqIElmIHRoZSB2aWRlbyBlbGVtZW50IGlzIG5vdCBkZWZpbmVkLCB0aGUgdmlkZW8gbG9jYWwgc3RyZWFtIHdpbGwgYmUgaW5pdGlhbGl6ZWQgYW5kIGEgZGVkaWNhdGVkIEhUTUwgdmlkZW8gdGFnIHdpbGwgYmUgY3JlYXRlZC5cblx0XHQgKiBAcGFyYW0gdmlkZW9FbHQgLSBUaGUgdmlkZW8gZWxlbWVudCB3aGVyZSBwbGFjZSB0aGUgY29ubmVjdGVkIGxvY2FsIHZpZGVvIHN0cmVhbS4gaWYgbnVsbCwgYSBuZXcgb25lIHdpbGwgYmUgY3JlYXRlZC5cblx0XHQgKiBAcGFyYW0gZ2V0TG9jYWxTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHRcdCAqL1xuXHRcdGNvbm5lY3RMb2NhbFZpZGVvU3RyZWFtOiAodmlkZW9FbHQsIHB1Ymxpc2hTdHJlYW1DYiwgZ2V0TG9jYWxTdHJlYW1DYikgPT4ge1xuXHRcdFx0aWYgKHZpZGVvRWx0KSB7XG5cdFx0XHRcdHZpZGVvRWx0Lm11dGVkPXRydWU7XG5cdFx0XHRcdGlmIChzdHJlYW1WaWRlbykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OmxvY2Fsc3RyZWFtOjpjb25uZWN0TG9jYWxWaWRlb1N0cmVhbSl1c2UgZXhpc3Rpbmcgc3RyZWFtVmlkZW8nKTtcblx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbSh2aWRlb0VsdCxzdHJlYW1WaWRlbyk7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGdldExvY2FsU3RyZWFtQ2Ioc3RyZWFtVmlkZW8pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsb2NhbFZpZGVvU3RyZWFtcy5wdXNoKHZpZGVvRWx0KTtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0TG9jYWxTdHJlYW1DYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzVmlkZW8ucHVzaChnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aW5pdFZpZGVvKHB1Ymxpc2hTdHJlYW1DYik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICghc3RyZWFtVmlkZW8pIHtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0TG9jYWxTdHJlYW1DYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzVmlkZW8ucHVzaChnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aW5pdFZpZGVvKHB1Ymxpc2hTdHJlYW1DYik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGdldExvY2FsU3RyZWFtQ2Ioc3RyZWFtVmlkZW8pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgYXVkaW8gc3RyZWFtXG5cdFx0ICogQHJldHVybiAtIEFuIGF1ZGlvIHN0cmVhbVxuXHRcdCAqL1xuXHRcdGdldEF1ZGlvU3RyZWFtOiAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gc3RyZWFtQXVkaW87XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBBZGRzIGFuIGF1ZGlvIGxpc3RlbmVyIHdoaWNoIHdpbGwgYmUgY2FsbGVkIGFmdGVyIHRoZSBhdWRpbyBzdHJlYW0gaXMgZXN0YWJsaXNoZWQuXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBUaGUgbGlzdGVuZXIgdG8gYWRkXG5cdFx0ICovXG5cdFx0YWRkQXVkaW9MaXN0ZW5lcjogKGNiKSA9PiB7XG5cdFx0XHRsaXN0ZW5lcnNBdWRpby5wdXNoKGNiKTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVzIHRoZSBhdWRpbyBsb2NhbCBzdHJlYW0uXG5cdFx0ICogVGhlIHdlYiBicm93c2VyJ3MgdXNlciBtZWRpYSB3aWxsIGJlIGNhbGxlZCwgc28gdGhlIGJyb3dzZXIgaW4gdXNlIG11c3QgYmUgcmVjZW50IChGaXJlZm94IDE3LCBDaHJvbWUgMjEsIE9wZXJhIDE4IGFuZCBsYXRlciB2ZXJzaW9ucykuXG5cdFx0ICogQSB2aWRlbyBlbGVtZW50IHdpbGwgYmUgY3JlYXRlZCwgYW5kIHB1c2hlZCB0byB0aGUgbG9jYWwgc3RyZWFtcyBvYmplY3RzLiBUaGUgY2F0Y2hlZCBhdWRpbyBzdHJlYW0gd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgY3JlYXRlZCBIVE1MIGVsZW1lbnQuXG5cdFx0ICogTGlzdGVuZXJzIHdpbGwgYWxzbyBiZSBjYWxsZWQuXG5cdFx0ICovXG5cdFx0aW5pdEF1ZGlvOiAoKSA9PiB7XG5cdFx0XHRpbml0QXVkaW8oKTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIENvbm5lY3RzIHRvIHRoZSBsb2NhbCBhdWRpbyBzdHJlYW0gYW5kIHNldHMgaXQgdG8gdGhlIGF1ZGlvIGVsZW1lbnQgaWYgZGVmaW5lZC5cblx0XHQgKiBJZiBub3QsIGEgZGVkaWNhdGVkIEhUTUwgdmlkZW8gd2lsbCBiZSBjcmVhdGVkLiBUaGUgYXVkaW8gbWVkaWEgc3RyZWFtIHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlIGVsZW1lbnQgaW4gdXNlLlxuXHRcdCAqIEBwYXJhbSBBdWRpb0VsdCAtIFRoZSBhdWRpbyBlbGVtZW50IGluIHVzZSBwb3NzZXNzaW5nIHRoZSBhdHRhY2hlZCBsb2NhbCBhdWRpbyBzdHJlYW1cblx0XHQgKiBAcGFyYW0gZ2V0TG9jYWxTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHRcdCAqL1xuXHRcdGNvbm5lY3RMb2NhbEF1ZGlvU3RyZWFtOiAoQXVkaW9FbHQsIHB1Ymxpc2hTdHJlYW1DYiwgZ2V0TG9jYWxTdHJlYW1DYikgPT4ge1xuXHRcdFx0aWYgKEF1ZGlvRWx0KSB7XG5cdFx0XHRcdEF1ZGlvRWx0Lm11dGVkPXRydWU7XG5cdFx0XHRcdGlmIChzdHJlYW1BdWRpbykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OmxvY2Fsc3RyZWFtOjpjb25uZWN0TG9jYWxBdWRpb1N0cmVhbSl1c2UgZXhpc3Rpbmcgc3RyZWFtQXVkaW8nKTtcblx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShBdWRpb0VsdCxzdHJlYW1BdWRpbyk7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGdldExvY2FsU3RyZWFtQ2Ioc3RyZWFtQXVkaW8pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsb2NhbEF1ZGlvU3RyZWFtcy5wdXNoKEF1ZGlvRWx0KTtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0TG9jYWxTdHJlYW1DYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW8ucHVzaChnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aW5pdEF1ZGlvKHB1Ymxpc2hTdHJlYW1DYik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICghc3RyZWFtQXVkaW8pIHtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0TG9jYWxTdHJlYW1DYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW8ucHVzaChnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aW5pdEF1ZGlvKHB1Ymxpc2hTdHJlYW1DYik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGdldExvY2FsU3RyZWFtQ2Ioc3RyZWFtQXVkaW8pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgYXVkaW8gdmlkZW8gc3RyZWFtXG5cdFx0ICogQHJldHVybiAtIFRoZSBhdWRpbyBhbmQgdmlkZW8gc3RyZWFtXG5cdFx0ICovXG5cdFx0Z2V0QXVkaW9WaWRlb1N0cmVhbTogKCkgPT4ge1xuXHRcdFx0cmV0dXJuIHN0cmVhbUF1ZGlvVmlkZW87XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBBZGRzIHRoZSBhdWRpby1hbmQtdmlkZW8gbGlzdGVuZXIgd2hpY2ggd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgdGhlIGF1ZGktYW5kLXZpZGVvIHN0cmVhbSBpcyBlc3RhYmxpc2hlZC5cblx0XHQgKiBAcGFyYW0gY2IgLSBUaGUgYXVkaW8gYW5kIHZpZGVvIGxpc3RlbmVyIHRvIGFkZFxuXHRcdCAqL1xuXHRcdGFkZEF1ZGlvVmlkZW9MaXN0ZW5lcjogKGNiKSA9PiB7XG5cdFx0XHRsaXN0ZW5lcnNBdWRpb1ZpZGVvLnB1c2goY2IpO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZXMgdGhlIGF1ZGlvLWFuZC12aWRlbyBsb2NhbCBzdHJlYW0uXG5cdFx0ICogVGhlIHdlYiBicm93c2VyJ3MgdXNlciBtZWRpYSB3aWxsIGJlIGNhbGxlZCwgc28gdGhlIGJyb3dzZXIgaW4gdXNlIG11c3QgYmUgcmVjZW50IChGaXJlZm94IDE3LCBDaHJvbWUgMjEsIE9wZXJhIDE4IGFuZCBsYXRlciB2ZXJzaW9ucykuXG5cdFx0ICogQSB2aWRlbyBlbGVtZW50IHdpbGwgYmUgY3JlYXRlZCwgYW5kIHB1c2hlZCB0byB0aGUgbG9jYWwgc3RyZWFtcyBvYmplY3RzLiBUaGUgY2F0Y2hlZCBhdWRpbyBzdHJlYW0gd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgY3JlYXRlZCBIVE1MIGVsZW1lbnQuXG5cdFx0ICogTGlzdGVuZXJzIHdpbGwgYWxzbyBiZSBjYWxsZWQuXG5cdFx0ICovXG5cdFx0aW5pdEF1ZGlvVmlkZW86ICgpID0+IHtcblx0XHRcdGluaXRBdWRpb1ZpZGVvKCk7XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBDb25uZWN0cyB0aGUgbG9jYWwgYXVkaW8gYW5kIHZpZGVvIHN0cmVhbXMgYW5kIGFzc2lnbnMgdGhlbSB0byB0aGUgYXVkaW8gYW5kIHZpZGVvIGVsZW1lbnQgaWYgbmVlZGVkLlxuXHRcdCAqIElmIG5vIEhUTUwgZWxlbWVudCBpcyBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9ubiBhIG5ldyBlbGVtZW50IGlzIGNyZWF0ZWRcblx0XHQgKiBAcGFyYW0gQXVkaW9WaWRlb0VsdCAtIFRoZSBlbGVtZW50IHdoZXJlIHRvIHBsYWNlIHRoZSBhdWRpbyBhbmQgdmlkZW8gbG9jYWwgc3RyZWFtc1xuXHRcdCAqIEBwYXJhbSBnZXRMb2NhbFN0cmVhbUNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgbWVkaWFzdHJlYW0gb2JqZWN0XG5cdFx0ICovXG5cdFx0Y29ubmVjdExvY2FsQXVkaW9WaWRlb1N0cmVhbTogKEF1ZGlvVmlkZW9FbHQsIHB1Ymxpc2hTdHJlYW1DYiwgZ2V0TG9jYWxTdHJlYW1DYikgPT4ge1xuXHRcdFx0aWYgKEF1ZGlvVmlkZW9FbHQpIHtcblx0XHRcdFx0QXVkaW9WaWRlb0VsdC5tdXRlZD10cnVlO1xuXHRcdFx0XHRpZiAoc3RyZWFtQXVkaW9WaWRlbykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OmxvY2Fsc3RyZWFtOjpjb25uZWN0TG9jYWxBdWRpb1ZpZGVvU3RyZWFtKXVzZSBleGlzdGluZyBzdHJlYW1BdWRpb1ZpZGVvJyk7XG5cdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0oQXVkaW9WaWRlb0VsdCxzdHJlYW1BdWRpb1ZpZGVvKTtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYikge1xuXHRcdFx0XHRcdFx0Z2V0TG9jYWxTdHJlYW1DYihzdHJlYW1BdWRpb1ZpZGVvKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bG9jYWxBdWRpb1ZpZGVvU3RyZWFtcy5wdXNoKEF1ZGlvVmlkZW9FbHQpO1xuXHRcdFx0XHRcdGlmIChnZXRMb2NhbFN0cmVhbUNiICYmIHR5cGVvZiBnZXRMb2NhbFN0cmVhbUNiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGxpc3RlbmVyc0F1ZGlvVmlkZW8ucHVzaChnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aW5pdEF1ZGlvVmlkZW8ocHVibGlzaFN0cmVhbUNiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCFzdHJlYW1BdWRpb1ZpZGVvKSB7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW9WaWRlby5wdXNoKGdldExvY2FsU3RyZWFtQ2IpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpbml0QXVkaW9WaWRlbyhwdWJsaXNoU3RyZWFtQ2IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChnZXRMb2NhbFN0cmVhbUNiKSB7XG5cdFx0XHRcdFx0XHRnZXRMb2NhbFN0cmVhbUNiKHN0cmVhbUF1ZGlvVmlkZW8pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBEZXRhY2hlcyBzdHJlYW1zIGFuZCBkZWxldGVzIGxpc3RlbmVyc1xuXHRcdCAqL1xuXHRcdGNsb3NlOiAoKSA9PiB7XG5cdFx0XHRjbG9zZSgpO1xuXHRcdH1cblx0fTtcblxufSkoKTtcblxuZXhwb3J0IGRlZmF1bHQgbG9jYWxzdHJlYW07XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvbG9jYWxzdHJlYW0uanNcbiAqKi8iLCIvKipcbiAqIEBmaWxlIHdlYnJ0Y21uZ3IuanMgLSBKUyBmaWxlIGZvciBhIFdlYlJUQyBtYW5hZ2VyXG4gKiBAYXV0aG9yIFdlYmNvbVxuICovXG5cbi8qZXNsaW50IGNvbXBsZXhpdHk6MSwgbWF4LXN0YXRlbWVudHM6IDEsIG1heC1sZW46IDEsIG1heC1wYXJhbXM6IDEqL1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscyc7XG5pbXBvcnQgd2VicnRjIGZyb20gJy4vd2VicnRjJztcbmltcG9ydCBsb2NhbHN0cmVhbSBmcm9tICcuL2xvY2Fsc3RyZWFtJztcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBkZXNjcmlwdGlvbiBXZWJSVEMgbWFuYWdlciBoYW5kbGluZyB0aGUgV2ViUlRDIHN0YWNrcyBpbiB1c2VcbiAqL1xuY29uc3Qgd2VicnRjbW5nciA9IGZ1bmN0aW9uKGRhdGFyZWZzKSB7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluZyB0aGUgV2ViUlRDIHN0YWNrcyBpbiB1c2Vcblx0ICovXG5cdGNvbnN0IHdlYnJ0Y1N0YWNrcyA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIGFycmF5IGNvbnRhaW50IHRoZSB2aXJ0dWFsIFdlYlJUQyBzdGFja3Ncblx0ICovXG5cdGNvbnN0IHZpcnR1YWxXZWJydGNTdGFja3MgPSBbXTtcblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIFdlYlJUQyBvYmplY3Rcblx0ICogQHBhcmFtIHBfVmlkIC0gdGhlIHZpZGVvIGNvbnRhaW5lciBsaW5rZWQgdG8gdGhlIHBlZXJjb25uZWN0aW9uXG5cdCAqIEBwYXJhbSBwX3JlbW90ZUFwcEluc3RJZCAtIHRoZSByZW1vdGUgYXBwbGljYXRpb24gaW5zdGFuY2UgaWRlbnRpZmllclxuXHQgKiBAcGFyYW0gcF9vbkNsb3NlQ2IgLSBBIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWRcblx0ICogQHBhcmFtIHBfaXNQdWJsaXNoIC0gdHJ1ZSBpZiBpdCdzIGEgcGVlcmNvbm5lY3Rpb24gcmVsYXRlZCB0byBhIHB1Ymxpc2hTdHJlYW0sIGZhbHNlIGlmIGl0J3MgcmVsYXRhdGVkIHRvIGEgc3Vic2NyaWJlXG5cdCAqIEBwYXJhbSBwX2FjdGlvblR5cGUgLSBUaGUgYWN0aW9uIHR5cGUgKGF1ZGlvLCB2aWRlbywgYXVkaW8tdmlkZW8pXG5cdCAqIEBwYXJhbSBwX3BlZXJjb0lkIC0gVGhlIFBlZXJDb25uZWN0aW9uIElkXG5cdCAqIEBwYXJhbSBwX3BlZXJjb1JlZiAtIFRoZSBQZWVyQ29ubmVjdGlvbiBSZWYgaW4gdGhlIHdlYnJ0YyBub2RlXG5cdCAqIEBwYXJhbSBwX3BlZXJjb1JlZiAtIFRoZSBQZWVyQ29ubmVjdGlvbiBJZCBpbiB0aGUgd2VicnRjIG5vZGVcblx0ICogQHBhcmFtIHBfbXV0ZWRBdWRpbyAtIG9wdGlvbmFsIC0gaWYgdHJ1ZSBwZWVyY29ubmVjdGlvbiB3aWxsIGJlIGNyZWF0ZWQgbXV0ZWRcblx0ICogQHBhcmFtIHBfbXV0ZVZpZGVvIC0gb3B0aW9uYWwgLSBpZiB0cnVlIHBlZXJjb25uZWN0aW9uIHdpbGwgYmUgY3JlYXRlZCB3aXRoIHZpZGVvIG11dGVkXG5cdCAqIEBwYXJhbSBwX2dldFN0cmVhbUNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgbWVkaWFzdHJlYW0gb2JqZWN0XG5cdCAqL1xuXHRmdW5jdGlvbiBfY3JlYXRlV2VicnRjKHBfVmlkLCBwX3JlbW90ZUFwcEluc3RJZCwgcF9vbkNsb3NlQ2IsIHBfaXNQdWJsaXNoLCBwX2FjdGlvblR5cGUsIHBfcGVlcmNvSWQsIHBfcGVlcmNvUmVmLCBwX211dGVkQXVkaW8sIHBfbXV0ZVZpZGVvLCBwX2dldFN0cmVhbUNiKSB7XG5cdFx0Y29uc3Rcblx0XHRcdHdlYnJ0Y1N0YWNrSWQgPSBwX3BlZXJjb0lkLFxuXHRcdFx0bG9jYWxEYXRhUmVmID0gZGF0YXJlZnMuZ2V0V2VicnRjKCkuY2hpbGQoYCR7cF9wZWVyY29SZWZ9LyR7dXRpbHMuYXBwSW5zdGFuY2VJZH1gKSxcblx0XHRcdHJlbW90ZURhdGFSZWYgPSBkYXRhcmVmcy5nZXRXZWJydGMoKS5jaGlsZChgJHtwX3BlZXJjb1JlZn0vJHtwX3JlbW90ZUFwcEluc3RJZH1gKTtcbi8vICAgIFx0IGlmIChwX2lzUHVibGlzaCkge1xuLy8gICAgXHRcdCB3ZWJydGNTdGFja0lkPXV0aWxzLmFwcEluc3RhbmNlSWQrXCJfXCIrcF9yZW1vdGVBcHBJbnN0SWQ7XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgXHQgd2VicnRjU3RhY2tJZD1wX3JlbW90ZUFwcEluc3RJZCtcIl9cIit1dGlscy5hcHBJbnN0YW5jZUlkO1xuLy8gICAgICAgICB9XG5cdFx0bGV0IHZpcnR1YWxXZWJydGNTdGFjayA7XG5cdFx0Ly8gY3JlYXRlIHRoZSB2aXJ0dWFsIHdlYnJ0Y3N0YWNrXG5cdFx0aWYgKHBfaXNQdWJsaXNoKSB7XG5cdFx0XHR2aXJ0dWFsV2VicnRjU3RhY2sgPSB7XG5cdFx0XHRcdHdlYlJ0Y1N0YWNrSWQ6IHdlYnJ0Y1N0YWNrSWQsXG5cdFx0XHRcdGxvY2FsVmlkOiBwX1ZpZFxuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmlydHVhbFdlYnJ0Y1N0YWNrID0ge1xuXHRcdFx0XHR3ZWJSdGNTdGFja0lkOiB3ZWJydGNTdGFja0lkLFxuXHRcdFx0XHRyZW1vdGVWaWQ6IHBfVmlkXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGNvbnN0IGlkID0gdmlydHVhbFdlYnJ0Y1N0YWNrcy5wdXNoKHZpcnR1YWxXZWJydGNTdGFjaykgLSAxO1xuXG5cdFx0Ly8gY3JlYXRlIHRoZSByZWFsIHdlYnJ0Y3N0YWNrIGlmIGl0IGRvZXMgbm90IGFscmVhZHkgZXhpc3Rcblx0XHRpZiAoIXdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXSkge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZygnUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNyZWF0ZVdlYnJ0Yy0+Y3JlYXRlIGEgbmV3IHJlYWwgd2VicnRjU3RhY2snKTtcblx0XHRcdC8vIGNyZWF0ZSB0aGUgcmVhbCB3ZWJydGNzdGFja1xuXHRcdFx0Y29uc3Qgd2ViUnRjU3RhY2sgPSB3ZWJydGModGhpcywgcF9pc1B1Ymxpc2gsIGxvY2FsRGF0YVJlZiwgcmVtb3RlRGF0YVJlZiwgd2VicnRjU3RhY2tJZCwgcF9hY3Rpb25UeXBlLCBwX211dGVkQXVkaW8sIHBfbXV0ZVZpZGVvKTtcblx0XHRcdHdlYlJ0Y1N0YWNrLnNldE9uQ2xvc2UocF9vbkNsb3NlQ2IpO1xuXHRcdFx0aWYgKHBfaXNQdWJsaXNoKSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXSA9IHtcblx0XHRcdFx0XHRzdGFjazp3ZWJSdGNTdGFjayxcblx0XHRcdFx0XHRpc1B1Ymxpc2hlZDoxLFxuXHRcdFx0XHRcdGlzU3Vic2NyaWJlZDowXG5cdFx0XHRcdH07XG5cdFx0XHRcdHdlYlJ0Y1N0YWNrLmNvbm5lY3RMb2NhbFN0cmVhbShwX1ZpZCxwX2dldFN0cmVhbUNiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXSA9IHtcblx0XHRcdFx0XHRzdGFjazp3ZWJSdGNTdGFjayxcblx0XHRcdFx0XHRpc1B1Ymxpc2hlZDowLFxuXHRcdFx0XHRcdGlzU3Vic2NyaWJlZDoxXG5cdFx0XHRcdH07XG5cdFx0XHRcdHdlYlJ0Y1N0YWNrLmNvbm5lY3RSZW1vdGVTdHJlYW0ocF9WaWQscF9nZXRTdHJlYW1DYik7XG5cdFx0XHR9XG5cblxuXG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUuZGVidWcoJ1JlYWNoU0RLOjp3ZWJydGNtbmdyOjpjcmVhdGVXZWJydGMtPnVzZSBleGlzdGluZyByZWFsIHdlYnJ0Y1N0YWNrJyk7XG5cdFx0XHQvLyBpbmNyZW1lbnQgcmVmIGNvdW50ZXJcblx0XHRcdGlmIChwX2lzUHVibGlzaCkge1xuXHRcdFx0XHR3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNQdWJsaXNoZWQrKztcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLnN0YWNrLmNvbm5lY3RMb2NhbFN0cmVhbShwX1ZpZCwgcF9nZXRTdHJlYW1DYik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNTdWJzY3JpYmVkKys7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5zdGFjay5jb25uZWN0UmVtb3RlU3RyZWFtKHBfVmlkLCBwX2dldFN0cmVhbUNiKTtcblx0XHRcdH1cblxuXG5cdFx0fVxuXHRcdGNvbnNvbGUuZGVidWcoYFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpjcmVhdGVXZWJydGMtPndlYnJ0Y1N0YWNrOiR7d2VicnRjU3RhY2tJZH0gbmV3IGlzUHVibGlzaGVkIGNvdW50ID0ke3dlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1B1Ymxpc2hlZH0gbmV3IGlzU3Vic2NyaWJlZCBjb3VudCA9JHt3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNTdWJzY3JpYmVkfWApO1xuXHRcdHJldHVybiBpZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBDbG9zZSBXZWJSVEMgZmVhdHVyZXMgOiBkZXRhY2ggbWVkaWEgc3RyZWFtcyBhbmQgdW5wdWJsaXNoIHN0YWNrcy5cblx0ICogQHBhcmFtIGlkIC1cblx0ICogQHBhcmFtIHBfaXNVblB1Ymxpc2hcblx0ICogQHBhcmFtIGNhbGxiYWNrIC1cblx0ICovXG5cdGZ1bmN0aW9uIF9jbG9zZVdlYnJ0YyhpZCxwX2lzVW5QdWJsaXNoLGNhbGxiYWNrKSB7XG5cdFx0Y29uc29sZS5kZWJ1ZyhgUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNsb3NlV2VicnRjLT5pZD0ke2lkfWApO1xuXHRcdGlmICghdmlydHVhbFdlYnJ0Y1N0YWNrc1tpZF0pIHtcblx0XHRcdGNvbnNvbGUud2FybihgUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNsb3NlV2VicnRjOiB2aXJ0dWFsc3RhY2sgJHtpZH0gbm90IGZvdW5kYCk7XG5cdFx0XHRpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBmYWxzZTtcblx0XHR9XG5cblx0XHRjb25zdCB3ZWJydGNTdGFja0lkID0gdmlydHVhbFdlYnJ0Y1N0YWNrc1tpZF0ud2ViUnRjU3RhY2tJZDtcblx0XHRpZiAod2VicnRjU3RhY2tJZCAmJiB3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0gICkge1xuXHRcdFx0aWYgKHBfaXNVblB1Ymxpc2ggJiYgd2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLmlzUHVibGlzaGVkPjApIHtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLmlzUHVibGlzaGVkLS07XG5cdFx0XHR9IGVsc2UgaWYgKCFwX2lzVW5QdWJsaXNoICYmIHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1N1YnNjcmliZWQ+MCkge1xuXHRcdFx0XHR3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNTdWJzY3JpYmVkLS07XG5cdFx0XHR9XG5cdFx0XHRpZiAod2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLmlzUHVibGlzaGVkPDEgJiYgd2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLmlzU3Vic2NyaWJlZDwxKSB7XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoYFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpjbG9zZVdlYnJ0Yy0+ZGVzdHJveSAgcmVhbCB3ZWJydGNTdGFjazoke3dlYnJ0Y1N0YWNrSWR9YCk7XG5cdFx0XHRcdC8vIGRlc3Ryb3kgdGhlIHN0YWNrXG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5zdGFjay5jbG9zZShjYWxsYmFjayk7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXSA9IG51bGw7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGBSZWFjaFNESzo6d2VicnRjbW5ncjo6Y2xvc2VXZWJydGMtPmRlY3JlbWVudCAgcmVhbCB3ZWJydGNTdGFjazoke3dlYnJ0Y1N0YWNrSWR9IG5ldyBpc1B1Ymxpc2hlZCBjb3VudCA9JHt3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNQdWJsaXNoZWR9IG5ldyBpc1N1YnNjcmliZWQgY291bnQgPSR7d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLmlzU3Vic2NyaWJlZH1gKTtcblx0XHRcdFx0aWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUud2FybignUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNsb3NlV2VicnRjIGNhbm5vdCBmb3VuZCByZWFsIHN0YWNrJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHZpcnR1YWxXZWJydGNTdGFja3NbaWRdLmxvY2FsVmlkKSB7XG5cdFx0XHRsb2NhbHN0cmVhbS5jbG9zZSgpO1xuXHRcdFx0ZGV0YWNoTWVkaWFTdHJlYW0odmlydHVhbFdlYnJ0Y1N0YWNrc1tpZF0ubG9jYWxWaWQpO1xuXHRcdH1cblx0XHRpZiAodmlydHVhbFdlYnJ0Y1N0YWNrc1tpZF0ucmVtb3RlVmlkKSB7IGRldGFjaE1lZGlhU3RyZWFtKHZpcnR1YWxXZWJydGNTdGFja3NbaWRdLnJlbW90ZVZpZCk7fVxuXG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvKipcblx0ICogQ2xlYXJzIGEgc3BlY2lmaWNhbCBXZWJSVEMgc3RhY2sgYnkgc2V0dGluZyBpdCB0byBudWxsLlxuXHQgKiBAcGFyYW0gd2VicnRjU3RhY2tJZCAtIFRoZSBXZWJSVEMgc3RhY2sgSUQgdG8gY2xlYXJcblx0ICovXG5cdGZ1bmN0aW9uIF9jbGVhcldlYnJ0Y1N0YWNrcyh3ZWJydGNTdGFja0lkKSB7XG5cdFx0Y29uc29sZS5kZWJ1ZyhgUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNsZWFyV2VicnRjU3RhY2tzIGlkPSR7d2VicnRjU3RhY2tJZH1gKTtcblx0XHRpZiAod2VicnRjU3RhY2tJZCAmJiB3ZWJydGNTdGFja3MgJiYgd2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdKSB7XG5cdFx0XHR3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0gPSBudWxsO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBBdWRpbyBtdXRlIHRoZSB3ZWJydGMgcGVlcmNvbm5lY3Rpb25cblx0ICogQHBhcmFtIHZpcnR1YWxXZWJydGNTdGFja0lkIC0gVGhlIFdlYlJUQyBzdGFjayBJRCB0byBtdXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfbXV0ZUF1ZGlvV2VicnRjU3RhY2sodmlydHVhbFdlYnJ0Y1N0YWNrSWQpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjptdXRlQXVkaW9XZWJydGNTdGFjaykgdmlydHVhbFdlYnJ0Y1N0YWNrSWQ9JHt2aXJ0dWFsV2VicnRjU3RhY2tJZH1gKTtcblxuXHRcdGlmICh2aXJ0dWFsV2VicnRjU3RhY2tzICYmIHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdICYmIHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdLndlYlJ0Y1N0YWNrSWQpIHtcblx0XHRcdGNvbnN0IHdlYlJ0Y1N0YWNrSWQgPSB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXS53ZWJSdGNTdGFja0lkO1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjbW5ncjo6bXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9IHdlYlJ0Y1N0YWNrSWQ9JHt3ZWJSdGNTdGFja0lkfWApO1xuXHRcdFx0aWYgKHdlYnJ0Y1N0YWNrcyAmJiB3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0gJiYgd2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdLnN0YWNrKSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXS5zdGFjay5tdXRlQXVkaW8oKTtcblx0XHRcdH0gIGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oYChSZWFjaFNESzo6d2VicnRjbW5ncjo6bXV0ZUF1ZGlvV2VicnRjU3RhY2spIHdlYnJ0Y1N0YWNrPSR7d2ViUnRjU3RhY2tJZH0gbm90IGZvdW5kYCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjptdXRlQXVkaW9XZWJydGNTdGFjaykgdmlydHVhbFdlYnJ0Y1N0YWNrSWQ9JHt2aXJ0dWFsV2VicnRjU3RhY2tJZH0gbm90IGZvdW5kYCk7XG5cdFx0fVxuXG5cblx0fVxuXG5cdC8qKlxuXHQgKiBBdWRpbyB1bm11dGUgdGhlIHdlYnJ0YyBwZWVyY29ubmVjdGlvblxuXHQgKiBAcGFyYW0gdmlydHVhbFdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIHVubXV0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gIF91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrICh2aXJ0dWFsV2VicnRjU3RhY2tJZCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Ol91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfWApO1xuXG5cdFx0aWYgKHZpcnR1YWxXZWJydGNTdGFja3MgJiYgdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0gJiYgdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0ud2ViUnRjU3RhY2tJZCkge1xuXHRcdFx0Y29uc3Qgd2ViUnRjU3RhY2tJZCA9IHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdLndlYlJ0Y1N0YWNrSWQ7XG5cdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpfdW5tdXRlQXVkaW9XZWJydGNTdGFjaykgdmlydHVhbFdlYnJ0Y1N0YWNrSWQ9JHt2aXJ0dWFsV2VicnRjU3RhY2tJZH0sd2ViUnRjU3RhY2tJZD0ke3dlYlJ0Y1N0YWNrSWR9YCk7XG5cdFx0XHRpZiAod2VicnRjU3RhY2tzICYmIHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXSAmJiB3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0uc3RhY2spIHtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdLnN0YWNrLnVubXV0ZUF1ZGlvKCk7XG5cdFx0XHR9ICBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Ol91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB3ZWJydGNTdGFjaz0ke3dlYlJ0Y1N0YWNrSWR9IG5vdCBmb3VuZGApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYChSZWFjaFNESzo6d2VicnRjbW5ncjo6X3VubXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9IG5vdCBmb3VuZGApO1xuXHRcdH1cblxuXHR9XG5cblxuXHQvKipcblx0ICogVmlkZW8gbXV0ZSB0aGUgd2VicnRjIHBlZXJjb25uZWN0aW9uXG5cdCAqIEBwYXJhbSB2aXJ0dWFsV2VicnRjU3RhY2tJZCAtIFRoZSBXZWJSVEMgc3RhY2sgSUQgdG8gbXV0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX211dGVWaWRlb1dlYnJ0Y1N0YWNrKHZpcnR1YWxXZWJydGNTdGFja0lkKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjbW5ncjo6bXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9YCk7XG5cblx0XHRpZiAodmlydHVhbFdlYnJ0Y1N0YWNrcyAmJiB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXSAmJiB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXS53ZWJSdGNTdGFja0lkKSB7XG5cdFx0XHRjb25zdCB3ZWJSdGNTdGFja0lkID0gdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0ud2ViUnRjU3RhY2tJZDtcblx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Om11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfSB3ZWJSdGNTdGFja0lkPSR7d2ViUnRjU3RhY2tJZH1gKTtcblx0XHRcdGlmICh3ZWJydGNTdGFja3MgJiYgd2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdICYmIHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXS5zdGFjaykge1xuXHRcdFx0XHR3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0uc3RhY2subXV0ZVZpZGVvKCk7XG5cdFx0XHR9ICBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Om11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB3ZWJydGNTdGFjaz0ke3dlYlJ0Y1N0YWNrSWR9IG5vdCBmb3VuZGApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYChSZWFjaFNESzo6d2VicnRjbW5ncjo6bXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9IG5vdCBmb3VuZGApO1xuXHRcdH1cblxuXG5cdH1cblxuXHQvKipcblx0ICogVmlkZW8gdW5tdXRlIHRoZSB3ZWJydGMgcGVlcmNvbm5lY3Rpb25cblx0ICogQHBhcmFtIHZpcnR1YWxXZWJydGNTdGFja0lkIC0gVGhlIFdlYlJUQyBzdGFjayBJRCB0byB1bm11dGVcblx0ICovXG5cdGZ1bmN0aW9uICBfdW5tdXRlVmlkZW9XZWJydGNTdGFjayAodmlydHVhbFdlYnJ0Y1N0YWNrSWQpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpfdW5tdXRlQXVkaW9XZWJydGNTdGFjaykgdmlydHVhbFdlYnJ0Y1N0YWNrSWQ9JHt2aXJ0dWFsV2VicnRjU3RhY2tJZH1gKTtcblxuXHRcdGlmICh2aXJ0dWFsV2VicnRjU3RhY2tzICYmIHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdICYmIHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdLndlYlJ0Y1N0YWNrSWQpIHtcblx0XHRcdGNvbnN0IHdlYlJ0Y1N0YWNrSWQgPSB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXS53ZWJSdGNTdGFja0lkO1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjbW5ncjo6X3VubXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9LCB3ZWJSdGNTdGFja0lkPSR7d2ViUnRjU3RhY2tJZH1gKTtcblx0XHRcdGlmICh3ZWJydGNTdGFja3MgJiYgd2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdICYmIHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXS5zdGFjaykge1xuXHRcdFx0XHR3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0uc3RhY2sudW5tdXRlVmlkZW8oKTtcblx0XHRcdH0gIGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oYChSZWFjaFNESzo6d2VicnRjbW5ncjo6X3VubXV0ZUF1ZGlvV2VicnRjU3RhY2spIHdlYnJ0Y1N0YWNrPSR7d2ViUnRjU3RhY2tJZH0gbm90IGZvdW5kYCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpfdW5tdXRlQXVkaW9XZWJydGNTdGFjaykgdmlydHVhbFdlYnJ0Y1N0YWNrSWQ9JHt2aXJ0dWFsV2VicnRjU3RhY2tJZH0gbm90IGZvdW5kYCk7XG5cdFx0fVxuXG5cdH1cblxuXHRyZXR1cm4ge1xuXG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlcyBhIFdlYlJUQyBvYmplY3Rcblx0XHQgKiBAcGFyYW0gcF9WaWQgLSB0aGUgdmlkZW8gY29udGFpbmVyIGxpbmtlZCB0byB0aGUgcGVlcmNvbm5lY3Rpb25cblx0XHQgKiBAcGFyYW0gcF9yZW1vdGVBcHBJbnN0SWQgLSB0aGUgcmVtb3RlIGFwcGxpY2F0aW9uIGluc3RhbmNlIGlkZW50aWZpZXJcblx0XHQgKiBAcGFyYW0gcF9vbkNsb3NlQ2IgLSBBIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWRcblx0XHQgKiBAcGFyYW0gcF9pc1B1Ymxpc2ggLSB0cnVlIGlmIGl0J3MgYSBwZWVyY29ubmVjdGlvbiByZWxhdGVkIHRvIGEgcHVibGlzaFN0cmVhbSwgZmFsc2UgaWYgaXQncyByZWxhdGF0ZWQgdG8gYSBzdWJzY3JpYmVcblx0XHQgKiBAcGFyYW0gcF9hY3Rpb25UeXBlIC0gVGhlIGFjdGlvbiB0eXBlIChhdWRpbywgdmlkZW8sIGF1ZGlvLXZpZGVvKVxuXHRcdCAqIEBwYXJhbSBwX3BlZXJjb0lkIC0gVGhlIFBlZXJDb25uZWN0aW9uIElkIGluIHRoZSB3ZWJydGMgbm9kZVxuXHRcdCAqL1xuXHRcdGNyZWF0ZVdlYnJ0YzogKHBfVmlkLCBwX3JlbW90ZUFwcEluc3RJZCwgcF9vbkNsb3NlQ2IsIHBfaXNQdWJsaXNoLCBwX2FjdGlvblR5cGUsIHBfcGVlcmNvSWQsIHBfbXV0ZWRBdWRpbywgcF9tdXRlVmlkZW8sIHBfZ2V0U3RyZWFtQ2IpID0+IHtcblx0XHRcdHJldHVybiAgX2NyZWF0ZVdlYnJ0Yy5iaW5kKHRoaXMpKHBfVmlkLCBwX3JlbW90ZUFwcEluc3RJZCwgcF9vbkNsb3NlQ2IsIHBfaXNQdWJsaXNoLCBwX2FjdGlvblR5cGUsIHBfcGVlcmNvSWQsIHBfbXV0ZWRBdWRpbywgcF9tdXRlVmlkZW8sIHBfZ2V0U3RyZWFtQ2IpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBDbG9zZSBXZWJSVEMgZmVhdHVyZXMgOiBkZXRhY2ggbWVkaWEgc3RyZWFtcyBhbmQgdW5wdWJsaXNoIHN0YWNrcy5cblx0XHQgKiBAcGFyYW0gaWQgLVxuXHRcdCAqIEBwYXJhbSBwX2lzVW5QdWJsaXNoXG5cdFx0ICogQHBhcmFtIGNhbGxiYWNrIC1cblx0XHQgKi9cblx0XHRjbG9zZVdlYnJ0YzogX2Nsb3NlV2VicnRjLFxuXG5cdFx0LyoqXG5cdFx0ICogQ2xlYXJzIGEgc3BlY2lmaWNhbCBXZWJSVEMgc3RhY2sgYnkgc2V0dGluZyBpdCB0byBudWxsLlxuXHRcdCAqIEBwYXJhbSB3ZWJydGNTdGFja0lkIC0gVGhlIFdlYlJUQyBzdGFjayBJRCB0byBjbGVhclxuXHRcdCAqL1xuXHRcdGNsZWFyV2VicnRjU3RhY2tzOiBfY2xlYXJXZWJydGNTdGFja3MsXG5cdFx0LyoqXG5cdFx0ICogYXVkaW8gbXV0ZSB0aGUgd2VicnRjIHBlZXJjb25uZWN0aW9uXG5cdFx0ICogQHBhcmFtIHZpcnR1YWxXZWJydGNTdGFja0lkIC0gVGhlIFdlYlJUQyBzdGFjayBJRCB0byBtdXRlXG5cdFx0ICovXG5cdFx0bXV0ZUF1ZGlvV2VicnRjU3RhY2s6IF9tdXRlQXVkaW9XZWJydGNTdGFjayxcblx0XHQvKipcblx0XHQgKiAgYXVkaW8gdW5tdXRlIHRoZSB3ZWJydGMgcGVlcmNvbm5lY3Rpb25cblx0XHQgKiBAcGFyYW0gdmlydHVhbFdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIHVubXV0ZVxuXHRcdCAqL1xuXHRcdHVubXV0ZUF1ZGlvV2VicnRjU3RhY2s6IF91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrLFxuXHRcdC8qKlxuXHRcdCAqIHZpZGVvIG11dGUgdGhlIHdlYnJ0YyBwZWVyY29ubmVjdGlvblxuXHRcdCAqIEBwYXJhbSB2aXJ0dWFsV2VicnRjU3RhY2tJZCAtIFRoZSBXZWJSVEMgc3RhY2sgSUQgdG8gbXV0ZVxuXHRcdCAqL1xuXHRcdG11dGVWaWRlb1dlYnJ0Y1N0YWNrOiBfbXV0ZVZpZGVvV2VicnRjU3RhY2ssXG5cdFx0LyoqXG5cdFx0ICogdmlkZW8gdW5tdXRlIHRoZSB3ZWJydGMgcGVlcmNvbm5lY3Rpb25cblx0XHQgKiBAcGFyYW0gdmlydHVhbFdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIHVubXV0ZVxuXHRcdCAqL1xuXHRcdHVubXV0ZVZpZGVvV2VicnRjU3RhY2s6IF91bm11dGVWaWRlb1dlYnJ0Y1N0YWNrXG5cdH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCB3ZWJydGNtbmdyO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYnJ0Y21uZ3IuanNcbiAqKi8iLCIvKipcbiAqIEBmaWxlIHdlYnJ0Yy5qcyAtIEpTIGZpbGUgdXNlZCBmb3IgV2ViUlRDIGFzcGVjdHNcbiAqIEBhdXRob3IgV2ViY29tXG4gKi9cblxuLyplc2xpbnQgY29tcGxleGl0eToxLCBtYXgtc3RhdGVtZW50czogMSwgbWF4LWxlbjogMSwgbWF4LXBhcmFtczogMSwgcmVxdWlyZS1qc2RvYzogMSovXG5cbmltcG9ydCBhY3Rpb25zIGZyb20gJy4vYWN0aW9ucyc7XG5pbXBvcnQgbG9jYWxzdHJlYW0gZnJvbSAnLi9sb2NhbHN0cmVhbSc7XG5pbXBvcnQgdmFycyBmcm9tICcuL2FjdGlvbnMnO1xuXG4vKipcbiAqIElDRSBjb25uZWN0aW9uIHN0YXR1cyA6IGRpc2Nvbm5lY3RlZFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJQ0VfQ09OTkVDVElPTl9TVEFURV9ESVNDT05ORUNURUQgPSAnZGlzY29ubmVjdGVkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBjb25uZWN0ZWRcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ09OTkVDVEVEPSAnY29ubmVjdGVkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBjb21wbGV0ZWRcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ09NUExFVEVEPSAnY29tcGxldGVkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBjaGVja2luZ1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJQ0VfQ09OTkVDVElPTl9TVEFURV9DSEVDS0lORz0gJ2NoZWNraW5nJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBjbG9zZWRcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0xPU0VEPSAnY2xvc2VkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBmYWlsZWRcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSUNFX0NPTk5FQ1RJT05fU1RBVEVfRkFJTEVEPSAnZmFpbGVkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBhbm90aGVyIHN0YXR1c1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJQ0VfQ09OTkVDVElPTl9TVEFURV9PVEhFUj0gJ290aGVyJztcblxuXG4vKipcbiAqIFRoZSBkZWZhdWx0IElDRSBjb25maWd1cmF0aW9uIGZvciBUVVJOIGFuZCBTVFVOIHNlcnZlcnMgdG8gdXNlIGZvciBXZWJSVEMgY29tbXVuaWNhdGlvbnhcbiAqIE5CIDogdGhlc2UgY29uZmlndXJhdGlvbiB3aWxsIGJlIG92ZXJ3cml0ZW4gYnkgdGhlIGNvbmZpZ3VyYXRpb24gb24gdGhlIFdlYmNvbSBzZXJ2ZXIgaWYgcHJlc2VudFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7anNvbn1cbiAqL1xuXG5jb25zdCBERUZBVUxUX0lDRV9DT05GSUcgPSB7XG5cdGljZVNlcnZlcnM6IFtcblx0XHR7XG5cdFx0XHR1cmw6ICd0dXJuczp0dXJuMS53ZWJjb20ub3JhbmdlLmNvbTo0NDMnLFxuXHRcdFx0dXNlcm5hbWU6ICdhZG1pbicsXG5cdFx0XHRjcmVkZW50aWFsOiAnd2ViY29tMTIzNCdcblx0XHR9LFxuXHRcdHtcblx0XHRcdHVybDogJ3R1cm46dHVybjIud2ViY29tLm9yYW5nZS5jb206NDQzJyxcblx0XHRcdHVzZXJuYW1lOiAnYWRtaW4nLFxuXHRcdFx0Y3JlZGVudGlhbDogJ3dlYmNvbTEyMzQnXG5cdFx0fSxcblx0XHR7XG5cdFx0XHR1cmw6ICd0dXJuczp0dXJuMy53ZWJjb20ub3JhbmdlLmNvbTo0NDMnLFxuXHRcdFx0dXNlcm5hbWU6ICdhZG1pbicsXG5cdFx0XHRjcmVkZW50aWFsOiAnd2ViY29tMTIzNCdcblx0XHR9XG5cdF1cbn07XG5cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBkZXNjcmlwdGlvbiBXZWJSVEMgY29ubmVjdGlvbiBvYmplY3QuIE1hbmFnZXMgYSBXZWJSVEMgY29ubmVjdGlvbiwgaS5lLiBvbmUgcGVlcmNvbm5lY3Rpb25cbiAqIEBwYXJhbSBwX3dlYnJ0Y21uZ3IgLSBSZWZlcmVuY2UgdG8gV2ViUlRDTWFuYWdlclxuICogQHBhcmFtIHBfaXNQdWJsaXNoIC0gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZXJlIGlzIGEgcGx1Ymxpc2ggYWN0aW9uXG4gKiBAcGFyYW0gcF9sb2NhbERhdGFSZWYgLSBUaGUgbG9jYWwgZGF0YSByZWZcbiAqIEBwYXJhbSBwX3JlbW90ZURhdGFSZWYgLSBUaGUgcmVtb3RlIGRhdGEgcmVmXG4gKiBAcGFyYW0gcF93ZWJydGNTdGFja0lkIC0gVGhlIHN0YWNrIElEIGluIHVzZVxuICogQHBhcmFtIHBfYWN0aW9uVHlwZSAtXG4gKiBAcGFyYW0gcF9tdXRlQXVkaW8gLSBvcHRpb25hbCAtIGlmIHRydWUgcGVlcmNvbm5lY3Rpb24gd2lsbCBiZSBjcmVhdGVkIHdpdGggYXVkaW8gbXV0ZWRcbiAqIEBwYXJhbSBwX211dGVWaWRlbyAtIG9wdGlvbmFsIC0gaWYgdHJ1ZSBwZWVyY29ubmVjdGlvbiB3aWxsIGJlIGNyZWF0ZWQgd2l0aCB2aWRlbyBtdXRlZFxuXG4gKi9cbmNvbnN0IHdlYnJ0YyA9IGZ1bmN0aW9uIChwX3dlYnJ0Y21uZ3IsIHBfaXNQdWJsaXNoLCBwX2xvY2FsRGF0YVJlZiwgcF9yZW1vdGVEYXRhUmVmLCBwX3dlYnJ0Y1N0YWNrSWQsIHBfYWN0aW9uVHlwZSwgcF9tdXRlQXVkaW8sIHBfbXV0ZVZpZGVvKSB7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBXZWJSVEMgbWFuYWdlciBvYmplY3QuIFVzZWZ1bCB0byBjbGVhciB3ZWJydGMgc3RhY2tcblx0ICovXG5cdGNvbnN0IHdlYnJ0Y21uZ3IgPSBwX3dlYnJ0Y21uZ3I7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIFdlYlJUQyBzdGFjayBpZGVudGlmaWVyLCBoZXJlIHRoZSBjdXJyZW50IHRpbWVzdGFtcFxuXHQgKi9cblx0Y29uc3Qgc3RhY2tJZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIElmIHRoZXJlIGlzIGEgcHVibGlzaCBhY3Rpb24gb3Igbm90XG5cdCAqL1xuXHRjb25zdCBpc1B1Ymxpc2ggPSBwX2lzUHVibGlzaDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgcGVlciBjb25uZWN0aW9uXG5cdCAqL1xuXHRsZXQgcGMgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBsb2NhbCBkYXRhIHJlZlxuXHQgKi9cblx0Y29uc3QgbG9jYWxEYXRhUmVmID0gcF9sb2NhbERhdGFSZWY7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHJlbXRvZSBkYXRhIHJlZlxuXHQgKi9cblx0Y29uc3QgcmVtb3RlRGF0YVJlZiA9IHBfcmVtb3RlRGF0YVJlZjtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlcmUgYSBsaXN0IG9mIElDRSBjYW5kaWRhdGVzIGlzIHByb3ZpZGVkXG5cdCAqL1xuXHRsZXQgaWNlQ2FuZGlkYXRlc0xpc3RDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBjYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIFNEUCBvZmZlciBoYXMgYmVlbiByZWNlaXZlZFxuXHQgKi9cblx0bGV0IHNkcE9mZmVyQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gYSBTRFAgYW5zd2VyIGhhcyBiZWVuIHJlY2VpdmVkXG5cdCAqL1xuXHRsZXQgc2RwQW5zd2VyQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgY2FsbGJhY2sgdHJpZ2dlcmVkIG9uIGEgcmVtb3RlIGRhdGFyZWYgZXZlbnRcblx0ICovXG5cdGxldCByZW1vdGVkYXRhcmVmQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2luZ1xuXHQgKi9cblx0bGV0IG9uQ2xvc2VDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIFdlYlJUQyBzdGFjayBJRFxuXHQgKi9cblx0Y29uc3Qgd2VicnRjU3RhY2tJZCA9IHBfd2VicnRjU3RhY2tJZDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgYWN0aW9uIHR5cGUgdG8gcHJvY2Vzc1xuXHQgKi9cblx0Y29uc3QgYWN0aW9uVHlwZSA9IHBfYWN0aW9uVHlwZTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgY29uZmlndXJhdGlvblxuXHQgKi9cblx0bGV0IGNvbmZpZyA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBIHBlZXIgY29ubmVjdGlvbiBvYmplY3QsIGZvciBjcm9zcyBicm93c2VycyBjb21wYXRpYmlsaXRpZXNcblx0ICovXG5cdGxldCBteVBlZXJDb25uZWN0aW9uID0gbnVsbDtcblx0Ly92YXIgbXlDcmVhdGVPYmplY3RVUkwgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIFJUQyBzZXNzaW9uIGRlc2NyaXB0aW9uLCBmb3IgY3Jvc3MgYnJvd3NlcnMgY29tcGF0aWJpbGl0aWVzXG5cdCAqL1xuXHRsZXQgbXlSVENTZXNzaW9uRGVzY3JpcHRpb24gPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIFJUQyBJQ0UgY2FuZGlkYXRlLCBmb3IgY3Jvc3MgYnJvd3NlcnMgY29tcGF0aWJpbGl0aWVzXG5cdCAqL1xuXHRsZXQgbXlSVENJY2VDYW5kaWRhdGUgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyBsb2NhbCBzdHJlYW1zXG5cdCAqL1xuXHRjb25zdCBsb2NhbFN0cmVhbXMgPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIHJlbW90ZSBzdHJlYW1zXG5cdCAqL1xuXHRjb25zdCByZW1vdGVTdHJlYW1zID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyByZW1vdGUgc3RyZWFtcyBDQlxuXHQgKi9cblx0bGV0IHJlbW90ZVN0cmVhbXNDYiA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSByZWNlaXZlZCBzdHJlYW1cblx0ICovXG5cdGxldCByZWNlaXZlZFN0cmVhbSA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHNlbnQgc3RyZWFtXG5cdCAqL1xuXHRsZXQgc2VudFN0cmVhbSA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZSBjb25uZWN0aW9uIGlzIGNsb3NlZFxuXHQgKi9cblx0bGV0IGlzQ2xvc2VkID0gZmFsc2U7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZSBjbG9zZSBwcm9jZXNzIGlzIG9uIGdvaW5nXG5cdCAqL1xuXHRsZXQgY2xvc2VJblByb2dyZXNzID0gZmFsc2U7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIElDRSBjb25uZWN0aW9uIHN0YXRlXG5cdCAqL1xuXHRsZXQgaWNlQ29ubmVjdGlvblN0YXRlID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbm90aGVyIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgY29ubmVjdGlvbiBzaG91bGQgYmUgY2xvc2VkXG5cdCAqL1xuXHRsZXQgb25DbG9zZUNiMiA9IG51bGw7XG5cblx0bGV0IGlzQXVkaW9NdXRlID0gZmFsc2U7XG5cblx0bGV0IGlzVmlkZW9NdXRlID0gZmFsc2U7XG5cblxuXHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjp3ZWJydGM6OilzdGFja0lkPSR7c3RhY2tJZH0gaXNQdWJsaXNoPSR7aXNQdWJsaXNofSxsb2NhbERhdGFSZWY9JHtsb2NhbERhdGFSZWZ9LHJlbW90ZURhdGFSZWY9JHtyZW1vdGVEYXRhUmVmfSknKTtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgRGF0YWdyYW0gVHJhbnNwb3J0IExheWVyIFNlY3VyaXR5IChEVExTKSBrZXkgYWdyZWVtZW50XG5cdCAqL1xuXHRjb25zdCBEdGxzU3J0cEtleUFncmVlbWVudCA9IHtcblx0XHREdGxzU3J0cEtleUFncmVlbWVudDogdHJ1ZVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gLSBTb21lIG9wdGlvbnNcblx0ICovXG5cdGNvbnN0IG9wdGlvbmFsID0ge1xuXHRcdG9wdGlvbmFsOiBbRHRsc1NydHBLZXlBZ3JlZW1lbnRdXG5cdH07XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgcHVibGlzaGVyIG1lZGlhIGNvbnN0cmFpbnRzIGFzIGEgSlNPTiBhcnJheVxuXHQgKi9cblx0Y29uc3QgcHVibGlzaGVyTWVkaWFDb25zdHJhaW50cyA9IHtcblx0XHQnbWFuZGF0b3J5Jzoge1xuXHRcdFx0J09mZmVyVG9SZWNlaXZlQXVkaW8nOiBmYWxzZSxcblx0XHRcdCdPZmZlclRvUmVjZWl2ZVZpZGVvJzogZmFsc2Vcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgc3Vic2NyaWJlciBtZWRpYSBjb25zdHJhaW50cyBhcyBhIEpTT04gYXJyYXlcblx0ICovXG5cdGNvbnN0IHN1YnNjcmliZXJNZWRpYUNvbnN0cmFpbnRzID0ge1xuXHRcdCdtYW5kYXRvcnknOiB7XG5cdFx0XHQnT2ZmZXJUb1JlY2VpdmVBdWRpbyc6IHRydWUsXG5cdFx0XHQnT2ZmZXJUb1JlY2VpdmVWaWRlbyc6IHRydWVcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIENhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhbiBlcnJvciBvY2N1cnNcblx0ICogQHBhcmFtIGUgLSBUaGUgZXJyb3Jcblx0ICovXG5cdGZ1bmN0aW9uIG9uRXJyb3IoZSkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6KXN0YWNrSWQ9JHtzdGFja0lkfWVycm9yPSR7ZX1gKTtcblx0XHRjb25zb2xlLmRpcihlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBJQ0Ugc2VydmVycyBjb25maWd1cmF0aW9uXG5cdCAqIEBwYXJhbSBjYWxsYmFja09rIC0gVGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgY29uZmlnIHJldHJpZXZlbWVudCBpcyBkb25lXG5cdCAqIEBwYXJhbSBjYWxsYmFja0tvIC0gVGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhbiBlcnJvciBvY2N1cnNcblx0ICovXG5cdGZ1bmN0aW9uIGdldEljZVNlcnZlcnNDb25maWdGcm9tU2VydmVyKGNhbGxiYWNrT2ssIGNhbGxiYWNrS28pIHtcblx0XHRjb25zb2xlLmxvZygnUmVhY2hTREs6OndlYnJ0Yzo6Z2V0SWNlU2VydmVyc0NvbmZpZ0Zyb21TZXJ2ZXInKTtcblx0XHRpZiAobG9jYWxEYXRhUmVmKSB7XG5cdFx0XHRsb2NhbERhdGFSZWYucm9vdCgpLmNoaWxkKCdjb25maWcnKS5vbmNlKCd2YWx1ZScsIChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRjb25zdCBfY29uZmlnID0gc25hcHNob3QgPyBzbmFwc2hvdC52YWwoKSA6IG51bGw7XG5cdFx0XHRcdGlmIChfY29uZmlnKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBjYWxsYmFja09rID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrT2soX2NvbmZpZyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFja0tvID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRjYWxsYmFja0tvKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIChlcnJvcikgPT4ge1xuXHRcdFx0XHRpZiAodHlwZW9mIGNhbGxiYWNrS28gPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGNhbGxiYWNrS28oZXJyb3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFja0tvID09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNhbGxiYWNrS28oKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU3RhcnRzIHRoZSBsaXN0aW5nIHRvIGEgcmVtb3RlIElDRSBjYW5kaWRhdGUgYnkgZW5hYmxpbmcgdGhlIGRlZGljYXRlZCBjYWxsYmFja1xuXHQgKiBmb3IgdGhlIFwiY2hpbGRfYWRkZWRcIiBldmVudCBvbiB0aGUgXCJpY2VDYW5kaWRhdGVzTGlzdFwiIG5vZGUgaW4gdGhlIGRhdGFiYXNlLlxuXHQgKi9cblx0ZnVuY3Rpb24gc3RhcnRMaXN0ZW5pbmdUb1JlbW90ZUljZUNhbmRpZGF0ZSgpIHtcblx0XHRyZW1vdGVEYXRhUmVmLmNoaWxkKCdpY2VDYW5kaWRhdGVzTGlzdCcpLm9uKCdjaGlsZF9hZGRlZCcsIGljZUNhbmRpZGF0ZXNMaXN0Q2IpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFN0b3BzIHRoZSBsaXN0ZW5pbmcgdG8gcmVtb3RlIElDRSBjYW5kaXNkYXRlIGJ5IGRpc2FibGluZyB0aGUgZGVkaWNhdGVkIGNhbGxiYWNrXG5cdCAqIGZvciB0aGUgXCJjaGlsZF9hZGRlZFwiIGV2ZW50IG9uIHRoZSBcImljZUNhbmRpZGF0ZXNMaXN0XCIgbm9kZSBpbiB0aGUgZGF0YWJhc2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBzdG9wTGlzdGVuaW5nVG9SZW1vdGVJY2VDYW5kaWRhdGUoKSB7XG5cdFx0cmVtb3RlRGF0YVJlZi5jaGlsZCgnaWNlQ2FuZGlkYXRlc0xpc3QnKS5vZmYoJ2NoaWxkX2FkZGVkJywgaWNlQ2FuZGlkYXRlc0xpc3RDYik7XG5cdH1cblxuXHQvKipcblx0ICogRW5hYmxlL0Rpc2FibGUgdHJhY2tzXG5cdCAqIEBwYXJhbSBlbmFibGVkIHRydWUgdG8gZW5hYmxlIHRyYWNrc1xuXHQgKiBAcGFyYW0gdHJhY2tzIHRoZSB0cmFja3Ncblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlVHJhY2tzKC8qQm9vbGVhbiovZW5hYmxlZCwgLypBcnJheSovdHJhY2tzKSB7XG5cdFx0aWYodHJhY2tzKSB7XG5cdFx0XHR0cmFja3MuZm9yRWFjaCgodHJhY2spID0+IHtcblx0XHRcdFx0aWYodHJhY2spIHtcblx0XHRcdFx0XHR0cmFjay5lbmFibGVkID0gZW5hYmxlZDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIE11dGUvVW5NdXRlIGF1ZGlvIHRyYWNrc1xuXHQgKiBAcGFyYW0gbXV0ZSB0cnVlIHRvIG11dGUgdHJhY2tzXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfbXV0ZUF1ZGlvVHJhY2tzKG11dGUpIHtcblx0XHRpc0F1ZGlvTXV0ZSA9IG11dGU7XG5cdFx0Y29uc3Qgc3RyZWFtID0gaXNQdWJsaXNoICYmIHNlbnRTdHJlYW0gPyBzZW50U3RyZWFtIDogKCFpc1B1Ymxpc2ggJiYgcmVjZWl2ZWRTdHJlYW0gPyByZWNlaXZlZFN0cmVhbSA6IG51bGwpO1xuXHRcdGlmKHN0cmVhbSl7XG5cdFx0XHRfbXV0ZVRyYWNrcyghaXNBdWRpb011dGUsIHN0cmVhbS5nZXRBdWRpb1RyYWNrcygpKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTXV0ZSBhdWRpbyB0cmFja3Ncblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlQXVkaW8oKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpfbXV0ZUF1ZGlvKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdF9tdXRlQXVkaW9UcmFja3ModHJ1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogVW5tdXRlIGF1ZGlvIHRyYWNrc1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3VubXV0ZUF1ZGlvKCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6X3VubXV0ZUF1ZGlvKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdF9tdXRlQXVkaW9UcmFja3MoZmFsc2UpO1xuXHR9XG5cblx0LyoqXG5cdCAqIE11dGUvVW5NdXRlIHZpZGVvIHRyYWNrc1xuXHQgKiBAcGFyYW0gbXV0ZSB0cnVlIHRvIG11dGUgdHJhY2tzXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfbXV0ZVZpZGVvVHJhY2tzKG11dGUpIHtcblx0XHRpc1ZpZGVvTXV0ZSA9IG11dGU7XG5cdFx0Y29uc3Qgc3RyZWFtID0gaXNQdWJsaXNoICYmIHNlbnRTdHJlYW0gPyBzZW50U3RyZWFtIDogKCFpc1B1Ymxpc2ggJiYgcmVjZWl2ZWRTdHJlYW0gPyByZWNlaXZlZFN0cmVhbSA6IG51bGwpO1xuXHRcdGlmKHN0cmVhbSl7XG5cdFx0XHRfbXV0ZVRyYWNrcyghaXNBdWRpb011dGUsIHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTXV0ZSB2aWRlbyB0cmFja3Ncblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlVmlkZW8oKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpfbXV0ZVZpZGVvKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdF9tdXRlVmlkZW9UcmFja3ModHJ1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogVW5tdXRlIHZpZGVvIHRyYWNrc1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3VubXV0ZVZpZGVvKCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6X3VubXV0ZVZpZGVvKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdF9tdXRlVmlkZW9UcmFja3MoZmFsc2UpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSBsb2NhbCBzdHJlYW1cblx0ICogQHBhcmFtIGNhbGxiYWNrIC0gQSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gdGhlIGluaXRpYWxpc2F0aW9uIGlzIGRvbmVcblx0ICovXG5cdGZ1bmN0aW9uIF9pbml0bG9jYWxTdHJlYW0oY2FsbGJhY2spIHtcblx0XHQvLyBnZXQgbG9jYWwgdmlkZW8gc3RyZWFtIGFuZCByZW5kZXJzIHRvIGxvY2FsVmlkXG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpfaW5pdGxvY2FsU3RyZWFtKXN0YWNrSWQ9JHtzdGFja0lkfSBnZXQgbG9jYWwgdmlkZW8gc3RyZWFtIGFuZCByZW5kZXJzIHRvIGxvY2FsIHZpZGVvYCk7XG5cdFx0aWYgKGFjdGlvblR5cGUpIHtcblx0XHRcdGxldCBpbml0bG9jYWxTdHJlYW07XG5cdFx0XHRpZiAoYWN0aW9uVHlwZSA9PT0gdmFycy5BQ1RJT05fVFlQRV9WSURFTykge1xuXHRcdFx0XHRpbml0bG9jYWxTdHJlYW0gPSAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6d2VicnRjOjpfaW5pdGxvY2FsU3RyZWFtKWluaXRsb2NhbFN0cmVhbV92aWRlbycpO1xuXHRcdFx0XHRcdGlmIChsb2NhbHN0cmVhbS5nZXRWaWRlb1N0cmVhbSgpICYmIGxvY2Fsc3RyZWFtLmdldFZpZGVvU3RyZWFtKCkuY2xvbmUgJiYgdHlwZW9mIGxvY2Fsc3RyZWFtLmdldFZpZGVvU3RyZWFtKCkuY2xvbmUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0c2VudFN0cmVhbSA9IGxvY2Fsc3RyZWFtLmdldFZpZGVvU3RyZWFtKCkuY2xvbmUoKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VudFN0cmVhbSA9IGxvY2Fsc3RyZWFtLmdldFZpZGVvU3RyZWFtKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChpc0F1ZGlvTXV0ZSkge1xuXHRcdFx0XHRcdFx0X211dGVBdWRpbygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoaXNWaWRlb011dGUpIHtcblx0XHRcdFx0XHRcdF9tdXRlVmlkZW8oKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cGMuYWRkU3RyZWFtKHNlbnRTdHJlYW0pO1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdHJlYW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0bG9jYWxTdHJlYW0pc3RhY2tJZD0ke3N0YWNrSWR9IHJlbmRlcmluZyBsb2NhbCB2aWRlbyB0byAke2xvY2FsU3RyZWFtc1tpXS5pZH1gKTtcblx0XHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKGxvY2FsU3RyZWFtc1tpXSwgbG9jYWxzdHJlYW0uZ2V0VmlkZW9TdHJlYW0oKSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKGxvY2Fsc3RyZWFtLmdldFZpZGVvU3RyZWFtKCkpIHtcblx0XHRcdFx0XHRpbml0bG9jYWxTdHJlYW0oKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5hZGRWaWRlb0xpc3RlbmVyKGluaXRsb2NhbFN0cmVhbSk7XG5cdFx0XHRcdFx0bG9jYWxzdHJlYW0uaW5pdFZpZGVvKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uVHlwZSA9PT0gdmFycy5BQ1RJT05fVFlQRV9BVURJTykge1xuXHRcdFx0XHRpbml0bG9jYWxTdHJlYW0gPSAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6d2VicnRjOjpfaW5pdGxvY2FsU3RyZWFtKWluaXRsb2NhbFN0cmVhbV9hdWRpbycpO1xuXHRcdFx0XHRcdGlmIChsb2NhbHN0cmVhbS5nZXRBdWRpb1N0cmVhbSgpICYmIGxvY2Fsc3RyZWFtLmdldEF1ZGlvU3RyZWFtKCkuY2xvbmUgJiYgdHlwZW9mIGxvY2Fsc3RyZWFtLmdldEF1ZGlvU3RyZWFtKCkuY2xvbmUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0c2VudFN0cmVhbSA9IGxvY2Fsc3RyZWFtLmdldEF1ZGlvU3RyZWFtKCkuY2xvbmUoKTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0c2VudFN0cmVhbSA9IGxvY2Fsc3RyZWFtLmdldEF1ZGlvU3RyZWFtKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChpc0F1ZGlvTXV0ZSkge1xuXHRcdFx0XHRcdFx0X211dGVBdWRpbygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoaXNWaWRlb011dGUpIHtcblx0XHRcdFx0XHRcdF9tdXRlVmlkZW8oKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cGMuYWRkU3RyZWFtKHNlbnRTdHJlYW0pO1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdHJlYW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0bG9jYWxTdHJlYW0pc3RhY2tJZD0ke3N0YWNrSWR9IHJlbmRlcmluZyBsb2NhbCBBdWRpbyB0byAke2xvY2FsU3RyZWFtc1tpXS5pZH1gKTtcblx0XHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKGxvY2FsU3RyZWFtc1tpXSwgbG9jYWxzdHJlYW0uZ2V0QXVkaW9TdHJlYW0oKSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKGxvY2Fsc3RyZWFtLmdldEF1ZGlvU3RyZWFtKCkpIHtcblx0XHRcdFx0XHRpbml0bG9jYWxTdHJlYW0oKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5hZGRBdWRpb0xpc3RlbmVyKGluaXRsb2NhbFN0cmVhbSk7XG5cdFx0XHRcdFx0bG9jYWxzdHJlYW0uaW5pdEF1ZGlvKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uVHlwZSA9PT0gYWN0aW9ucy5BQ1RJT05fVFlQRV9BVURJT19WSURFTykge1xuXHRcdFx0XHRpbml0bG9jYWxTdHJlYW0gPSAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6d2VicnRjOjpfaW5pdGxvY2FsU3RyZWFtKWluaXRsb2NhbFN0cmVhbV9hdWRpb192aWRlbycpO1xuXHRcdFx0XHRcdGlmIChsb2NhbHN0cmVhbS5nZXRBdWRpb1ZpZGVvU3RyZWFtKCkgJiYgbG9jYWxzdHJlYW0uZ2V0QXVkaW9WaWRlb1N0cmVhbSgpLmNsb25lICYmIHR5cGVvZiBsb2NhbHN0cmVhbS5nZXRBdWRpb1ZpZGVvU3RyZWFtKCkuY2xvbmUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0c2VudFN0cmVhbSA9IGxvY2Fsc3RyZWFtLmdldEF1ZGlvVmlkZW9TdHJlYW0oKS5jbG9uZSgpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZW50U3RyZWFtID0gbG9jYWxzdHJlYW0uZ2V0QXVkaW9WaWRlb1N0cmVhbSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoaXNBdWRpb011dGUpIHtcblx0XHRcdFx0XHRcdF9tdXRlQXVkaW8oKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGlzVmlkZW9NdXRlKSB7XG5cdFx0XHRcdFx0XHRfbXV0ZVZpZGVvKCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0cGMuYWRkU3RyZWFtKHNlbnRTdHJlYW0pO1xuXG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0cmVhbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2luaXRsb2NhbFN0cmVhbSlzdGFja0lkPSR7c3RhY2tJZH0gcmVuZGVyaW5nIGxvY2FsIEF1ZGlvVmlkZW8gdG8gJHtsb2NhbFN0cmVhbXNbaV0uaWR9YCk7XG5cdFx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShsb2NhbFN0cmVhbXNbaV0sIGxvY2Fsc3RyZWFtLmdldEF1ZGlvVmlkZW9TdHJlYW0oKSk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblxuXG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmIChsb2NhbHN0cmVhbS5nZXRBdWRpb1ZpZGVvU3RyZWFtKCkpIHtcblx0XHRcdFx0XHRpbml0bG9jYWxTdHJlYW0oKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5hZGRBdWRpb1ZpZGVvTGlzdGVuZXIoaW5pdGxvY2FsU3RyZWFtKTtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5pbml0QXVkaW9WaWRlbygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUud2FybignKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0bG9jYWxTdHJlYW0pbm8gYWN0aW9uVHlwZSBzcGVjaWZpZWQnKTtcblx0XHR9XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBQcmVwYXJlcyB0aGUgU0RQIGNhbGxiYWNrcy5cblx0ICogUmVtb3RlIGRlc2NyaXB0aW9uIHdpbGwgYnkgZGVmaW5lZCBmb3IgdGhlIHBlZXIgY29ubmVjdGlvbiBhbmQgY2FsbGJhY2tzIGFyZSBkZWZpbmVkIGZvciBTRFAgYW5zd3NlciBhbmQgcmVzcG9uc2UgbWFuYWdlbWVudC5cblx0ICogSWYgdGhlcmUgaXMgbm8gcHVibGlzaGluZywgbG9jYWwgZGVzY3JpcHRpb24gd2lsbCBiZSBkZWZpbmVkLlxuXHQgKi9cblx0ZnVuY3Rpb24gX2luaXRTZHBDYWxsYmFja3MoKSB7XG5cdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0U2RwQ2FsbGJhY2tzKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdGlmIChpc1B1Ymxpc2gpIHtcblx0XHRcdGlmIChzZHBPZmZlckNiKSB7XG5cdFx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHNkcE9mZmVyQ2IpO1xuXHRcdFx0fVxuXHRcdFx0c2RwQW5zd2VyQ2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0aWYgKCFpc0Nsb3NlZCAmJiBzbmFwc2hvdC5uYW1lKCkgPT09ICdzZHBBbnN3ZXInKSB7XG5cdFx0XHRcdFx0Y29uc3QgZGF0YSA9IHNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpzZHBBbnN3ZXJDYilzdGFja0lkPSR7c3RhY2tJZH0tcmVjZWl2ZWQgc2RwQW5zd2VyOiAke0pTT04uc3RyaW5naWZ5KGRhdGEpfWApO1xuXHRcdFx0XHRcdHBjLnNldFJlbW90ZURlc2NyaXB0aW9uKG5ldyBteVJUQ1Nlc3Npb25EZXNjcmlwdGlvbihkYXRhKSwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6OnNkcEFuc3dlckNiKXN0YWNrSWQ9JHtzdGFja0lkfS1yZW1vdGUgZGVzY3JpcHRpb24gc2V0YCk7XG5cdFx0XHRcdFx0XHQvLyByZW1vdmUgc2RwQW5zd2VyIGZyb20gd2ViY29tXG5cdFx0XHRcdFx0XHQvL3NuYXBzaG90LnJlZigpLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0c3RhcnRMaXN0ZW5pbmdUb1JlbW90ZUljZUNhbmRpZGF0ZSgpO1xuXHRcdFx0XHRcdH0sIG9uRXJyb3IpO1xuXHRcdFx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHNkcEFuc3dlckNiKTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdHJlbW90ZURhdGFSZWYub24oJ2NoaWxkX2FkZGVkJywgc2RwQW5zd2VyQ2IpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAoc2RwQW5zd2VyQ2IpIHtcblx0XHRcdFx0cmVtb3RlRGF0YVJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgc2RwQW5zd2VyQ2IpO1xuXHRcdFx0fVxuXHRcdFx0c2RwT2ZmZXJDYiA9IGZ1bmN0aW9uIChzbmFwc2hvdCkge1xuXHRcdFx0XHRpZiAoIWlzQ2xvc2VkICYmIHNuYXBzaG90Lm5hbWUoKSA9PT0gJ3NkcE9mZmVyJykge1xuXHRcdFx0XHRcdGNvbnN0IGRhdGEgPSBzbmFwc2hvdC52YWwoKTtcblx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6c2RwT2ZmZXJDYilzdGFja0lkPSR7c3RhY2tJZH0tcmVjZWl2ZWQgc2RwT2ZmZXI6ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9YCk7XG5cdFx0XHRcdFx0cGMuc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IG15UlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGRhdGEpLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRwYy5jcmVhdGVBbnN3ZXIoKGRlc2NyaXB0aW9uKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6c2RwT2ZmZXJDYilzdGFja0lkPSR7c3RhY2tJZH0tc2VuZGluZyBhbnN3ZXJgKTtcblx0XHRcdFx0XHRcdFx0cGMuc2V0TG9jYWxEZXNjcmlwdGlvbihkZXNjcmlwdGlvbiwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpzZHBPZmZlckNiKXN0YWNrSWQ9JHtzdGFja0lkfS1zZXQgc2RwQW5zd2VyIGluIGJhc2UgOiAke0pTT04uc3RyaW5naWZ5KGRlc2NyaXB0aW9uKX1gKTtcblx0XHRcdFx0XHRcdFx0XHRsb2NhbERhdGFSZWYuY2hpbGQoJ3NkcEFuc3dlcicpLnNldChKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRlc2NyaXB0aW9uKSkpOyAvLyBkZWNvZGluZy9lbmNvZGluZyBiZWNhdXNlIG9mIEZpcmVmb3ggYnVnXG5cdFx0XHRcdFx0XHRcdFx0Ly8gcmVtb3ZlIHNkcE9mZmVyIGZyb20gd2ViY29tXG5cdFx0XHRcdFx0XHRcdFx0Ly9zbmFwc2hvdC5yZWYoKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHRzdGFydExpc3RlbmluZ1RvUmVtb3RlSWNlQ2FuZGlkYXRlKCk7XG5cdFx0XHRcdFx0XHRcdH0sIG9uRXJyb3IpO1xuXHRcdFx0XHRcdFx0fSwgb25FcnJvciwgc3Vic2NyaWJlck1lZGlhQ29uc3RyYWludHMpO1xuXHRcdFx0XHRcdH0sIG9uRXJyb3IpO1xuXHRcdFx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHNkcE9mZmVyQ2IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0cmVtb3RlRGF0YVJlZi5vbignY2hpbGRfYWRkZWQnLCBzZHBPZmZlckNiKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ2xvc2VzIHRoZSBTRFAgY2FsbGJhY2tzIGJ5IGRpc2FibGluZyBjYWxsYmFja3MgZm9yIHRoZSBcImNoaWxkX2FkZGVkXCIgZXZlbnQgYW5kIGJ5IGRlZmluaW5nIHRoZW0gdG8gbnVsbC5cblx0ICovXG5cdGZ1bmN0aW9uIF9jbG9zZVNkcENhbGxiYWNrcygpIHtcblx0XHRpZiAoc2RwQW5zd2VyQ2IpIHtcblx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHNkcEFuc3dlckNiKTtcblx0XHRcdHNkcEFuc3dlckNiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHNkcE9mZmVyQ2IpIHtcblx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHNkcE9mZmVyQ2IpO1xuXHRcdFx0c2RwT2ZmZXJDYiA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNlbmRzIGFuIFNEUCBvZmZlciB0aHJvdWdoIHRoZSBwZWVyIGNvbm5lY3Rpb24uXG5cdCAqIEFuIFNEUCBvZmZlciBpcyBjcmVhdGVkLCB3aXRoIGEgbG9jYWwgZGVzY3JpcHRpb24sIGFuZCBpcyBzZW50LlxuXHQgKiBUaGUgZGVzY3JpcHRpb24gaXMgYm90aCBkZWNvZGVkIGFuZCBlbmNvZGVkIGJlY2F1c2Ugb2YgRmlyZWZveCBidWdzLlxuXHQgKi9cblx0ZnVuY3Rpb24gc2VuZE9mZmVyKCkge1xuXHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdC8vIHB1YmxpZSBsJ29mZnJlIGluaXRpYWxlXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0Y29uc29sZS5sb2coYCh3ZWJydGM6OnNlbmRPZmZlcilzdGFja2lkPSR7c3RhY2tJZH0tY3JlYXRpbmcgc2RwT2ZmZXJgKTtcblx0XHRwYy5jcmVhdGVPZmZlcigoZGVzY3JpcHRpb24pID0+IHtcblx0XHRcdHBjLnNldExvY2FsRGVzY3JpcHRpb24oZGVzY3JpcHRpb24sICgpID0+IHtcblx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6OmNyZWF0ZU9mZmVyKXN0YWNrSWQ9JHtzdGFja0lkfS1zZXQgc2RwT2ZmZXIgaW4gYmFzZSA6ICR7SlNPTi5zdHJpbmdpZnkoZGVzY3JpcHRpb24pfWApO1xuXHRcdFx0XHRsb2NhbERhdGFSZWYuY2hpbGQoJ3NkcE9mZmVyJykuc2V0KEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGVzY3JpcHRpb24pKSk7IC8vIGRlY29kaW5nL2VuY29kaW5nIGJlY2F1c2Ugb2YgRmlyZWZveCBidWdcblx0XHRcdH0sIG9uRXJyb3IpO1xuXHRcdH0sIG9uRXJyb3IsIHB1Ymxpc2hlck1lZGlhQ29uc3RyYWludHMpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENsb3NlcyB0aGUgY29ubmVjdGlvbiBhbmQgdHJpZ2dlcnMgdGhlIGNhbGxiYWNrIHdoZW4gdGhlIG9wZXJhdGlvbiBpcyBkb25lXG5cdCAqIEBwYXJhbSBjYWxsYmFja1xuXHQgKi9cblx0ZnVuY3Rpb24gX2Nsb3NlKGNhbGxiYWNrKSB7XG5cblx0XHRpZiAoIWNsb3NlSW5Qcm9ncmVzcyAmJiAhaXNDbG9zZWQpIHtcblx0XHRcdGNsb3NlSW5Qcm9ncmVzcyA9IHRydWU7XG5cdFx0XHRvbkNsb3NlQ2IyID0gY2FsbGJhY2s7XG5cdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1jbG9zaW5nIHdlYnJ0YyBzdGFja2ApO1xuXHRcdFx0aWYgKHBjKSB7XG5cdFx0XHRcdHBjLmNsb3NlKCk7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gcmVtb3ZlIHdlYmNvbSBjYWxsYmFja3Ncblx0XHRcdGlmIChyZW1vdGVkYXRhcmVmQ2IpIHtcblx0XHRcdFx0cmVtb3RlRGF0YVJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgcmVtb3RlZGF0YXJlZkNiKTtcblx0XHRcdFx0cmVtb3RlZGF0YXJlZkNiID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGljZUNhbmRpZGF0ZXNMaXN0Q2IpIHtcblx0XHRcdFx0c3RvcExpc3RlbmluZ1RvUmVtb3RlSWNlQ2FuZGlkYXRlKCk7XG5cdFx0XHRcdGljZUNhbmRpZGF0ZXNMaXN0Q2IgPSBudWxsO1xuXHRcdFx0fVxuXHRcdFx0X2Nsb3NlU2RwQ2FsbGJhY2tzKCk7XG5cblx0XHRcdC8vIHJlbW92ZSB3ZWJjb20gZGF0YVxuLy9cdFx0XHRsb2NhbERhdGFSZWYucGFyZW50KCkub25EaXNjb25uZWN0KCkuY2FuY2VsKCk7XG4vL1x0XHRcdGxvY2FsRGF0YVJlZi5wYXJlbnQoKS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmUoKTtcblx0XHRcdC8vcmVtb3RlRGF0YVJlZi5yZW1vdmUoKTtcblxuXHRcdFx0Ly8gc3RvcCB2aWRlb1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0cmVhbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKGxvY2FsU3RyZWFtc1tpXSkge1xuXHRcdFx0XHRcdC8vbG9jYWxTdHJlYW1zW2ldLnNyYz1cIlwiOyBub3Qgc3VwcG9ydGVkIGJ5IEZpcmVmb3hcblx0XHRcdFx0XHRkZXRhY2hNZWRpYVN0cmVhbShsb2NhbFN0cmVhbXNbaV0pO1xuXHRcdFx0XHRcdC8vbG9jYWxTdHJlYW1zW2ldLnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKTtcblx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1zdG9wcGluZyBsb2NhbCB2aWRlbyB0byAke2xvY2FsU3RyZWFtc1tpXS5pZH1gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCByZW1vdGVTdHJlYW1zLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGlmIChyZW1vdGVTdHJlYW1zW2pdKSB7XG5cdFx0XHRcdFx0Ly9yZW1vdGVTdHJlYW1zW2pdLnNyYz1cIlwiOyBub3Qgc3VwcG9ydGVkIGJ5IEZpcmVmb3hcblx0XHRcdFx0XHRkZXRhY2hNZWRpYVN0cmVhbShyZW1vdGVTdHJlYW1zW2pdKTtcblx0XHRcdFx0XHQvL3JlbW90ZVN0cmVhbXNbal0ucmVtb3ZlQXR0cmlidXRlKFwic3JjXCIpO1xuXHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpfY2xvc2Upc3RhY2tJZD0ke3N0YWNrSWR9LXN0b3BwaW5nIHJlbW90ZSB2aWQgdG8gJHtyZW1vdGVTdHJlYW1zW2pdLmlkfWApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblxuXHRcdFx0aXNDbG9zZWQgPSB0cnVlO1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9jbG9zZSlzdGFja0lkPSR7c3RhY2tJZH0tY2xvc2luZyB3ZWJydGMgc3RhY2sgLT4gd2FpdGluZyBmb3IgSUNFX0NPTk5FQ1RJT05fU1RBVEVfRElTQ09OTkVDVEVEYCk7XG5cdFx0XHRpZiAoaXNDbG9zZWQgJiYgKGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRElTQ09OTkVDVEVEIHx8IGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0xPU0VEIHx8IGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRkFJTEVEKSkge1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1jbG9zZWQgd2VicnRjIHN0YWNrIGNvbXBsZXRlYCk7XG5cdFx0XHRcdHBjID0gbnVsbDtcblx0XHRcdFx0Y2xvc2VJblByb2dyZXNzID0gZmFsc2U7XG5cdFx0XHRcdHdlYnJ0Y21uZ3IuY2xlYXJXZWJydGNTdGFja3Mod2VicnRjU3RhY2tJZCk7XG5cdFx0XHRcdGlmIChvbkNsb3NlQ2IyICYmIHR5cGVvZiBvbkNsb3NlQ2IyID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRvbkNsb3NlQ2IyKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9jbG9zZSlzdGFja0lkPSR7c3RhY2tJZH0tY2xvc2luZyB3ZWJydGMgc3RhY2sgYWxyZWFkeSBpbiBwcm9ncmVzc2ApO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIF9jb25uZWN0TG9jYWxTdHJlYW0odmlkZW9FbHQsIGdldFN0cmVhbUNiKSB7XG5cdFx0aWYgKGFjdGlvblR5cGUpIHtcblx0XHRcdGlmIChhY3Rpb25UeXBlID09PSBhY3Rpb25zLkFDVElPTl9UWVBFX1ZJREVPKSB7XG5cdFx0XHRcdGxvY2Fsc3RyZWFtLmNvbm5lY3RMb2NhbFZpZGVvU3RyZWFtKHZpZGVvRWx0LCBnZXRTdHJlYW1DYik7XG5cdFx0XHR9IGVsc2UgaWYgKGFjdGlvblR5cGUgPT09IGFjdGlvbnMuQUNUSU9OX1RZUEVfQVVESU8pIHtcblx0XHRcdFx0bG9jYWxzdHJlYW0uY29ubmVjdExvY2FsQXVkaW9TdHJlYW0odmlkZW9FbHQsIGdldFN0cmVhbUNiKTtcblx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uVHlwZSA9PT0gYWN0aW9ucy5BQ1RJT05fVFlQRV9BVURJT19WSURFTykge1xuXHRcdFx0XHRsb2NhbHN0cmVhbS5jb25uZWN0TG9jYWxBdWRpb1ZpZGVvU3RyZWFtKHZpZGVvRWx0LCBnZXRTdHJlYW1DYik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gX2Nvbm5lY3RSZW1vdGVTdHJlYW0odmlkZW9FbHQsIGdldFN0cmVhbUNiKSB7XG5cdFx0aWYgKHZpZGVvRWx0KSB7XG5cdFx0XHRpZiAocmVjZWl2ZWRTdHJlYW0pIHtcblx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0odmlkZW9FbHQsIHJlY2VpdmVkU3RyZWFtKTtcblx0XHRcdFx0aWYgKGdldFN0cmVhbUNiICYmIHR5cGVvZiBnZXRTdHJlYW1DYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Z2V0U3RyZWFtQ2IocmVjZWl2ZWRTdHJlYW0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZW1vdGVTdHJlYW1zLnB1c2godmlkZW9FbHQpO1xuXHRcdFx0XHRpZiAoZ2V0U3RyZWFtQ2IgJiYgdHlwZW9mIGdldFN0cmVhbUNiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRyZW1vdGVTdHJlYW1zQ2IucHVzaChnZXRTdHJlYW1DYik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHJlY2VpdmVkU3RyZWFtKSB7XG5cdFx0XHRcdGlmIChnZXRTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0U3RyZWFtQ2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGdldFN0cmVhbUNiKHJlY2VpdmVkU3RyZWFtKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKGdldFN0cmVhbUNiICYmIHR5cGVvZiBnZXRTdHJlYW1DYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0cmVtb3RlU3RyZWFtc0NiLnB1c2goZ2V0U3RyZWFtQ2IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgcGVlciBjb25uZWN0aW9uXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0X3BjKCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6aW5pdF9wYylzdGFja0lkPSR7c3RhY2tJZH1fY29uZmlnPWAsIEpTT04uc3RyaW5naWZ5KGNvbmZpZykpO1xuXHRcdC8vIFRPRE8gdGVzdCBpcyBjb25maWcgaXMgbWFsZm9ybWF0ZWQgb3IgZW1wdHlcblx0XHRwYyA9IG5ldyBteVBlZXJDb25uZWN0aW9uKGNvbmZpZywgb3B0aW9uYWwpO1xuXG5cblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0XHQvLyBSZWNlaXZlZCBJY2UgY2FuZGlkYXRlIGZyb20gdGhlIHN0YWNrOiBzZW5kIGl0IHRvIHRoZSBwZWVyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0cGMub25pY2VjYW5kaWRhdGUgPSBmdW5jdGlvbiAoZSkge1xuXHRcdFx0aWYgKGUuY2FuZGlkYXRlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6cGMub25pY2VjYW5kaWRhdGUpc3RhY2tJZD0ke3N0YWNrSWR9IHNlbmQgaWNlIGNhbmRpZGF0ZT0ke0pTT04uc3RyaW5naWZ5KGUuY2FuZGlkYXRlKX1gKTtcblx0XHRcdFx0bG9jYWxEYXRhUmVmLmNoaWxkKCdpY2VDYW5kaWRhdGVzTGlzdCcpLnB1c2goe1xuXHRcdFx0XHRcdGxhYmVsOiBlLmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4LFxuXHRcdFx0XHRcdGlkOiBlLmNhbmRpZGF0ZS5zZHBNaWQsXG5cdFx0XHRcdFx0Y2FuZGlkYXRlOiBlLmNhbmRpZGF0ZS5jYW5kaWRhdGVcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdC8vIFJlY2VpdmVkIGEgcmVtb3RlIHN0cmVhbSBmcm9tIHRoZSBzdGFjazogcGxheSBpdCBvbiB0aGUgdmlkZW8gcGxheWVyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0cGMub25hZGRzdHJlYW0gPSBmdW5jdGlvbiAoZSkge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Om9uYWRkc3RyZWFtKXN0YWNrSWQ9JHtzdGFja0lkfS1zdHJlYW06JHtKU09OLnN0cmluZ2lmeShlLnN0cmVhbSl9YCk7XG5cdFx0XHRpZiAoZSAmJiBlLnN0cmVhbSkge1xuXHRcdFx0XHRyZWNlaXZlZFN0cmVhbSA9IGUuc3RyZWFtO1xuXHRcdFx0XHRpZiAoaXNBdWRpb011dGUpIHtcblx0XHRcdFx0XHRfbXV0ZUF1ZGlvKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGlzVmlkZW9NdXRlKSB7XG5cdFx0XHRcdFx0X211dGVWaWRlbygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG4vLyAgICAgICAgICAgIF9yZW1vdGVTdHJlYW0gPSBlLnN0cmVhbTtcbi8vXG4vL1x0XHRcdGZvciAodmFyIGk9MDtpPHJlbW90ZVN0cmVhbXMubGVuZ3RoO2krKykge1xuLy9cdFx0XHQgICAgaWYgKHJlbW90ZVN0cmVhbXNbaV0pIHtcbi8vXHRcdFx0ICAgIFx0ICBjb25zb2xlLmRlYnVnKFwiKFJlYWNoU0RLOjp3ZWJydGM6Om9uYWRkc3RyZWFtKXBjLm9uYWRkc3RyZWFtIHN0YWNrSWQ9XCIrc3RhY2tJZCArIFwiLVwiICtcInJlbmRlcmluZyByZW1vdGUgdmlkIHRvIFwiK3JlbW90ZVN0cmVhbXNbaV0uaWQpO1xuLy9cdFx0XHQgICAgXHQgIGF0dGFjaE1lZGlhU3RyZWFtKCByZW1vdGVTdHJlYW1zW2ldLF9yZW1vdGVTdHJlYW0pO1xuLy9cdFx0XHQgICAgfVxuLy9cdFx0XHR9XG5cdFx0fTtcblxuXHRcdHBjLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlID0gKCkgPT4ge1xuXG5cdFx0XHRpZiAoISFwYyAmJiBwYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0NIRUNLSU5HKSB7XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSlzdGFja0lkPSR7c3RhY2tJZH0tY2hlY2tpbmdgKTtcblx0XHRcdFx0aWNlQ29ubmVjdGlvblN0YXRlID0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0hFQ0tJTkc7XG5cdFx0XHR9IGVsc2UgaWYgKCEhcGMgJiYgcGMuaWNlQ29ubmVjdGlvblN0YXRlID09PSBJQ0VfQ09OTkVDVElPTl9TVEFURV9DT05ORUNURUQpIHtcblx0XHRcdFx0aWNlQ29ubmVjdGlvblN0YXRlID0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ09OTkVDVEVEO1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6b25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2Upc3RhY2tJZD0ke3N0YWNrSWR9LWNvbm5lY3RlZGApO1xuXHRcdFx0XHRpZiAocmVjZWl2ZWRTdHJlYW0pIHtcblx0XHRcdFx0XHRyZW1vdGVTdHJlYW1zLmZvckVhY2goKHJlbW90ZVN0cmVhbSkgPT4ge1xuXHRcdFx0XHRcdFx0aWYocmVtb3RlU3RyZWFtKSB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpvbmFkZHN0cmVhbSlwYy5vbmFkZHN0cmVhbSBzdGFja0lkPSR7c3RhY2tJZH0tcmVuZGVyaW5nIHJlbW90ZSB2aWQgdG8gJHtyZW1vdGVTdHJlYW0uaWR9YCk7XG5cdFx0XHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKHJlbW90ZVN0cmVhbSwgcmVjZWl2ZWRTdHJlYW0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHJlbW90ZVN0cmVhbXNDYi5mb3JFYWNoKChyZW1vdGVTdHJlYW1DYikgPT4ge1xuXHRcdFx0XHRcdFx0aWYocmVtb3RlU3RyZWFtQ2IpIHtcblx0XHRcdFx0XHRcdFx0cmVtb3RlU3RyZWFtQ2IocmVjZWl2ZWRTdHJlYW0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHJlbW90ZVN0cmVhbXNDYiA9IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHN0b3BMaXN0ZW5pbmdUb1JlbW90ZUljZUNhbmRpZGF0ZSgpO1xuXHRcdFx0fSBlbHNlIGlmICghIXBjICYmIHBjLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ09NUExFVEVEKSB7XG5cdFx0XHRcdGljZUNvbm5lY3Rpb25TdGF0ZSA9IElDRV9DT05ORUNUSU9OX1NUQVRFX0NPTVBMRVRFRDtcblx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Om9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKXN0YWNrSWQ9JHtzdGFja0lkfS0ke0lDRV9DT05ORUNUSU9OX1NUQVRFX0NPTVBMRVRFRH1gKTtcblx0XHRcdFx0c3RvcExpc3RlbmluZ1RvUmVtb3RlSWNlQ2FuZGlkYXRlKCk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoISFwYyAmJiBwYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0RJU0NPTk5FQ1RFRCkge1xuXHRcdFx0XHRpY2VDb25uZWN0aW9uU3RhdGUgPSBJQ0VfQ09OTkVDVElPTl9TVEFURV9ESVNDT05ORUNURUQ7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6b25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2Upc3RhY2tJZD0ke3N0YWNrSWR9LXJlbW90ZSBkaXNjb25uZWN0aW9uLCBjbG9zaW5nIHBlZXIgY29ubmVjdGlvbmApO1xuXHRcdFx0XHRfY2xvc2UoKTtcblx0XHRcdH0gZWxzZSBpZiAoISFwYyAmJiBwYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0NMT1NFRCkge1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6b25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2Upc3RhY2tJZD0ke3N0YWNrSWR9LWNsb3NlZGApO1xuXHRcdFx0XHRpY2VDb25uZWN0aW9uU3RhdGUgPSBJQ0VfQ09OTkVDVElPTl9TVEFURV9DTE9TRUQ7XG5cdFx0XHRcdF9jbG9zZSgpO1xuXHRcdFx0fSBlbHNlIGlmICghIXBjICYmIHBjLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRkFJTEVEKSB7XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSlzdGFja0lkPSR7c3RhY2tJZH0tZmFpbGVkYCk7XG5cdFx0XHRcdGljZUNvbm5lY3Rpb25TdGF0ZSA9IElDRV9DT05ORUNUSU9OX1NUQVRFX0ZBSUxFRDtcblx0XHRcdFx0X2Nsb3NlKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAocGMpIHtcblx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6b25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2Upc3RhY2tJZD0ke3N0YWNrSWR9LSR7cGMuaWNlQ29ubmVjdGlvblN0YXRlfWApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSlzdGFja0lkPSR7c3RhY2tJZH0tcGMgPSBudWxsYCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpY2VDb25uZWN0aW9uU3RhdGUgPSBJQ0VfQ09OTkVDVElPTl9TVEFURV9PVEhFUjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzQ2xvc2VkICYmIChpY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0RJU0NPTk5FQ1RFRCB8fCBpY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0NMT1NFRCB8fCBpY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0ZBSUxFRCkpIHtcblx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9jbG9zZSlzdGFja0lkPSR7c3RhY2tJZH0tY2xvc2VkIHdlYnJ0YyBzdGFjayBjb21wbGV0ZWApO1xuXHRcdFx0XHRwYyA9IG51bGw7XG5cdFx0XHRcdGNsb3NlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXHRcdFx0XHR3ZWJydGNtbmdyLmNsZWFyV2VicnRjU3RhY2tzKHdlYnJ0Y1N0YWNrSWQpO1xuXHRcdFx0XHRpZiAob25DbG9zZUNiICYmIHR5cGVvZiBvbkNsb3NlQ2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdG9uQ2xvc2VDYigpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChvbkNsb3NlQ2IyICYmIHR5cGVvZiBvbkNsb3NlQ2IyID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRvbkNsb3NlQ2IyKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvLyBzdWJzY3JpYmUgdG8gcmVtb3RlIGRhdGFcblx0XHRpY2VDYW5kaWRhdGVzTGlzdENiID0gKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRjb25zdFxuXHRcdFx0XHRkYXRhID0gc25hcHNob3QudmFsKCksXG5cdFx0XHRcdGNhbmRpZGF0ZSA9IG5ldyBteVJUQ0ljZUNhbmRpZGF0ZSh7XG5cdFx0XHRcdFx0c2RwTUxpbmVJbmRleDogZGF0YS5sYWJlbCxcblx0XHRcdFx0XHRjYW5kaWRhdGU6IGRhdGEuY2FuZGlkYXRlLFxuXHRcdFx0XHRcdHNkcE1pZDogZGF0YS5pZFxuXHRcdFx0XHR9KTtcblx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6aWNlQ2FuZGlkYXRlc0xpc3RDYilzdGFja0lkPSR7c3RhY2tJZH1yZWNlaXZlZCBpY2UgY2FuZGlkYXRlPSR7SlNPTi5zdHJpbmdpZnkoY2FuZGlkYXRlKX1gKTtcblxuXHRcdFx0cGMuYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG5cdFx0XHQvLyByZW1vdmUgY2FuZGlkYXRlIGZyb20gd2ViY29tXG5cdFx0XHQvL3NuYXBzaG90LnJlZigpLnJlbW92ZSgpO1xuXHRcdH07XG5cblx0XHRpZiAoaXNQdWJsaXNoKSB7XG5cdFx0XHRfaW5pdGxvY2FsU3RyZWFtKCgpID0+IHtcblx0XHRcdFx0X2luaXRTZHBDYWxsYmFja3MoKTtcblx0XHRcdFx0c2VuZE9mZmVyKCk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0X2luaXRTZHBDYWxsYmFja3MoKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIG9iamVjdFxuXHQgKi9cblx0KCgpID0+IHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGM6OmluaXQpc3RhY2tJZD0ke3N0YWNrSWR9YCk7XG5cdFx0Ly8gcGVlcmNvbm5lY3Rpb25cblx0XHRpZiAodHlwZW9mKFJUQ1BlZXJDb25uZWN0aW9uKSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0bXlQZWVyQ29ubmVjdGlvbiA9IFJUQ1BlZXJDb25uZWN0aW9uO1xuXHRcdH1cblx0XHRlbHNlIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6d2VicnRjOjppbml0KXN0YWNrSWQ9JHtzdGFja0lkfSBlcnJvcj1XZWJydGMgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGJyb3dzZXIgIWApO1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdXZWJydGMgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGJyb3dzZXIgIScpO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YoUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0bXlSVENTZXNzaW9uRGVzY3JpcHRpb24gPSBSVENTZXNzaW9uRGVzY3JpcHRpb247XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjp3ZWJydGM6OmluaXQpc3RhY2tJZD0ke3N0YWNrSWR9IGVycm9yMj1XZWJydGMgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGJyb3dzZXIgIWApO1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdXZWJydGMgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGJyb3dzZXIgIScpO1xuXHRcdH1cblxuXHRcdGlmICh0eXBlb2YoUlRDSWNlQ2FuZGlkYXRlKSA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0bXlSVENJY2VDYW5kaWRhdGUgPSBSVENJY2VDYW5kaWRhdGU7XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjp3ZWJydGM6OmluaXQpc3RhY2tJZD0ke3N0YWNrSWR9IGVycm9yMz1XZWJydGMgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGJyb3dzZXIgIWApO1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdXZWJydGMgaXMgbm90IHN1cHBvcnRlZCBvbiB0aGlzIGJyb3dzZXIgIScpO1xuXHRcdH1cblxuXHRcdGlmIChwX211dGVBdWRpbykge1xuXHRcdFx0aXNBdWRpb011dGUgPSB0cnVlO1xuXHRcdH1cblx0XHRpZiAocF9tdXRlVmlkZW8pIHtcblx0XHRcdGlzVmlkZW9NdXRlID0gdHJ1ZTtcblx0XHR9XG5cblx0XHRnZXRJY2VTZXJ2ZXJzQ29uZmlnRnJvbVNlcnZlcigoX2NvbmZpZykgPT4ge1xuXHRcdFx0Y29uZmlnID0gX2NvbmZpZztcblx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OndlYnJ0Yzo6KSB1c2Ugc2VydmVyIGNvbmZpZz0nLCBKU09OLnN0cmluZ2lmeShjb25maWcpKTtcblx0XHRcdGluaXRfcGMoKTtcblx0XHR9LCAoKSA9PiB7XG5cdFx0XHRpZiAodHlwZW9mIERFRkFVTFRfSUNFX0NPTkZJRyAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0Y29uZmlnID0gREVGQVVMVF9JQ0VfQ09ORklHO1xuXHRcdFx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjp3ZWJydGM6OikgdXNlIERFRkFVTFRfSUNFX0NPTkZJRyBjb25maWc9JywgSlNPTi5zdHJpbmdpZnkoY29uZmlnKSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjp3ZWJydGM6Oikgbm8gaWNlICBjb25maWcnKTtcblx0XHRcdH1cblx0XHRcdGluaXRfcGMoKTtcblx0XHR9KTtcblxuXHR9KSgpO1xuXG5cdC8vaW5pdCgpO1xuXG5cdHJldHVybiB7XG5cblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHNvIGFzIHRvIGNsb3NlIHRoZSBjb21tdW5pY2F0aW9uXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBUaGUgY2FsbGJhY2sgdG8gdHJpZ2dlclxuXHRcdCAqL1xuXHRcdHNldE9uQ2xvc2U6IChjYikgPT4ge1xuXHRcdFx0b25DbG9zZUNiID0gY2I7XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBDbG9zZXMgYSBjYWxsYmFja1xuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gVGhlIGNhbGxiYWNrIHRvIGNsb3NlXG5cdFx0ICovXG5cdFx0Y2xvc2U6IChjYikgPT4ge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9jbG9zZSlzdGFja0lkPSR7c3RhY2tJZH0tY2xvc2UgcmVxdWVzdGVkYCk7XG5cdFx0XHRfY2xvc2UoY2IpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBDb25uZWN0IGEgbG9jYWwgc3RyZWFtIHRvIGFuIGVsZW1lbnQgYWNjb3JkaW5nIHRvIHRoZSBhY3Rpb24gdHlwZSBpbiB1c2UgKEFDVElPTl9UWVBFX1ZJREVPLCBBQ1RJT05fVFlQRV9BVURJTywgQUNUSU9OX1RZUEVfQVVESU9fVklERU8pXG5cdFx0ICogQHBhcmFtIHZpZGVvRWx0IC0gVGhlIHZpZGVvIGVsZW1lbnRcblx0XHQgKiBAcGFyYW0gZ2V0U3RyZWFtQ2IgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJldHJpZXZlIHRoZSBtZWRpYXN0cmVhbSBvYmplY3Rcblx0XHQgKi9cblx0XHRjb25uZWN0TG9jYWxTdHJlYW06IF9jb25uZWN0TG9jYWxTdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogQ29ubmVjdCBhIHJlbW90ZSBzdHJlYW0gdG8gYW4gZWxlbWVudFxuXHRcdCAqIEBwYXJhbSB2aWRlb0VsdCAtIFRoZSB2aWRlbyBlbGVtZW50XG5cdFx0ICogQHBhcmFtIGdldFN0cmVhbUNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgbWVkaWFzdHJlYW0gb2JqZWN0XG5cdFx0ICovXG5cdFx0Y29ubmVjdFJlbW90ZVN0cmVhbTogX2Nvbm5lY3RSZW1vdGVTdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogbXV0ZSBBdWRpb1xuXHRcdCAqL1xuXHRcdG11dGVBdWRpbzogX211dGVBdWRpbyxcblx0XHQvKipcblx0XHQgKiB1bm11dGUgQXVkaW9cblx0XHQgKi9cblx0XHR1bm11dGVBdWRpbzogX3VubXV0ZUF1ZGlvLFxuXHRcdC8qKlxuXHRcdCAqIG11dGUgVmlkZW9cblx0XHQgKi9cblx0XHRtdXRlVmlkZW86IF9tdXRlVmlkZW8sXG5cdFx0LyoqXG5cdFx0ICogdW5tdXRlIFZpZGVvXG5cdFx0ICovXG5cdFx0dW5tdXRlVmlkZW86IF91bm11dGVWaWRlb1xuXHR9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgd2VicnRjO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYnJ0Yy5qc1xuICoqLyJdLCJzb3VyY2VSb290IjoiIn0=