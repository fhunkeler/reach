/*!
 * The MIT License (MIT)
 * 
 * Copyright (c) 2015 Webcom
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["Reach"] = factory();
	else
		root["Reach"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Reach=undefined;var _classCallCheck2=__webpack_require__(1),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(2),_createClass3=_interopRequireDefault(_createClass2),_adapter=__webpack_require__(6),_adapter2=_interopRequireDefault(_adapter),_actions=__webpack_require__(7),_actions2=_interopRequireDefault(_actions),_datarefs=__webpack_require__(8),_datarefs2=_interopRequireDefault(_datarefs),_reach=__webpack_require__(9),_reach2=_interopRequireDefault(_reach),_room=__webpack_require__(25),_room2=_interopRequireDefault(_room),_webrtcmngr=__webpack_require__(27),_webrtcmngr2=_interopRequireDefault(_webrtcmngr);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var Reach=exports.Reach=function(){function Reach(){var url=arguments.length<=0||arguments[0]===undefined?'http://webcom.orange.com/base/webrtc':arguments[0];(0,_classCallCheck3.default)(this,Reach);this.datarefs=(0,_datarefs2.default)(url);this.webrtcmngr=(0,_webrtcmngr2.default)(this.datarefs);}(0,_createClass3.default)(Reach,[{key:'Room',value:function Room(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _room2.default.apply(undefined,args.concat([this.datarefs,this.webrtcmngr]));}},{key:'Reach',value:function Reach(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return _reach2.default.apply(undefined,args.concat([this.datarefs]));}}],[{key:'version',get:function get(){return ('1.0.4');}},{key:'actions',get:function get(){return _actions2.default;}}]);return Reach;}();module.exports=Reach;

/***/ },
/* 1 */
/***/ function(module, exports) {

	"use strict";
	
	exports.__esModule = true;
	
	exports.default = function (instance, Constructor) {
	  if (!(instance instanceof Constructor)) {
	    throw new TypeError("Cannot call a class as a function");
	  }
	};

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	exports.__esModule = true;
	
	var _defineProperty = __webpack_require__(3);
	
	var _defineProperty2 = _interopRequireDefault(_defineProperty);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	exports.default = (function () {
	  function defineProperties(target, props) {
	    for (var i = 0; i < props.length; i++) {
	      var descriptor = props[i];
	      descriptor.enumerable = descriptor.enumerable || false;
	      descriptor.configurable = true;
	      if ("value" in descriptor) descriptor.writable = true;
	      (0, _defineProperty2.default)(target, descriptor.key, descriptor);
	    }
	  }
	
	  return function (Constructor, protoProps, staticProps) {
	    if (protoProps) defineProperties(Constructor.prototype, protoProps);
	    if (staticProps) defineProperties(Constructor, staticProps);
	    return Constructor;
	  };
	})();

/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(4), __esModule: true };

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	var $ = __webpack_require__(5);
	module.exports = function defineProperty(it, key, desc){
	  return $.setDesc(it, key, desc);
	};

/***/ },
/* 5 */
/***/ function(module, exports) {

	var $Object = Object;
	module.exports = {
	  create:     $Object.create,
	  getProto:   $Object.getPrototypeOf,
	  isEnum:     {}.propertyIsEnumerable,
	  getDesc:    $Object.getOwnPropertyDescriptor,
	  setDesc:    $Object.defineProperty,
	  setDescs:   $Object.defineProperties,
	  getKeys:    $Object.keys,
	  getNames:   $Object.getOwnPropertyNames,
	  getSymbols: $Object.getOwnPropertySymbols,
	  each:       [].forEach
	};

/***/ },
/* 6 */
/***/ function(module, exports) {

	'use strict';window.RTCPeerConnection=null;window.getUserMedia=null;window.attachMediaStream=null;window.reattachMediaStream=null;window.webrtcDetectedBrowser=null;window.webrtcDetectedVersion=null;function fixIceServer(iceServer){if(iceServer.hasOwnProperty('urls')){iceServer.url=iceServer.urls;delete iceServer.urls;}if(iceServer.hasOwnProperty('url')&&iceServer.url.toLowerCase().startsWith('turns')&&navigator.mozGetUserMedia){console.warn('(ReachSDK::maybeFixConfiguration) '+'turns detected on firefox -> ignore this entry');}}function maybeFixConfiguration(pcConfig){if(pcConfig===null){return;}if(pcConfig.iceServers&&pcConfig.iceServers.length>0){var mTempsServers=[];for(var i=pcConfig.iceServers.length-1;i>=0;i--){var iceServer=pcConfig.iceServers[i];fixIceServer(iceServer);mTempsServers.push(iceServer);}pcConfig.iceServers=mTempsServers;}}function createTurnServerConfig(url,username,password){var legacy=arguments.length<=3||arguments[3]===undefined?false:arguments[3],iceServer=undefined;if(legacy){var turn_url_parts=url.split('?');if(turn_url_parts.length===1||turn_url_parts[1].indexOf('transport=udp')===0){iceServer={url:turn_url_parts[0],credential:password,username:username};}}else {iceServer={url:url,credential:password,username:username};}return iceServer;}if(navigator.mozGetUserMedia){window.webrtcDetectedBrowser='firefox';window.webrtcDetectedVersion=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10);window.RTCPeerConnection=function(pcConfig,pcConstraints){maybeFixConfiguration(pcConfig);return new mozRTCPeerConnection(pcConfig,pcConstraints);};window.RTCSessionDescription=mozRTCSessionDescription;window.RTCIceCandidate=mozRTCIceCandidate;window.getUserMedia=navigator.mozGetUserMedia.bind(navigator);navigator.getUserMedia=getUserMedia;window.createIceServer=function(url,username,password){var iceServer=null,url_parts=url.split(':');if(url_parts[0].indexOf('stun')===0){iceServer={url:url};}else if(url_parts[0].indexOf('turn')===0){iceServer=createTurnServerConfig(url,username,password,window.webrtcDetectedVersion<27);}return iceServer;};window.createIceServers=function(urls,username,password){var iceServers=[];for(var i=0;i<urls.length;i++){var iceServer=window.createIceServer(urls[i],username,password);if(iceServer!==null){iceServers.push(iceServer);}}return iceServers;};window.detachMediaStream=function(element){if(element){element.mozSrcObject=null;element.pause();}};window.attachMediaStream=function(element,stream){try{if(element&&stream){element.mozSrcObject=stream;if(element.play&&typeof element.play=='function'){element.play();}else {console.warn('(ReachSDK::attachMediaStream)element.play not available');}}else {console.error('ReachSDK::attachMediaStream->parameters not valid');}}catch(e){console.error('(ReachSDK::attachMediaStream)Exception='+e);}};window.reattachMediaStream=function(to,from){if(to&&from){to.mozSrcObject=from.mozSrcObject;to.play();}else {console.error('ReachSDK::reattachMediaStream->parameters not valid');}};if(!MediaStream.prototype.getVideoTracks){MediaStream.prototype.getVideoTracks=function(){return [];};}if(!MediaStream.prototype.getAudioTracks){MediaStream.prototype.getAudioTracks=function(){return [];};}}else if(navigator.webkitGetUserMedia){window.webrtcDetectedBrowser='chrome';window.webrtcDetectedVersion=parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10);window.createIceServer=function(url,username,password){var iceServer=null,url_parts=url.split(':');if(url_parts[0].indexOf('stun')===0){iceServer={url:url};}else if(url_parts[0].indexOf('turn')===0){iceServer=createTurnServerConfig(url,password,username);}return iceServer;};window.createIceServers=function(urls,username,password){var iceServers=[];if(window.webrtcDetectedVersion>=34){iceServers={urls:urls,credential:password,username:username};}else {for(var i=0;i<urls.length;i++){var iceServer=window.createIceServer(urls[i],username,password);if(iceServer!==null){iceServers.push(iceServer);}}}return iceServers;};window.RTCPeerConnection=function(pcConfig,pcConstraints){if(window.webrtcDetectedVersion<34){maybeFixConfiguration(pcConfig);}return new webkitRTCPeerConnection(pcConfig,pcConstraints);};window.getUserMedia=navigator.webkitGetUserMedia.bind(navigator);navigator.getUserMedia=getUserMedia;window.attachMediaStream=function(element,stream){try{if(element&&stream){element.src=URL.createObjectURL(stream);element.autoplay=true;}else {console.error('ReachSDK::attachMediaStream ->parameters not valid');}}catch(e){console.error('(ReachSDK::attachMediaStream)Exception='+e);}};window.detachMediaStream=function(element){if(element){if(typeof element.srcObject!=='undefined'){element.srcObject='';}else if(typeof element.mozSrcObject!=='undefined'){element.mozSrcObject='';}else if(typeof element.src!=='undefined'){element.src='';}else {console.log('Error attaching stream to element.');}}};window.reattachMediaStream=function(to,from){if(to&&from){to.src=from.src;}else {console.error('ReachSDK::reattachMediaStream media stream->parameters not valid');}};}else {throw new Error('Browser does not appear to be WebRTC-capable');}

/***/ },
/* 7 */
/***/ function(module, exports) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default={ACTION_TYPE_AUDIO:'audio',ACTION_TYPE_VIDEO:'video',ACTION_TYPE_CHAT:'chat',ACTION_TYPE_AUDIO_VIDEO:'audio-video',ACTION_TYPE_SCREEN_SHARING:'screen-sharing',ACTION_TYPE_CALL:'call'};

/***/ },
/* 8 */
/***/ function(module, exports) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(WEBCOMBASE_URL){var _datastore=null,_rooms=null,_reach=null,_webrtc=null,_sipPhoneNumbers=null;function _initChildren(){_rooms=_datastore.child('roomsList');_reach=_datastore.child('reach');_webrtc=_datastore.child('webrtc');_sipPhoneNumbers=_datastore.child('sipPhoneNumbers');}function _init(){_datastore=new Webcom(WEBCOMBASE_URL);_initChildren();}function _setWebcomBaseUrl(p_webcombase_url){_datastore=new Webcom(p_webcombase_url);_initChildren();}function _getWebcomBaseUrl(){if(_datastore){return _datastore.toString();}return undefined;}function _setDatastore(p_datastore){_datastore=p_datastore;_initChildren();}function _getDatastore(){return _datastore;}function _setRooms(p_rooms){_rooms=p_rooms;}function _getRooms(){return _rooms;}function _setReach(p_reach){_reach=p_reach;}function _getReach(){return _reach;}function _setWebrtc(p_webrtc){_webrtc=p_webrtc;}function _getWebrtc(){return _webrtc;}function _setSipPhoneNumbers(p_sipPhoneNumbers){_sipPhoneNumbers=p_sipPhoneNumbers;}function _getSipPhoneNumbers(){return _sipPhoneNumbers;}_init();return {setWebcomBaseUrl:_setWebcomBaseUrl,getWebcomBaseUrl:_getWebcomBaseUrl,setDatastore:_setDatastore,getDatastore:_getDatastore,setRooms:_setRooms,getRooms:_getRooms,setReach:_setReach,getReach:_getReach,setWebrtc:_setWebrtc,getWebrtc:_getWebrtc,setSipPhoneNumbers:_setSipPhoneNumbers,getSipPhoneNumbers:_getSipPhoneNumbers};};

/***/ },
/* 9 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _keys=__webpack_require__(10),_keys2=_interopRequireDefault(_keys),_stringify=__webpack_require__(22),_stringify2=_interopRequireDefault(_stringify),_utils=__webpack_require__(24),_utils2=_interopRequireDefault(_utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var INVITATION_ONGOING='ONGOING',INVITATION_ACCEPTED='ACCEPTED',INVITATION_REJECTED='REJECTED',INVITATION_CANCELED='CANCELED',DEVICE_STATUS_CONNECTED='CONNECTED',ROOM_STATUS_OPEN='OPEN',reach=function reach(p_me,datarefs){var me=p_me,dataref=datarefs.getReach(),onUserAddedCb=null,onUserChangedCb=null,onUserRemovedCb=null,newInviteCb=null,onRoomInviteChangedCb=null,mOutgoingInvites=[],mIncomingInvitation=[],automaticRejectTimeOut=null,automaticRejectReason=null,mDeviceId=null;function init(){mDeviceId=dataref.child('userList/'+me+'/connectedList/'+_utils2.default.appInstanceId);mDeviceId.onDisconnect().remove();mDeviceId.child('status').set(DEVICE_STATUS_CONNECTED);try{(function(){var description=mDeviceId.child('description');if(_utils2.default.appInstanceId){description.child('appInstanceId').set(_utils2.default.appInstanceId);}var navigatorData={},properties=['appCodeName','appName','appVersion','buildID','cookieEnabled','language','onLine','oscpu','platform','product','productSub','securityPolicy','userAgent','vendor','vendorSub'];properties.forEach(function(property){if(navigator[property]){navigatorData[property]=navigator[property];}});description.child('navigator').set(navigatorData);})();}catch(e){console.error('(ReachSDK::reach::init)failed to get information about device. error='+e);}dataref.child('userList/'+me+'/wasInsideReach').set(true);}function _isConnected(p_userId,p_cb){console.log('(ReachSDK::reach::_isConnected)userId: '+p_userId);dataref.child('userList/'+p_userId+'/connectedList').once('value',function(snapshot){if(p_cb&&typeof p_cb=='function'){p_cb(snapshot.val()!==null);}});}function _isRegistered(p_userId,p_cb){console.log('(ReachSDK::reach::_isRegistered)userId: '+p_userId);dataref.child('userList/'+p_userId+'/wasInsideReach').once('value',function(snapshot){if(p_cb&&typeof p_cb=='function'){p_cb(snapshot.val()!==null);}});}function _setConnectedStatus(p_status){if(mDeviceId){mDeviceId.child('status').set(p_status);}}function _setOnUserAdded(p_cb){if(onUserAddedCb){dataref.child('userList').off('child_added',onUserAddedCb);onUserAddedCb=null;}if(p_cb&&typeof p_cb=='function'){onUserAddedCb=function onUserAddedCb(snapshot){console.log('(ReachSDK::reach::onUserAddedCb) '+snapshot.name()+'='+(0,_stringify2.default)(snapshot.val()));var obj={};obj[snapshot.name()]=snapshot.val();p_cb(obj);};dataref.child('userList').on('child_added',onUserAddedCb);}}function _setOnUserChanged(p_cb){if(onUserChangedCb){dataref.child('userList').off('child_changed',onUserChangedCb);onUserChangedCb=null;}if(p_cb&&typeof p_cb=='function'){onUserChangedCb=function onUserChangedCb(snapshot){console.log('(ReachSDK::reach::onUserChangedCb) '+snapshot.name()+'='+(0,_stringify2.default)(snapshot.val()));var obj={};obj[snapshot.name()]=snapshot.val();p_cb(obj);};dataref.child('userList').on('child_changed',onUserChangedCb);}}function _setOnUserRemoved(p_cb){if(onUserRemovedCb){dataref.child('userList').off('child_removed',onUserRemovedCb);onUserRemovedCb=null;}if(p_cb&&typeof p_cb=='function'){onUserRemovedCb=function onUserRemovedCb(snapshot){console.log('(ReachSDK::reach::onUserRemovedCb) '+snapshot.name()+'='+(0,_stringify2.default)(snapshot.val()));var obj={};obj[snapshot.name()]=snapshot.val();p_cb(obj);};dataref.child('userList').on('child_removed',onUserRemovedCb);}}function _setOnNewRoomInvitation(p_onNewRoomInviteCb){if(newInviteCb){dataref.child('invitationList/'+me).off('child_added',newInviteCb);newInviteCb=null;}if(p_onNewRoomInviteCb&&typeof p_onNewRoomInviteCb=='function'){newInviteCb=function newInviteCb(snapshot){if(snapshot.val().status===INVITATION_ONGOING){(function(){console.log('(ReachSDK::reach::_setOnNewRoomInvitation)new Invite received,id) '+snapshot.name()+',content='+(0,_stringify2.default)(snapshot.val()));var invitationId=snapshot.name();if(!mIncomingInvitation){mIncomingInvitation=[];}if(mIncomingInvitation[invitationId]){if(mIncomingInvitation[invitationId].timeout){clearTimeout(mIncomingInvitation[invitationId].timeout);}delete mIncomingInvitation[invitationId];}mIncomingInvitation[invitationId]={};var obj={};obj[invitationId]=snapshot.val();p_onNewRoomInviteCb(obj);var invitationRef=dataref.child('invitationList/'+me+'/'+invitationId);if(automaticRejectTimeOut){mIncomingInvitation[invitationId].timeout=setTimeout(function(){if(automaticRejectTimeOut){console.log('(ReachSDK::reach::_setOnNewRoomInvitation)automatic reject of Invite received='+(0,_stringify2.default)(snapshot.val()));invitationRef.onDisconnect().cancel();if(automaticRejectReason){invitationRef.update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_REJECTED,status_info:automaticRejectReason});}else {invitationRef.update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_REJECTED});}}},automaticRejectTimeOut);}invitationRef.once('child_changed',function(snapshot){if(snapshot&&snapshot.name()==='status'){snapshot.ref().parent().once('value',function(snapshot2){var cb_invitationId=undefined,cb_obj_content=undefined;if(snapshot2){cb_invitationId=snapshot.ref().parent().name();cb_obj_content=snapshot2.val();var cb_obj={};cb_obj[cb_invitationId]=cb_obj_content;if(mIncomingInvitation&&mIncomingInvitation[cb_invitationId]&&mIncomingInvitation[cb_invitationId].timeout){clearTimeout(mIncomingInvitation[cb_invitationId].timeout);}console.log('(ReachSDK::reach::_setOnNewRoomInvitation)Invite changed,id=) '+cb_invitationId+', new content='+(0,_stringify2.default)(cb_obj_content));if(cb_obj&&onRoomInviteChangedCb){onRoomInviteChangedCb(cb_obj);}delete mIncomingInvitation[cb_invitationId];}});}});})();}};dataref.child('invitationList/'+me).on('child_added',newInviteCb);}}function _setOnRoomInvitationChanged(p_onRoomInviteChangedCb){if(onRoomInviteChangedCb){onRoomInviteChangedCb=null;}if(p_onRoomInviteChangedCb&&typeof p_onRoomInviteChangedCb=='function'){onRoomInviteChangedCb=p_onRoomInviteChangedCb;}}function _setNewRoomInvitationTimeout(p_timeout,p_reason){if(automaticRejectTimeOut){automaticRejectTimeOut=null;}if(automaticRejectReason){automaticRejectReason=null;}if(p_timeout&&p_timeout===parseInt(p_timeout,10)&&p_timeout>0){console.log('(ReachSDK::reach::_setNewRoomInvitationTimeout)timeout='+p_timeout);automaticRejectTimeOut=p_timeout;}if(p_reason){automaticRejectReason=p_reason;}}function _isUserPresentInRoom(p_roomId,p_user,p_cb){console.log('(ReachSDK::reach::_isUserPresentInRoom)p_roomId='+p_roomId+' p_user='+p_user);if(!(p_roomId&&typeof p_roomId=='string')){console.error('(ReachSDK::reach::_isUserPresentInRoom)parameter p_roomid is incorrect. Expecting non empty string');return;}if(!(p_user&&typeof p_user=='string')){console.error('(ReachSDK::reach::_isUserPresentInRoom)parameter p_user is incorrect. Expecting non empty string');return;}if(!(p_cb&&typeof p_cb=='function')){console.error('(ReachSDK::reach::_isUserPresentInRoom)parameter p_cb is incorrect. if defined, expecting a function');return;}datarefs.getRooms().child(p_roomId+'/participantList/'+p_user+'/wasInsideRoom').once('value',function(snapshot){var wasPresent=snapshot.val()!==null;console.log('(ReachSDK::reach::_isUserPresentInRoom)p_roomId='+p_roomId+',p_user='+p_user+',result='+wasPresent);p_cb(wasPresent,p_roomId,p_user);});}function _cancelInvitation(p_roomId,p_guestIds,p_cb){if(!(p_roomId&&typeof p_roomId=='string')){console.error('(ReachSDK::reach::_cancelInvitation)parameter p_roomid is incorrect. Expecting non empty string');return;}if(p_guestIds&&!p_guestIds instanceof Array){console.error('(ReachSDK::reach::_cancelInvitation)parameter p_guestIds is incorrect. Expecting an Array');return;}console.log(' (ReachSDK::reach::_cancelInvitation)p_roomId='+p_roomId+', p_guestIds='+(0,_stringify2.default)(p_guestIds));if(mOutgoingInvites&&mOutgoingInvites[p_roomId]){if(p_guestIds){p_guestIds.forEach(function(guestId,i){if(!(guestId&&typeof guestId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_guestIds['+i+'] is incorrect. Expecting non empty string');}else if(mOutgoingInvites[p_roomId][guestId]){if(mOutgoingInvites[p_roomId][guestId].InviteDataref){mOutgoingInvites[p_roomId][guestId].InviteDataref.onDisconnect().cancel();if(mOutgoingInvites[p_roomId][guestId].InviteChangedCb&&typeof mOutgoingInvites[p_roomId][guestId].InviteChangedCb=='function'){mOutgoingInvites[p_roomId][guestId].InviteDataref.off('child_changed',mOutgoingInvites[p_roomId][guestId].InviteChangedCb);}mOutgoingInvites[p_roomId][guestId].InviteDataref.once('value',function(dataSnapshot){var cb_status=undefined,cb_guestId=undefined,cb_roomId=undefined;if(dataSnapshot&&dataSnapshot.val()){cb_status=dataSnapshot.val().status;cb_roomId=dataSnapshot.val().room;cb_guestId=dataSnapshot.ref().parent().name();if(cb_status&&cb_status===INVITATION_ONGOING){mOutgoingInvites[cb_roomId][cb_guestId].InviteDataref.update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_CANCELED});if(mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb&&typeof mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb=='function'){mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb(cb_roomId,cb_guestId,INVITATION_CANCELED);}console.log('(ReachSDK::reach::_cancelInvitation)deleting Invite to room '+cb_roomId+' for invitee '+cb_guestId);}else {console.warn('(ReachSDK::reach::_cancelInvitation)cannot delete intivation to room '+cb_roomId+' for guest '+cb_guestId+' Invitation has been removed/rejected/accepted');}}delete mOutgoingInvites[p_roomId][guestId];if(p_cb&&typeof p_cb=='function'){p_cb(guestId);}});}else {delete mOutgoingInvites[p_roomId][guestId];if(p_cb&&typeof p_cb=='function'){p_cb(guestId);}}}else {if(p_cb&&typeof p_cb=='function'){p_cb(guestId);}}});}else {(0,_keys2.default)(mOutgoingInvites[p_roomId]).forEach(function(invitee){_cancelInvitation(p_roomId,[invitee],p_cb);});}}else {console.warn('(ReachSDK::reach::_cancelInvitation) Invite to room '+p_roomId+' not found');}}function _inviteToRoom(p_roomId,p_guestIds,p_topic,p_statusChangedCb){if(!(p_roomId&&typeof p_roomId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_roomid is incorrect. Expecting non empty string');return;}if(!(p_topic&&typeof p_topic=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_topic is incorrect. Expecting non empty string');return;}if(p_statusChangedCb&&typeof p_statusChangedCb!='function'){console.warn('(ReachSDK::reach::inviteToRoom)parameter p_statusChangedCb is incorrect. if defined, expecting a function');}if(!(p_guestIds&&p_guestIds instanceof Array)){console.error('(ReachSDK::reach::inviteToRoom)parameter p_guestIds is incorrect. Expecting an Array');return;}datarefs.getRooms().child(p_roomId).child('commonDataList').update({status:ROOM_STATUS_OPEN,owner:me});var _isUserPresentInRoomCb=function _isUserPresentInRoomCb(isAlreadyPresent,p_roomId2,p_guestId2){if(!isAlreadyPresent){datarefs.getRooms().child(p_roomId2+'/participantList/'+p_guestId2).update({connected:false,wasInsideRoom:false});}},_InviteChangedCb=function _InviteChangedCb(snapshot){console.log('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)');if(snapshot&&snapshot.name()==='status'){var cb_guestId2=snapshot.ref().parent().parent().name();console.log('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cb_guestId2='+cb_guestId2);if(mOutgoingInvites&&mOutgoingInvites[p_roomId]&&mOutgoingInvites[p_roomId][cb_guestId2]&&mOutgoingInvites[p_roomId][cb_guestId2].InviteChangedCb){mOutgoingInvites[p_roomId][cb_guestId2].InviteDataref.off('child_changed',mOutgoingInvites[p_roomId][cb_guestId2].InviteChangedCb);}snapshot.ref().parent().once('value',function(snapshot2){var cb_status=undefined,cb_guestId=undefined,cb_roomId=undefined,cb_status_info=undefined;if(snapshot2){cb_status=snapshot2.val().status;cb_roomId=snapshot2.val().room;cb_status_info=snapshot2.val().status_info;cb_guestId=snapshot2.ref().parent().name();console.log('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)roomId='+cb_roomId+' invitee='+cb_guestId+' new invitation status='+cb_status+' status info='+cb_status_info);if(mOutgoingInvites&&mOutgoingInvites[cb_roomId]&&mOutgoingInvites[cb_roomId][cb_guestId]&&mOutgoingInvites[cb_roomId][cb_guestId].InviteDataref){mOutgoingInvites[cb_roomId][cb_guestId].InviteDataref.onDisconnect().cancel();if(mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb&&typeof mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb=='function'){mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb(cb_roomId,cb_guestId,cb_status,cb_status_info);}else {console.warn('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cannot retrieve mathing p_statusChangedCb');}delete mOutgoingInvites[cb_roomId][cb_guestId];}else {console.warn('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cannot retrieve mathing mOutgoingInvite');}}else {console.warn('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cannot retrieve invitation');}});}};p_guestIds.forEach(function(mGuestId,i){if(!(mGuestId&&typeof mGuestId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_guestIds['+i+'] is incorrect. Expecting non empty string');}else {console.log('(ReachSDK::reach::inviteToRoom)roomId='+p_roomId+' invitee='+mGuestId.toString());if(mOutgoingInvites[p_roomId]&&mOutgoingInvites[p_roomId][mGuestId]){_cancelInvitation(p_roomId,[mGuestId],function(p_guestId){if(p_guestId&&p_guestId===mGuestId){_inviteToRoom(p_roomId,[p_guestId],p_topic,p_statusChangedCb);}});return;}if(!mOutgoingInvites[p_roomId]){mOutgoingInvites[p_roomId]=[];}mOutgoingInvites[p_roomId][mGuestId]={};_isUserPresentInRoom(p_roomId,mGuestId,_isUserPresentInRoomCb);mOutgoingInvites[p_roomId][mGuestId].InviteDataref=dataref.child('invitationList').child(mGuestId).push({from:me,room:p_roomId,timestamp_creation:Webcom.ServerValue.TIMESTAMP,topic:p_topic,status:INVITATION_ONGOING});console.log('(ReachSDK::reach::inviteToRoom)InviteDataref='+mOutgoingInvites[p_roomId][mGuestId].InviteDataref.toString());mOutgoingInvites[p_roomId][mGuestId].InviteChangedCb=_InviteChangedCb;mOutgoingInvites[p_roomId][mGuestId].InviteDataref.on('child_changed',mOutgoingInvites[p_roomId][mGuestId].InviteChangedCb);mOutgoingInvites[p_roomId][mGuestId].statusChangedCb=p_statusChangedCb;mOutgoingInvites[p_roomId][mGuestId].InviteDataref.onDisconnect().update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_CANCELED});}});}function _acceptInvitation(p_invitation){var inviteId=(0,_keys2.default)(p_invitation)[0];if(!inviteId){console.error('(ReachSDK::reach::_acceptInvitation)parameter p_invitation is incorrect. cannot get invitation Id');return;}if(!p_invitation[inviteId]){console.error('(ReachSDK::reach::_acceptInvitation)parameter p_invitation is incorrect. cannot get invitation data');return;}dataref.child('invitationList/'+me+'/'+inviteId).once('value',function(dataSnapshot){var cb_status=undefined,cb_guestId=undefined,cb_invitationId=undefined;if(dataSnapshot&&dataSnapshot.val()){cb_invitationId=dataSnapshot.name();cb_status=dataSnapshot.val().status;cb_guestId=dataSnapshot.ref().parent().name();if(cb_status&&cb_status===INVITATION_ONGOING){console.log('(ReachSDK::reach::_acceptInvitation)inviteId='+inviteId+',data='+(0,_stringify2.default)(p_invitation[inviteId]));dataref.child('invitationList/'+cb_guestId+'/'+cb_invitationId).update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_ACCEPTED});}else {console.warn('(ReachSDK::reach::_acceptInvitation)inviteId='+cb_invitationId+',data='+(0,_stringify2.default)(p_invitation[inviteId])+', cannot be accepted. It has been removed or canceled');}}});}function _rejectInvitation(p_invitation,p_reason){var inviteId=(0,_keys2.default)(p_invitation)[0];if(!inviteId){console.error('(ReachSDK::reach::_rejectInvitation)parameter p_invitation is incorrect. cannot get invitation Id');return;}if(!p_invitation[inviteId]){console.error('(ReachSDK::reach::_rejectInvitation)parameter p_invitation is incorrect. cannot get invitation data');return;}dataref.child('invitationList/'+me+'/'+inviteId).once('value',function(dataSnapshot){var cb_status=undefined,cb_guestId=undefined,cb_invitationId=undefined;if(dataSnapshot&&dataSnapshot.val()){cb_invitationId=dataSnapshot.name();cb_status=dataSnapshot.val().status;cb_guestId=dataSnapshot.ref().parent().name();if(cb_status&&cb_status===INVITATION_ONGOING){console.log('(ReachSDK::reach::_rejectInvitation)inviteId='+inviteId+',data='+(0,_stringify2.default)(p_invitation[inviteId]));if(p_reason){dataref.child('invitationList/'+cb_guestId+'/'+cb_invitationId).update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status_info:p_reason,status:INVITATION_REJECTED});}else {dataref.child('invitationList/'+cb_guestId+'/'+cb_invitationId).update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_REJECTED});}}else {console.warn('(ReachSDK::reach::_rejectInvitation)inviteId='+cb_invitationId+',data='+(0,_stringify2.default)(p_invitation[inviteId])+', cannot be rejected. It has been removed or canceled');}}});}function _isRoomActive(p_invitation,p_cb){if(p_invitation&&p_cb&&typeof p_cb=='function'){(function(){var inviteId=(0,_keys2.default)(p_invitation)[0];console.log('(ReachSDK::reach::_isRoomActive)inviteId='+inviteId);var roomId=p_invitation[inviteId].room;datarefs.getRooms().child(roomId+'/commonDataList/status').once('value',function(snapshot){var opened=snapshot&&snapshot.val()&&snapshot.val()===ROOM_STATUS_OPEN;console.log('(ReachSDK::reach::_isRoomActive)inviteId='+inviteId+' result='+opened);p_cb(opened);});})();}}function _archiveInvitations(p_userId,p_cb){console.log('(ReachSDK::reach::_archiveInvitations)userId='+p_userId);dataref.child('invitationList/'+me).once('value',function(snapshot){if(snapshot&&snapshot.hasChildren()){(function(){var nbChildren=snapshot.numChildren(),nbChildrenProcessed=0;snapshot.forEach(function(childSnapshot){if(childSnapshot&&childSnapshot.val()){console.log('(ReachSDK::reach::_archiveInvitations)userId='+p_userId+' inviteId='+childSnapshot.name());if(childSnapshot.val().status===INVITATION_REJECTED||childSnapshot.val().status===INVITATION_CANCELED){dataref.child('invitationListHistory/'+p_userId+'/'+childSnapshot.name()).update(childSnapshot.val());childSnapshot.ref().remove();nbChildrenProcessed++;if(nbChildrenProcessed>=nbChildren&&p_cb&&typeof p_cb=='function'){p_cb();}}else {var inviteData={};inviteData[childSnapshot.name()]=childSnapshot.val();_isRoomActive(inviteData,function(isActive){if(isActive){nbChildrenProcessed++;if(nbChildrenProcessed>=nbChildren&&p_cb&&typeof p_cb=='function'){p_cb();}}else {if(childSnapshot.val().status===INVITATION_ONGOING){var newValue=childSnapshot.val();newValue.status=INVITATION_CANCELED;dataref.child('invitationListHistory/'+p_userId+'/'+childSnapshot.name()).set(newValue);}else {dataref.child('invitationListHistory/'+p_userId+'/'+childSnapshot.name()).set(childSnapshot.val());}childSnapshot.ref().remove();nbChildrenProcessed++;if(nbChildrenProcessed>=nbChildren&&p_cb&&typeof p_cb=='function'){p_cb();}}});}}else {if(p_cb&&typeof p_cb=='function'){p_cb();}}});})();}else {if(p_cb&&typeof p_cb=='function'){p_cb();}}});}function _close(){console.log('(ReachSDK::reach::_close)');if(newInviteCb){dataref.child('invitationList').child(me).off('child_added',newInviteCb);newInviteCb=null;}if(onUserAddedCb){dataref.child('userList').off('child_added',onUserAddedCb);onUserAddedCb=null;}if(onUserChangedCb){dataref.child('userList').off('child_changed',onUserChangedCb);onUserChangedCb=null;}if(onUserRemovedCb){dataref.child('userList').off('child_removed',onUserRemovedCb);onUserRemovedCb=null;}if(mOutgoingInvites){mOutgoingInvites.forEach(function(roomId){mOutgoingInvites[roomId].forEach(function(invitee){if(invitee.InviteDataref){invitee.InviteDataref.onDisconnect().cancel();invitee.InviteDataref.update({status:INVITATION_CANCELED,timestamp_end:Webcom.ServerValue.TIMESTAMP});}});});mOutgoingInvites=[];}if(automaticRejectTimeOut){automaticRejectTimeOut=null;}if(automaticRejectReason){automaticRejectReason=null;}if(mDeviceId){mDeviceId.remove();mDeviceId=null;}}init();return {getMe:function getMe(){return me;},isConnected:_isConnected,isRegistered:_isRegistered,setConnectedStatus:_setConnectedStatus,setOnUserAdded:_setOnUserAdded,setOnUserChanged:_setOnUserChanged,setOnUserRemoved:_setOnUserRemoved,inviteToRoom:_inviteToRoom,cancelInvitation:_cancelInvitation,setOnNewRoomInvitation:_setOnNewRoomInvitation,setOnRoomInvitationChanged:_setOnRoomInvitationChanged,setNewRoomInvitationTimeout:_setNewRoomInvitationTimeout,archiveMyInvitations:function archiveMyInvitations(p_cb){return _archiveInvitations(me,p_cb);},acceptInvitation:_acceptInvitation,rejectInvitation:_rejectInvitation,on:function on(p_evt,p_cb){switch(p_evt){case 'newRoomInvitation':_setOnNewRoomInvitation(p_cb);break;case 'roomInvitationChanged':_setOnRoomInvitationChanged(p_cb);break;case 'userAdded':_setOnUserAdded(p_cb);break;case 'userChanged':_setOnUserChanged(p_cb);break;case 'userRemoved':_setOnUserRemoved(p_cb);break;default:console.error('reach.set: no such event');return -1;}},close:_close};};exports.default=reach;

/***/ },
/* 10 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(11), __esModule: true };

/***/ },
/* 11 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(12);
	module.exports = __webpack_require__(18).Object.keys;

/***/ },
/* 12 */
/***/ function(module, exports, __webpack_require__) {

	// 19.1.2.14 Object.keys(O)
	var toObject = __webpack_require__(13);
	
	__webpack_require__(15)('keys', function($keys){
	  return function keys(it){
	    return $keys(toObject(it));
	  };
	});

/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

	// 7.1.13 ToObject(argument)
	var defined = __webpack_require__(14);
	module.exports = function(it){
	  return Object(defined(it));
	};

/***/ },
/* 14 */
/***/ function(module, exports) {

	// 7.2.1 RequireObjectCoercible(argument)
	module.exports = function(it){
	  if(it == undefined)throw TypeError("Can't call method on  " + it);
	  return it;
	};

/***/ },
/* 15 */
/***/ function(module, exports, __webpack_require__) {

	// most Object methods by ES6 should accept primitives
	var $export = __webpack_require__(16)
	  , core    = __webpack_require__(18)
	  , fails   = __webpack_require__(21);
	module.exports = function(KEY, exec){
	  var fn  = (core.Object || {})[KEY] || Object[KEY]
	    , exp = {};
	  exp[KEY] = exec(fn);
	  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);
	};

/***/ },
/* 16 */
/***/ function(module, exports, __webpack_require__) {

	var global    = __webpack_require__(17)
	  , core      = __webpack_require__(18)
	  , ctx       = __webpack_require__(19)
	  , PROTOTYPE = 'prototype';
	
	var $export = function(type, name, source){
	  var IS_FORCED = type & $export.F
	    , IS_GLOBAL = type & $export.G
	    , IS_STATIC = type & $export.S
	    , IS_PROTO  = type & $export.P
	    , IS_BIND   = type & $export.B
	    , IS_WRAP   = type & $export.W
	    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})
	    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]
	    , key, own, out;
	  if(IS_GLOBAL)source = name;
	  for(key in source){
	    // contains in native
	    own = !IS_FORCED && target && key in target;
	    if(own && key in exports)continue;
	    // export native or passed
	    out = own ? target[key] : source[key];
	    // prevent global pollution for namespaces
	    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
	    // bind timers to global for call from export context
	    : IS_BIND && own ? ctx(out, global)
	    // wrap global constructors for prevent change them in library
	    : IS_WRAP && target[key] == out ? (function(C){
	      var F = function(param){
	        return this instanceof C ? new C(param) : C(param);
	      };
	      F[PROTOTYPE] = C[PROTOTYPE];
	      return F;
	    // make static versions for prototype methods
	    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
	    if(IS_PROTO)(exports[PROTOTYPE] || (exports[PROTOTYPE] = {}))[key] = out;
	  }
	};
	// type bitmap
	$export.F = 1;  // forced
	$export.G = 2;  // global
	$export.S = 4;  // static
	$export.P = 8;  // proto
	$export.B = 16; // bind
	$export.W = 32; // wrap
	module.exports = $export;

/***/ },
/* 17 */
/***/ function(module, exports) {

	// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
	var global = module.exports = typeof window != 'undefined' && window.Math == Math
	  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();
	if(typeof __g == 'number')__g = global; // eslint-disable-line no-undef

/***/ },
/* 18 */
/***/ function(module, exports) {

	var core = module.exports = {version: '1.2.6'};
	if(typeof __e == 'number')__e = core; // eslint-disable-line no-undef

/***/ },
/* 19 */
/***/ function(module, exports, __webpack_require__) {

	// optional / simple context binding
	var aFunction = __webpack_require__(20);
	module.exports = function(fn, that, length){
	  aFunction(fn);
	  if(that === undefined)return fn;
	  switch(length){
	    case 1: return function(a){
	      return fn.call(that, a);
	    };
	    case 2: return function(a, b){
	      return fn.call(that, a, b);
	    };
	    case 3: return function(a, b, c){
	      return fn.call(that, a, b, c);
	    };
	  }
	  return function(/* ...args */){
	    return fn.apply(that, arguments);
	  };
	};

/***/ },
/* 20 */
/***/ function(module, exports) {

	module.exports = function(it){
	  if(typeof it != 'function')throw TypeError(it + ' is not a function!');
	  return it;
	};

/***/ },
/* 21 */
/***/ function(module, exports) {

	module.exports = function(exec){
	  try {
	    return !!exec();
	  } catch(e){
	    return true;
	  }
	};

/***/ },
/* 22 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(23), __esModule: true };

/***/ },
/* 23 */
/***/ function(module, exports, __webpack_require__) {

	var core = __webpack_require__(18);
	module.exports = function stringify(it){ // eslint-disable-line no-unused-vars
	  return (core.JSON && core.JSON.stringify || JSON.stringify).apply(JSON, arguments);
	};

/***/ },
/* 24 */
/***/ function(module, exports) {

	"use strict";Object.defineProperty(exports,"__esModule",{value:true});var utils=function(){function s4(){return Math.floor((1+Math.random())*0x10000).toString(16).substring(1);}function _guid(){return ""+s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4();}var _appInstanceId=_guid();return {appInstanceId:_appInstanceId};}();exports.default=utils;

/***/ },
/* 25 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(p_me,p_roomId,datarefs,webrtcmngr){var roomId=p_roomId,me=p_me,dataref=datarefs.getRooms().child(roomId),roomWebrtcStacks={},mAvailableStreams=[],mStreams=[],mMutedStreams=[],remoteUnpublishedCb=null,instantMessageListCb=null,publishedMediaListCb=null,publishedMediaListCbForAvailableStream=null,unPublishedMediaListCb=null,unPublishedMediaListCbForAvailableStream=null,participantListJoinAddedCb=null,participantListJoinChangedCb=null,participantListLeaveCb=null;function _addAvailableStream(data){console.log('(ReachSDK::room['+roomId+']::_addAvailableStream)data='+(0,_stringify2.default)(data));mAvailableStreams.push(data);}function _removeAvailableStream(streamId){console.log('(ReachSDK::room['+roomId+']::_removeAvailableStream)streamId='+streamId);if(mAvailableStreams&&streamId){for(var i=mAvailableStreams.length-1;i>=0;i--){if(mAvailableStreams[i]&&(0,_keys2.default)(mAvailableStreams[i])[0]&&(0,_keys2.default)(mAvailableStreams[i])[0]===streamId){delete mAvailableStreams[i];}}}}function initWebcomListener(){if(!publishedMediaListCbForAvailableStream){publishedMediaListCbForAvailableStream=function publishedMediaListCbForAvailableStream(snapshot){var obj={},name=snapshot.name(),value=snapshot.val();console.log('(ReachSDK::room['+roomId+']::onPublishedStreamForAvailableStream)stream='+(0,_stringify2.default)(value));obj[name]=value;obj[name].roomId=roomId;_addAvailableStream(obj);};dataref.child('publishedMediaList').on('child_added',publishedMediaListCbForAvailableStream);}if(!unPublishedMediaListCbForAvailableStream){unPublishedMediaListCbForAvailableStream=function unPublishedMediaListCbForAvailableStream(snapshot){var streamId=snapshot.name();console.log('(ReachSDK::room['+roomId+']::onUnPublishedStreamForAvailableStream)stream='+streamId);_removeAvailableStream(streamId);};dataref.child('publishedMediaList').on('child_removed',unPublishedMediaListCbForAvailableStream);}}function init(){dataref.child('participantList/'+me).update({connected:true,wasInsideRoom:true});dataref.child('participantList/'+me+'/connected').onDisconnect().set(false);initWebcomListener();}function _getRoomId(){return roomId;}function _getMe(){return me;}function _setOnParticipantJoin(p_cb){var participantListRef=dataref.child('participantList');if(participantListJoinAddedCb){participantListRef.off('child_added',participantListJoinAddedCb);participantListJoinAddedCb=null;}if(participantListJoinChangedCb){participantListRef.off('child_changed',participantListJoinChangedCb);participantListJoinChangedCb=null;}if(p_cb&&typeof p_cb=='function'){participantListJoinAddedCb=function participantListJoinAddedCb(snapshot){var user=snapshot.name();if(snapshot.val()&&snapshot.val().connected&&snapshot.val().wasInsideRoom){console.log('(ReachSDK::room['+roomId+']::_setOnParticipantJoin) user has joined: '+user);p_cb(user);}};participantListRef.on('child_added',participantListJoinAddedCb);participantListJoinChangedCb=function participantListJoinChangedCb(snapshot){var user=snapshot.name();if(snapshot.val()&&snapshot.val().connected&&snapshot.val().wasInsideRoom){console.log('(ReachSDK::room['+roomId+']::_setOnParticipantJoin) user has joined: '+user);p_cb(user);}};participantListRef.on('child_changed',participantListJoinChangedCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnParticipantJoin)parameter incorrect. Expected function');}}function _setOnParticipantLeave(p_cb){if(participantListLeaveCb){dataref.child('participantList').off('child_changed',participantListLeaveCb);participantListLeaveCb=null;}if(p_cb&&typeof p_cb=='function'){participantListLeaveCb=function participantListLeaveCb(snapshot){var user=snapshot.name();if(snapshot.val()&&!snapshot.val().connected&&snapshot.val().wasInsideRoom){console.log('(ReachSDK::room['+roomId+']::_setOnParticipantLeave) user has left: '+user);p_cb(user);}};dataref.child('participantList').on('child_changed',participantListLeaveCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnParticipantLeave)parameter incorrect. Expected function');}}function _sendInstantMessage(p_message){if(p_message!==''){console.log('(ReachSDK::room['+roomId+']::sendInstantMessage)message='+p_message);dataref.child('instantMessageList').push({from:me,message:p_message,timestamp:Webcom.ServerValue.TIMESTAMP});}}function _setOnInstantMessage(p_cb){if(instantMessageListCb){dataref.child('instantMessageList').off('child_added',instantMessageListCb);instantMessageListCb=null;}if(p_cb&&typeof p_cb=='function'){instantMessageListCb=function instantMessageListCb(snapshot){var obj=snapshot.val();console.log('(ReachSDK::room['+roomId+']::_setOnInstantMessage)receive InstantMessage='+(0,_stringify2.default)(obj));p_cb(obj);};dataref.child('instantMessageList').on('child_added',instantMessageListCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnInstantMessage)parameter incorrect. Expected function');}}function _publishStream(streamId,localVid,p_actionType,getLocalStreamCb){console.log('(ReachSDK::room['+roomId+']::publishStream)roomId='+roomId+',streamId='+streamId+',me='+me+',actionType='+p_actionType);if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter streamId is incorrect. Expecting non empty string');return;}var localDataRef=dataref.child('publishedMediaList').child(streamId),remoteDataRef=localDataRef.child('subscribersList'),pubAndSubscribe=function pubAndSubscribe(){localDataRef.set({from:me,appInstanceId:_utils2.default.appInstanceId,actionType:p_actionType});localDataRef.onDisconnect().remove();var addSubscribersListCb=function addSubscribersListCb(snapshot){var remoteAppInstanceId=snapshot.name(),data=snapshot.val(),_subscriberId=data.userId,_peercoId=data.peercoId,_peercoRef=data.peercoRef,isAudioMute=mMutedStreams[streamId]&&mMutedStreams[streamId].audio,isVideoMute=mMutedStreams[streamId]&&mMutedStreams[streamId].video,streamStackId=streamId+'_pub';console.log('(ReachSDK::room['+roomId+']::publishStream::addSubscribersListCb)subscriber '+_subscriberId+' to stream '+streamId+' added '+(0,_stringify2.default)(data));if(!roomWebrtcStacks[streamStackId]){roomWebrtcStacks[streamStackId]=[];}var mStackId=webrtcmngr.createWebrtc(localVid,remoteAppInstanceId,function(){console.log('(ReachSDK::room['+roomId+']::publishStream::addSubscribersListCb)subscriber '+_subscriberId+' to stream '+streamId+' connection lost');},true,p_actionType,_peercoId,_peercoRef,isAudioMute,isVideoMute);roomWebrtcStacks[streamStackId].push({stackId:mStackId,subscriberId:_subscriberId,isPublish:true,peercoId:_peercoId,peercoRef:_peercoRef});},removeSubscribersListCb=function removeSubscribersListCb(snapshot){var subscriberId=snapshot.name(),streamStacks=roomWebrtcStacks[streamId+'_pub'];if(subscriberId&&streamStacks){console.log('(ReachSDK::room['+roomId+']::publishStream::removeSubscribersListCb)subscriber '+subscriberId+' to stream '+streamId+' removed');for(var i=streamStacks.length-1;i>=0;i--){if(streamStacks[i].subscriberId===subscriberId){webrtcmngr.closeWebrtc(streamStacks[i].stackId,true);}}delete roomWebrtcStacks[streamId+'_pub'];}};mStreams[streamId]={addSubscribersListCb:addSubscribersListCb,removeSubscribersListCb:removeSubscribersListCb};remoteDataRef.on('child_added',addSubscribersListCb);remoteDataRef.on('child_removed',removeSubscribersListCb);};if(p_actionType){if(p_actionType===_actions2.default.ACTION_TYPE_VIDEO){_localstream2.default.connectLocalVideoStream(localVid,pubAndSubscribe,getLocalStreamCb);}else if(p_actionType===_actions2.default.ACTION_TYPE_AUDIO){_localstream2.default.connectLocalAudioStream(localVid,pubAndSubscribe,getLocalStreamCb);}else if(p_actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){_localstream2.default.connectLocalAudioVideoStream(localVid,pubAndSubscribe,getLocalStreamCb);}}}function _setOnPublishedStream(p_cb){if(publishedMediaListCb){dataref.child('publishedMediaList').off('child_added',publishedMediaListCb);publishedMediaListCb=null;}if(p_cb&&typeof p_cb=='function'){publishedMediaListCb=function publishedMediaListCb(snapshot){var obj={},name=snapshot.name();obj[name]=snapshot.val();obj[name].roomId=roomId;p_cb(obj);};dataref.child('publishedMediaList').on('child_added',publishedMediaListCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnPublishedStream)parameter incorrect. Expected function');}}function _unPublishStream(streamId,callback){console.log('(ReachSDK::room['+roomId+']::unPublishStream)streamId '+streamId);var localDataRef=dataref.child('publishedMediaList/'+streamId),remoteDataRef=localDataRef.child('subscribersList'),streamStacksId=streamId+'_pub';if(mStreams[streamId]&&mStreams[streamId].addSubscribersListCb){remoteDataRef.off('child_added',mStreams[streamId].addSubscribersListCb);}if(mStreams[streamId]&&mStreams[streamId].removeSubscribersListCb){remoteDataRef.off('child_removed',mStreams[streamId].removeSubscribersListCb);}delete mStreams[streamId];delete mMutedStreams[streamId];localDataRef.onDisconnect().cancel();localDataRef.remove();if(roomWebrtcStacks[streamStacksId]&&roomWebrtcStacks[streamStacksId].length>0){(function(){var nbStack=roomWebrtcStacks[streamStacksId].length,closeCb=function closeCb(){nbStack--;if(nbStack<1){delete roomWebrtcStacks[streamStacksId];if(callback&&typeof callback=='function'){callback();}}};for(var i=nbStack-1;i>=0;i--){webrtcmngr.closeWebrtc(roomWebrtcStacks[streamStacksId][i].stackId,true,closeCb);}})();}else {delete roomWebrtcStacks[streamStacksId];if(callback&&typeof callback=='function'){callback();}}}function _setOnUnPublishedStream(p_cb){if(unPublishedMediaListCb){dataref.child('publishedMediaList').off('child_removed',unPublishedMediaListCb);unPublishedMediaListCb=null;}if(p_cb&&typeof p_cb=='function'){unPublishedMediaListCb=function unPublishedMediaListCb(snapshot){p_cb(snapshot.name());};dataref.child('publishedMediaList').on('child_removed',unPublishedMediaListCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnUnPublishedStream)parameter incorrect. Expected function');}}function _subscribeToStream(streamData,remoteVid,getRemoteStreamCb){var streamId=(0,_keys2.default)(streamData)[0],actionType=streamData[streamId].actionType;console.log('(ReachSDK::room['+roomId+']::subscribeToStream)streamId '+streamId);if(mStreams&&mStreams[streamId]){if(actionType){if(actionType===_actions2.default.ACTION_TYPE_VIDEO){_localstream2.default.connectLocalVideoStream(remoteVid,getRemoteStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO){_localstream2.default.connectLocalAudioStream(remoteVid,getRemoteStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){_localstream2.default.connectLocalAudioVideoStream(remoteVid,getRemoteStreamCb);}}return streamId;}var appInstanceId=streamData[streamId].appInstanceId,localDataRef=dataref.child('publishedMediaList').child(streamId),remoteDataRef=localDataRef.child('subscribersList'),streamStacksId=streamId+'_sub',_peercoId=undefined,_peercoRef=undefined;if(!roomWebrtcStacks[streamStacksId]){roomWebrtcStacks[streamStacksId]=[];}else if(roomWebrtcStacks[streamStacksId]&&roomWebrtcStacks[streamStacksId][0]&&roomWebrtcStacks[streamStacksId][0].peercoId){_peercoId=roomWebrtcStacks[streamStacksId][0].peercoId;}var getRandomIntInclusive=function getRandomIntInclusive(min,max){return Math.floor(Math.random()*(max-min+1))+min;};if(!_peercoId){_peercoId=Math.floor(Date.now()).toString()+getRandomIntInclusive(0,1000000);}_peercoRef=datarefs.getWebrtc().push().name();remoteDataRef.child(_utils2.default.appInstanceId).set({ts:Webcom.ServerValue.TIMESTAMP,userId:me,peercoId:_peercoId,peercoRef:_peercoRef});var isAudioMute=mMutedStreams[streamId]&&mMutedStreams[streamId].audio,isVideoMute=mMutedStreams[streamId]&&mMutedStreams[streamId].video,mStackId=webrtcmngr.createWebrtc(remoteVid,appInstanceId,function(){},false,actionType,_peercoId,_peercoRef,isAudioMute,isVideoMute,getRemoteStreamCb);if(!remoteUnpublishedCb){remoteUnpublishedCb=function remoteUnpublishedCb(snapshot){var removedStreamId=(0,_keys2.default)(snapshot)[0]+'_sub';if(roomWebrtcStacks[removedStreamId]){var i=0;while(i<roomWebrtcStacks[removedStreamId].length){webrtcmngr.closeWebrtc(roomWebrtcStacks[removedStreamId][i].stackId,false);i++;}delete roomWebrtcStacks[removedStreamId];}};dataref.child('publishedMediaList').on('child_removed',remoteUnpublishedCb);}roomWebrtcStacks[streamStacksId].push({stackId:mStackId,isPublish:false,peercoId:_peercoId,peercoRef:_peercoRef});return streamId;}function _unSubscribeFromStream(streamId){console.log('(ReachSDK::room['+roomId+']::unSubscribeFromStream)streamId '+streamId);var localDataRef=dataref.child('publishedMediaList').child(streamId),remoteDataRef=localDataRef.child('subscribersList'),streamStacksId=streamId+'_sub';remoteDataRef.child(_utils2.default.appInstanceId).remove();if(roomWebrtcStacks[streamStacksId]){var i=0;while(i<roomWebrtcStacks[streamStacksId].length){if(roomWebrtcStacks[streamStacksId][i]){webrtcmngr.closeWebrtc(roomWebrtcStacks[streamStacksId][i].stackId,false);}i++;}delete roomWebrtcStacks[streamStacksId];}delete mMutedStreams[streamId];}function _getAvailableStreams(){console.log('(ReachSDK::room['+roomId+']::_getAvailableStreams)');return mAvailableStreams;}function _getAvailableStream(streamId){console.log('(ReachSDK::room['+roomId+']::_getAvailableStream)streamId='+streamId);if(mAvailableStreams&&streamId){for(var i=mAvailableStreams.length-1;i>=0;i--){if(mAvailableStreams[i]&&(0,_keys2.default)(mAvailableStreams[i])[0]&&(0,_keys2.default)(mAvailableStreams[i])[0]===streamId){return mAvailableStreams[i];}}}return null;}function _removeAllAvailableStreams(){console.log('(ReachSDK::room['+roomId+']::_removeAllAvailableStreams');mAvailableStreams=[];}function _muteAudioStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_muteAudioStream)parameter streamId is incorrect. Expecting non empty string');return;}console.log('(ReachSDK::room['+roomId+']::_muteAudioStream)streamId='+streamId);if(!mMutedStreams[streamId]){mMutedStreams[streamId]={};}mMutedStreams[streamId].audio=true;if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.muteAudioWebrtcStack(stacks[i].stackId);}}});}}function _unmuteAudioStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_unmuteAudioStream)parameter streamId is incorrect. Expecting non empty string');return;}if(mMutedStreams[streamId]&&mMutedStreams[streamId].audio){mMutedStreams[streamId].audio=false;}console.log('(ReachSDK::room['+roomId+']::_unmuteAudioStream)streamId='+streamId);if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.unmuteAudioWebrtcStack(stacks[i].stackId);}}});}}function _muteVideoStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_muteVideoStream)parameter streamId is incorrect. Expecting non empty string');return;}console.log('(ReachSDK::room['+roomId+']::_muteVideoStream)streamId='+streamId);if(!mMutedStreams[streamId]){mMutedStreams[streamId]={};}mMutedStreams[streamId].video=true;if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.muteVideoWebrtcStack(stacks[i].stackId);}}});}}function _unmuteVideoStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_unmuteVideoStream)parameter streamId is incorrect. Expecting non empty string');return;}if(mMutedStreams[streamId]&&mMutedStreams[streamId].video){mMutedStreams[streamId].video=false;}console.log('(ReachSDK::room['+roomId+']::_unmuteVideoStream)streamId='+streamId);if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.unmuteVideoWebrtcStack(stacks[i].stackId);}}});}}function _close(updateRoomStatusToClose){console.log('(ReachSDK::room['+roomId+']::_close)room '+roomId+', detroyRoom='+updateRoomStatusToClose);var participantListRef=dataref.child('participantList'),publishedMediaListRef=dataref.child('publishedMediaList');participantListRef.child(me+'/connected').set(false);(0,_keys2.default)(mStreams).forEach(_unPublishStream);mStreams=[];if(instantMessageListCb){dataref.child('instantMessageList').off('child_added',instantMessageListCb);instantMessageListCb=null;}if(publishedMediaListCb){publishedMediaListRef.off('child_added',publishedMediaListCb);publishedMediaListCb=null;}if(publishedMediaListCbForAvailableStream){publishedMediaListRef.off('child_added',publishedMediaListCbForAvailableStream);publishedMediaListCbForAvailableStream=null;}if(unPublishedMediaListCb){publishedMediaListRef.off('child_removed',unPublishedMediaListCb);unPublishedMediaListCb=null;}if(unPublishedMediaListCbForAvailableStream){publishedMediaListRef.off('child_removed',unPublishedMediaListCbForAvailableStream);unPublishedMediaListCbForAvailableStream=null;}if(participantListJoinAddedCb){participantListRef.off('child_added',participantListJoinAddedCb);participantListJoinAddedCb=null;}if(participantListJoinChangedCb){participantListRef.off('child_changed',participantListJoinChangedCb);participantListJoinChangedCb=null;}if(participantListLeaveCb){participantListRef.off('child_changed',participantListLeaveCb);participantListLeaveCb=null;}if(remoteUnpublishedCb){publishedMediaListRef.off('child_removed',remoteUnpublishedCb);remoteUnpublishedCb=null;}(0,_keys2.default)(roomWebrtcStacks).forEach(function(streamStacksId){roomWebrtcStacks[streamStacksId].forEach(function(stack){if(stack){webrtcmngr.closeWebrtc(stack.stackId,stack.isPublish);webrtcmngr.clearWebrtcStacks(stack.stackId);}});});roomWebrtcStacks={};mMutedStreams=[];_removeAllAvailableStreams();if(updateRoomStatusToClose&&updateRoomStatusToClose===true){dataref.child('commonDataList/status').set(ROOM_STATUS_CLOSE);}}init();return {getRoomId:_getRoomId,getMe:_getMe,setOnParticipantJoin:_setOnParticipantJoin,setOnParticipantLeave:_setOnParticipantLeave,sendInstantMessage:_sendInstantMessage,setOnInstantMessage:_setOnInstantMessage,publishStream:_publishStream,setOnPublishedStream:_setOnPublishedStream,unPublishStream:_unPublishStream,setOnUnPublishedStream:_setOnUnPublishedStream,subscribeToStream:_subscribeToStream,unSubscribeFromStream:_unSubscribeFromStream,getAvailableStreams:_getAvailableStreams,getAvailableStream:_getAvailableStream,muteAudioStream:_muteAudioStream,unmuteAudioStream:_unmuteAudioStream,muteVideoStream:_muteVideoStream,unmuteVideoStream:_unmuteVideoStream,close:_close,on:function on(evt,p_cb){switch(evt){case 'instantMessage':_setOnInstantMessage(p_cb);break;case 'publishedStream':_setOnPublishedStream(p_cb);break;case 'unPublishedStream':_setOnUnPublishedStream(p_cb);break;case 'participantJoin':_setOnParticipantJoin(p_cb);break;case 'participantLeave':_setOnParticipantLeave(p_cb);break;default:console.err('(ReachSDK::room['+roomId+']::on)unsupported '+evt+' event');break;}}};};var _keys=__webpack_require__(10),_keys2=_interopRequireDefault(_keys),_stringify=__webpack_require__(22),_stringify2=_interopRequireDefault(_stringify),_actions=__webpack_require__(7),_actions2=_interopRequireDefault(_actions),_localstream=__webpack_require__(26),_localstream2=_interopRequireDefault(_localstream),_utils=__webpack_require__(24),_utils2=_interopRequireDefault(_utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var ROOM_STATUS_CLOSE='CLOSE';

/***/ },
/* 26 */
/***/ function(module, exports) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var localstream=function(){var localVideoStreams=[],localAudioStreams=[],localAudioVideoStreams=[],streamVideo=null,streamAudio=null,streamAudioVideo=null,listenersVideo=[],listenersAudio=[],listenersAudioVideo=[],mLocalStreamVideo=null,mLocalStreamAudio=null,mLocalStreamAudioVideo=null,initVideoProgress=false,initAudioProgress=false,initAudioVideoProgress=false;function _initVideo(callback){console.log('(ReachSDK::localstream::initVideo)');if(!initVideoProgress){initVideoProgress=true;navigator.getMedia=getUserMedia;mLocalStreamVideo=document.createElement('VIDEO');mLocalStreamVideo.muted=true;localVideoStreams.push(mLocalStreamVideo);if(streamVideo===null){navigator.getMedia({audio:false,video:true},function(s){streamVideo=s;localVideoStreams.forEach(function(localVideoStream){attachMediaStream(localVideoStream,streamVideo);});localVideoStreams=[];listenersVideo.forEach(function(listenerVideo){listenerVideo(streamVideo);});listenersVideo=[];initVideoProgress=false;if(callback){callback();}},function(error){console.error('Error on webrtcLocalStream - webkitGetUserMedia : error=');console.dir(error);initVideoProgress=false;if(callback){callback(error);}});}else {localVideoStreams.forEach(function(localVideoStream){attachMediaStream(localVideoStream,streamVideo);});localVideoStreams=[];listenersVideo.forEach(function(listenerVideo){listenerVideo(streamVideo);});listenersVideo=[];initVideoProgress=false;}}}function _initAudio(callback){console.log('(ReachSDK::localstream::initAudio)');if(!initAudioProgress){initAudioProgress=true;navigator.getMedia=getUserMedia;mLocalStreamAudio=document.createElement('AUDIO');mLocalStreamAudio.muted=true;localAudioStreams.push(mLocalStreamAudio);if(streamAudio===null){navigator.getMedia({audio:true,video:false},function(s){streamAudio=s;localAudioStreams.forEach(function(localAudioStream){attachMediaStream(localAudioStream,streamAudio);});localAudioStreams=[];listenersAudio.forEach(function(listenerAudio){listenerAudio(streamAudio);});listenersAudio=[];initAudioProgress=false;if(callback){callback();}},function(error){console.error('Error on webrtcLocalStream - webkitGetUserMedia :error=');console.dir(error);initAudioProgress=false;if(callback){callback(error);}});}else {localAudioStreams.forEach(function(localAudioStream){attachMediaStream(localAudioStream,streamAudio);});localAudioStreams=[];listenersAudio.forEach(function(listenerAudio){listenerAudio(streamAudio);});listenersAudio=[];initAudioProgress=false;}}}function _initAudioVideo(callback){console.log('(ReachSDK::localstream::initAudioVideo)');if(!initAudioVideoProgress){initAudioVideoProgress=true;navigator.getMedia=getUserMedia;mLocalStreamAudioVideo=document.createElement('AUDIOVIDEO');mLocalStreamAudioVideo.muted=true;localAudioVideoStreams.push(mLocalStreamAudioVideo);if(streamAudioVideo===null){navigator.getMedia({audio:true,video:true},function(s){streamAudioVideo=s;localAudioVideoStreams.forEach(function(localAudioVideoStream){attachMediaStream(localAudioVideoStream,streamAudioVideo);});localAudioVideoStreams=[];listenersAudioVideo.forEach(function(listenerAudioVideo){listenerAudioVideo(streamAudioVideo);});listenersAudioVideo=[];initAudioVideoProgress=false;if(callback){callback();}},function(error){console.error('(ReachSDK::localstream::initAudioVideo::Error on webrtcLocalStream - webkitGetUserMedia : error=');console.dir(error);initAudioVideoProgress=false;if(callback){callback(error);}});}else {localAudioVideoStreams.forEach(function(localAudioVideoStream){attachMediaStream(localAudioVideoStream,streamAudioVideo);});localAudioVideoStreams=[];listenersAudioVideo.forEach(function(listenerAudioVideo){listenerAudioVideo(streamAudioVideo);});listenersAudioVideo=[];initAudioVideoProgress=false;}}}function _close(){console.log('(ReachSDK::localstream::close)');if(mLocalStreamVideo){detachMediaStream(mLocalStreamVideo);mLocalStreamVideo=null;}if(streamAudioVideo){streamAudioVideo.stop();streamAudioVideo=null;}if(streamVideo){streamVideo.stop();streamVideo=null;}initVideoProgress=false;if(mLocalStreamAudio){detachMediaStream(mLocalStreamAudio);mLocalStreamAudio=null;}if(streamAudio){streamAudio.stop();streamAudio=null;}initAudioProgress=false;if(mLocalStreamAudioVideo){detachMediaStream(mLocalStreamAudioVideo);mLocalStreamAudioVideo=null;}if(streamAudioVideo){streamAudioVideo.stop();streamAudioVideo=null;}initAudioVideoProgress=false;}return {getVideoStream:function getVideoStream(){return streamVideo;},addVideoListener:function addVideoListener(cb){listenersVideo.push(cb);},initVideo:function initVideo(){_initVideo();},connectLocalVideoStream:function connectLocalVideoStream(videoElt,publishStreamCb,getLocalStreamCb){if(videoElt){videoElt.muted=true;if(streamVideo){console.log('(ReachSDK::localstream::connectLocalVideoStream)use existing streamVideo');attachMediaStream(videoElt,streamVideo);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamVideo);}}else {localVideoStreams.push(videoElt);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersVideo.push(getLocalStreamCb);}_initVideo(publishStreamCb);}}else {if(!streamVideo){if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersVideo.push(getLocalStreamCb);}_initVideo(publishStreamCb);}else {if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamVideo);}}}},getAudioStream:function getAudioStream(){return streamAudio;},addAudioListener:function addAudioListener(cb){listenersAudio.push(cb);},initAudio:function initAudio(){_initAudio();},connectLocalAudioStream:function connectLocalAudioStream(AudioElt,publishStreamCb,getLocalStreamCb){if(AudioElt){AudioElt.muted=true;if(streamAudio){console.log('(ReachSDK::localstream::connectLocalAudioStream)use existing streamAudio');attachMediaStream(AudioElt,streamAudio);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamAudio);}}else {localAudioStreams.push(AudioElt);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudio.push(getLocalStreamCb);}_initAudio(publishStreamCb);}}else {if(!streamAudio){if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudio.push(getLocalStreamCb);}_initAudio(publishStreamCb);}else {if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamAudio);}}}},getAudioVideoStream:function getAudioVideoStream(){return streamAudioVideo;},addAudioVideoListener:function addAudioVideoListener(cb){listenersAudioVideo.push(cb);},initAudioVideo:function initAudioVideo(){_initAudioVideo();},connectLocalAudioVideoStream:function connectLocalAudioVideoStream(AudioVideoElt,publishStreamCb,getLocalStreamCb){if(AudioVideoElt){AudioVideoElt.muted=true;if(streamAudioVideo){console.log('(ReachSDK::localstream::connectLocalAudioVideoStream)use existing streamAudioVideo');attachMediaStream(AudioVideoElt,streamAudioVideo);if(getLocalStreamCb){getLocalStreamCb(streamAudioVideo);}}else {localAudioVideoStreams.push(AudioVideoElt);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudioVideo.push(getLocalStreamCb);}_initAudioVideo(publishStreamCb);}}else {if(!streamAudioVideo){if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudioVideo.push(getLocalStreamCb);}_initAudioVideo(publishStreamCb);}else {if(getLocalStreamCb){getLocalStreamCb(streamAudioVideo);}}}},close:function close(){_close();}};}();exports.default=localstream;

/***/ },
/* 27 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _utils=__webpack_require__(24),_utils2=_interopRequireDefault(_utils),_webrtc=__webpack_require__(28),_webrtc2=_interopRequireDefault(_webrtc),_localstream=__webpack_require__(26),_localstream2=_interopRequireDefault(_localstream);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var webrtcmngr=function webrtcmngr(datarefs){var _this=this,webrtcStacks=[],virtualWebrtcStacks=[];function _createWebrtc(p_Vid,p_remoteAppInstId,p_onCloseCb,p_isPublish,p_actionType,p_peercoId,p_peercoRef,p_mutedAudio,p_muteVideo,p_getStreamCb){var webrtcStackId=p_peercoId,localDataRef=datarefs.getWebrtc().child(p_peercoRef+'/'+_utils2.default.appInstanceId),remoteDataRef=datarefs.getWebrtc().child(p_peercoRef+'/'+p_remoteAppInstId),virtualWebrtcStack=undefined;if(p_isPublish){virtualWebrtcStack={webRtcStackId:webrtcStackId,localVid:p_Vid};}else {virtualWebrtcStack={webRtcStackId:webrtcStackId,remoteVid:p_Vid};}var id=virtualWebrtcStacks.push(virtualWebrtcStack)-1;if(!webrtcStacks[webrtcStackId]){console.debug('ReachSDK::webrtcmngr::createWebrtc->create a new real webrtcStack');var webRtcStack=(0,_webrtc2.default)(this,p_isPublish,localDataRef,remoteDataRef,webrtcStackId,p_actionType,p_mutedAudio,p_muteVideo);webRtcStack.setOnClose(p_onCloseCb);if(p_isPublish){webrtcStacks[webrtcStackId]={stack:webRtcStack,isPublished:1,isSubscribed:0};webRtcStack.connectLocalStream(p_Vid,p_getStreamCb);}else {webrtcStacks[webrtcStackId]={stack:webRtcStack,isPublished:0,isSubscribed:1};webRtcStack.connectRemoteStream(p_Vid,p_getStreamCb);}}else {console.debug('ReachSDK::webrtcmngr::createWebrtc->use existing real webrtcStack');if(p_isPublish){webrtcStacks[webrtcStackId].isPublished++;webrtcStacks[webrtcStackId].stack.connectLocalStream(p_Vid,p_getStreamCb);}else {webrtcStacks[webrtcStackId].isSubscribed++;webrtcStacks[webrtcStackId].stack.connectRemoteStream(p_Vid,p_getStreamCb);}}console.debug('ReachSDK::webrtcmngr::createWebrtc->webrtcStack:'+webrtcStackId+' new isPublished count ='+webrtcStacks[webrtcStackId].isPublished+' new isSubscribed count ='+webrtcStacks[webrtcStackId].isSubscribed);return id;}function _closeWebrtc(id,p_isUnPublish,callback){console.debug('ReachSDK::webrtcmngr::closeWebrtc->id='+id);if(!virtualWebrtcStacks[id]){console.warn('ReachSDK::webrtcmngr::closeWebrtc: virtualstack '+id+' not found');if(callback&&typeof callback=='function'){callback();}return false;}var webrtcStackId=virtualWebrtcStacks[id].webRtcStackId;if(webrtcStackId&&webrtcStacks[webrtcStackId]){if(p_isUnPublish&&webrtcStacks[webrtcStackId].isPublished>0){webrtcStacks[webrtcStackId].isPublished--;}else if(!p_isUnPublish&&webrtcStacks[webrtcStackId].isSubscribed>0){webrtcStacks[webrtcStackId].isSubscribed--;}if(webrtcStacks[webrtcStackId].isPublished<1&&webrtcStacks[webrtcStackId].isSubscribed<1){console.debug('ReachSDK::webrtcmngr::closeWebrtc->destroy  real webrtcStack:'+webrtcStackId);webrtcStacks[webrtcStackId].stack.close(callback);webrtcStacks[webrtcStackId]=null;}else {console.debug('ReachSDK::webrtcmngr::closeWebrtc->decrement  real webrtcStack:'+webrtcStackId+' new isPublished count ='+webrtcStacks[webrtcStackId].isPublished+' new isSubscribed count ='+webrtcStacks[webrtcStackId].isSubscribed);if(callback&&typeof callback=='function'){callback();}}}else {if(callback&&typeof callback=='function'){callback();}console.warn('ReachSDK::webrtcmngr::closeWebrtc cannot found real stack');}if(virtualWebrtcStacks[id].localVid){_localstream2.default.close();detachMediaStream(virtualWebrtcStacks[id].localVid);}if(virtualWebrtcStacks[id].remoteVid){detachMediaStream(virtualWebrtcStacks[id].remoteVid);}return true;}function _clearWebrtcStacks(webrtcStackId){console.debug('ReachSDK::webrtcmngr::clearWebrtcStacks id='+webrtcStackId);if(webrtcStackId&&webrtcStacks&&webrtcStacks[webrtcStackId]){webrtcStacks[webrtcStackId]=null;}return true;}function _muteAudioWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.muteAudio();}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}function _unmuteAudioWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+',webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.unmuteAudio();}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}function _muteVideoWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.muteVideo();}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}function _unmuteVideoWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+', webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.unmuteVideo();}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}return {createWebrtc:function createWebrtc(p_Vid,p_remoteAppInstId,p_onCloseCb,p_isPublish,p_actionType,p_peercoId,p_mutedAudio,p_muteVideo,p_getStreamCb){return _createWebrtc.bind(_this)(p_Vid,p_remoteAppInstId,p_onCloseCb,p_isPublish,p_actionType,p_peercoId,p_mutedAudio,p_muteVideo,p_getStreamCb);},closeWebrtc:_closeWebrtc,clearWebrtcStacks:_clearWebrtcStacks,muteAudioWebrtcStack:_muteAudioWebrtcStack,unmuteAudioWebrtcStack:_unmuteAudioWebrtcStack,muteVideoWebrtcStack:_muteVideoWebrtcStack,unmuteVideoWebrtcStack:_unmuteVideoWebrtcStack};};exports.default=webrtcmngr;

/***/ },
/* 28 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _stringify=__webpack_require__(22),_stringify2=_interopRequireDefault(_stringify),_actions=__webpack_require__(7),_actions2=_interopRequireDefault(_actions),_localstream=__webpack_require__(26),_localstream2=_interopRequireDefault(_localstream);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var ICE_CONNECTION_STATE_DISCONNECTED='disconnected',ICE_CONNECTION_STATE_CONNECTED='connected',ICE_CONNECTION_STATE_COMPLETED='completed',ICE_CONNECTION_STATE_CHECKING='checking',ICE_CONNECTION_STATE_CLOSED='closed',ICE_CONNECTION_STATE_FAILED='failed',ICE_CONNECTION_STATE_OTHER='other',DEFAULT_ICE_CONFIG={iceServers:[{url:'turns:turn1.webcom.orange.com:443',username:'admin',credential:'webcom1234'},{url:'turn:turn2.webcom.orange.com:443',username:'admin',credential:'webcom1234'},{url:'turns:turn3.webcom.orange.com:443',username:'admin',credential:'webcom1234'}]},webrtc=function webrtc(p_webrtcmngr,p_isPublish,p_localDataRef,p_remoteDataRef,p_webrtcStackId,p_actionType,p_muteAudio,p_muteVideo){var webrtcmngr=p_webrtcmngr,stackId=new Date().getTime(),isPublish=p_isPublish,pc=null,localDataRef=p_localDataRef,remoteDataRef=p_remoteDataRef,iceCandidatesListCb=null,_sdpOfferCb=null,_sdpAnswerCb=null,remotedatarefCb=null,onCloseCb=null,webrtcStackId=p_webrtcStackId,actionType=p_actionType,config=null,myPeerConnection=null,myRTCSessionDescription=null,myRTCIceCandidate=null,localStreams=[],remoteStreams=[],remoteStreamsCb=[],receivedStream=null,sentStream=null,isClosed=false,closeInProgress=false,iceConnectionState=null,onCloseCb2=null,isAudioMute=false,isVideoMute=false;console.log('(ReachSDK::webrtc::)stackId=${stackId} isPublish=${isPublish},localDataRef=${localDataRef},remoteDataRef=${remoteDataRef})');var DtlsSrtpKeyAgreement={DtlsSrtpKeyAgreement:true},optional={optional:[DtlsSrtpKeyAgreement]},publisherMediaConstraints={mandatory:{OfferToReceiveAudio:false,OfferToReceiveVideo:false}},subscriberMediaConstraints={mandatory:{OfferToReceiveAudio:true,OfferToReceiveVideo:true}};function onError(e){console.log('(ReachSDK::webrtc::)stackId='+stackId+'error='+e);console.dir(e);}function getIceServersConfigFromServer(callbackOk,callbackKo){console.log('ReachSDK::webrtc::getIceServersConfigFromServer');if(localDataRef){localDataRef.root().child('config').once('value',function(snapshot){var _config=snapshot?snapshot.val():null;if(_config){if(typeof callbackOk=='function'){callbackOk(_config);}}else if(typeof callbackKo=='function'){callbackKo();}},function(error){if(typeof callbackKo=='function'){callbackKo(error);}});}else if(typeof callbackKo=='function'){callbackKo();}}function startListeningToRemoteIceCandidate(){remoteDataRef.child('iceCandidatesList').on('child_added',iceCandidatesListCb);}function stopListeningToRemoteIceCandidate(){remoteDataRef.child('iceCandidatesList').off('child_added',iceCandidatesListCb);}function _muteTracks(enabled,tracks){if(tracks){tracks.forEach(function(track){if(track){track.enabled=enabled;}});}}function _muteAudioTracks(mute){isAudioMute=mute;var stream=isPublish&&sentStream?sentStream:!isPublish&&receivedStream?receivedStream:null;if(stream){_muteTracks(!isAudioMute,stream.getAudioTracks());}}function _muteAudio(){console.log('(ReachSDK::webrtc::_muteAudio)stackId='+stackId);_muteAudioTracks(true);}function _unmuteAudio(){console.log('(ReachSDK::webrtc::_unmuteAudio)stackId='+stackId);_muteAudioTracks(false);}function _muteVideoTracks(mute){isVideoMute=mute;var stream=isPublish&&sentStream?sentStream:!isPublish&&receivedStream?receivedStream:null;if(stream){_muteTracks(!isAudioMute,stream.getVideoTracks());}}function _muteVideo(){console.log('(ReachSDK::webrtc::_muteVideo)stackId='+stackId);_muteVideoTracks(true);}function _unmuteVideo(){console.log('(ReachSDK::webrtc::_unmuteVideo)stackId='+stackId);_muteVideoTracks(false);}function _initlocalStream(callback){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' get local video stream and renders to local video');if(actionType){var initlocalStream=undefined;if(actionType===_actions2.default.ACTION_TYPE_VIDEO){initlocalStream=function initlocalStream(){console.log('(ReachSDK::webrtc::_initlocalStream)initlocalStream_video');if(_localstream2.default.getVideoStream()&&_localstream2.default.getVideoStream().clone&&typeof _localstream2.default.getVideoStream().clone=='function'){sentStream=_localstream2.default.getVideoStream().clone();}else {sentStream=_localstream2.default.getVideoStream();}if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}pc.addStream(sentStream);for(var i=0;i<localStreams.length;i++){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' rendering local video to '+localStreams[i].id);attachMediaStream(localStreams[i],_localstream2.default.getVideoStream());}if(callback&&typeof callback=='function'){callback();}};if(_localstream2.default.getVideoStream()){initlocalStream();}else {_localstream2.default.addVideoListener(initlocalStream);_localstream2.default.initVideo();}}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO){initlocalStream=function initlocalStream(){console.log('(ReachSDK::webrtc::_initlocalStream)initlocalStream_audio');if(_localstream2.default.getAudioStream()&&_localstream2.default.getAudioStream().clone&&typeof _localstream2.default.getAudioStream().clone=='function'){sentStream=_localstream2.default.getAudioStream().clone();}else {sentStream=_localstream2.default.getAudioStream();}if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}pc.addStream(sentStream);for(var i=0;i<localStreams.length;i++){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' rendering local Audio to '+localStreams[i].id);attachMediaStream(localStreams[i],_localstream2.default.getAudioStream());}if(callback&&typeof callback=='function'){callback();}};if(_localstream2.default.getAudioStream()){initlocalStream();}else {_localstream2.default.addAudioListener(initlocalStream);_localstream2.default.initAudio();}}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){initlocalStream=function initlocalStream(){console.log('(ReachSDK::webrtc::_initlocalStream)initlocalStream_audio_video');if(_localstream2.default.getAudioVideoStream()&&_localstream2.default.getAudioVideoStream().clone&&typeof _localstream2.default.getAudioVideoStream().clone=='function'){sentStream=_localstream2.default.getAudioVideoStream().clone();}else {sentStream=_localstream2.default.getAudioVideoStream();}if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}pc.addStream(sentStream);for(var i=0;i<localStreams.length;i++){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' rendering local AudioVideo to '+localStreams[i].id);attachMediaStream(localStreams[i],_localstream2.default.getAudioVideoStream());}if(callback&&typeof callback=='function'){callback();}};if(_localstream2.default.getAudioVideoStream()){initlocalStream();}else {_localstream2.default.addAudioVideoListener(initlocalStream);_localstream2.default.initAudioVideo();}}}else {console.warn('(ReachSDK::webrtc::_initlocalStream)no actionType specified');}}function _initSdpCallbacks(){console.debug('(ReachSDK::webrtc::_initSdpCallbacks)stackId='+stackId);if(isPublish){if(_sdpOfferCb){remoteDataRef.off('child_added',_sdpOfferCb);}_sdpAnswerCb=function sdpAnswerCb(snapshot){if(!isClosed&&snapshot.name()==='sdpAnswer'){var data=snapshot.val();console.debug('(ReachSDK::webrtc::sdpAnswerCb)stackId='+stackId+'-received sdpAnswer: '+(0,_stringify2.default)(data));pc.setRemoteDescription(new myRTCSessionDescription(data),function(){console.debug('(ReachSDK::webrtc::sdpAnswerCb)stackId='+stackId+'-remote description set');startListeningToRemoteIceCandidate();},onError);remoteDataRef.off('child_added',_sdpAnswerCb);}};remoteDataRef.on('child_added',_sdpAnswerCb);}else {if(_sdpAnswerCb){remoteDataRef.off('child_added',_sdpAnswerCb);}_sdpOfferCb=function sdpOfferCb(snapshot){if(!isClosed&&snapshot.name()==='sdpOffer'){var data=snapshot.val();console.debug('(ReachSDK::webrtc::sdpOfferCb)stackId='+stackId+'-received sdpOffer: '+(0,_stringify2.default)(data));pc.setRemoteDescription(new myRTCSessionDescription(data),function(){pc.createAnswer(function(description){console.log('(ReachSDK::webrtc::sdpOfferCb)stackId='+stackId+'-sending answer');pc.setLocalDescription(description,function(){console.debug('(ReachSDK::webrtc::sdpOfferCb)stackId='+stackId+'-set sdpAnswer in base : '+(0,_stringify2.default)(description));localDataRef.child('sdpAnswer').set(JSON.parse((0,_stringify2.default)(description)));startListeningToRemoteIceCandidate();},onError);},onError,subscriberMediaConstraints);},onError);remoteDataRef.off('child_added',_sdpOfferCb);}};remoteDataRef.on('child_added',_sdpOfferCb);}}function _closeSdpCallbacks(){if(_sdpAnswerCb){remoteDataRef.off('child_added',_sdpAnswerCb);_sdpAnswerCb=null;}if(_sdpOfferCb){remoteDataRef.off('child_added',_sdpOfferCb);_sdpOfferCb=null;}}function sendOffer(){console.log('(webrtc::sendOffer)stackid='+stackId+'-creating sdpOffer');pc.createOffer(function(description){pc.setLocalDescription(description,function(){console.debug('(ReachSDK::webrtc::createOffer)stackId='+stackId+'-set sdpOffer in base : '+(0,_stringify2.default)(description));localDataRef.child('sdpOffer').set(JSON.parse((0,_stringify2.default)(description)));},onError);},onError,publisherMediaConstraints);}function _close(callback){if(!closeInProgress&&!isClosed){closeInProgress=true;onCloseCb2=callback;console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closing webrtc stack');if(pc){pc.close();}if(remotedatarefCb){remoteDataRef.off('child_added',remotedatarefCb);remotedatarefCb=null;}if(iceCandidatesListCb){stopListeningToRemoteIceCandidate();iceCandidatesListCb=null;}_closeSdpCallbacks();for(var i=0;i<localStreams.length;i++){if(localStreams[i]){detachMediaStream(localStreams[i]);console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-stopping local video to '+localStreams[i].id);}}for(var j=0;j<remoteStreams.length;j++){if(remoteStreams[j]){detachMediaStream(remoteStreams[j]);console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-stopping remote vid to '+remoteStreams[j].id);}}isClosed=true;console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closing webrtc stack -> waiting for ICE_CONNECTION_STATE_DISCONNECTED');if(isClosed&&(iceConnectionState===ICE_CONNECTION_STATE_DISCONNECTED||iceConnectionState===ICE_CONNECTION_STATE_CLOSED||iceConnectionState===ICE_CONNECTION_STATE_FAILED)){console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closed webrtc stack complete');pc=null;closeInProgress=false;webrtcmngr.clearWebrtcStacks(webrtcStackId);if(onCloseCb2&&typeof onCloseCb2=='function'){onCloseCb2();}}}else {console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closing webrtc stack already in progress');}}function _connectLocalStream(videoElt,getStreamCb){if(actionType){if(actionType===_actions2.default.ACTION_TYPE_VIDEO){_localstream2.default.connectLocalVideoStream(videoElt,getStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO){_localstream2.default.connectLocalAudioStream(videoElt,getStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){_localstream2.default.connectLocalAudioVideoStream(videoElt,getStreamCb);}}}function _connectRemoteStream(videoElt,getStreamCb){if(videoElt){if(receivedStream){attachMediaStream(videoElt,receivedStream);if(getStreamCb&&typeof getStreamCb=='function'){getStreamCb(receivedStream);}}else {remoteStreams.push(videoElt);if(getStreamCb&&typeof getStreamCb=='function'){remoteStreamsCb.push(getStreamCb);}}}else {if(receivedStream){if(getStreamCb&&typeof getStreamCb=='function'){getStreamCb(receivedStream);}}else {if(getStreamCb&&typeof getStreamCb=='function'){remoteStreamsCb.push(getStreamCb);}}}}function init_pc(){console.log('(ReachSDK::webrtc::init_pc)stackId='+stackId+'_config=',(0,_stringify2.default)(config));pc=new myPeerConnection(config,optional);pc.onicecandidate=function(e){if(e.candidate){console.log('(ReachSDK::webrtc::pc.onicecandidate)stackId='+stackId+' send ice candidate='+(0,_stringify2.default)(e.candidate));localDataRef.child('iceCandidatesList').push({label:e.candidate.sdpMLineIndex,id:e.candidate.sdpMid,candidate:e.candidate.candidate});}};pc.onaddstream=function(e){console.debug('(ReachSDK::webrtc::onaddstream)stackId='+stackId+'-stream:'+(0,_stringify2.default)(e.stream));if(e&&e.stream){receivedStream=e.stream;if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}}};pc.oniceconnectionstatechange=function(){if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_CHECKING){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-checking');iceConnectionState=ICE_CONNECTION_STATE_CHECKING;}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_CONNECTED){iceConnectionState=ICE_CONNECTION_STATE_CONNECTED;console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-connected');if(receivedStream){remoteStreams.forEach(function(remoteStream){if(remoteStream){console.debug('(ReachSDK::webrtc::onaddstream)pc.onaddstream stackId='+stackId+'-rendering remote vid to '+remoteStream.id);attachMediaStream(remoteStream,receivedStream);}});remoteStreamsCb.forEach(function(remoteStreamCb){if(remoteStreamCb){remoteStreamCb(receivedStream);}});remoteStreamsCb=[];}stopListeningToRemoteIceCandidate();}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_COMPLETED){iceConnectionState=ICE_CONNECTION_STATE_COMPLETED;console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-'+ICE_CONNECTION_STATE_COMPLETED);stopListeningToRemoteIceCandidate();}if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_DISCONNECTED){iceConnectionState=ICE_CONNECTION_STATE_DISCONNECTED;console.log('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-remote disconnection, closing peer connection');_close();}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_CLOSED){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-closed');iceConnectionState=ICE_CONNECTION_STATE_CLOSED;_close();}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_FAILED){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-failed');iceConnectionState=ICE_CONNECTION_STATE_FAILED;_close();}else {if(pc){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-'+pc.iceConnectionState);}else {console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-pc = null');}iceConnectionState=ICE_CONNECTION_STATE_OTHER;}if(isClosed&&(iceConnectionState===ICE_CONNECTION_STATE_DISCONNECTED||iceConnectionState===ICE_CONNECTION_STATE_CLOSED||iceConnectionState===ICE_CONNECTION_STATE_FAILED)){console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closed webrtc stack complete');pc=null;closeInProgress=false;webrtcmngr.clearWebrtcStacks(webrtcStackId);if(onCloseCb&&typeof onCloseCb=='function'){onCloseCb();}if(onCloseCb2&&typeof onCloseCb2=='function'){onCloseCb2();}}};iceCandidatesListCb=function iceCandidatesListCb(snapshot){var data=snapshot.val(),candidate=new myRTCIceCandidate({sdpMLineIndex:data.label,candidate:data.candidate,sdpMid:data.id});console.log('(ReachSDK::webrtc::iceCandidatesListCb)stackId='+stackId+'received ice candidate='+(0,_stringify2.default)(candidate));pc.addIceCandidate(candidate);};if(isPublish){_initlocalStream(function(){_initSdpCallbacks();sendOffer();});}else {_initSdpCallbacks();}}(function(){console.log('(ReachSDK::webrtc::init)stackId='+stackId);if(typeof RTCPeerConnection==='function'){myPeerConnection=RTCPeerConnection;}else {console.error('(ReachSDK::webrtc::init)stackId='+stackId+' error=Webrtc is not supported on this browser !');throw new Error('Webrtc is not supported on this browser !');}if(typeof RTCSessionDescription==='function'){myRTCSessionDescription=RTCSessionDescription;}else {console.error('(ReachSDK::webrtc::init)stackId='+stackId+' error2=Webrtc is not supported on this browser !');throw new Error('Webrtc is not supported on this browser !');}if(typeof RTCIceCandidate==='function'){myRTCIceCandidate=RTCIceCandidate;}else {console.error('(ReachSDK::webrtc::init)stackId='+stackId+' error3=Webrtc is not supported on this browser !');throw new Error('Webrtc is not supported on this browser !');}if(p_muteAudio){isAudioMute=true;}if(p_muteVideo){isVideoMute=true;}getIceServersConfigFromServer(function(_config){config=_config;console.log('(ReachSDK::webrtc::) use server config=',(0,_stringify2.default)(config));init_pc();},function(){if(typeof DEFAULT_ICE_CONFIG!=='undefined'){config=DEFAULT_ICE_CONFIG;console.log('(ReachSDK::webrtc::) use DEFAULT_ICE_CONFIG config=',(0,_stringify2.default)(config));}else {console.log('(ReachSDK::webrtc::) no ice  config');}init_pc();});})();return {setOnClose:function setOnClose(cb){onCloseCb=cb;},close:function close(cb){console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-close requested');_close(cb);},connectLocalStream:_connectLocalStream,connectRemoteStream:_connectRemoteStream,muteAudio:_muteAudio,unmuteAudio:_unmuteAudio,muteVideo:_muteVideo,unmuteVideo:_unmuteVideo};};exports.default=webrtc;

/***/ }
/******/ ])
});
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCBjOGM5MTUxNjA2NmVmMDdkOWM1MiIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmpzIiwid2VicGFjazovLy8uL3NyYy9hZGFwdGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9hY3Rpb25zLmpzIiwid2VicGFjazovLy8uL3NyYy9kYXRhcmVmcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvcmVhY2guanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLnRvLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmRlZmluZWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5vYmplY3Qtc2FwLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZXhwb3J0LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuY29yZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmN0eC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmEtZnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5mYWlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9yb29tLmpzIiwid2VicGFjazovLy8uL3NyYy9sb2NhbHN0cmVhbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2VicnRjbW5nci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvd2VicnRjLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNELE87QUNW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QVcsQ0FBRSxDQUNoQixXQUFXLENBQUcsSUFBSSxDQUFDLENBRXBCLEdBQUksV0FBVyxDQUFFLENBQ2hCLFdBQVcsQ0FBRyxJQUFJLENBQUMsQ0FHcEIsNkJBQTZCLENBQUMsU0FBQyxPQUFPLENBQUssQ0FDMUMsTUFBTSxDQUFHLE9BQU8sQ0FDaEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5Q0FBeUMsQ0FBRSx3QkFBZSxNQUFNLENBQUMsQ0FBQyxDQUM5RSxPQUFPLEVBQUUsQ0FBQyxDQUNWLENBQUUsVUFBTSxDQUNSLEdBQUksT0FBTyxrQkFBa0IsR0FBSyxXQUFXLENBQUUsQ0FDOUMsTUFBTSxDQUFHLGtCQUFrQixDQUMzQixPQUFPLENBQUMsR0FBRyxDQUFDLHFEQUFxRCxDQUFFLHdCQUFlLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FDM0YsS0FBTSxDQUNOLE9BQU8sQ0FBQyxHQUFHLENBQUMscUNBQXFDLENBQUMsQ0FBQyxDQUVwRCxPQUFPLEVBQUUsQ0FBQyxDQUNWLENBQUMsQ0FBQyxDQUVILEdBQUcsQ0FJSixPQUFPLENBTU4sVUFBVSxDQUFFLG9CQUFDLEVBQUUsQ0FBSyxDQUNuQixTQUFTLENBQUcsRUFBRSxDQUFDLENBQ2YsQ0FLRCxLQUFLLENBQUUsZUFBQyxFQUFFLENBQUssQ0FDZCxPQUFPLENBQUMsS0FBSyxzQ0FBc0MsT0FBTyxvQkFBbUIsQ0FDN0UsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQ1gsQ0FPRCxrQkFBa0IsQ0FBRSxtQkFBbUIsQ0FNdkMsbUJBQW1CLENBQUUsb0JBQW9CLENBSXpDLFNBQVMsQ0FBRSxVQUFVLENBSXJCLFdBQVcsQ0FBRSxZQUFZLENBSXpCLFNBQVMsQ0FBRSxVQUFVLENBSXJCLFdBQVcsQ0FBRSxZQUFZLENBQ3pCLENBQUMsQ0FDRixDQTU0QndELGdCQTg0QjFDLE1BQU0sQyIsImZpbGUiOiJyZWFjaC1kZWJ1Zy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlJlYWNoXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlJlYWNoXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uXG4gKiovIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCBjOGM5MTUxNjA2NmVmMDdkOWM1MlxuICoqLyIsIi8vIFBvbHlmaWxscyBmb3IgV2ViUlRDXG5cblxuLy8gVE9ETyAxOWsgbWluaWZpZWQsIHdlIGNhbiBkbyBsZXNzIG1heWJlXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6MCAqL1xuaW1wb3J0IGFkYXB0ZXJqcyBmcm9tICcuL2FkYXB0ZXInO1xuXG5pbXBvcnQgYWN0aW9ucyBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IGRhdGFyZWZzIGZyb20gJy4vZGF0YXJlZnMnO1xuaW1wb3J0IHJlYWNoIGZyb20gJy4vcmVhY2gnO1xuaW1wb3J0IHJvb20gZnJvbSAnLi9yb29tJztcbmltcG9ydCB3ZWJydGNtbmdyIGZyb20gJy4vd2VicnRjbW5ncic7XG5cbmV4cG9ydCBjbGFzcyBSZWFjaCB7XG5cdGNvbnN0cnVjdG9yKHVybD0gJ2h0dHA6Ly93ZWJjb20ub3JhbmdlLmNvbS9iYXNlL3dlYnJ0YycpIHtcblx0XHR0aGlzLmRhdGFyZWZzID0gZGF0YXJlZnModXJsKTtcblx0XHR0aGlzLndlYnJ0Y21uZ3IgPSB3ZWJydGNtbmdyKHRoaXMuZGF0YXJlZnMpO1xuXHR9XG5cblx0Um9vbSguLi5hcmdzKSB7XG5cdFx0cmV0dXJuIHJvb20oLi4uYXJncywgdGhpcy5kYXRhcmVmcywgdGhpcy53ZWJydGNtbmdyKTtcblx0fVxuXG5cdFJlYWNoKC4uLmFyZ3MpIHtcblx0XHRyZXR1cm4gcmVhY2goLi4uYXJncywgdGhpcy5kYXRhcmVmcyk7XG5cdH1cblxuXHRzdGF0aWMgZ2V0IHZlcnNpb24oKSB7XG5cdFx0cmV0dXJuIFNES19WRVJTSU9OOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cdH1cblx0c3RhdGljIGdldCBhY3Rpb25zKCkge1xuXHRcdHJldHVybiBhY3Rpb25zO1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gUmVhY2g7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvaW5kZXguanNcbiAqKi8iLCJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gZnVuY3Rpb24gKGluc3RhbmNlLCBDb25zdHJ1Y3Rvcikge1xuICBpZiAoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gIH1cbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrLmpzXG4gKiogbW9kdWxlIGlkID0gMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpO1xuXG52YXIgX2RlZmluZVByb3BlcnR5MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQoX2RlZmluZVByb3BlcnR5KTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZXhwb3J0cy5kZWZhdWx0ID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSkoKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanNcbiAqKiBtb2R1bGUgaWQgPSAyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyICQgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoaXQsIGtleSwgZGVzYyl7XG4gIHJldHVybiAkLnNldERlc2MoaXQsIGtleSwgZGVzYyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciAkT2JqZWN0ID0gT2JqZWN0O1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNyZWF0ZTogICAgICRPYmplY3QuY3JlYXRlLFxuICBnZXRQcm90bzogICAkT2JqZWN0LmdldFByb3RvdHlwZU9mLFxuICBpc0VudW06ICAgICB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZSxcbiAgZ2V0RGVzYzogICAgJE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIHNldERlc2M6ICAgICRPYmplY3QuZGVmaW5lUHJvcGVydHksXG4gIHNldERlc2NzOiAgICRPYmplY3QuZGVmaW5lUHJvcGVydGllcyxcbiAgZ2V0S2V5czogICAgJE9iamVjdC5rZXlzLFxuICBnZXROYW1lczogICAkT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMsXG4gIGdldFN5bWJvbHM6ICRPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzLFxuICBlYWNoOiAgICAgICBbXS5mb3JFYWNoXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmpzXG4gKiogbW9kdWxlIGlkID0gNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLypcbiAqICMlTFxuICogV2ViY29tIHNlcnZpY2VcbiAqXG4gKiBNb2R1bGUgbmFtZTogY29tLm9yYW5nZS53ZWJydGM6d2ViY29tLXNlcnZpY2VcbiAqIFZlcnNpb246ICAgICAwLjAuMS1TTkFQU0hPVFxuICogQ3JlYXRlZDogICAgIDIwMTQtMDQtMDFcbiAqICUlXG4gKiBDb3B5cmlnaHQgKEMpIDIwMTMgLSAyMDE1IE9yYW5nZSBMYWJzXG4gKiAlJVxuICogVGhpcyBzb2Z0d2FyZSBpcyBjb25maWRlbnRpYWwgYW5kIHByb3ByaWV0YXJ5IGluZm9ybWF0aW9uIG9mIE9yYW5nZS5cbiAqIFlvdSBzaGFsbCBub3QgZGlzY2xvc2Ugc3VjaCBDb25maWRlbnRpYWwgSW5mb3JtYXRpb24gYW5kIHNoYWxsIHVzZSBpdCBvbmx5IGluXG4gKiBhY2NvcmRhbmNlIHdpdGggdGhlIHRlcm1zIG9mIHRoZSBhZ3JlZW1lbnQgeW91IGVudGVyZWQgaW50by5cbiAqIFVuYXV0aG9yaXplZCBjb3B5aW5nIG9mIHRoaXMgZmlsZSwgdmlhIGFueSBtZWRpdW0gaXMgc3RyaWN0bHkgcHJvaGliaXRlZC5cbiAqXG4gKiBJZiB5b3UgYXJlIE9yYW5nZSBlbXBsb3llZSB5b3Ugc2hhbGwgdXNlIHRoaXMgc29mdHdhcmUgaW4gYWNjb3JkYW5jZSB3aXRoXG4gKiB0aGUgT3JhbmdlIFNvdXJjZSBDaGFydGVyIChodHRwOi8vb3BlbnNvdXJjZS5pdG4uZnRncm91cC9pbmRleC5waHAvT3JhbmdlX1NvdXJjZSkuXG4gKiAjTCVcbiAqL1xuXG5cbi8qIGdsb2JhbCBNZWRpYVN0cmVhbSwgd2Via2l0UlRDUGVlckNvbm5lY3Rpb24sIG1velJUQ1BlZXJDb25uZWN0aW9uLCBtb3pSVENJY2VDYW5kaWRhdGUsIG1velJUQ1Nlc3Npb25EZXNjcmlwdGlvbiAqL1xuXG4vKipcbiAqIEBmaWxlIGFkYXB0LmpzIC0gSlMgZmlsZSB0byB1c2Ugc28gYXMgdG8gZ2V0IHNvbWUgYWRhcHRlZCBtZXRob2RzXG4gKiBAZGVzY3JpcHRpb24gVGhpcyBmaWxlIHByb3ZpZGVzIG1ldGhvZHMgdG8gaGFuZGxlIElDRSBzZXJ2ZXJzLCB1c2VyIG1lZGlhcyBvciBSVEMgUGVlciBDb25uZWN0aW9uIGZvciBleGFtcGxlLiBNZWRpYSBzdHJlYW1cbiAqIG1ldGhvZHMgYXJlIGFsc28gcHJvdmlkZWQgc28gYXMgdG8gYXR0YWNoLCBycmVhdHRhY2ggb3IgcmVtb3ZlIGV4aXN0aW5nIHN0cmVhbXMuXG4gKiBAYXV0aG9yIFdlYmNvbVxuICogQGNvcHlyaWdodCBPcmFuZ2UgTGFicyAoQykgMjAxMyAtIDIwMTRcbiAqIEBsaWNlbmNlIE9yYW5nZVxuICpcbiAqIFZlcnNpb24gZG9jIDogMS4zLjBcbiAqL1xuXG5cbi8qICoqKioqKioqKiAqXG4gKiBWYXJpYWJsZXMgKlxuICogKioqKioqKioqICovXG5cbi8qKlxuICogQGRlc2NyaXB0aW9uIFRoZSBSVEMgUGVlciBDb25uZWN0aW9uIHRvIHVzZS4gVGhpcyBvYmplY3QgcHJvdmlkZXMgdGhlIGNoYW5uZWxzIHRvIHVzZVxuICogdG8gZXN0YWJsaXNoIHRoZSBjb21tdW5pY2F0aW9uIGFuZCBzZW5kIGRhdGEgYmV0d2VlbiBwYXJ0aWNpcGFudHMuIFRoaXMgb2JqZWN0XG4gKiBpcyBhdmFpbGFibGUgb25seSBvbiB1cCB0byBkYXRlIHdlYiBicm93c2VycyAoQ2hyb21lIDMxLCBGaXJlZm94IDM1LCBPcGVyYSAyNykuXG4gKi9cbndpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiA9IG51bGw7XG4vKipcbiAqIEBkZXNjcmlwdGlvbiBUaGUgdXNlciBtZWRpYSBwaWNrZWQgZnJvbSB0aGUgd2ViIGJyb3dzZXIgY29udGFpbmluZyB0aGUgdmlkZW8gYW5kIGF1ZGlvIHN0cmVhbXMgZ290dGVuIGZyb20gdGhlXG4gKiB3ZWJjYW1zIGFuZCBtaWNyb3Bob25lcy4gVGhpcyBtZWRpYSByZXRyaWV2bWVudCBpcyBhdmFpbGFibGUgb25seSBmb3IgbW9kZXJuIHdlYiBicm93c2VycyBzaW5jZSBGaXJlZm94IDE3LCBDaHJvbWUgMjEgb3IgT3BlcmEgMTguXG4gKi9cbndpbmRvdy5nZXRVc2VyTWVkaWEgPSBudWxsO1xuLypcbiAqIEBkZXNjcmlwdGlvbiBGdW5jdGlvbiB0byB1c2UgdG8gYXR0YWNoIHRoZSBtZWRpYSBzdHJlYW0gd2hpY2ggd2lsbCBiZSBpbnRlZ3JhdGVkIHRvIGFuIEhUTUwgb2JqZWN0IGFzIGEgdmlkZW8uXG4gKi9cbndpbmRvdy5hdHRhY2hNZWRpYVN0cmVhbSA9IG51bGw7XG4vKlxuICogQGRlc2NyaXB0aW9uIEZ1bmN0aW9uIHRvIHVzZSB0byByZWF0dGFjaCB0aGUgbWVkaWEgc3RyZWFtXG4gKi9cbndpbmRvdy5yZWF0dGFjaE1lZGlhU3RyZWFtID0gbnVsbDtcbi8qKlxuICogQGRlc2NyaXB0aW9uIFRoZSBkZXRlY3RlZCBicm93c2VyIHN1cG9ydGluZyBXZWJSVEMgKEZpcmVmb3ggb3IgQ2hyb21lKVxuICovXG53aW5kb3cud2VicnRjRGV0ZWN0ZWRCcm93c2VyID0gbnVsbDtcbi8qKlxuICogQGRlc2NyaXB0aW9uIFRoZSBkZXRlY3RlZCB2ZXJzaW9uIG9mIHRoZSBXZWJSVEMgY2FwYWJsZSBkZXRlY3RlZCBicm93ZXIuIFRoaXMgdmVyc2lvbiB3aWxsIGJlIHVzZWQgdG8gbWFuYWdlIG5ldHdvcmtzIGFzcGVjdHMgbGlrZSBUVVJOLlxuICovXG53aW5kb3cud2VicnRjRGV0ZWN0ZWRWZXJzaW9uID0gbnVsbDtcblxuLyoqXG4gKiBGaXggaWNlIHNlcnZlciBjb25maWcgb2JqZWN0XG4gKiBAcGFyYW0gaWNlU2VydmVyXG4gKi9cbmZ1bmN0aW9uIGZpeEljZVNlcnZlcihpY2VTZXJ2ZXIpIHtcblx0aWYgKGljZVNlcnZlci5oYXNPd25Qcm9wZXJ0eSgndXJscycpKSB7XG5cdFx0aWNlU2VydmVyLnVybCA9IGljZVNlcnZlci51cmxzO1xuXHRcdGRlbGV0ZSBpY2VTZXJ2ZXIudXJscztcblx0fVxuXHRpZiAoaWNlU2VydmVyLmhhc093blByb3BlcnR5KCd1cmwnKSAmJlxuXHRcdGljZVNlcnZlci51cmwudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKCd0dXJucycpICYmXG5cdFx0bmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSkge1xuXHRcdGNvbnNvbGUud2FybignKFJlYWNoU0RLOjptYXliZUZpeENvbmZpZ3VyYXRpb24pICcgK1xuXHRcdCd0dXJucyBkZXRlY3RlZCBvbiBmaXJlZm94IC0+IGlnbm9yZSB0aGlzIGVudHJ5Jyk7XG5cdH1cbn1cblxuLyoqXG4gKiBGaXggcGVlciBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gaXNzdWVzIGlmIG5lZWRlZCwgc3BlY2lhbGx5IGFib3V0IElDRSBzZXJ2ZXJzXG4gKiBAcGFyYW0gcGNDb25maWcgLSBUaGUgcGVlciBjb25uZWN0aW9uIGNvbmZpZ3VyYXRpb24gdG8gZml4IGlmIG5vdCBudWxsXG4gKi9cbmZ1bmN0aW9uIG1heWJlRml4Q29uZmlndXJhdGlvbihwY0NvbmZpZykge1xuXHRpZiAocGNDb25maWcgPT09IG51bGwpIHtcblx0XHRyZXR1cm47XG5cdH1cblxuXHRpZiAocGNDb25maWcuaWNlU2VydmVycyAmJiBwY0NvbmZpZy5pY2VTZXJ2ZXJzLmxlbmd0aCA+IDApIHtcblx0XHRjb25zdCBtVGVtcHNTZXJ2ZXJzID0gW107XG5cdFx0Zm9yIChsZXQgaSA9IHBjQ29uZmlnLmljZVNlcnZlcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdGNvbnN0IGljZVNlcnZlciA9IHBjQ29uZmlnLmljZVNlcnZlcnNbaV07XG5cdFx0XHRmaXhJY2VTZXJ2ZXIoaWNlU2VydmVyKTtcblx0XHRcdG1UZW1wc1NlcnZlcnMucHVzaChpY2VTZXJ2ZXIpO1xuXHRcdH1cblx0XHRwY0NvbmZpZy5pY2VTZXJ2ZXJzID0gbVRlbXBzU2VydmVycztcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgdHVybiBjb25maWcgb2JqZWN0XG4gKiBAcGFyYW0ge1N0cmluZ30gdXJsXG4gKiBAcGFyYW0ge1N0cmluZ30gdXNlcm5hbWVcbiAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzd29yZFxuICogQHBhcmFtIHtCb29sZWFufSBsZWdhY3lcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVR1cm5TZXJ2ZXJDb25maWcodXJsLCB1c2VybmFtZSwgcGFzc3dvcmQsIGxlZ2FjeT0gZmFsc2UpIHtcblx0bGV0IGljZVNlcnZlcjtcblxuXHRpZiAobGVnYWN5KSB7XG5cdFx0Ly8gQ3JlYXRlIGljZVNlcnZlciB3aXRoIHR1cm4gdXJsLlxuXHRcdC8vIElnbm9yZSB0aGUgdHJhbnNwb3J0IHBhcmFtZXRlciBmcm9tIFRVUk4gdXJsIGZvciBGRiB2ZXJzaW9uIDw9MjcuXG5cdFx0Y29uc3QgdHVybl91cmxfcGFydHMgPSB1cmwuc3BsaXQoJz8nKTtcblx0XHQvLyBSZXR1cm4gbnVsbCBmb3IgY3JlYXRlSWNlU2VydmVyIGlmIHRyYW5zcG9ydD10Y3AuXG5cdFx0aWYgKHR1cm5fdXJsX3BhcnRzLmxlbmd0aCA9PT0gMSB8fFxuXHRcdFx0dHVybl91cmxfcGFydHNbMV0uaW5kZXhPZigndHJhbnNwb3J0PXVkcCcpID09PSAwKSB7XG5cdFx0XHRpY2VTZXJ2ZXIgPSB7XG5cdFx0XHRcdHVybDogdHVybl91cmxfcGFydHNbMF0sXG5cdFx0XHRcdCdjcmVkZW50aWFsJzogcGFzc3dvcmQsXG5cdFx0XHRcdHVzZXJuYW1lXG5cdFx0XHR9O1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHQvLyBGRiAyNyBhbmQgYWJvdmUgc3VwcG9ydHMgdHJhbnNwb3J0IHBhcmFtZXRlcnMgaW4gVFVSTiB1cmwsXG5cdFx0Ly8gU28gcGFzc2luZyBpbiB0aGUgZnVsbCB1cmwgdG8gY3JlYXRlIGljZVNlcnZlci5cblx0XHRpY2VTZXJ2ZXIgPSB7XG5cdFx0XHR1cmwsXG5cdFx0XHRjcmVkZW50aWFsOiBwYXNzd29yZCxcblx0XHRcdHVzZXJuYW1lXG5cdFx0fTtcblx0fVxuXG5cdHJldHVybiBpY2VTZXJ2ZXI7XG59XG5cblxuLyogKioqKioqKioqICpcbiAqIFNjcmlwdGluZyAqXG4gKiAqKioqKioqKiogKi9cblxuLypcbiAqIElmIHRoZSB3ZWIgYnJvd3NlciBpbiB1c2UgaXMgRmlyZWZveFxuICovXG5pZiAobmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYSkge1xuXHR3aW5kb3cud2VicnRjRGV0ZWN0ZWRCcm93c2VyID0gJ2ZpcmVmb3gnO1xuXG5cdHdpbmRvdy53ZWJydGNEZXRlY3RlZFZlcnNpb24gPVxuXHRcdHBhcnNlSW50KG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0ZpcmVmb3hcXC8oWzAtOV0rKVxcLi8pWzFdLCAxMCk7XG5cblx0LyoqXG5cdCAqIFRoZSBSVENQZWVyQ29ubmVjdGlvbiBvYmpldCBiYXNlZCBvbiBtb3praXQuXG5cdCAqIElmIG5lZWRlZCwgdGhlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIHBlZXIgY29ubmVjdGlvbiB3aWxsIGJlIGZpeGVkLlxuXHQgKiBAcGFyYW0gcGNDb25maWcgLSBUaGUgcGVlciBjb25uZWN0aW9uIGNvbmZpZ1xuXHQgKiBAcGFyYW0gcGNDb25zdHJhaW50cyAtIFRoZSBwZWVyIGNvbm5lY3Rpb24gY29uc3RyYWludHNcblx0ICovXG5cdHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiA9IGZ1bmN0aW9uIChwY0NvbmZpZywgcGNDb25zdHJhaW50cykge1xuXHRcdC8vIC51cmxzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gRkYgeWV0LlxuXHRcdG1heWJlRml4Q29uZmlndXJhdGlvbihwY0NvbmZpZyk7XG5cdFx0cmV0dXJuIG5ldyBtb3pSVENQZWVyQ29ubmVjdGlvbihwY0NvbmZpZywgcGNDb25zdHJhaW50cyk7XG5cdH07XG5cblx0Ly8gVGhlIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiBvYmplY3QuXG5cdHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24gPSBtb3pSVENTZXNzaW9uRGVzY3JpcHRpb247XG5cblx0Ly8gVGhlIFJUQ0ljZUNhbmRpZGF0ZSBvYmplY3QuXG5cdHdpbmRvdy5SVENJY2VDYW5kaWRhdGUgPSBtb3pSVENJY2VDYW5kaWRhdGU7XG5cblx0Ly8gR2V0IFVzZXJNZWRpYSAob25seSBkaWZmZXJlbmNlIGlzIHRoZSBwcmVmaXgpLlxuXHR3aW5kb3cuZ2V0VXNlck1lZGlhID0gbmF2aWdhdG9yLm1vekdldFVzZXJNZWRpYS5iaW5kKG5hdmlnYXRvcik7XG5cdG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgPSBnZXRVc2VyTWVkaWE7XG5cblxuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIHRoZSBJQ0Ugc2VydmVyIGZvciB0aGUgVVJMIGZvciBGaXJlZm94LlxuXHQgKiBUaGUgU1RVTiBhbmQgVFVSTiBzZXJ2ZXJzIHdpbGwgYmUgY29uc2lkZXJlZC4gSW4gY2FzZSBvZiBhIFRVUk4gc2VydmVyIGlzIGluIHVzZSwgY3JlZGVudGlhbHMgYW5kIHVzZXJuYW1lcyB3aWxsIGJlIGdvdC5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIFRoZSB1cmwgdG8gdXNlIHRvIGdldCB0aGUgSUNFIHNlcnZlclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXNlcm5hbWUgLSBUaGUgdXNlcm5hbWVcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBhc3N3b3JkIC0gVGhlIHBhc3N3b3JkXG5cdCAqL1xuXHR3aW5kb3cuY3JlYXRlSWNlU2VydmVyID0gKHVybCwgdXNlcm5hbWUsIHBhc3N3b3JkKSA9PiB7XG5cdFx0bGV0IGljZVNlcnZlciA9IG51bGw7XG5cdFx0Y29uc3QgdXJsX3BhcnRzID0gdXJsLnNwbGl0KCc6Jyk7XG5cdFx0aWYgKHVybF9wYXJ0c1swXS5pbmRleE9mKCdzdHVuJykgPT09IDApIHtcblx0XHRcdC8vIENyZWF0ZSBpY2VTZXJ2ZXIgd2l0aCBzdHVuIHVybC5cblx0XHRcdGljZVNlcnZlciA9IHtcblx0XHRcdFx0dXJsXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSBpZiAodXJsX3BhcnRzWzBdLmluZGV4T2YoJ3R1cm4nKSA9PT0gMCkge1xuXHRcdFx0aWNlU2VydmVyID0gY3JlYXRlVHVyblNlcnZlckNvbmZpZyhcdHVybCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHVzZXJuYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0cGFzc3dvcmQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR3aW5kb3cud2VicnRjRGV0ZWN0ZWRWZXJzaW9uIDwgMjcpO1xuXHRcdH1cblx0XHRyZXR1cm4gaWNlU2VydmVyO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIHRoZSBJQ0Ugc2VydmVycyBmcm9tIHNvbWUgVVJMcy4gVGhlIFNUVU4gYW5kIFRVUk4gc2V2ZXJzIGNvbnN0cmFpbnRzIHdpbGwgYmUgaGFuZGxlZC5cblx0ICogQHBhcmFtIHthcnJheX0gdXJscyAtIFRoZSB1cmxzIHRvIHVzZSB0byBnZXQgdGhlIElDRSBzZXJ2ZXJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHVzZXJuYW1lIC0gVGhlIHVzZXJuYW1lXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwYXNzd29yZCAtIFRoZSBwYXNzd29yZFxuXHQgKi9cblx0d2luZG93LmNyZWF0ZUljZVNlcnZlcnMgPSBmdW5jdGlvbiAodXJscywgdXNlcm5hbWUsIHBhc3N3b3JkKSB7XG5cdFx0Y29uc3QgaWNlU2VydmVycyA9IFtdO1xuXHRcdC8vIFVzZSAudXJsIGZvciBGaXJlRm94LlxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdXJscy5sZW5ndGg7IGkrKykge1xuXHRcdFx0Y29uc3QgaWNlU2VydmVyID0gd2luZG93LmNyZWF0ZUljZVNlcnZlcih1cmxzW2ldLFxuXHRcdFx0XHR1c2VybmFtZSxcblx0XHRcdFx0cGFzc3dvcmQpO1xuXHRcdFx0aWYgKGljZVNlcnZlciAhPT0gbnVsbCkge1xuXHRcdFx0XHRpY2VTZXJ2ZXJzLnB1c2goaWNlU2VydmVyKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIGljZVNlcnZlcnM7XG5cdH07XG5cblx0LyoqXG5cdCAqIERldGFjaCB0aGUgbWVkaWEgc3RyZWFtIGZyb20gdGhlIGVsZW1lbnQuXG5cdCAqIFRoZSBlbGVtZW50IHdpbGwgaGF2ZSBpdHMgc3JjIGNvbnRlbnQgY2hhbmdlZCB0byBudWxsIGFuZCB3aWxsIGJlIHBhdXNlZC5cblx0ICogQHBhcmFtIHt2aWRlbyB0YWd9IGVsZW1lbnQgLSBUaGUgdmlkZW8gdGFnIHdoZXJlIHRoZSBzdHJlYW0gaXMgZGlzcGxheWVkXG5cdCAqL1xuXHR3aW5kb3cuZGV0YWNoTWVkaWFTdHJlYW0gPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuXHRcdGlmIChlbGVtZW50KSB7XG5cdFx0XHRlbGVtZW50Lm1velNyY09iamVjdCA9IG51bGw7XG5cdFx0XHRlbGVtZW50LnBhdXNlKCk7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBBdHRhY2ggYSBtZWRpYSBzdHJlYW0gdG8gYW4gZWxlbWVudC5cblx0ICogVGhlIHNyYyBhdHRyaWJ1dGUgb2YgdGhlIGVsZW1lbnQgd2lsbCBiZSBkZWZpbmVkIHdpdGggdGhlIHN0cmVhbSBhbmQgd2lsbCBiZSBwbGF5ZWQuXG5cdCAqIEBwYXJhbSB7dmlkZW8gdGFnfSBlbGVtZW50IC0gVGhlIHZpZGVvIHRhZyB3aGVyZSB0aGUgc3RyZWFtIGlzIGRpc3BsYXllZFxuXHQgKiBAcGFyYW0gc3RyZWFtIC0gVGhlIHN0cmVhbSB0byBhdHRhY2ggdG8gdGhlIGVsZW1lbnRcblx0ICovXG5cdHdpbmRvdy5hdHRhY2hNZWRpYVN0cmVhbSA9IGZ1bmN0aW9uIChlbGVtZW50LCBzdHJlYW0pIHtcblx0XHR0cnkge1xuXHRcdFx0aWYgKGVsZW1lbnQgJiYgc3RyZWFtKSB7XG5cdFx0XHRcdGVsZW1lbnQubW96U3JjT2JqZWN0ID0gc3RyZWFtO1xuXHRcdFx0XHRpZiAoZWxlbWVudC5wbGF5ICYmIHR5cGVvZiBlbGVtZW50LnBsYXkgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGVsZW1lbnQucGxheSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUud2FybignKFJlYWNoU0RLOjphdHRhY2hNZWRpYVN0cmVhbSllbGVtZW50LnBsYXkgbm90IGF2YWlsYWJsZScpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKCdSZWFjaFNESzo6YXR0YWNoTWVkaWFTdHJlYW0tPnBhcmFtZXRlcnMgbm90IHZhbGlkJyk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjphdHRhY2hNZWRpYVN0cmVhbSlFeGNlcHRpb249JHtlfWApO1xuXHRcdH1cblxuXG5cdH07XG5cblx0LyoqXG5cdCAqIEF0dGFjaCBhZ2FpbiBhIG1lZGlhIHN0cmVhbSB0byBhbiBlbGVtZW50LlxuXHQgKiBUaGUgXCJmcm9tXCIgZWxlbWVudCB3aWxsIGhhdmUgaXRzIHNyYyB2YWx1ZSBjb3BpZWQgdG8gdGhlIFwidG9cIiBvYmplY3QgYmVmb3JlIHBsYXlpbmcgaXQuXG5cdCAqIEBwYXJhbSB7dmlkZW8gdGFnfSB0byAtIFRoZSB2aWRlbyB0YWcgd2hlcmUgdGhlIHN0cmVhbSBzaG91bGQgYmUgcHV0XG5cdCAqIEBwYXJhbSB7dmlkZW8gdGFnfSBmcm9tIC0gVGhlIHZpZGVvIHRhZyB3aGVyZSB0aGUgc3RyZWFtIHNob3VsZCBiZSB0YWtlblxuXHQgKi9cblx0d2luZG93LnJlYXR0YWNoTWVkaWFTdHJlYW0gPSBmdW5jdGlvbiAodG8sIGZyb20pIHtcblx0XHRpZiAodG8gJiYgZnJvbSkge1xuXHRcdFx0dG8ubW96U3JjT2JqZWN0ID0gZnJvbS5tb3pTcmNPYmplY3Q7XG5cdFx0XHR0by5wbGF5KCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJ1JlYWNoU0RLOjpyZWF0dGFjaE1lZGlhU3RyZWFtLT5wYXJhbWV0ZXJzIG5vdCB2YWxpZCcpO1xuXHRcdH1cblx0fTtcblxuXHQvLyBGYWtlIGdldHtWaWRlbyxBdWRpb31UcmFja3Ncblx0aWYgKCFNZWRpYVN0cmVhbS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3MpIHtcblx0XHRNZWRpYVN0cmVhbS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3MgPSBmdW5jdGlvbiAoKSB7XG5cdFx0XHRyZXR1cm4gW107XG5cdFx0fTtcblx0fVxuXG5cdGlmICghTWVkaWFTdHJlYW0ucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzKSB7XG5cdFx0TWVkaWFTdHJlYW0ucHJvdG90eXBlLmdldEF1ZGlvVHJhY2tzID0gZnVuY3Rpb24gKCkge1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH07XG5cdH1cblxuXHQvKlxuXHQgKiBJZiB0aGUgd2ViIGJyb3dzZXIgaW4gdXNlIGlzIENocm9tZVxuXHQgKi9cbn0gZWxzZSBpZiAobmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSkge1xuXHR3aW5kb3cud2VicnRjRGV0ZWN0ZWRCcm93c2VyID0gJ2Nocm9tZSc7XG5cdHdpbmRvdy53ZWJydGNEZXRlY3RlZFZlcnNpb24gPVxuXHRcdHBhcnNlSW50KG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tKGV8aXVtKVxcLyhbMC05XSspXFwuLylbMl0sIDEwKTtcblxuXHQvKipcblx0ICogQ3JlYXRlcyB0aGUgSUNFIHNlcnZlciBmcm9tIHRoZSBVUkwgYW5kIGhhbmRsZXMgU1RVTiAvIFRVUk4gc2VydmVycyBjb25zdHJhaW50cyBieSByZXRyaWV2aW5nIGNyZWRlbnRpYWxzIGFuZCB1c2VybmFtZXMgaWYgbmVlZGVkLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gVGhlIHVybCB0byB1c2UgdG8gZ2V0IHRoZSBJQ0Ugc2VydmVyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSAtIFRoZSB1c2VybmFtZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgLSBUaGUgcGFzc3dvcmRcblx0ICovXG5cdHdpbmRvdy5jcmVhdGVJY2VTZXJ2ZXIgPSBmdW5jdGlvbiAodXJsLCB1c2VybmFtZSwgcGFzc3dvcmQpIHtcblx0XHRsZXQgaWNlU2VydmVyID0gbnVsbDtcblx0XHRjb25zdCB1cmxfcGFydHMgPSB1cmwuc3BsaXQoJzonKTtcblx0XHRpZiAodXJsX3BhcnRzWzBdLmluZGV4T2YoJ3N0dW4nKSA9PT0gMCkge1xuXHRcdFx0Ly8gQ3JlYXRlIGljZVNlcnZlciB3aXRoIHN0dW4gdXJsLlxuXHRcdFx0aWNlU2VydmVyID0ge1xuXHRcdFx0XHR1cmxcblx0XHRcdH07XG5cdFx0fSBlbHNlIGlmICh1cmxfcGFydHNbMF0uaW5kZXhPZigndHVybicpID09PSAwKSB7XG5cdFx0XHQvLyBDaHJvbWUgTTI4ICYgYWJvdmUgdXNlcyBiZWxvdyBUVVJOIGZvcm1hdC5cblx0XHRcdGljZVNlcnZlciA9IGNyZWF0ZVR1cm5TZXJ2ZXJDb25maWcodXJsLCBwYXNzd29yZCwgdXNlcm5hbWUpO1xuXHRcdH1cblx0XHRyZXR1cm4gaWNlU2VydmVyO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIHRoZSBJQ0Ugc2VydmVycyBmcm9tIHRoZSBVUkwgZm9yIENocm9tZSBNMzQgYW5kIGFib3ZlXG5cdCAqIEBwYXJhbSB7YXJyYXl9IHVybHMgLSBUaGUgdXJscyB0byB1c2UgdG8gZ2V0IHRoZSBJQ0Ugc2VydmVyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSB1c2VybmFtZSAtIFRoZSB1c2VybmFtZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcGFzc3dvcmQgLSBUaGUgcGFzc3dvcmRcblx0ICovXG5cdHdpbmRvdy5jcmVhdGVJY2VTZXJ2ZXJzID0gZnVuY3Rpb24gKHVybHMsIHVzZXJuYW1lLCBwYXNzd29yZCkge1xuXHRcdGxldCBpY2VTZXJ2ZXJzID0gW107XG5cdFx0aWYgKHdpbmRvdy53ZWJydGNEZXRlY3RlZFZlcnNpb24gPj0gMzQpIHtcblx0XHRcdC8vIC51cmxzIGlzIHN1cHBvcnRlZCBzaW5jZSBDaHJvbWUgTTM0LlxuXHRcdFx0aWNlU2VydmVycyA9IHtcblx0XHRcdFx0dXJscyxcblx0XHRcdFx0Y3JlZGVudGlhbDogcGFzc3dvcmQsXG5cdFx0XHRcdHVzZXJuYW1lXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHVybHMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0Y29uc3QgaWNlU2VydmVyID0gd2luZG93LmNyZWF0ZUljZVNlcnZlcih1cmxzW2ldLFxuXHRcdFx0XHRcdHVzZXJuYW1lLFxuXHRcdFx0XHRcdHBhc3N3b3JkKTtcblx0XHRcdFx0aWYgKGljZVNlcnZlciAhPT0gbnVsbCkge1xuXHRcdFx0XHRcdGljZVNlcnZlcnMucHVzaChpY2VTZXJ2ZXIpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBpY2VTZXJ2ZXJzO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBUaGUgUlRDIFBlZXIgQ29ubmVjdGlvbiBvYmplY3QuIElmIG5lZWRlZCwgaXRzIHBlZXIgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uIHdpbGwgYmUgZml4ZWRcblx0ICogQHBhcmFtIHBjQ29uZmlnIC0gVGhlIHBlZXIgY29ubmVjdGlvbiBjb25maWdcblx0ICogQHBhcmFtIHBjQ29uc3RyYWludHMgLSBUaGUgcGVlciBjb25uZWN0aW9uIGNvbnN0cmFpbnRzXG5cdCAqL1xuXHR3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gPSBmdW5jdGlvbiAocGNDb25maWcsIHBjQ29uc3RyYWludHMpIHtcblx0XHQvLyAudXJscyBpcyBzdXBwb3J0ZWQgc2luY2UgQ2hyb21lIE0zNC5cblx0XHRpZiAod2luZG93LndlYnJ0Y0RldGVjdGVkVmVyc2lvbiA8IDM0KSB7XG5cdFx0XHRtYXliZUZpeENvbmZpZ3VyYXRpb24ocGNDb25maWcpO1xuXHRcdH1cblx0XHRyZXR1cm4gbmV3IHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKTtcblx0fTtcblxuXHQvLyBHZXQgVXNlck1lZGlhIChvbmx5IGRpZmZlcmVuY2UgaXMgdGhlIHByZWZpeCkuXG5cdC8vIENvZGUgZnJvbSBBZGFtIEJhcnRoLlxuXHR3aW5kb3cuZ2V0VXNlck1lZGlhID0gbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYS5iaW5kKG5hdmlnYXRvcik7XG5cdG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgPSBnZXRVc2VyTWVkaWE7XG5cbi8vICAvLyBBdHRhY2ggYSBtZWRpYSBzdHJlYW0gdG8gYW4gZWxlbWVudC5cbi8vICBhdHRhY2hNZWRpYVN0cmVhbSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHN0cmVhbSkge1xuLy8gICAgaWYgKHR5cGVvZiBlbGVtZW50LnNyY09iamVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbi8vICAgICAgZWxlbWVudC5zcmNPYmplY3QgPSBzdHJlYW07XG4vLyAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50Lm1velNyY09iamVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbi8vICAgICAgZWxlbWVudC5tb3pTcmNPYmplY3QgPSBzdHJlYW07XG4vLyAgICB9IGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50LnNyYyAhPT0gJ3VuZGVmaW5lZCcpIHtcbi8vICAgICAgZWxlbWVudC5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHN0cmVhbSk7XG4vLyAgICB9IGVsc2Uge1xuLy8gICAgICBjb25zb2xlLmxvZygnRXJyb3IgYXR0YWNoaW5nIHN0cmVhbSB0byBlbGVtZW50LicpO1xuLy8gICAgfVxuLy8gIH07XG5cblx0LyoqXG5cdCAqIEF0dGFjaCBhIG1lZGlhIHN0cmVhbSB0byBhbiBlbGVtZW50LlxuXHQgKiBUaGUgc3JjIGF0dHJpYnV0ZSBvZiB0aGUgZWxlbWVudCB3aWxsIGJlIGRlZmluZWQgd2l0aCB0aGUgc3RyZWFtIGFuZCB3aWxsIGJlIHBsYXllZC5cblx0ICogQHBhcmFtIHt2aWRlbyB0YWd9IGVsZW1lbnQgLSBUaGUgdmlkZW8gdGFnIHdoZXJlIHRoZSBzdHJlYW0gaXMgZGlzcGxheWVkXG5cdCAqIEBwYXJhbSBzdHJlYW0gLSBUaGUgc3RyZWFtIHRvIGF0dGFjaCB0byB0aGUgZWxlbWVudFxuXHQgKi9cblx0d2luZG93LmF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24gKGVsZW1lbnQsIHN0cmVhbSkge1xuXHRcdHRyeSB7XG5cdFx0XHRpZiAoZWxlbWVudCAmJiBzdHJlYW0pIHtcblx0XHRcdFx0Ly8gZWxlbWVudC5zcmMgPSB3ZWJraXRVUkwuY3JlYXRlT2JqZWN0VVJMKHN0cmVhbSk7XG5cdFx0XHRcdGVsZW1lbnQuc3JjID0gVVJMLmNyZWF0ZU9iamVjdFVSTChzdHJlYW0pO1xuXHRcdFx0XHRlbGVtZW50LmF1dG9wbGF5ID0gdHJ1ZTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ1JlYWNoU0RLOjphdHRhY2hNZWRpYVN0cmVhbSAtPnBhcmFtZXRlcnMgbm90IHZhbGlkJyk7XG5cdFx0XHR9XG5cdFx0fSBjYXRjaCAoZSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjphdHRhY2hNZWRpYVN0cmVhbSlFeGNlcHRpb249JHtlfWApO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogRGV0YWNoIHRoZSBtZWRpYSBzdHJlYW0gZnJvbSB0aGUgZWxlbWVudCBieSBhc3NpbmdlZCBudWxsIHZhbHVlIHRvIGl0cyBzcmMgYXR0cmlidXRlLlxuXHQgKiBAcGFyYW0ge3ZpZGVvIHRhZ30gZWxlbWVudCAtIFRoZSB2aWRlbyB0YWcgd2hlcmUgdGhlIHN0cmVhbSBpcyBkaXNwbGF5ZWRcblx0ICovXG5cdHdpbmRvdy5kZXRhY2hNZWRpYVN0cmVhbSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG5cdFx0aWYgKGVsZW1lbnQpIHtcblx0XHRcdGlmICh0eXBlb2YgZWxlbWVudC5zcmNPYmplY3QgIT09ICd1bmRlZmluZWQnKSB7XG5cdFx0XHRcdGVsZW1lbnQuc3JjT2JqZWN0ID0gJyc7XG5cdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBlbGVtZW50Lm1velNyY09iamVjdCAhPT0gJ3VuZGVmaW5lZCcpIHtcblx0XHRcdFx0ZWxlbWVudC5tb3pTcmNPYmplY3QgPSAnJztcblx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQuc3JjICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRlbGVtZW50LnNyYyA9ICcnO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5sb2coJ0Vycm9yIGF0dGFjaGluZyBzdHJlYW0gdG8gZWxlbWVudC4nKTtcblx0XHRcdH1cblx0XHR9XG5cblx0fTtcblxuXHQvKipcblx0ICogQXR0YWNoIGFnYWluIGEgbWVkaWEgc3RyZWFtIHRvIGFuIGVsZW1lbnQuXG5cdCAqIFRoZSBcImZyb21cIiBlbGVtZW50IHdpbGwgaGF2ZSBpdHMgc3JjIHZhbHVlIGNvcGllZCB0byB0aGUgXCJ0b1wiIG9iamVjdCBiZWZvcmUgcGxheWluZyBpdC5cblx0ICogQHBhcmFtIHt2aWRlbyB0YWd9IHRvIC0gVGhlIHZpZGVvIHRhZyB3aGVyZSB0aGUgc3RyZWFtIHNob3VsZCBiZSBwdXRcblx0ICogQHBhcmFtIHt2aWRlbyB0YWd9IGZyb20gLSBUaGUgdmlkZW8gdGFnIHdoZXJlIHRoZSBzdHJlYW0gc2hvdWxkIGJlIHRha2VuXG5cdCAqL1xuXHR3aW5kb3cucmVhdHRhY2hNZWRpYVN0cmVhbSA9IGZ1bmN0aW9uICh0bywgZnJvbSkge1xuXHRcdGlmICh0byAmJiBmcm9tKSB7XG5cdFx0XHR0by5zcmMgPSBmcm9tLnNyYztcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcignUmVhY2hTREs6OnJlYXR0YWNoTWVkaWFTdHJlYW0gbWVkaWEgc3RyZWFtLT5wYXJhbWV0ZXJzIG5vdCB2YWxpZCcpO1xuXHRcdH1cblx0fTtcblxufSBlbHNlIHtcblx0dGhyb3cgbmV3IEVycm9yKCdCcm93c2VyIGRvZXMgbm90IGFwcGVhciB0byBiZSBXZWJSVEMtY2FwYWJsZScpO1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYWRhcHRlci5qc1xuICoqLyIsImV4cG9ydCBkZWZhdWx0IHtcblxuXHQvKipcblx0ICogQXVkaW8gY29tbXVuaWNhdGlvbiBzZXJ2aWNlXG5cdCAqIEBjb25zdGFudFxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKi9cblx0QUNUSU9OX1RZUEVfQVVESU86ICdhdWRpbycsXG5cdC8qKlxuXHQgKiBWaWRlbyBjb21tdW5pY2F0aW9uIHNlcnZpY2Vcblx0ICogQGNvbnN0YW50XG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqL1xuXHRBQ1RJT05fVFlQRV9WSURFTzogJ3ZpZGVvJyxcblx0LyoqXG5cdCAqIENoYXQgY29tbXVuaWNhdGlvbiBzZXJ2aWNlXG5cdCAqIEBjb25zdGFudFxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKi9cblx0QUNUSU9OX1RZUEVfQ0hBVDogJ2NoYXQnLFxuXHQvKipcblx0ICogQXVkaW8gYW5kIHZpZGVvIGNvbW11bmljYXRpb24gc2VydmljZVxuXHQgKiBAY29uc3RhbnRcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICovXG5cdEFDVElPTl9UWVBFX0FVRElPX1ZJREVPOiAnYXVkaW8tdmlkZW8nLFxuXHQvKipcblx0ICogU2NyZWVuLXNoYXJpbmcgc2VydmljZVxuXHQgKiBAY29uc3RhbnRcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICovXG5cdEFDVElPTl9UWVBFX1NDUkVFTl9TSEFSSU5HOiAnc2NyZWVuLXNoYXJpbmcnLFxuXHQvKipcblx0ICogQ2FsbCBjb21tdW5pY2F0aW9uIHNlcnZpY2Vcblx0ICogQGNvbnN0YW50XG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqL1xuXHRBQ1RJT05fVFlQRV9DQUxMOiAnY2FsbCdcbn07XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvYWN0aW9ucy5qc1xuICoqLyIsIi8qKlxuICogQGZpbGUgZGF0YXJlZnMuanMgLSBKUyBmaWxlIG1vZGVsaXppbmcgYSBkYXRhcmVmLCBpLmUuIGEgcG9pbnRlciB0byB0aGUgV2ViY29tIHh3aXRoIGRlZGljYXRlZCBub2RlcyBmb3Igcm9vbXMsIHJlYWNoIHNlcnZpY2UgYW5kIFdlYlJUQyBjb21tdW5pY2F0aW9ucy5cbiAqIEBhdXRob3IgV2ViY29tXG4gKi9cblxuLyplc2xpbnQgY29tcGxleGl0eToxLCBtYXgtc3RhdGVtZW50czogMSwgbWF4LWxlbjogMSovXG5cbi8qKlxuICogUmVwcmVzZW50cyBhIGRhdGFyZWYgd2l0aCBzZXZlcmFsIG5vZGVzIGluIGl0IHdoaWNoIGFyZSBwb2ludGluZyB0byBzb21lIGxvY2F0aW9ucyBpbiB0aGUgZGF0YWJhc2UuXG4gKiBUaGUgZGF0YXJlZnMgY2FuIGJlIGNvbnNpZGVyZWQgYXMgYSBXZWJjb20gb2JqZWN0IHBvaW50aW5nIHRvIGEgYmFzZSBVUkwuIFRoaXMgbm9kZSBjb250YWlucyBjaGlsZHJlbiBub2RlcyBmb3JcbiAqIHJlYWNoIHNlcnZpY2UsIHJvb21zIGFuZCBXZWJSVEMgY29tbXVuaWNhdGlvbnMuXG4gKlxuICogV2FybmluZyA6IHdoZW4gdXNlZCB3aXRoIGRlbW8gVUksIHRoaXMgZmlsZSBpcyBub3QgaW1wb3J0ZWQ6ICBkZW1vIFVJIGhhc2UgaXRzIG93biBjb25maWd1cmF0aW9uIHN5c3RlbSAoaW1wb3J0IGpzb24gY29uZmlnIHdpdGggYSBwaHAgc2VydmVyIG1vZHVsZSlcbiAqIFRoZXNlIG5vZGVzIGFyZSA6XG4gKiAgICAgICAtIHJvb21zXG4gKiAgICAgICAtIHJlYWNoXG4gKiAgICAgICAtIHdlYnJ0Y1xuICogICAgICAgLSBzaXBQaG9uZU51bWJlcnNcbiAqICAgICAgIC0gZGF0YXN0b3JlLCBpLmUuIHRoZSBXZWJjb20gb2JqZWN0XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oV0VCQ09NQkFTRV9VUkwpIHtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBkYXRhc3RvcmUgaW4gdGhlIG1haW4gb2JqZWN0IHdoaWNoIGNhbiBiZSBjb25zaWRlcmVkIGhhcyB0aGUgcm9vdCBub2RlIG9mIHRoZSBiYXNlLlxuXHQgKiBJdCBjb250YWlucyB0aGUgaW5zdGFuY2lhdGVkIFdlYmNvbSBkZWZpbmVkIGJ5IGEgV0VCQ09NQkFTRV9VUkxcblx0ICogVGhlIG1haW4gbm9kZXMgY29udGFpbmluZyB0aGUgcm9vbXMsIHRoZSBTSVAgcGhvbmUgbnVtYmVycyBhbmQgdGhlIHJlYWNoIGFuZCBXZWJSVEMgZGF0YSBhcmUgY2hpbGRyZW4gb2YgdGhpcyBub2RlLlxuXHQgKi9cblx0bGV0IF9kYXRhc3RvcmUgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgcm9vbXMgb2YgdGhlIGNvbW11bmljYXRpb24gc3lzdGVtLlxuXHQgKiBFYWNoIFwicm9vbVwiIG5vZGUgcG9zc2Vzc2VzIHRoZSBwYXJ0aWNpcGFudHMgYW5kIHRoZSBleGNoYW5nZWQgaW5zdGFudCBtZXNzYWdlcyBmb3IgZXhhbXBsZS5cblx0ICogSW4gdGhlIGRhdGFiYXNlLCB0aGlzIG5vZGUgaXMgaWRlbnRpZmllZCBieSBcInJvb21zTGlzdFwiLlxuXHQgKi9cblx0bGV0IF9yb29tcyA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBkYXRhIGFib3V0IHRoZSByZWFjaCBzZXJ2aWNlIHVzZWQgdG8gcHV0IGluIHJlbGF0aW9uIHVzZXJzLlxuXHQgKiBJbiB0aGUgZGF0YWJhc2UsIHRoaXMgbm9kZSBpcyBpZGVudGlmaWVkIGJ5IFwicmVhY2hcIi5cblx0ICovXG5cdGxldCBfcmVhY2ggPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgV2ViUlRDIGZlYXR1cmUuXG5cdCAqIEluIHRoZSBkYXRhYmFzZSwgdGhpcyBub2RlIGlzIGlkZW50aWZpZWQgYnkgXCJ3ZWJydGNcIi5cblx0ICovXG5cdGxldCBfd2VicnRjID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIGRhdGEgYWJvdXQgdGhlIFNJUCBwaG9uZSBudW1iZXJzLlxuXHQgKiBJbiB0aGUgZGF0YWJhc2UsIHRoaXMgbm9kZSBpcyBpZGVudGlmaWVkIGJ5IFwic2lwUGhvbmVOdW1iZXJzXCIuXG5cdCAqL1xuXHRsZXQgX3NpcFBob25lTnVtYmVycyA9IG51bGw7XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIGNoaWxkcmVuIG5vZGVzLCBpLmUuIGNyZWF0ZXMgZm9yIGVhY2ggb2YgdGhlbSBhIGRlZGljYXRlZCBub2RlIGluIHRoZSBkYXRhYmFzZVxuXHQgKiB1bmRlciB0aGUgbWFpbiBub2RlIChkYXRhIHN0b3JlKS4gQ3JlYXRlZCBub2RlcyBhcmUgXCJyb29tc0xpc3RcIiwgXCJyZWFjaFwiLCBcIndlYnJ0Y1wiLCBcInNpcFBob25lTnVtYmVyc1wiLlxuXHQgKi9cblx0ZnVuY3Rpb24gX2luaXRDaGlsZHJlbigpIHtcblx0XHRfcm9vbXMgPSBfZGF0YXN0b3JlLmNoaWxkKCdyb29tc0xpc3QnKTtcblx0XHRfcmVhY2ggPSBfZGF0YXN0b3JlLmNoaWxkKCdyZWFjaCcpO1xuXHRcdF93ZWJydGMgPSBfZGF0YXN0b3JlLmNoaWxkKCd3ZWJydGMnKTtcblx0XHRfc2lwUGhvbmVOdW1iZXJzID0gX2RhdGFzdG9yZS5jaGlsZCgnc2lwUGhvbmVOdW1iZXJzJyk7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGluaXRpYWxpemF0aW9uIGZ1bmN0aW9uIHdoaWNoIGluc3RhbnRpYXRlcyB0aGUgV2ViY29tIHN0b3JlZCBpbiB0aGUgZGF0YSBzdG9yZS5cblx0ICogQWxsIHRoZSBjaGlsZHJlbiBub2Rlc25hcmUgZGVmaW5lcyBoZXJlLlxuXHQgKi9cblx0ZnVuY3Rpb24gX2luaXQoKSB7XG5cdFx0X2RhdGFzdG9yZSA9IG5ldyBXZWJjb20oV0VCQ09NQkFTRV9VUkwpO1xuXHRcdF9pbml0Q2hpbGRyZW4oKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIHRoZSBXZWJjb20gVVJMIGFuZCByZWluaXQgdGhlIGNoaWxkcmVuLlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF93ZWJjb21iYXNlX3VybCAtIFRoZSBVUkwgb2YgdGhlIFdlYmNvbVxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldFdlYmNvbUJhc2VVcmwocF93ZWJjb21iYXNlX3VybCkge1xuXHRcdF9kYXRhc3RvcmUgPSBuZXcgV2ViY29tKHBfd2ViY29tYmFzZV91cmwpO1xuXHRcdF9pbml0Q2hpbGRyZW4oKTtcblx0fVxuXG5cdC8qKlxuXHQgKiByZXR1cm4gdGhlIFdlYmNvbSBVUkwuXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0V2ViY29tQmFzZVVybCgpIHtcblx0XHRpZiAoX2RhdGFzdG9yZSkge1xuXHRcdFx0cmV0dXJuIF9kYXRhc3RvcmUudG9TdHJpbmcoKTtcblx0XHR9XG5cdFx0cmV0dXJuIHVuZGVmaW5lZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIHRoZSBkYXRhc3RvcmUgYW5kIHJlaW5pdCB0aGUgY2hpbGRyZW4uXG5cdCAqIEBwYXJhbSB7V2ViY29tfSBwX2RhdGFzdG9yZSAtIEEgV2ViY29tIG9iamVjdCB3aGljaCBpcyB0aGUgbmV3IGRhdGEgc3RvcmVcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXREYXRhc3RvcmUocF9kYXRhc3RvcmUpIHtcblx0XHRfZGF0YXN0b3JlPXBfZGF0YXN0b3JlO1xuXHRcdF9pbml0Q2hpbGRyZW4oKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBkYXRhc3RvcmVcblx0ICogQHJldHVybiB7V2ViY29tfSAtIFRoZSBkYXRhIHN0b3JlIGFzIGEgV2ViY29tXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0RGF0YXN0b3JlKCkge1xuXHRcdHJldHVybiBfZGF0YXN0b3JlO1xuXHR9XG5cblxuXHQvKipcblx0ICogRGVmaW5lcyBhIG5ldyByb29tcyBub2RlXG5cdCAqIEBwYXJhbSBwX3Jvb21zIC0gQSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSByb29tc1xuXHQgKi9cblx0ZnVuY3Rpb24gX3NldFJvb21zKHBfcm9vbXMpIHtcblx0XHRfcm9vbXM9cF9yb29tcztcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSByb290IG5vZGUgb2YgdGhlIHJvb21zLlxuXHQgKiBAcmV0dXJuIC0gVGhlIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIHJvb21zIGxpc3Rcblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRSb29tcygpIHtcblx0XHRyZXR1cm4gX3Jvb21zO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZXMgYSBuZXcgcmVhY2ggbm9kZVxuXHQgKiBAcGFyYW0gcF9yZWFjaCAtIEEgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgcmVhY2ggc2VydmljZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldFJlYWNoKHBfcmVhY2gpIHtcblx0XHRfcmVhY2g9cF9yZWFjaDtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSByZWFjaCBub2RlIG9mIHRoZSByb29tcy5cblx0ICogQHJldHVybiAtIFRoZSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcmVhY2ggc2VydmljZVxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldFJlYWNoKCkge1xuXHRcdHJldHVybiBfcmVhY2g7XG5cdH1cblxuXHQvKipcblx0ICogRGVmaW5lcyBhIG5ldyB3ZWJydGMgbm9kZVxuXHQgKiBAcGFyYW0gcF93ZWJydGMgLSBBIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIGRhdGEgYWJvdXQgdGhlIFdlYlJUQyBmZWF0dXJlXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0V2VicnRjKHBfd2VicnRjKSB7XG5cdFx0X3dlYnJ0Yz1wX3dlYnJ0Yztcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSBXZWJSVEMgbm9kZVxuXHQgKiBAcmV0dXJuIC0gVGhlIG5vZGUgY29udGFpbmlnIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgV2ViUlRDIGZlYXR1cmVcblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRXZWJydGMoKSB7XG5cdFx0cmV0dXJuIF93ZWJydGM7XG5cdH1cblxuXHQvKipcblx0ICogRGVmaW5lcyBhIG5vZGUgY29udGFpbmluZyB0aGUgU0lQIHBob25lIG51bWJlcnNcblx0ICogQHBhcmFtIHBfc2lwUGhvbmVOdW1iZXJzIC0gVGhlIHJvb3Qgbm9kZSBjb250YWluaW5nIHRoZSBTSVAgcGhvbmUgbnVtYmVyc1xuXHQgKi9cblx0ZnVuY3Rpb24gX3NldFNpcFBob25lTnVtYmVycyhwX3NpcFBob25lTnVtYmVycykge1xuXHRcdF9zaXBQaG9uZU51bWJlcnM9cF9zaXBQaG9uZU51bWJlcnM7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgcm9vdCBub2RlIGNvbnRhaW5pbmcgdGhlIFNJUCBwaG9uZSBudW1iZXJzXG5cdCAqIEByZXR1cm4gLSBUaGUgcm9vdCBub2RlIHdpdGggdGhlIFNJUCBudW1iZXJzXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0U2lwUGhvbmVOdW1iZXJzKCkge1xuXHRcdHJldHVybiBfc2lwUGhvbmVOdW1iZXJzO1xuXHR9XG5cblx0X2luaXQoKTtcblxuXHRyZXR1cm4ge1xuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIFdlYmNvbSBVUkwgYW5kIHJlaW5pdCB0aGUgY2hpbGRyZW4uXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHBfd2ViY29tYmFzZV91cmwgLSBUaGUgVVJMIG9mIHRoZSBXZWJjb21cblx0XHQgKi9cblx0XHRzZXRXZWJjb21CYXNlVXJsIDogX3NldFdlYmNvbUJhc2VVcmwsXG5cdFx0LyoqXG5cdFx0ICogcmV0dXJuIHRoZSBXZWJjb20gVVJMLlxuXG5cdFx0ICovXG5cdFx0Z2V0V2ViY29tQmFzZVVybCA6IF9nZXRXZWJjb21CYXNlVXJsLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGRhdGFzdG9yZSBhbmQgcmVpbml0IHRoZSBjaGlsZHJlbi5cblx0XHQgKiBAcGFyYW0ge1dlYmNvbX0gcF9kYXRhc3RvcmUgLSBBIFdlYmNvbSBvYmplY3Qgd2hpY2ggaXMgdGhlIG5ldyBkYXRhIHN0b3JlXG5cdFx0ICovXG5cdFx0c2V0RGF0YXN0b3JlIDogX3NldERhdGFzdG9yZSxcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBkYXRhc3RvcmVcblx0XHQgKiBAcmV0dXJuIHtXZWJjb219IC0gVGhlIGRhdGEgc3RvcmUgYXMgYSBXZWJjb21cblx0XHQgKi9cblx0XHRnZXREYXRhc3RvcmUgOiBfZ2V0RGF0YXN0b3JlLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgYSBuZXcgcm9vbXMgbm9kZVxuXHRcdCAqIEBwYXJhbSBwX3Jvb21zIC0gQSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSByb29tc1xuXHRcdCAqL1xuXHRcdHNldFJvb21zIDogX3NldFJvb21zLFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHJvb3Qgbm9kZSBvZiB0aGUgcm9vbXMuXG5cdFx0ICogQHJldHVybiAtIFRoZSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSByb29tcyBsaXN0XG5cdFx0ICovXG5cdFx0Z2V0Um9vbXMgOiBfZ2V0Um9vbXMsXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyBhIG5ldyByZWFjaCBub2RlXG5cdFx0ICogQHBhcmFtIHBfcmVhY2ggLSBBIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIGRhdGEgYWJvdXQgdGhlIHJlYWNoIHNlcnZpY2Vcblx0XHQgKi9cblx0XHRzZXRSZWFjaCA6IF9zZXRSZWFjaCxcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSByZWFjaCBub2RlIG9mIHRoZSByb29tcy5cblx0XHQgKiBAcmV0dXJuIC0gVGhlIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIGluZm9ybWF0aW9uIGFib3V0IHRoZSByZWFjaCBzZXJ2aWNlXG5cdFx0ICovXG5cdFx0Z2V0UmVhY2ggOiBfZ2V0UmVhY2gsXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyBhIG5ldyB3ZWJydGMgbm9kZVxuXHRcdCAqIEBwYXJhbSBwX3dlYnJ0YyAtIEEgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgV2ViUlRDIGZlYXR1cmVcblx0XHQgKi9cblx0XHRzZXRXZWJydGMgOiBfc2V0V2VicnRjLFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIFdlYlJUQyBub2RlXG5cdFx0ICogQHJldHVybiAtIFRoZSBub2RlIGNvbnRhaW5pZyBhbGwgdGhlIGRhdGEgYWJvdXQgdGhlIFdlYlJUQyBmZWF0dXJlXG5cdFx0ICovXG5cdFx0Z2V0V2VicnRjIDogX2dldFdlYnJ0Yyxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIGEgbm9kZSBjb250YWluaW5nIHRoZSBTSVAgcGhvbmUgbnVtYmVyc1xuXHRcdCAqIEBwYXJhbSBwX3NpcFBob25lTnVtYmVycyAtIFRoZSByb290IG5vZGUgY29udGFpbmluZyB0aGUgU0lQIHBob25lIG51bWJlcnNcblx0XHQgKi9cblx0XHRzZXRTaXBQaG9uZU51bWJlcnMgOiBfc2V0U2lwUGhvbmVOdW1iZXJzLFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHJvb3Qgbm9kZSBjb250YWluaW5nIHRoZSBTSVAgcGhvbmUgbnVtYmVyc1xuXHRcdCAqIEByZXR1cm4gLSBUaGUgcm9vdCBub2RlIHdpdGggdGhlIFNJUCBudW1iZXJzXG5cdFx0ICovXG5cdFx0Z2V0U2lwUGhvbmVOdW1iZXJzIDogX2dldFNpcFBob25lTnVtYmVyc1xuXHR9O1xufVxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2RhdGFyZWZzLmpzXG4gKiovIiwiLyoqXG4gKiBAZmlsZSByZWFjaC5qcyAtIEpTIGZpbGUgdG8gdXNlIGZvciB0aGUgcmVhY2ggc2VydmljZS4gVGhpcyBzZXJ2aWNlIGFsbG93cyB0byBjcmVhdGUgYSBkZWRpY2F0ZWQgcm9vbSBmb3IgdXNlcnMgc28gYXMgdG8gcHJvdmlkZSB0aGVtIGEgY29tbXVuaWNhdGlvbiBzdWl0ZS5cbiAqIEBhdXRob3IgV2ViY29tXG4gKi9cblxuLyplc2xpbnQgY29tcGxleGl0eToxLCBtYXgtc3RhdGVtZW50czogMSwgbWF4LWxlbjogMSovXG5cbmltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzJztcblxuLyoqXG4gKiBJTlZJVEUgc3RhdHVzIDogb25nb2luZyBzdGF0dXNcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSU5WSVRBVElPTl9PTkdPSU5HID0gJ09OR09JTkcnO1xuXG4vKipcbiAqIElOVklURSBzdGF0dXMgOiBhY2NlcHRlZCBzdGF0dXNcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSU5WSVRBVElPTl9BQ0NFUFRFRCA9ICdBQ0NFUFRFRCc7XG5cbi8qKlxuICogSU5WSVRFIHN0YXR1cyA6IHJlZnVzZWQgc3RhdHVzXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IElOVklUQVRJT05fUkVKRUNURUQgPSAnUkVKRUNURUQnO1xuXG4vKipcbiAqIElOVklURSBzdGF0dXMgOiBjYW5jZWxlZCBzdGF0dXNcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSU5WSVRBVElPTl9DQU5DRUxFRCA9ICdDQU5DRUxFRCc7XG5cbi8qKlxuICogREVWSUNFX1NUQVRVU19DT05ORVRFRCBzdGF0dXMgOiBjb25uZWN0ZWQgc3RhdHVzXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IERFVklDRV9TVEFUVVNfQ09OTkVDVEVEID0gJ0NPTk5FQ1RFRCc7XG5cbi8qKlxuICogUk9PTV9TVEFUVVNfT1BFTiBzdGF0dXMgOiByb29tIGlzIG9wZW4gLyBhY3RpdmVcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgUk9PTV9TVEFUVVNfT1BFTiA9ICdPUEVOJztcblxuXG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZGVzY3JpcHRpb24gVGhlIHJlYWNoIG9iamVjdCB3aXRoIGl0cyBzdHJlYW1zLCBmbGFncyBhbmQgY2FsbGJhY2tzLlxuICogVGhpcyBvYmplY3QgaXMgdXNlZCBzbyBhcyB0byBtYWtlIGluIGNvbm5lY3Rpb24gc2V2ZXJhbCB1c2Vycy4gVGhlIHJvb20gSW52aXRlcyBtYW5hZ2VtZW50IChhY2NlcHQgLyByZWZ1c2UgLyBjYW5jZWwpLCB0aGUgdXNlciBtYW5hZ2VtZW50IChhZGQgLyByZW1vdmUpIGFuZFxuICogdGhlIEludml0ZSBhcmUgaGFuZGxlZCBoZXJlLlxuICogQHBhcmFtIHtzdHJpbmd9IHBfbWUgLSBUaGUgdXNlciBpZGVudGlmaWVyXG4gKi9cbmNvbnN0IHJlYWNoID0gZnVuY3Rpb24gKHBfbWUsIGRhdGFyZWZzKSB7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgdXNlciBpZGVudGlmaWVyLiBUaGlzIGlkZW50aWZpZXIgd2lsbCBiZSB1c2UgdG8gY3JlYXRlIGEgZGVkaWNhdGVkIG5vZGUgaW4gdGhlIGRhdGFiYXNlIGZvciB0aGlzIHVzZXIuXG5cdCAqL1xuXHRjb25zdCBtZSA9IHBfbWU7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGRhdGEgcmVmIHBvaW50ZXIgZm9yIHRoZSByZWFjaCBwYXJ0LiBJdCBjYW4gYmUgY29uc2lkZXJlZCBhcyBhIHBvaW50ZXIgdG8gdGhlIGRhdGFiYXNlIHRvIHVzZSB0byBuYXZpZ2F0ZSBpbnRvIGl0IGFuZCBtb2RpZnkgaXRzIGNvbnRlbnQuXG5cdCAqL1xuXHRjb25zdCBkYXRhcmVmID0gZGF0YXJlZnMuZ2V0UmVhY2goKTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBDYWxsYmFjayBoYW5kbGluZyB0aGUgdXNlciBhZGRpbmdcblx0ICovXG5cdGxldCBvblVzZXJBZGRlZENiID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBDYWxsYmFjayBoYW5kbGluZyB0aGUgdXNlciBjaGFuZ2VzXG5cdCAqL1xuXHRsZXQgb25Vc2VyQ2hhbmdlZENiID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBDYWxsYmFjayBoYW5kbGluZyB0aGUgdXNlciByZW1vdmFsXG5cdCAqL1xuXHRsZXQgb25Vc2VyUmVtb3ZlZENiID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBDYWxsYmFjayBmb3IgbmV3IEludml0ZSByZWNlaXZlZFxuXHQgKi9cblx0bGV0IG5ld0ludml0ZUNiID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBDYWxsYmFjayBmb3IgSW52aXRlIHJlY2VpdmVkIGNoYW5nZXNcblx0ICovXG5cdGxldCBvblJvb21JbnZpdGVDaGFuZ2VkQ2IgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyBhbGwgb3V0Z29pbmcgSW52aXRlXG5cdCAqL1xuXHRsZXQgbU91dGdvaW5nSW52aXRlcyA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIGluY29taW5nIEludml0YXRpb25cblx0ICovXG5cdGxldCBtSW5jb21pbmdJbnZpdGF0aW9uID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gdGhlIHRpbWVvdXQgdG8gcmVqZWN0IGF1dG9tYXRpY2FsbHkgdGhlIEludml0ZVxuXHQgKi9cblx0bGV0IGF1dG9tYXRpY1JlamVjdFRpbWVPdXQgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gdGhlIHJlYXNvbiB0byByZWplY3QgYXV0b21hdGljYWxseSB0aGUgSW52aXRlXG5cdCAqL1xuXHRsZXQgYXV0b21hdGljUmVqZWN0UmVhc29uID0gbnVsbDtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIHRoZSBjdXJyZW50IGRldmljZSBJZFxuXHQgKi9cblx0bGV0IG1EZXZpY2VJZCA9IG51bGw7XG5cblx0LyoqXG5cdCogSW5pdGlhbGlzYXRpb24gZnVuY3Rpb24uIFVwZGF0ZXMgdGhlIGRhdGFyZWYgYWJvdXQgdGhlIHVzZXIgaWRlbnRpZmllciBpbiB0aGUgdXNlciBsaXN0IDpcblx0KiBpdCB3aWxsIGRpc2Nvbm5lY3QgYW5kIHJlY29ubmVjdCBpdC5cblx0Ki9cblx0ZnVuY3Rpb24gaW5pdCgpIHtcblx0XHRtRGV2aWNlSWQgPSBkYXRhcmVmLmNoaWxkKGB1c2VyTGlzdC8ke21lfS9jb25uZWN0ZWRMaXN0LyR7dXRpbHMuYXBwSW5zdGFuY2VJZH1gKTtcblx0XHRtRGV2aWNlSWQub25EaXNjb25uZWN0KCkucmVtb3ZlKCk7XG5cdFx0bURldmljZUlkLmNoaWxkKCdzdGF0dXMnKS5zZXQoREVWSUNFX1NUQVRVU19DT05ORUNURUQpO1xuXHRcdHRyeSB7XG5cdFx0XHRjb25zdCBkZXNjcmlwdGlvbiA9IG1EZXZpY2VJZC5jaGlsZCgnZGVzY3JpcHRpb24nKTtcblx0XHRcdGlmICh1dGlscy5hcHBJbnN0YW5jZUlkKSB7XG5cdFx0XHRcdGRlc2NyaXB0aW9uLmNoaWxkKCdhcHBJbnN0YW5jZUlkJykuc2V0KHV0aWxzLmFwcEluc3RhbmNlSWQpO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdFxuXHRcdFx0XHRuYXZpZ2F0b3JEYXRhID0ge30sXG5cdFx0XHRcdHByb3BlcnRpZXMgPSBbXG5cdFx0XHRcdFx0J2FwcENvZGVOYW1lJyxcblx0XHRcdFx0XHQnYXBwTmFtZScsXG5cdFx0XHRcdFx0J2FwcFZlcnNpb24nLFxuXHRcdFx0XHRcdCdidWlsZElEJyxcblx0XHRcdFx0XHQnY29va2llRW5hYmxlZCcsXG5cdFx0XHRcdFx0J2xhbmd1YWdlJyxcblx0XHRcdFx0XHQnb25MaW5lJyxcblx0XHRcdFx0XHQnb3NjcHUnLFxuXHRcdFx0XHRcdCdwbGF0Zm9ybScsXG5cdFx0XHRcdFx0J3Byb2R1Y3QnLFxuXHRcdFx0XHRcdCdwcm9kdWN0U3ViJyxcblx0XHRcdFx0XHQnc2VjdXJpdHlQb2xpY3knLFxuXHRcdFx0XHRcdCd1c2VyQWdlbnQnLFxuXHRcdFx0XHRcdCd2ZW5kb3InLFxuXHRcdFx0XHRcdCd2ZW5kb3JTdWInXG5cdFx0XHRcdF07XG5cdFx0XHRwcm9wZXJ0aWVzLmZvckVhY2goKHByb3BlcnR5KSA9PiB7XG5cdFx0XHRcdGlmKG5hdmlnYXRvcltwcm9wZXJ0eV0pIHtcblx0XHRcdFx0XHRuYXZpZ2F0b3JEYXRhW3Byb3BlcnR5XSA9IG5hdmlnYXRvcltwcm9wZXJ0eV07XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdFx0ZGVzY3JpcHRpb24uY2hpbGQoJ25hdmlnYXRvcicpLnNldChuYXZpZ2F0b3JEYXRhKTtcblxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cmVhY2g6OmluaXQpZmFpbGVkIHRvIGdldCBpbmZvcm1hdGlvbiBhYm91dCBkZXZpY2UuIGVycm9yPSR7ZX1gKTtcblx0XHR9XG5cdFx0ZGF0YXJlZi5jaGlsZChgdXNlckxpc3QvJHttZX0vd2FzSW5zaWRlUmVhY2hgKS5zZXQodHJ1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogY2hlY2sgaWYgYSB1c2VyIGlzIGNvbm5lY3RlZFxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF91c2VySWQgLSB0aGUgdXNlciBJZFxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gdGhlIGNhbGxiYWNrIHRyaWdnZXJzIHRvIHJldHVybiB0aGUgcmVzdWx0LiBUaGUgcmVzdWx0IHdpbGwgYmUgcGFzc2VkIGluIHBhcmFtZXRlciBhcyBib29sZWFuIDogdHJ1ZSA9IGNvbm5lY3RlZCAvIGZhbHNlID0gbm90IGNvbm5lY3RlZFxuXHQgKi9cblx0ZnVuY3Rpb24gX2lzQ29ubmVjdGVkKHBfdXNlcklkLHBfY2IpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2lzQ29ubmVjdGVkKXVzZXJJZDogJHtwX3VzZXJJZH1gKTtcblx0XHRkYXRhcmVmLmNoaWxkKGB1c2VyTGlzdC8ke3BfdXNlcklkfS9jb25uZWN0ZWRMaXN0YCkub25jZSgndmFsdWUnLCAoc25hcHNob3QpID0+IHtcblx0XHRcdC8vIG9uVXNlckNvbm5lY3RlZENiLiBVc2VyIGlzIGNvbm5lY3RlZCBpZiBzbmFwc2hvdCB2YWx1ZSBpcyBub3QgbnVsbFxuXHRcdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRwX2NiKHNuYXBzaG90LnZhbCgpICE9PSBudWxsKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBjaGVjayBpZiBhIHVzZXIgaXMgcmVnaXN0ZXJcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBfdXNlcklkIC0gdGhlIHVzZXIgSWRcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIHRoZSBjYWxsYmFjayB0cmlnZ2VycyB0byByZXR1cm4gdGhlIHJlc3VsdC4gVGhlIHJlc3VsdCB3aWxsIGJlIHBhc3NlZCBpbiBwYXJhbWV0ZXIgYXMgYm9vbGVhbiA6IHRydWUgPSByZWdpc3RlcmVkIC8gZmFsc2UgPSBub3QgcmVnaXN0ZXJlZFxuXHQgKi9cblx0ZnVuY3Rpb24gX2lzUmVnaXN0ZXJlZChwX3VzZXJJZCxwX2NiKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9pc1JlZ2lzdGVyZWQpdXNlcklkOiAke3BfdXNlcklkfWApO1xuXHRcdGRhdGFyZWYuY2hpbGQoYHVzZXJMaXN0LyR7cF91c2VySWR9L3dhc0luc2lkZVJlYWNoYCkub25jZSgndmFsdWUnLCAoc25hcHNob3QpID0+IHtcblx0XHRcdC8vIG9uVXNlclJlZ2lzdGVyZWRDYi4gVXNlciBpcyByZWdpc3RlcmVkIGlmIHNuYXBzaG90IHZhbHVlIGlzIG5vdCBudWxsXG5cdFx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdHBfY2Ioc25hcHNob3QudmFsKCkgIT09IG51bGwpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIHNldCB0aGUgZGV2aWNlIHN0YXR1cyAoREVWSUNFX1NUQVRVU19DT05ORUNURUQpXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3N0YXR1cyAtIHRoZSBuZXcgc3RhdHVzXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0Q29ubmVjdGVkU3RhdHVzKHBfc3RhdHVzKSB7XG5cdFx0aWYgKG1EZXZpY2VJZCkge1xuXHRcdFx0bURldmljZUlkLmNoaWxkKCdzdGF0dXMnKS5zZXQocF9zdGF0dXMpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSBuZXcgdXNlciBpcyBhZGRlZFxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrIHRvIHVzZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE9uVXNlckFkZGVkKHBfY2IpIHtcblx0XHRpZiAob25Vc2VyQWRkZWRDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vZmYoJ2NoaWxkX2FkZGVkJywgb25Vc2VyQWRkZWRDYik7XG5cdFx0XHRvblVzZXJBZGRlZENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0b25Vc2VyQWRkZWRDYiA9IGZ1bmN0aW9uKHNuYXBzaG90KSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpvblVzZXJBZGRlZENiKSAke3NuYXBzaG90Lm5hbWUoKX09JHtKU09OLnN0cmluZ2lmeShzbmFwc2hvdC52YWwoKSl9YCk7XG5cdFx0XHRcdGNvbnN0IG9iaiA9IHt9O1xuXHRcdFx0XHRvYmpbc25hcHNob3QubmFtZSgpXSA9IHNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRwX2NiKG9iaik7XG5cdFx0XHR9O1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vbignY2hpbGRfYWRkZWQnLCBvblVzZXJBZGRlZENiKTtcblx0XHR9XG5cdH1cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgdXNlciBoYXMgY2hhbmdlZFxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrIHRvIHVzZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE9uVXNlckNoYW5nZWQocF9jYikge1xuXHRcdGlmIChvblVzZXJDaGFuZ2VkQ2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3VzZXJMaXN0Jykub2ZmKCdjaGlsZF9jaGFuZ2VkJywgb25Vc2VyQ2hhbmdlZENiKTtcblx0XHRcdG9uVXNlckNoYW5nZWRDYiA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdG9uVXNlckNoYW5nZWRDYiA9IGZ1bmN0aW9uKHNuYXBzaG90KSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpvblVzZXJDaGFuZ2VkQ2IpICR7c25hcHNob3QubmFtZSgpfT0ke0pTT04uc3RyaW5naWZ5KHNuYXBzaG90LnZhbCgpKX1gKTtcblx0XHRcdFx0Y29uc3Qgb2JqID0ge307XG5cdFx0XHRcdG9ialtzbmFwc2hvdC5uYW1lKCldPXNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRwX2NiKG9iaik7XG5cdFx0XHR9O1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vbignY2hpbGRfY2hhbmdlZCcsIG9uVXNlckNoYW5nZWRDYik7XG5cdFx0fVxuXG5cdH1cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIHVzZXIgaGFzIGJlZW4gcmVtb3ZlZC5cblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFjayB0byB1c2Vcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRPblVzZXJSZW1vdmVkKHBfY2IpIHtcblx0XHRpZiAob25Vc2VyUmVtb3ZlZENiKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCd1c2VyTGlzdCcpLm9mZignY2hpbGRfcmVtb3ZlZCcsb25Vc2VyUmVtb3ZlZENiKTtcblx0XHRcdG9uVXNlclJlbW92ZWRDYiA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdG9uVXNlclJlbW92ZWRDYiA9IGZ1bmN0aW9uKHNuYXBzaG90KSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpvblVzZXJSZW1vdmVkQ2IpICR7c25hcHNob3QubmFtZSgpfT0ke0pTT04uc3RyaW5naWZ5KHNuYXBzaG90LnZhbCgpKX1gKTtcblx0XHRcdFx0Y29uc3Qgb2JqID0ge307XG5cdFx0XHRcdG9ialtzbmFwc2hvdC5uYW1lKCldPXNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRwX2NiKG9iaik7XG5cdFx0XHR9O1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vbignY2hpbGRfcmVtb3ZlZCcsb25Vc2VyUmVtb3ZlZENiKTtcblx0XHR9XG5cblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSByb29tIEludml0ZSBoYXMgYmVlbiByZWNlaXZlZC5cblx0ICogT3RoZXIgY2FsbGJhY2tzIHdpbGwgYmUgdHJpZ2dlcmVkIGFib3V0IEludml0ZSBsaXN0cy5cblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9vbk5ld1Jvb21JbnZpdGVDYiAtIFRoZSBjYWxsYmFjayB0cmlnZ2VycyB3aGVuIGEgSW52aXRlIGlzIHJlY2VpdmVkIChzdGF0dXMgPSBvbiBnb2luZylcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRPbk5ld1Jvb21JbnZpdGF0aW9uKHBfb25OZXdSb29tSW52aXRlQ2IpIHtcblxuXHRcdGlmIChuZXdJbnZpdGVDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3QvJHttZX1gKS5vZmYoJ2NoaWxkX2FkZGVkJyxuZXdJbnZpdGVDYik7XG5cdFx0XHRuZXdJbnZpdGVDYiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHBfb25OZXdSb29tSW52aXRlQ2IgJiYgdHlwZW9mIHBfb25OZXdSb29tSW52aXRlQ2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0bmV3SW52aXRlQ2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0aWYgKHNuYXBzaG90LnZhbCgpLnN0YXR1cz09PSBJTlZJVEFUSU9OX09OR09JTkcpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X3NldE9uTmV3Um9vbUludml0YXRpb24pbmV3IEludml0ZSByZWNlaXZlZCxpZCkgJHtzbmFwc2hvdC5uYW1lKCl9LGNvbnRlbnQ9JHtKU09OLnN0cmluZ2lmeShzbmFwc2hvdC52YWwoKSl9YCk7XG5cdFx0XHRcdFx0Y29uc3QgaW52aXRhdGlvbklkID0gc25hcHNob3QubmFtZSgpO1xuXHRcdFx0XHRcdGlmICghbUluY29taW5nSW52aXRhdGlvbikge1xuXHRcdFx0XHRcdFx0bUluY29taW5nSW52aXRhdGlvbiA9IFtdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAobUluY29taW5nSW52aXRhdGlvbltpbnZpdGF0aW9uSWRdKSB7XG5cdFx0XHRcdFx0XHRpZiAobUluY29taW5nSW52aXRhdGlvbltpbnZpdGF0aW9uSWRdLnRpbWVvdXQpIHtcblx0XHRcdFx0XHRcdFx0Y2xlYXJUaW1lb3V0KG1JbmNvbWluZ0ludml0YXRpb25baW52aXRhdGlvbklkXS50aW1lb3V0KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdGRlbGV0ZSBtSW5jb21pbmdJbnZpdGF0aW9uW2ludml0YXRpb25JZF07XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdG1JbmNvbWluZ0ludml0YXRpb25baW52aXRhdGlvbklkXT17fTtcblxuXHRcdFx0XHRcdGNvbnN0IG9iaiA9IHt9O1xuXHRcdFx0XHRcdG9ialtpbnZpdGF0aW9uSWRdID0gc25hcHNob3QudmFsKCk7XG5cdFx0XHRcdFx0cF9vbk5ld1Jvb21JbnZpdGVDYihvYmopO1xuXG5cdFx0XHRcdFx0Y29uc3QgaW52aXRhdGlvblJlZiA9IGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0LyR7bWV9LyR7aW52aXRhdGlvbklkfWApO1xuXG5cdFx0XHRcdFx0aWYgKGF1dG9tYXRpY1JlamVjdFRpbWVPdXQpIHtcblx0XHRcdFx0XHRcdG1JbmNvbWluZ0ludml0YXRpb25baW52aXRhdGlvbklkXS50aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGlmIChhdXRvbWF0aWNSZWplY3RUaW1lT3V0KSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9zZXRPbk5ld1Jvb21JbnZpdGF0aW9uKWF1dG9tYXRpYyByZWplY3Qgb2YgSW52aXRlIHJlY2VpdmVkPSR7SlNPTi5zdHJpbmdpZnkoc25hcHNob3QudmFsKCkpfWApO1xuXHRcdFx0XHRcdFx0XHRcdGludml0YXRpb25SZWYub25EaXNjb25uZWN0KCkuY2FuY2VsKCk7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGF1dG9tYXRpY1JlamVjdFJlYXNvbikge1xuXHRcdFx0XHRcdFx0XHRcdFx0aW52aXRhdGlvblJlZi51cGRhdGUoe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aW1lc3RhbXBfZW5kOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdGF0dXM6IElOVklUQVRJT05fUkVKRUNURUQsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN0YXR1c19pbmZvOiBhdXRvbWF0aWNSZWplY3RSZWFzb25cblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRpbnZpdGF0aW9uUmVmLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHRpbWVzdGFtcF9lbmQ6IFdlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVAsXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHN0YXR1czogSU5WSVRBVElPTl9SRUpFQ1RFRFxuXHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LCBhdXRvbWF0aWNSZWplY3RUaW1lT3V0KTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpbnZpdGF0aW9uUmVmLm9uY2UoJ2NoaWxkX2NoYW5nZWQnLCAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0XHRcdGlmKHNuYXBzaG90ICYmIHNuYXBzaG90Lm5hbWUoKSA9PT0gJ3N0YXR1cycpIHtcblx0XHRcdFx0XHRcdFx0c25hcHNob3QucmVmKCkucGFyZW50KCkub25jZSgndmFsdWUnLCAoc25hcHNob3QyKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0bGV0IGNiX2ludml0YXRpb25JZCxjYl9vYmpfY29udGVudDtcblx0XHRcdFx0XHRcdFx0XHRpZiAoc25hcHNob3QyKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYl9pbnZpdGF0aW9uSWQgPSBzbmFwc2hvdC5yZWYoKS5wYXJlbnQoKS5uYW1lKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYl9vYmpfY29udGVudD0gc25hcHNob3QyLnZhbCgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc3QgY2Jfb2JqID0ge307XG5cdFx0XHRcdFx0XHRcdFx0XHRjYl9vYmpbY2JfaW52aXRhdGlvbklkXSA9IGNiX29ial9jb250ZW50O1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKG1JbmNvbWluZ0ludml0YXRpb24gJiYgbUluY29taW5nSW52aXRhdGlvbltjYl9pbnZpdGF0aW9uSWRdICYmIG1JbmNvbWluZ0ludml0YXRpb25bY2JfaW52aXRhdGlvbklkXS50aW1lb3V0KSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dChtSW5jb21pbmdJbnZpdGF0aW9uW2NiX2ludml0YXRpb25JZF0udGltZW91dCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X3NldE9uTmV3Um9vbUludml0YXRpb24pSW52aXRlIGNoYW5nZWQsaWQ9KSAke2NiX2ludml0YXRpb25JZH0sIG5ldyBjb250ZW50PSR7SlNPTi5zdHJpbmdpZnkoY2Jfb2JqX2NvbnRlbnQpfWApO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNiX29iaiAmJiBvblJvb21JbnZpdGVDaGFuZ2VkQ2IgKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9uUm9vbUludml0ZUNoYW5nZWRDYihjYl9vYmopO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVsZXRlIG1JbmNvbWluZ0ludml0YXRpb25bY2JfaW52aXRhdGlvbklkXTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdC8ke21lfWApLm9uKCdjaGlsZF9hZGRlZCcsIG5ld0ludml0ZUNiKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIGEgcm9vbSBJbnZpdGUgaGFzIGJlZW4gY2hhbmdlZC5cblx0ICogT3RoZXIgY2FsbGJhY2tzIHdpbGwgYmUgdHJpZ2dlcmVkIGFib3V0IEludml0ZSBsaXN0cy5cblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9vblJvb21JbnZpdGVDaGFuZ2VkQ2IgLSBUaGUgY2FsbGJhY2sgdHJpZ2dlcnMgd2hlbiB0aGUgc2F0dXMgb24gdGhlIEludml0ZSByZWNlaXZlZCBoYXMgY2hhbmdlZCAoc3RhdHVzID0gYWNjZXB0ZWQvcmVqZWN0ZWQvY2FuY2VsZWQpXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0T25Sb29tSW52aXRhdGlvbkNoYW5nZWQocF9vblJvb21JbnZpdGVDaGFuZ2VkQ2IpIHtcblxuXHRcdGlmIChvblJvb21JbnZpdGVDaGFuZ2VkQ2IpIHtcblx0XHRcdG9uUm9vbUludml0ZUNoYW5nZWRDYiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHBfb25Sb29tSW52aXRlQ2hhbmdlZENiICYmIHR5cGVvZiBwX29uUm9vbUludml0ZUNoYW5nZWRDYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRvblJvb21JbnZpdGVDaGFuZ2VkQ2IgPSBwX29uUm9vbUludml0ZUNoYW5nZWRDYjtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogRGVmaW5lcyBhIHRpbWVvdXQgdG8gcmVqZWN0IGF1dG9tYXRpY2FsbHkgdGhlIGluY29taW5nIEludml0ZVxuXHQgKiBAcGFyYW0ge2ludGVnZXJ9IHBfdGltZW91dCAtIFRoZSBkZWxheVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF9yZWFzb24gLSBvcHRpb25hbCBpbmZvIGFib3V0IHRoZSByZWplY3Rcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXROZXdSb29tSW52aXRhdGlvblRpbWVvdXQocF90aW1lb3V0LHBfcmVhc29uKSB7XG5cdFx0aWYgKGF1dG9tYXRpY1JlamVjdFRpbWVPdXQpIHtcblx0XHRcdGF1dG9tYXRpY1JlamVjdFRpbWVPdXQgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAoYXV0b21hdGljUmVqZWN0UmVhc29uKSB7XG5cdFx0XHRhdXRvbWF0aWNSZWplY3RSZWFzb24gPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChwX3RpbWVvdXRcdCYmIHBfdGltZW91dCA9PT0gcGFyc2VJbnQocF90aW1lb3V0LCAxMCkgJiYgcF90aW1lb3V0PjApIHtcblx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfc2V0TmV3Um9vbUludml0YXRpb25UaW1lb3V0KXRpbWVvdXQ9JHtwX3RpbWVvdXR9YCk7XG5cdFx0XHRhdXRvbWF0aWNSZWplY3RUaW1lT3V0PXBfdGltZW91dDtcblx0XHR9XG5cdFx0aWYgKHBfcmVhc29uKSB7XG5cdFx0XHRhdXRvbWF0aWNSZWplY3RSZWFzb249cF9yZWFzb247XG5cdFx0fVxuXHR9XG5cblxuXHQvKipcblx0ICogdGVzdCBpZiBwX3VzZXIgIGlzIGFscmVhZHkgcHJlc2VudCBpbiB0aGUgcGFydGljaXBhbnQgbGlzdCBvZiB0aGUgcm9vbSBwX3Jvb21JZFxuXHQgKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF9yb29tSWQgLSBUaGUgcm9vbSB1c2VkIGFzIHRoZSBuYW1lIG9mIGEgYnJhbmNoIGlzIHRoZSBkYXRhYmFzZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF91c2VyIC0gVGhlIHVzZXIgSWRcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIHRoZSBjYWxsYmFjayBmdW5jdGlvbiB0byB0aWdnZXIgdG8gZ2V0IHRoZSByZXN1bHQuIEl0IHdpbGwgY29udGFpbnRzIGEgcGFyYW1ldGVyID0gdHJ1ZSBpcyBhbHJlYWR5IHByZXNlbnQsIGZhbHNlIGVpdGhlci5cblx0ICovXG5cdGZ1bmN0aW9uIF9pc1VzZXJQcmVzZW50SW5Sb29tKHBfcm9vbUlkLHBfdXNlcixwX2NiKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9pc1VzZXJQcmVzZW50SW5Sb29tKXBfcm9vbUlkPSR7cF9yb29tSWR9IHBfdXNlcj0ke3BfdXNlcn1gKTtcblx0XHRpZiAoIShwX3Jvb21JZCAmJiB0eXBlb2YgcF9yb29tSWQgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjpfaXNVc2VyUHJlc2VudEluUm9vbSlwYXJhbWV0ZXIgcF9yb29taWQgaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZycpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIShwX3VzZXIgJiYgdHlwZW9mIHBfdXNlciA9PSAnc3RyaW5nJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Ol9pc1VzZXJQcmVzZW50SW5Sb29tKXBhcmFtZXRlciBwX3VzZXIgaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZycpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIShwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjpfaXNVc2VyUHJlc2VudEluUm9vbSlwYXJhbWV0ZXIgcF9jYiBpcyBpbmNvcnJlY3QuIGlmIGRlZmluZWQsIGV4cGVjdGluZyBhIGZ1bmN0aW9uJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGRhdGFyZWZzLmdldFJvb21zKCkuY2hpbGQoYCR7cF9yb29tSWR9L3BhcnRpY2lwYW50TGlzdC8ke3BfdXNlcn0vd2FzSW5zaWRlUm9vbWApLm9uY2UoJ3ZhbHVlJywgKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRjb25zdCB3YXNQcmVzZW50ID0gKHNuYXBzaG90LnZhbCgpICE9PSBudWxsKTtcblx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfaXNVc2VyUHJlc2VudEluUm9vbSlwX3Jvb21JZD0ke3Bfcm9vbUlkfSxwX3VzZXI9JHtwX3VzZXJ9LHJlc3VsdD0ke3dhc1ByZXNlbnR9YCk7XG5cdFx0XHRwX2NiKHdhc1ByZXNlbnQsIHBfcm9vbUlkLCBwX3VzZXIpO1xuXHRcdH0pO1xuXG5cdH1cblxuXG5cdC8qKlxuXHQgKiBDYW5jZWxzIHRoZSBJbnZpdGVcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBfcm9vbUlkIC0gVGhlIHJvb20gSWQgb2YgdGhlIEludml0ZVxuXHQgKiBAcGFyYW0ge2FycmF5W3N0aW5nXX0gcF9ndWVzdElkcyAtIG9wdGlvbmFsIDogQW4gYXJyYXkgcG9zc2Vzc2luZyB0aGUgaWRlbnRpZmllcnMgb2YgdGhlIGludml0ZWVzLiAoaWYgdW5kZWZpbmVkICwgIGFsbCBpbnZpdGVlIHdpbGwgaGF2ZSB0aGVpciBJbnZpdGUgY2FuY2VsZWQpXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBpbnZpdGVJZCAtIFRoZSBpbnZpdGUgaWRlbnRpZmllclxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrIHRyaWdnZXJlZCB3aGVuIHRoZSBvcGVyYXRpb24gaXMgY29tcGxldGUgLiB0aGlzIGNhbGxiYWNrIHdpbGwgY29udGFpbnQgYXMgcGFyYW1ldGVyIHRoZSByZWxhdGVkIGd1ZXN0SWRcblx0ICovXG5cdGZ1bmN0aW9uIF9jYW5jZWxJbnZpdGF0aW9uKHBfcm9vbUlkLCBwX2d1ZXN0SWRzLCBwX2NiKSB7XG5cdFx0aWYgKCEocF9yb29tSWQgJiYgdHlwZW9mIHBfcm9vbUlkID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6X2NhbmNlbEludml0YXRpb24pcGFyYW1ldGVyIHBfcm9vbWlkIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmcnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKHBfZ3Vlc3RJZHMgJiYgISBwX2d1ZXN0SWRzIGluc3RhbmNlb2YgQXJyYXkgKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjpfY2FuY2VsSW52aXRhdGlvbilwYXJhbWV0ZXIgcF9ndWVzdElkcyBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBhbiBBcnJheScpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhgIChSZWFjaFNESzo6cmVhY2g6Ol9jYW5jZWxJbnZpdGF0aW9uKXBfcm9vbUlkPSR7cF9yb29tSWR9LCBwX2d1ZXN0SWRzPSR7SlNPTi5zdHJpbmdpZnkocF9ndWVzdElkcyl9YCk7XG5cdFx0aWYgKG1PdXRnb2luZ0ludml0ZXMgJiYgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF0pIHtcblx0XHRcdGlmIChwX2d1ZXN0SWRzKSB7XG5cdFx0XHRcdHBfZ3Vlc3RJZHMuZm9yRWFjaCgoZ3Vlc3RJZCwgaSkgPT4ge1xuXHRcdFx0XHRcdGlmICghKGd1ZXN0SWQgJiYgdHlwZW9mIGd1ZXN0SWQgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb20pcGFyYW1ldGVyIHBfZ3Vlc3RJZHNbJHtpfV0gaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZ2ApO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAobU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bZ3Vlc3RJZF0pIHtcblx0XHRcdFx0XHRcdGlmIChtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtndWVzdElkXS5JbnZpdGVEYXRhcmVmKSB7XG5cdFx0XHRcdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2d1ZXN0SWRdLkludml0ZURhdGFyZWYub25EaXNjb25uZWN0KCkuY2FuY2VsKCk7XG5cdFx0XHRcdFx0XHRcdGlmIChtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtndWVzdElkXS5JbnZpdGVDaGFuZ2VkQ2IgJiYgdHlwZW9mIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2d1ZXN0SWRdLkludml0ZUNoYW5nZWRDYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bZ3Vlc3RJZF0uSW52aXRlRGF0YXJlZi5vZmYoJ2NoaWxkX2NoYW5nZWQnLCBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtndWVzdElkXS5JbnZpdGVDaGFuZ2VkQ2IpO1xuXHRcdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bZ3Vlc3RJZF0uSW52aXRlRGF0YXJlZi5vbmNlKCd2YWx1ZScsIChkYXRhU25hcHNob3QpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRsZXQgY2Jfc3RhdHVzLCBjYl9ndWVzdElkLCBjYl9yb29tSWQ7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGRhdGFTbmFwc2hvdCAmJiBkYXRhU25hcHNob3QudmFsKCkpIHtcblx0XHRcdFx0XHRcdFx0XHRcdGNiX3N0YXR1cz0gZGF0YVNuYXBzaG90LnZhbCgpLnN0YXR1cztcblx0XHRcdFx0XHRcdFx0XHRcdGNiX3Jvb21JZD0gZGF0YVNuYXBzaG90LnZhbCgpLnJvb207XG5cdFx0XHRcdFx0XHRcdFx0XHRjYl9ndWVzdElkPSBkYXRhU25hcHNob3QucmVmKCkucGFyZW50KCkubmFtZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNiX3N0YXR1cyAmJiBjYl9zdGF0dXM9PT1JTlZJVEFUSU9OX09OR09JTkcpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLkludml0ZURhdGFyZWYudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0aW1lc3RhbXBfZW5kOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHN0YXR1czogSU5WSVRBVElPTl9DQU5DRUxFRFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXS5zdGF0dXNDaGFuZ2VkQ2IgJiYgdHlwZW9mIG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXS5zdGF0dXNDaGFuZ2VkQ2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXS5zdGF0dXNDaGFuZ2VkQ2IoY2Jfcm9vbUlkLCBjYl9ndWVzdElkLCBJTlZJVEFUSU9OX0NBTkNFTEVEKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2NhbmNlbEludml0YXRpb24pZGVsZXRpbmcgSW52aXRlIHRvIHJvb20gJHtjYl9yb29tSWR9IGZvciBpbnZpdGVlICR7Y2JfZ3Vlc3RJZH1gKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjpyZWFjaDo6X2NhbmNlbEludml0YXRpb24pY2Fubm90IGRlbGV0ZSBpbnRpdmF0aW9uIHRvIHJvb20gJHtjYl9yb29tSWR9IGZvciBndWVzdCAke2NiX2d1ZXN0SWR9IEludml0YXRpb24gaGFzIGJlZW4gcmVtb3ZlZC9yZWplY3RlZC9hY2NlcHRlZGApO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRkZWxldGUgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bZ3Vlc3RJZF07XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0XHRcdHBfY2IoZ3Vlc3RJZCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0ZGVsZXRlIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2d1ZXN0SWRdO1xuXHRcdFx0XHRcdFx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdHBfY2IoZ3Vlc3RJZCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRwX2NiKGd1ZXN0SWQpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdE9iamVjdC5rZXlzKG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdKS5mb3JFYWNoKChpbnZpdGVlKSA9PiB7XG5cdFx0XHRcdFx0X2NhbmNlbEludml0YXRpb24ocF9yb29tSWQsIFtpbnZpdGVlXSwgcF9jYik7XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYChSZWFjaFNESzo6cmVhY2g6Ol9jYW5jZWxJbnZpdGF0aW9uKSBJbnZpdGUgdG8gcm9vbSAke3Bfcm9vbUlkfSBub3QgZm91bmRgKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogR2F0aGVyIHRoZSBpbnZpdGVlcyB0byB0aGUgcm9vbS5cblx0ICogRGVmaW5lcyBhIGNhbGxiYWNrIHRvIHRyaWdnZXIgZm9yIEludml0ZSBjaGFuZ2VzLCBhbmQgY2FsbHMgY2FsbGJhY2tzIGZvciByb29tIGludml0ZSBhY2NlcHRhdGlvbiBvciByZWZ1c2UuXG5cdCAqIEZvciBlYWNoIGludml0ZWUgYSBub2RlIGlzIGNyZWF0ZWQgaW4gdGhlIGRhdGFiYXNlIGFib3V0IHRoZSBJbnZpdGUgbGlzdC5cblx0ICogSW4gYWRkdGlvbiwgYSBub2RlIGlzIGNyZWF0ZWQgdG9vIGZvciBlYWNoIGludml0ZWUgYWJvdXQgdGhlIHBhcnRpY2lwYW50TGlzdC5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHBfcm9vbUlkIC0gVGhlIHJvb20gdXNlZCBhcyB0aGUgbmFtZSBvZiBhIGJyYW5jaCBpcyB0aGUgZGF0YWJhc2Vcblx0ICogQHBhcmFtIHthcnJheVtzdGluZ119IHBfZ3Vlc3RJZHMgLSBBbiBhcnJheSBwb3NzZXNzaW5nIHRoZSBpZGVudGlmaWVycyBvZiB0aGUgaW52aXRlZXNcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBfdG9waWMgLSBjdXN0b20gbWVzc2FnZSBmb3IgaW52aXRhdGlvblxuXHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX3N0YXR1c0NoYW5nZWRDYiAtIG9wdGlvbmFsIDogY2FsbGJhY2sgZnVuY3Rpb24gd2hlbiBhbiBpbnZpdGVlIGFjY2VwdHMvcmVqZWN0ZWQvY2FuY2VsZWQgdGhlIEludml0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX2ludml0ZVRvUm9vbShwX3Jvb21JZCwgcF9ndWVzdElkcywgcF90b3BpYyxwX3N0YXR1c0NoYW5nZWRDYikge1xuXHRcdGlmICghKHBfcm9vbUlkICYmIHR5cGVvZiBwX3Jvb21JZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbSlwYXJhbWV0ZXIgcF9yb29taWQgaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZycpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIShwX3RvcGljICYmIHR5cGVvZiBwX3RvcGljID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tKXBhcmFtZXRlciBwX3RvcGljIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmcnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKHBfc3RhdHVzQ2hhbmdlZENiICYmIHR5cGVvZiBwX3N0YXR1c0NoYW5nZWRDYiAhPSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjb25zb2xlLndhcm4oJyhSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbSlwYXJhbWV0ZXIgcF9zdGF0dXNDaGFuZ2VkQ2IgaXMgaW5jb3JyZWN0LiBpZiBkZWZpbmVkLCBleHBlY3RpbmcgYSBmdW5jdGlvbicpO1xuXHRcdH1cblx0XHRpZiAoIShwX2d1ZXN0SWRzICYmIHBfZ3Vlc3RJZHMgaW5zdGFuY2VvZiBBcnJheSApKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb20pcGFyYW1ldGVyIHBfZ3Vlc3RJZHMgaXMgaW5jb3JyZWN0LiBFeHBlY3RpbmcgYW4gQXJyYXknKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZGF0YXJlZnMuZ2V0Um9vbXMoKS5jaGlsZChwX3Jvb21JZCkuY2hpbGQoJ2NvbW1vbkRhdGFMaXN0JykudXBkYXRlKHtcblx0XHRcdHN0YXR1czpST09NX1NUQVRVU19PUEVOLFxuXHRcdFx0b3duZXI6bWVcblx0XHR9KTtcblxuXG5cdFx0Y29uc3QgX2lzVXNlclByZXNlbnRJblJvb21DYiA9IChpc0FscmVhZHlQcmVzZW50LCBwX3Jvb21JZDIsIHBfZ3Vlc3RJZDIpID0+IHtcblx0XHRcdGlmICghaXNBbHJlYWR5UHJlc2VudCkge1xuXHRcdFx0XHRkYXRhcmVmcy5nZXRSb29tcygpLmNoaWxkKGAke3Bfcm9vbUlkMn0vcGFydGljaXBhbnRMaXN0LyR7cF9ndWVzdElkMn1gKS51cGRhdGUoe1xuXHRcdFx0XHRcdGNvbm5lY3RlZDogZmFsc2UsXG5cdFx0XHRcdFx0d2FzSW5zaWRlUm9vbTogZmFsc2Vcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdGNvbnN0IF9JbnZpdGVDaGFuZ2VkQ2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb206Ol9JbnZpdGVDaGFuZ2VkQ2IpJyk7XG5cdFx0XHRpZihzbmFwc2hvdCAmJiBzbmFwc2hvdC5uYW1lKCk9PT0nc3RhdHVzJykge1xuXHRcdFx0XHRjb25zdCBjYl9ndWVzdElkMiA9IHNuYXBzaG90LnJlZigpLnBhcmVudCgpLnBhcmVudCgpLm5hbWUoKTtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbTo6X0ludml0ZUNoYW5nZWRDYiljYl9ndWVzdElkMj0ke2NiX2d1ZXN0SWQyfWApO1xuXHRcdFx0XHRpZiAobU91dGdvaW5nSW52aXRlcyAmJiBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXSAmJiBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtjYl9ndWVzdElkMl0gJiYgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bY2JfZ3Vlc3RJZDJdLkludml0ZUNoYW5nZWRDYiApIHtcblx0XHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtjYl9ndWVzdElkMl0uSW52aXRlRGF0YXJlZi5vZmYoJ2NoaWxkX2NoYW5nZWQnLCBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtjYl9ndWVzdElkMl0uSW52aXRlQ2hhbmdlZENiKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzbmFwc2hvdC5yZWYoKS5wYXJlbnQoKS5vbmNlKCd2YWx1ZScsKHNuYXBzaG90MikgPT4ge1xuXHRcdFx0XHRcdGxldCBjYl9zdGF0dXMsIGNiX2d1ZXN0SWQsIGNiX3Jvb21JZCwgY2Jfc3RhdHVzX2luZm87XG5cdFx0XHRcdFx0aWYgKHNuYXBzaG90Mikge1xuXHRcdFx0XHRcdFx0Y2Jfc3RhdHVzPSBzbmFwc2hvdDIudmFsKCkuc3RhdHVzO1xuXHRcdFx0XHRcdFx0Y2Jfcm9vbUlkPSBzbmFwc2hvdDIudmFsKCkucm9vbTtcblx0XHRcdFx0XHRcdGNiX3N0YXR1c19pbmZvPSBzbmFwc2hvdDIudmFsKCkuc3RhdHVzX2luZm87XG5cdFx0XHRcdFx0XHRjYl9ndWVzdElkPSBzbmFwc2hvdDIucmVmKCkucGFyZW50KCkubmFtZSgpO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbTo6X0ludml0ZUNoYW5nZWRDYilyb29tSWQ9JHtjYl9yb29tSWR9IGludml0ZWU9JHtjYl9ndWVzdElkfSBuZXcgaW52aXRhdGlvbiBzdGF0dXM9JHtjYl9zdGF0dXN9IHN0YXR1cyBpbmZvPSR7Y2Jfc3RhdHVzX2luZm99YCk7XG5cdFx0XHRcdFx0XHRpZiAobU91dGdvaW5nSW52aXRlcyAmJiBtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF0gJiYgbU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdICYmIG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXS5JbnZpdGVEYXRhcmVmKSB7XG5cdFx0XHRcdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXS5JbnZpdGVEYXRhcmVmLm9uRGlzY29ubmVjdCgpLmNhbmNlbCgpO1xuXHRcdFx0XHRcdFx0XHQvL2lmIChtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0uSW52aXRlUmVtb3ZlQ2IpXG5cdFx0XHRcdFx0XHRcdC8vXHRtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0uSW52aXRlRGF0YXJlZi5wYXJlbnQoKS5vZmYoXCJjaGlsZF9yZW1vdmVkXCIsbU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLkludml0ZVJlbW92ZUNiKTtcblx0XHRcdFx0XHRcdFx0aWYgKG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXS5zdGF0dXNDaGFuZ2VkQ2IgJiYgdHlwZW9mIG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXS5zdGF0dXNDaGFuZ2VkQ2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXS5zdGF0dXNDaGFuZ2VkQ2IoY2Jfcm9vbUlkLGNiX2d1ZXN0SWQsY2Jfc3RhdHVzLGNiX3N0YXR1c19pbmZvKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJyhSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbTo6X0ludml0ZUNoYW5nZWRDYiljYW5ub3QgcmV0cmlldmUgbWF0aGluZyBwX3N0YXR1c0NoYW5nZWRDYicpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGRlbGV0ZSBtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF07XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oJyhSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbTo6X0ludml0ZUNoYW5nZWRDYiljYW5ub3QgcmV0cmlldmUgbWF0aGluZyBtT3V0Z29pbmdJbnZpdGUnKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCcoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb206Ol9JbnZpdGVDaGFuZ2VkQ2IpY2Fubm90IHJldHJpZXZlIGludml0YXRpb24nKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRwX2d1ZXN0SWRzLmZvckVhY2goKG1HdWVzdElkLCBpKSA9PiB7XG5cdFx0XHRpZiAoIShtR3Vlc3RJZCAmJiB0eXBlb2YgbUd1ZXN0SWQgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbSlwYXJhbWV0ZXIgcF9ndWVzdElkc1ske2l9XSBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nYCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tKXJvb21JZD0ke3Bfcm9vbUlkfSBpbnZpdGVlPSR7bUd1ZXN0SWQudG9TdHJpbmcoKX1gKTtcblxuXHRcdFx0XHRpZiAobU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF0gJiYgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdKSB7XG5cdFx0XHRcdFx0Ly9pbnZpdGF0aW9uIGlzIGFscmVhZHkgZXhpc3RpbmcgLT4gY2FuY2VsIGl0XG5cdFx0XHRcdFx0Ly9pZiAobU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZURhdGFyZWYgJiYgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZVJlbW92ZUNiKSAgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZURhdGFyZWYub2ZmKFwiY2hpbGRfcmVtb3ZlZFwiLG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVSZW1vdmVDYik7XG5cdFx0XHRcdFx0Ly9pZiAobU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZURhdGFyZWYgJiYgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZUNoYW5nZWRDYikgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZURhdGFyZWYub2ZmKFwiY2hpbGRfY2hhbmdlZFwiLG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVDaGFuZ2VkQ2IpO1xuXHRcdFx0XHRcdF9jYW5jZWxJbnZpdGF0aW9uKHBfcm9vbUlkLCBbbUd1ZXN0SWRdLCAocF9ndWVzdElkKSA9PiB7XG5cdFx0XHRcdFx0XHRpZiAocF9ndWVzdElkICYmIHBfZ3Vlc3RJZCA9PT0gbUd1ZXN0SWQpIHtcblx0XHRcdFx0XHRcdFx0X2ludml0ZVRvUm9vbShwX3Jvb21JZCwgW3BfZ3Vlc3RJZF0sIHBfdG9waWMscF9zdGF0dXNDaGFuZ2VkQ2IpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGlmICghbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF0pIHtcblx0XHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXSA9IFtdO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vaWYgKCFtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0pIHtcblx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdID0ge307XG5cdFx0XHRcdC8vfVxuXG5cdFx0XHRcdF9pc1VzZXJQcmVzZW50SW5Sb29tKHBfcm9vbUlkLCBtR3Vlc3RJZCwgX2lzVXNlclByZXNlbnRJblJvb21DYik7XG5cblx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZURhdGFyZWYgPSBkYXRhcmVmLmNoaWxkKCdpbnZpdGF0aW9uTGlzdCcpLmNoaWxkKG1HdWVzdElkKS5wdXNoKHtcblx0XHRcdFx0XHRmcm9tOm1lLFxuXHRcdFx0XHRcdHJvb206cF9yb29tSWQsXG5cdFx0XHRcdFx0dGltZXN0YW1wX2NyZWF0aW9uOldlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVAsXG5cdFx0XHRcdFx0dG9waWM6cF90b3BpYyxcblx0XHRcdFx0XHRzdGF0dXM6SU5WSVRBVElPTl9PTkdPSU5HXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tKUludml0ZURhdGFyZWY9JHttT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZi50b1N0cmluZygpfWApO1xuXG5cdFx0XHRcdC8vbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZVJlbW92ZUNiID0gX0ludml0YXRpb25SZW1vdmVDYjtcblx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZUNoYW5nZWRDYiA9IF9JbnZpdGVDaGFuZ2VkQ2I7XG5cdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVEYXRhcmVmLm9uKCdjaGlsZF9jaGFuZ2VkJywgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZUNoYW5nZWRDYik7XG5cdFx0XHRcdC8vbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZURhdGFyZWYucGFyZW50KCkub24oXCJjaGlsZF9yZW1vdmVkXCIsbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZVJlbW92ZUNiKTtcblx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLnN0YXR1c0NoYW5nZWRDYiA9IHBfc3RhdHVzQ2hhbmdlZENiO1xuXG5cdFx0XHRcdC8vIGNhbmNlbGVkIEludml0ZSBvbiBkaXNjb25uZWN0aW9uXG5cdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVEYXRhcmVmLm9uRGlzY29ubmVjdCgpLnVwZGF0ZSh7XG5cdFx0XHRcdFx0dGltZXN0YW1wX2VuZDogV2ViY29tLlNlcnZlclZhbHVlLlRJTUVTVEFNUCxcblx0XHRcdFx0XHRzdGF0dXM6IElOVklUQVRJT05fQ0FOQ0VMRURcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBNYWtlcyBhbiBpbnZpdGUgYWNjZXB0ZWQsIGFuZCBkZWZpbmVzIHRoZSBcImFjY2VwdGVkXCIgZmxhZyBvZiB0aGlzIGludml0ZSBhdCB0cnVlIGluIHRoZSBkYXRhYmFzZS5cblx0ICogQHBhcmFtIHBfaW52aXRhdGlvbiAtXG5cdCAqL1xuXHRmdW5jdGlvbiBfYWNjZXB0SW52aXRhdGlvbihwX2ludml0YXRpb24pIHtcblx0XHRjb25zdCBpbnZpdGVJZCA9IE9iamVjdC5rZXlzKHBfaW52aXRhdGlvbilbMF07XG5cdFx0aWYgKCFpbnZpdGVJZCkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6X2FjY2VwdEludml0YXRpb24pcGFyYW1ldGVyIHBfaW52aXRhdGlvbiBpcyBpbmNvcnJlY3QuIGNhbm5vdCBnZXQgaW52aXRhdGlvbiBJZCcpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAoIXBfaW52aXRhdGlvbltpbnZpdGVJZF0pIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Ol9hY2NlcHRJbnZpdGF0aW9uKXBhcmFtZXRlciBwX2ludml0YXRpb24gaXMgaW5jb3JyZWN0LiBjYW5ub3QgZ2V0IGludml0YXRpb24gZGF0YScpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0LyR7bWV9LyR7aW52aXRlSWR9YCkub25jZSgndmFsdWUnLCAoZGF0YVNuYXBzaG90KSA9PiB7XG5cdFx0XHRsZXQgY2Jfc3RhdHVzLFxuXHRcdFx0XHRjYl9ndWVzdElkLFxuXHRcdFx0XHRjYl9pbnZpdGF0aW9uSWQ7XG5cblx0XHRcdGlmIChkYXRhU25hcHNob3QgJiYgZGF0YVNuYXBzaG90LnZhbCgpKSB7XG5cdFx0XHRcdGNiX2ludml0YXRpb25JZCA9IGRhdGFTbmFwc2hvdC5uYW1lKCk7XG5cdFx0XHRcdGNiX3N0YXR1cyA9IGRhdGFTbmFwc2hvdC52YWwoKS5zdGF0dXM7XG5cdFx0XHRcdGNiX2d1ZXN0SWQgPSBkYXRhU25hcHNob3QucmVmKCkucGFyZW50KCkubmFtZSgpO1xuXHRcdFx0XHRpZiAoY2Jfc3RhdHVzICYmIGNiX3N0YXR1cz09PUlOVklUQVRJT05fT05HT0lORykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfYWNjZXB0SW52aXRhdGlvbilpbnZpdGVJZD0ke2ludml0ZUlkfSxkYXRhPSR7SlNPTi5zdHJpbmdpZnkocF9pbnZpdGF0aW9uW2ludml0ZUlkXSl9YCk7XG5cdFx0XHRcdFx0ZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3QvJHtjYl9ndWVzdElkfS8ke2NiX2ludml0YXRpb25JZH1gKS51cGRhdGUoe1xuXHRcdFx0XHRcdFx0dGltZXN0YW1wX2VuZDogV2ViY29tLlNlcnZlclZhbHVlLlRJTUVTVEFNUCxcblx0XHRcdFx0XHRcdHN0YXR1czogSU5WSVRBVElPTl9BQ0NFUFRFRFxuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjpyZWFjaDo6X2FjY2VwdEludml0YXRpb24paW52aXRlSWQ9JHtjYl9pbnZpdGF0aW9uSWR9LGRhdGE9JHtKU09OLnN0cmluZ2lmeShwX2ludml0YXRpb25baW52aXRlSWRdKX0sIGNhbm5vdCBiZSBhY2NlcHRlZC4gSXQgaGFzIGJlZW4gcmVtb3ZlZCBvciBjYW5jZWxlZGApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogUmVmdXNlcyB0aGUgaW52aXRlIGFuZCBzZXQgdGhlIFwiYWNjZXB0ZWRcIiBmbGFnIG9mIHRoaXMgaW52aXRlIGluIHRoZSBkYXRhYmFzZSB0byBmYWxzZVxuXHQgKiBAcGFyYW0gcF9pbnZpdGF0aW9uIC0gVGhlIGludml0ZSBkYXRhXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3JlYXNvbiAtIG9wdGlvbmFsIGluZm8gYWJvdXQgdGhlIHJlamVjdFxuXHQgKi9cblx0ZnVuY3Rpb24gX3JlamVjdEludml0YXRpb24ocF9pbnZpdGF0aW9uLHBfcmVhc29uKSB7XG5cdFx0Y29uc3QgaW52aXRlSWQgPSBPYmplY3Qua2V5cyhwX2ludml0YXRpb24pWzBdO1xuXHRcdGlmICghaW52aXRlSWQpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Ol9yZWplY3RJbnZpdGF0aW9uKXBhcmFtZXRlciBwX2ludml0YXRpb24gaXMgaW5jb3JyZWN0LiBjYW5ub3QgZ2V0IGludml0YXRpb24gSWQnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCFwX2ludml0YXRpb25baW52aXRlSWRdKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjpfcmVqZWN0SW52aXRhdGlvbilwYXJhbWV0ZXIgcF9pbnZpdGF0aW9uIGlzIGluY29ycmVjdC4gY2Fubm90IGdldCBpbnZpdGF0aW9uIGRhdGEnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0ZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3QvJHttZX0vJHtpbnZpdGVJZH1gKS5vbmNlKCd2YWx1ZScsIChkYXRhU25hcHNob3QpID0+IHtcblx0XHRcdGxldCBjYl9zdGF0dXMsY2JfZ3Vlc3RJZCxjYl9pbnZpdGF0aW9uSWQ7XG5cdFx0XHRpZiAoZGF0YVNuYXBzaG90ICYmIGRhdGFTbmFwc2hvdC52YWwoKSkge1xuXHRcdFx0XHRjYl9pbnZpdGF0aW9uSWQgPSBkYXRhU25hcHNob3QubmFtZSgpO1xuXHRcdFx0XHRjYl9zdGF0dXMgPSBkYXRhU25hcHNob3QudmFsKCkuc3RhdHVzO1xuXHRcdFx0XHRjYl9ndWVzdElkID0gZGF0YVNuYXBzaG90LnJlZigpLnBhcmVudCgpLm5hbWUoKTtcblx0XHRcdFx0aWYgKGNiX3N0YXR1cyAmJiBjYl9zdGF0dXMgPT09IElOVklUQVRJT05fT05HT0lORykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfcmVqZWN0SW52aXRhdGlvbilpbnZpdGVJZD0ke2ludml0ZUlkfSxkYXRhPSR7SlNPTi5zdHJpbmdpZnkocF9pbnZpdGF0aW9uW2ludml0ZUlkXSl9YCk7XG5cdFx0XHRcdFx0aWYgKHBfcmVhc29uKSB7XG5cdFx0XHRcdFx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdC8ke2NiX2d1ZXN0SWR9LyR7Y2JfaW52aXRhdGlvbklkfWApLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRcdHRpbWVzdGFtcF9lbmQ6IFdlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVAsXG5cdFx0XHRcdFx0XHRcdHN0YXR1c19pbmZvOiBwX3JlYXNvbixcblx0XHRcdFx0XHRcdFx0c3RhdHVzOiBJTlZJVEFUSU9OX1JFSkVDVEVEXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0ZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3QvJHtjYl9ndWVzdElkfS8ke2NiX2ludml0YXRpb25JZH1gKS51cGRhdGUoe1xuXHRcdFx0XHRcdFx0XHR0aW1lc3RhbXBfZW5kOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QLFxuXHRcdFx0XHRcdFx0XHRzdGF0dXM6IElOVklUQVRJT05fUkVKRUNURURcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oYChSZWFjaFNESzo6cmVhY2g6Ol9yZWplY3RJbnZpdGF0aW9uKWludml0ZUlkPSR7Y2JfaW52aXRhdGlvbklkfSxkYXRhPSR7SlNPTi5zdHJpbmdpZnkocF9pbnZpdGF0aW9uW2ludml0ZUlkXSl9LCBjYW5ub3QgYmUgcmVqZWN0ZWQuIEl0IGhhcyBiZWVuIHJlbW92ZWQgb3IgY2FuY2VsZWRgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIGNoZWNrIGlmIHRoZSByb29tIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGludml0YXRpb24gaXMgYWN0aXZlXG5cdCAqIEBwYXJhbSBwX2ludml0YXRpb24gLSBUaGUgaW52aXRhdGlvbiBEYXRhXG5cdCAqIEBwYXJhbSBwX2NiIC0gVGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgdG8gZ2V0IHRoZSByZXN1bHQuIHRoaXMgY2FsbGJhY2sgd2lsbCBjb250YWlucyB0aGUgcGFyYW1ldGVyIHRydWUgaXMgdGhlIHJvb20gaXMgYWN0aXZlXG5cdCAqL1xuXHRmdW5jdGlvbiBfaXNSb29tQWN0aXZlKHBfaW52aXRhdGlvbixwX2NiKSB7XG5cdFx0aWYgKHBfaW52aXRhdGlvbiAmJiBwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNvbnN0IGludml0ZUlkID0gT2JqZWN0LmtleXMocF9pbnZpdGF0aW9uKVswXTtcblx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfaXNSb29tQWN0aXZlKWludml0ZUlkPSR7aW52aXRlSWR9YCk7XG5cdFx0XHRjb25zdCByb29tSWQgPSBwX2ludml0YXRpb25baW52aXRlSWRdLnJvb207XG5cblx0XHRcdGRhdGFyZWZzLmdldFJvb21zKCkuY2hpbGQoYCR7cm9vbUlkfS9jb21tb25EYXRhTGlzdC9zdGF0dXNgKS5vbmNlKCd2YWx1ZScsIChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRjb25zdCBvcGVuZWQgPSBzbmFwc2hvdCAmJiBzbmFwc2hvdC52YWwoKSAmJiBzbmFwc2hvdC52YWwoKSA9PT0gUk9PTV9TVEFUVVNfT1BFTjtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9pc1Jvb21BY3RpdmUpaW52aXRlSWQ9JHtpbnZpdGVJZH0gcmVzdWx0PSR7b3BlbmVkfWApO1xuXHRcdFx0XHRwX2NiKG9wZW5lZCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogbW92ZSBhbGwgdGhlIG5vbiBhY3RpdmUgaW52aXRhdGlvbnMgcHJvY2Vzc2VkIG9mIGFuIHVzZXIgdG8gdGhlIGludml0YXRpb24gTGlzdCBIaXN0b3J5OlxuXHQgKiBBbGwgaW52aXRhdGlvbnMgd2l0aCBzdGF0dXMgQ2FuY2VsZWQgb3IgUmVqZWN0ZWQgd2lsbCBiZSBhcmNoaXZlZFxuXHQgKiBBbGwgaW52aXRhdGlvbiB3aXRoIHN0YXR1cyBPbmdvaW5nIG9yIEFjY2VwdGVkIFdpbGwgYmUgYXJjaGl2ZWQgaWYgdGhlIGNvcnJlc3BvbmRpbmcgcm9vbSBpcyBjbG9zZWRcblx0ICogSWYgYW4gaW52aXRhdGlvbiB3aXRoIHN0YXR1cyBcIk9uZ29pbmdcIiBpcyBhcmNoaXZlZCwgaXRzIHN0YXR1cyB3aWxsIGJlIHNldCB0byBjYW5jZWxlZFxuXHQgKiBAcGFyYW0gcF91c2VySWQgLSBUaGUgdXNlciBJZFxuXHQgKiBAcGFyYW0gcF9jYiAtIFRoaXMgY2FsbGJhY2sgaXMgdHJpZ2dlciB3aGVuIGFyY2hpdmUgaXMgY29tcGxldGVcblx0ICovXG5cdGZ1bmN0aW9uIF9hcmNoaXZlSW52aXRhdGlvbnMocF91c2VySWQsIHBfY2IpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2FyY2hpdmVJbnZpdGF0aW9ucyl1c2VySWQ9JHtwX3VzZXJJZH1gKTtcblx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdC8ke21lfWApLm9uY2UoJ3ZhbHVlJywgKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRpZiAoc25hcHNob3QgJiYgc25hcHNob3QuaGFzQ2hpbGRyZW4oKSkge1xuXHRcdFx0XHRjb25zdCBuYkNoaWxkcmVuID0gc25hcHNob3QubnVtQ2hpbGRyZW4oKTtcblx0XHRcdFx0bGV0IG5iQ2hpbGRyZW5Qcm9jZXNzZWQgPSAwO1xuXHRcdFx0XHRzbmFwc2hvdC5mb3JFYWNoKChjaGlsZFNuYXBzaG90KSA9PiB7XG5cdFx0XHRcdFx0aWYgKGNoaWxkU25hcHNob3QgJiYgY2hpbGRTbmFwc2hvdC52YWwoKSkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9hcmNoaXZlSW52aXRhdGlvbnMpdXNlcklkPSR7cF91c2VySWR9IGludml0ZUlkPSR7Y2hpbGRTbmFwc2hvdC5uYW1lKCl9YCk7XG5cdFx0XHRcdFx0XHRpZiAoY2hpbGRTbmFwc2hvdC52YWwoKS5zdGF0dXMgPT09IElOVklUQVRJT05fUkVKRUNURUQgfHwgY2hpbGRTbmFwc2hvdC52YWwoKS5zdGF0dXMgPT09IElOVklUQVRJT05fQ0FOQ0VMRUQgKSB7XG5cdFx0XHRcdFx0XHRcdGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0SGlzdG9yeS8ke3BfdXNlcklkfS8ke2NoaWxkU25hcHNob3QubmFtZSgpfWApLnVwZGF0ZShjaGlsZFNuYXBzaG90LnZhbCgpKTtcblx0XHRcdFx0XHRcdFx0Y2hpbGRTbmFwc2hvdC5yZWYoKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0bmJDaGlsZHJlblByb2Nlc3NlZCsrO1xuXHRcdFx0XHRcdFx0XHRpZiAobmJDaGlsZHJlblByb2Nlc3NlZD49bmJDaGlsZHJlbiAmJiBwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0XHRwX2NiKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGNvbnN0IGludml0ZURhdGEgPSB7fTtcblx0XHRcdFx0XHRcdFx0aW52aXRlRGF0YVtjaGlsZFNuYXBzaG90Lm5hbWUoKV0gPSBjaGlsZFNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRcdFx0XHRfaXNSb29tQWN0aXZlKGludml0ZURhdGEsIChpc0FjdGl2ZSkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGlmIChpc0FjdGl2ZSkge1xuXHRcdFx0XHRcdFx0XHRcdFx0bmJDaGlsZHJlblByb2Nlc3NlZCsrO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKG5iQ2hpbGRyZW5Qcm9jZXNzZWQ+PW5iQ2hpbGRyZW4gJiYgcF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBfY2IoKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGNoaWxkU25hcHNob3QudmFsKCkuc3RhdHVzPT09SU5WSVRBVElPTl9PTkdPSU5HKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IG5ld1ZhbHVlID0gY2hpbGRTbmFwc2hvdC52YWwoKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0bmV3VmFsdWUuc3RhdHVzID0gSU5WSVRBVElPTl9DQU5DRUxFRDtcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3RIaXN0b3J5LyR7cF91c2VySWR9LyR7Y2hpbGRTbmFwc2hvdC5uYW1lKCl9YCkuc2V0KG5ld1ZhbHVlKTtcblx0XHRcdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0SGlzdG9yeS8ke3BfdXNlcklkfS8ke2NoaWxkU25hcHNob3QubmFtZSgpfWApLnNldChjaGlsZFNuYXBzaG90LnZhbCgpKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdGNoaWxkU25hcHNob3QucmVmKCkucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRuYkNoaWxkcmVuUHJvY2Vzc2VkKys7XG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAobmJDaGlsZHJlblByb2Nlc3NlZD49bmJDaGlsZHJlbiAmJiBwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0cF9jYigpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0cF9jYigpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRwX2NiKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH0pO1xuXHR9XG5cblxuXG5cblxuXHQvKipcblx0ICogQ2xvc2UgdGhlIHJlYWNoIHNlcnZpY2UsXG5cdCAqIGRpc2FibGVzIGFuZCBkZWxldGVzIGFueSBsaXN0ZW5lcnMvY2FsbGJhY2sgZGVmaW5lZC5cblx0ICogY2FuY2VsIGFsbCBvdXRnb2luZyBpbnZpdGUgbm90IGFscmVhZHkgcHJvY2Vzc2VkXG5cdCAqIGRvIG5vdCBpbXBhY3QgaW5jb21pbmcgaW52aXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfY2xvc2UoKSB7XG5cdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6cmVhY2g6Ol9jbG9zZSknKTtcblxuXHRcdGlmIChuZXdJbnZpdGVDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgnaW52aXRhdGlvbkxpc3QnKS5jaGlsZChtZSkub2ZmKCdjaGlsZF9hZGRlZCcsbmV3SW52aXRlQ2IpO1xuXHRcdFx0bmV3SW52aXRlQ2IgPSBudWxsO1xuXHRcdH1cbi8vXHRcdGlmIChvblJvb21JbnZpdGVDaGFuZ2VkQ2IpIHtcbi8vXHRcdFx0ZGF0YXJlZi5jaGlsZChcImludml0YXRpb25MaXN0XCIpLmNoaWxkKG1lKS5vZmYoXCJjaGlsZF9jaGFuZ2VkXCIsSW52aXRlQ2hhbmdlZENiKTtcbi8vXHRcdFx0b25Sb29tSW52aXRlQ2hhbmdlZENiID0gbnVsbDtcbi8vXHRcdH1cbi8vXG4vL1x0XHRpZiAobVRpbWVvdXRPbk5ld0ludml0ZUNiKSB7XG4vL1x0XHRcdGRhdGFyZWYuY2hpbGQoXCJpbnZpdGF0aW9uTGlzdFwiKS5jaGlsZChtZSkub2ZmKFwiY2hpbGRfYWRkZWRcIixtVGltZW91dE9uTmV3SW52aXRlQ2IpO1xuLy9cdFx0XHRtVGltZW91dE9uTmV3SW52aXRlQ2IgPSBudWxsO1xuLy9cdFx0fVxuLy9cdFx0aWYgKG1UaW1lb3V0T25JbnZpdGVDaGFuZ2VkQ2IpIHtcbi8vXHRcdFx0ZGF0YXJlZi5jaGlsZChcImludml0YXRpb25MaXN0XCIpLmNoaWxkKG1lKS5vZmYoXCJjaGlsZF9jaGFuZ2VkXCIsbVRpbWVvdXRPbkludml0ZUNoYW5nZWRDYik7XG4vL1x0XHRcdG1UaW1lb3V0T25JbnZpdGVDaGFuZ2VkQ2IgPSBudWxsO1xuLy9cdFx0fVxuXG5cdFx0aWYgKG9uVXNlckFkZGVkQ2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3VzZXJMaXN0Jykub2ZmKCdjaGlsZF9hZGRlZCcsIG9uVXNlckFkZGVkQ2IpO1xuXHRcdFx0b25Vc2VyQWRkZWRDYiA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChvblVzZXJDaGFuZ2VkQ2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3VzZXJMaXN0Jykub2ZmKCdjaGlsZF9jaGFuZ2VkJywgb25Vc2VyQ2hhbmdlZENiKTtcblx0XHRcdG9uVXNlckNoYW5nZWRDYiA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChvblVzZXJSZW1vdmVkQ2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3VzZXJMaXN0Jykub2ZmKCdjaGlsZF9yZW1vdmVkJywgb25Vc2VyUmVtb3ZlZENiKTtcblx0XHRcdG9uVXNlclJlbW92ZWRDYiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKG1PdXRnb2luZ0ludml0ZXMpIHtcblx0XHRcdG1PdXRnb2luZ0ludml0ZXMuZm9yRWFjaCgocm9vbUlkKSA9PiB7XG5cdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbcm9vbUlkXS5mb3JFYWNoKChpbnZpdGVlKSA9PiB7XG5cdFx0XHRcdFx0aWYgKGludml0ZWUuSW52aXRlRGF0YXJlZikge1xuXHRcdFx0XHRcdFx0aW52aXRlZS5JbnZpdGVEYXRhcmVmLm9uRGlzY29ubmVjdCgpLmNhbmNlbCgpO1xuXHRcdFx0XHRcdFx0aW52aXRlZS5JbnZpdGVEYXRhcmVmLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRcdHN0YXR1czogSU5WSVRBVElPTl9DQU5DRUxFRCxcblx0XHRcdFx0XHRcdFx0dGltZXN0YW1wX2VuZDogV2ViY29tLlNlcnZlclZhbHVlLlRJTUVTVEFNUFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH0pO1xuXHRcdFx0bU91dGdvaW5nSW52aXRlcyA9IFtdO1xuXHRcdH1cblxuXHRcdGlmIChhdXRvbWF0aWNSZWplY3RUaW1lT3V0KSB7XG5cdFx0XHRhdXRvbWF0aWNSZWplY3RUaW1lT3V0ID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKGF1dG9tYXRpY1JlamVjdFJlYXNvbikge1xuXHRcdFx0YXV0b21hdGljUmVqZWN0UmVhc29uID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAobURldmljZUlkKSB7XG5cdFx0XHRtRGV2aWNlSWQucmVtb3ZlKCk7XG5cdFx0XHRtRGV2aWNlSWQgPSBudWxsO1xuXHRcdH1cblxuXHR9XG5cblx0aW5pdCgpO1xuXHRyZXR1cm4ge1xuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHVzZXIgaWRlbnRpZmllciB1c2VkIGluIHRoZSBkYXRhYmFzZS4gVGhpcyB2YWx1ZVxuXHRcdCAqIGlkZW50aWZpZXMgdGhlIHVzZXIgaWYgdGhlIFdlYmNvbWJhc2UuXG5cdFx0ICogQHJldHVybiB7c3RyaW5nfSAtIFRoZSB1c2VyIElEXG5cdFx0ICovXG5cdFx0Z2V0TWU6ICgpID0+IHtcblx0XHRcdHJldHVybiBtZTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIGNoZWNrIGlmIGEgdXNlciBpcyBjb25uZWN0ZWRcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcF91c2VySWQgLSB0aGUgdXNlciBJZFxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSB0aGUgY2FsbGJhY2sgdHJpZ2dlcnMgdG8gcmV0dXJuIHRoZSByZXN1bHQuIFRoZSByZXN1bHQgd2lsbCBiZSBwYXNzZWQgaW4gcGFyYW1ldGVyIGFzIGJvb2xlYW4gOiB0cnVlID0gY29ubmVjdGVkIC8gZmFsc2UgPSBub3QgY29ubmVjdGVkXG5cdFx0ICovXG5cdFx0aXNDb25uZWN0ZWQ6IF9pc0Nvbm5lY3RlZCxcblx0XHQvKipcblx0XHQgKiBjaGVjayBpZiBhIHVzZXIgaXMgcmVnaXN0ZXJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcF91c2VySWQgLSB0aGUgdXNlciBJZFxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSB0aGUgY2FsbGJhY2sgdHJpZ2dlcnMgdG8gcmV0dXJuIHRoZSByZXN1bHQuIFRoZSByZXN1bHQgd2lsbCBiZSBwYXNzZWQgaW4gcGFyYW1ldGVyIGFzIGJvb2xlYW4gOiB0cnVlID0gcmVnaXN0ZXJlZCAvIGZhbHNlID0gbm90IHJlZ2lzdGVyZWRcblx0XHQgKi9cblx0XHRpc1JlZ2lzdGVyZWQ6IF9pc1JlZ2lzdGVyZWQsXG5cdFx0LyoqXG5cdFx0ICogc2V0IHRoZSBkZXZpY2Ugc3RhdHVzIChERVZJQ0VfU1RBVFVTX0NPTk5FQ1RFRClcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gc3RhdHVzIC0gdGhlIG5ldyBzdGF0dXNcblx0XHQgKi9cblx0XHRzZXRDb25uZWN0ZWRTdGF0dXM6IF9zZXRDb25uZWN0ZWRTdGF0dXMsXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIGEgbmV3IHVzZXIgaXMgYWRkZWRcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrIHRvIHVzZVxuXHRcdCAqL1xuXHRcdHNldE9uVXNlckFkZGVkOiBfc2V0T25Vc2VyQWRkZWQsXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIHRoZSB1c2VyIGhhcyBjaGFuZ2VkXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFjayB0byB1c2Vcblx0XHQgKi9cblx0XHRzZXRPblVzZXJDaGFuZ2VkOiBfc2V0T25Vc2VyQ2hhbmdlZCxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSB1c2VyIGhhcyBiZWVuIHJlbW92ZWQuXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFjayB0byB1c2Vcblx0XHQgKi9cblx0XHRzZXRPblVzZXJSZW1vdmVkOiBfc2V0T25Vc2VyUmVtb3ZlZCxcblx0XHQvKipcblx0XHQgKiBHYXRoZXIgdGhlIGludml0ZWVzIHRvIHRoZSByb29tLlxuXHRcdCAqIERlZmluZXMgYSBjYWxsYmFjayB0byB0cmlnZ2VyIGZvciBJbnZpdGUgY2hhbmdlcywgYW5kIGNhbGxzIGNhbGxiYWNrcyBmb3Igcm9vbSBpbnZpdGUgYWNjZXB0YXRpb24gb3IgcmVmdXNlLlxuXHRcdCAqIEZvciBlYWNoIGludml0ZWUgYSBub2RlIGlzIGNyZWF0ZWQgaW4gdGhlIGRhdGFiYXNlIGFib3V0IHRoZSBJbnZpdGUgbGlzdC5cblx0XHQgKiBJbiBhZGR0aW9uLCBhIG5vZGUgaXMgY3JlYXRlZCB0b28gZm9yIGVhY2ggaW52aXRlZSBhYm91dCB0aGUgcGFydGljaXBhbnRMaXN0LlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3Jvb21JZCAtIFRoZSByb29tIHVzZWQgYXMgdGhlIG5hbWUgb2YgYSBicmFuY2ggaXMgdGhlIGRhdGFiYXNlXG5cdFx0ICogQHBhcmFtIHthcnJheX0gcF9ndWVzdElkcyAtIEFuIGFycmF5IHBvc3Nlc3NpbmcgdGhlIGlkZW50aWZpZXJzIG9mIHRoZSBpbnZpdGVlc1xuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3RvcGljIC0gY3VzdG9tIG1lc3NhZ2UgZm9yIHRoZSBpbnZpdGF0aW9uXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9zdGF0dXNDaGFuZ2VkQ2IgLSBvcHRpb25hbCA6IGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gYW4gaW52aXRlZSBhY2NlcHRzL3JlamVjdGVkL2NhbmNlbGVkIHRoZSBJbnZpdGVcblx0XHQgKi9cblx0XHRpbnZpdGVUb1Jvb206IF9pbnZpdGVUb1Jvb20sXG5cdFx0LyoqXG5cdFx0ICogQ2FuY2VscyB0aGUgSW52aXRlXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHBfcm9vbUlkIC0gVGhlIHJvb20gSWQgb2YgdGhlIEludml0ZVxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX2d1ZXN0SWRzIC0gb3B0aW9uYWwgOiBBbiBhcnJheSBwb3NzZXNzaW5nIHRoZSBpZGVudGlmaWVycyBvZiB0aGUgaW52aXRlZXMuIChpZiB1bmRlZmluZWQgLCAgYWxsIGludml0ZWUgd2lsbCBoYXZlIHRoZWlyIEludml0ZSBjYW5jZWxlZClcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaW52aXRlSWQgLSBUaGUgaW52aXRlIGlkZW50aWZpZXJcblx0XHQgKi9cblx0XHRjYW5jZWxJbnZpdGF0aW9uOiBfY2FuY2VsSW52aXRhdGlvbixcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSByb29tIGludml0ZSBoYXMgYmVlbiByZWNlaXZlZC5cblx0XHQgKiBPdGhlciBjYWxsYmFja3Mgd2lsbCBiZSB0cmlnZ2VyZWQgYWJvdXQgSW52aXRlIGxpc3RzLlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uTmV3Um9vbUludml0YXRpb25DYiAtIFRoZSBjYWxsYmFjayB0cmlnZ2VycyB3aGVuIGEgSW52aXRlIGlzIHJlY2VpdmVkIChzdGF0dXMgPSBvbiBnb2luZylcblx0XHQgKi9cblx0XHRzZXRPbk5ld1Jvb21JbnZpdGF0aW9uOiBfc2V0T25OZXdSb29tSW52aXRhdGlvbixcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSByb29tIGludml0ZSBoYXMgYmVlbiByZWNlaXZlZC5cblx0XHQgKiBPdGhlciBjYWxsYmFja3Mgd2lsbCBiZSB0cmlnZ2VyZWQgYWJvdXQgSW52aXRlIGxpc3RzLlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uUm9vbUludml0YXRpb25DaGFuZ2VkQ2IgLSBUaGUgY2FsbGJhY2sgdHJpZ2dlcnMgd2hlbiB0aGUgc2F0dXMgb24gdGhlIEludml0ZSByZWNlaXZlZCBoYXMgY2hhbmdlZCAoc3RhdHVzID0gYWNjZXB0ZWQvcmVqZWN0ZWQvY2FuY2VsZWQpXG5cdFx0ICovXG5cdFx0c2V0T25Sb29tSW52aXRhdGlvbkNoYW5nZWQ6IF9zZXRPblJvb21JbnZpdGF0aW9uQ2hhbmdlZCxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIGEgdGltZW91dCB0byByZWplY3QgYXV0b21hdGljYWxseSB0aGUgSW52aXRlXG5cdFx0ICogT3RoZXIgY2FsbGJhY2tzIHdpbGwgYmUgdHJpZ2dlcmVkIGFib3V0IEludml0ZSBsaXN0cy5cblx0XHQgKiBAcGFyYW0ge2ludGVnZXJ9IHBfdGltZW91dCAtIFRoZSBkZWxheVxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3JlYXNvbiAtIG9wdGlvbmFsIGluZm8gYWJvdXQgdGhlIHJlamVjdFxuXHRcdCAqL1xuXHRcdHNldE5ld1Jvb21JbnZpdGF0aW9uVGltZW91dDogX3NldE5ld1Jvb21JbnZpdGF0aW9uVGltZW91dCxcblxuXHRcdC8qKlxuXHRcdCAqIG1vdmUgYWxsIHRoZSBub24gYWN0aXZlIGludml0YXRpb25zIHByb2Nlc3NlZCBvZiBhbiB1c2VyIHRvIHRoZSBpbnZpdGF0aW9uIExpc3QgSGlzdG9yeTpcblx0XHQgKiBBbGwgaW52aXRhdGlvbnMgd2l0aCBzdGF0dXMgQ2FuY2VsZWQgb3IgUmVqZWN0ZWQgd2lsbCBiZSBhcmNoaXZlZFxuXHRcdCAqIEFsbCBpbnZpdGF0aW9uIHdpdGggc3RhdHVzIE9uZ29pbmcgb3IgQWNjZXB0ZWQgV2lsbCBiZSBhcmNoaXZlZCBpZiB0aGUgY29ycmVzcG9uZGluZyByb29tIGlzIGNsb3NlZFxuXHRcdCAqIElmIGFuIGludml0YXRpb24gd2l0aCBzdGF0dXMgXCJPbmdvaW5nXCIgaXMgYXJjaGl2ZWQsIGl0cyBzdGF0dXMgd2lsbCBiZSBzZXQgdG8gY2FuY2VsZWRcblx0XHQgKiBAcGFyYW0gcF9jYiAtIFRoaXMgY2FsbGJhY2sgaXMgdHJpZ2dlciB3aGVuIGFyY2hpdmUgaXMgY29tcGxldGVcblx0XHQgKi9cblx0XHRhcmNoaXZlTXlJbnZpdGF0aW9uczogKHBfY2IpID0+IHtcblx0XHRcdHJldHVybiBfYXJjaGl2ZUludml0YXRpb25zKG1lLCBwX2NiKTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIE1ha2VzIGFuIGludml0ZSBhY2NlcHRlZCwgYW5kIGRlZmluZXMgdGhlIFwiYWNjZXB0ZWRcIiBmbGFnIG9mIHRoaXMgaW52aXRlIGF0IHRydWUgaW4gdGhlIGRhdGFiYXNlLlxuXHRcdCAqIEBwYXJhbSBwX2ludml0YXRpb25EYXRhIC1cblx0XHQgKi9cblx0XHRhY2NlcHRJbnZpdGF0aW9uOiBfYWNjZXB0SW52aXRhdGlvbixcblxuXHRcdC8qKlxuXHRcdCAqIFJlZnVzZXMgdGhlIGludml0ZSBhbmQgc2V0IHRoZSBcImFjY2VwdGVkXCIgZmxhZyBvZiB0aGlzIGludml0ZSBpbiB0aGUgZGF0YWJhc2UgdG8gZmFsc2Vcblx0XHQgKiBAcGFyYW0gcF9pbnZpdGF0aW9uRGF0YSAtIFRoZSBpbnZpdGUgZGF0YVxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3JlYXNvbiAtIG9wdGlvbmFsIGluZm8gYWJvdXQgdGhlIHJlamVjdFxuXHRcdCAqL1xuXHRcdHJlamVjdEludml0YXRpb246IF9yZWplY3RJbnZpdGF0aW9uLFxuXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyBhIGNhbGxiYWNrIGZvciBhIHBhcnRpY3VsYXIgZXZlbnRcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcF9ldnQgLSBUbyBjaG9vc2UgYmV0d2VlbiBcInJvb21JbnZpdGVcIiwgXCJyb29tSW52aXRlQWNjZXB0ZWRcIiwgXCJyb29tSW52aXRlQ2FuY2VsZWRcIiwgXCJ1c2VyXCIgYW5kIFwidXNlclJlbW92YWxcIlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2sgdG8gcmlzZVxuXHRcdCAqL1xuXHRcdG9uOiAocF9ldnQsIHBfY2IpID0+IHtcblx0XHRcdHN3aXRjaCAocF9ldnQpIHtcblx0XHRcdGNhc2UgJ25ld1Jvb21JbnZpdGF0aW9uJzpcblx0XHRcdFx0X3NldE9uTmV3Um9vbUludml0YXRpb24ocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAncm9vbUludml0YXRpb25DaGFuZ2VkJzpcblx0XHRcdFx0X3NldE9uUm9vbUludml0YXRpb25DaGFuZ2VkKHBfY2IpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3VzZXJBZGRlZCc6XG5cdFx0XHRcdF9zZXRPblVzZXJBZGRlZChwX2NiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICd1c2VyQ2hhbmdlZCc6XG5cdFx0XHRcdF9zZXRPblVzZXJDaGFuZ2VkKHBfY2IpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3VzZXJSZW1vdmVkJzpcblx0XHRcdFx0X3NldE9uVXNlclJlbW92ZWQocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0Y29uc29sZS5lcnJvcigncmVhY2guc2V0OiBubyBzdWNoIGV2ZW50Jyk7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIENsb3NlcyBhbmQgcmVtb3ZlcyBjYWxsYmFja3Ncblx0XHQgKi9cblx0XHRjbG9zZTogX2Nsb3NlXG5cdH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCByZWFjaDtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9yZWFjaC5qc1xuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3Qva2V5c1wiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cy5qc1xuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3Qua2V5cycpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi8uLi9tb2R1bGVzLyQuY29yZScpLk9iamVjdC5rZXlzO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gMTkuMS4yLjE0IE9iamVjdC5rZXlzKE8pXG52YXIgdG9PYmplY3QgPSByZXF1aXJlKCcuLyQudG8tb2JqZWN0Jyk7XG5cbnJlcXVpcmUoJy4vJC5vYmplY3Qtc2FwJykoJ2tleXMnLCBmdW5jdGlvbigka2V5cyl7XG4gIHJldHVybiBmdW5jdGlvbiBrZXlzKGl0KXtcbiAgICByZXR1cm4gJGtleXModG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmtleXMuanNcbiAqKiBtb2R1bGUgaWQgPSAxMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gNy4xLjEzIFRvT2JqZWN0KGFyZ3VtZW50KVxudmFyIGRlZmluZWQgPSByZXF1aXJlKCcuLyQuZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC50by1vYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSAxM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gNy4yLjEgUmVxdWlyZU9iamVjdENvZXJjaWJsZShhcmd1bWVudClcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCA9PSB1bmRlZmluZWQpdGhyb3cgVHlwZUVycm9yKFwiQ2FuJ3QgY2FsbCBtZXRob2Qgb24gIFwiICsgaXQpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmRlZmluZWQuanNcbiAqKiBtb2R1bGUgaWQgPSAxNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vJC5leHBvcnQnKVxuICAsIGNvcmUgICAgPSByZXF1aXJlKCcuLyQuY29yZScpXG4gICwgZmFpbHMgICA9IHJlcXVpcmUoJy4vJC5mYWlscycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpe1xuICB2YXIgZm4gID0gKGNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldXG4gICAgLCBleHAgPSB7fTtcbiAgZXhwW0tFWV0gPSBleGVjKGZuKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbigpeyBmbigxKTsgfSksICdPYmplY3QnLCBleHApO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5vYmplY3Qtc2FwLmpzXG4gKiogbW9kdWxlIGlkID0gMTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuLyQuZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgPSByZXF1aXJlKCcuLyQuY29yZScpXG4gICwgY3R4ICAgICAgID0gcmVxdWlyZSgnLi8kLmN0eCcpXG4gICwgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkZcbiAgICAsIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0LkdcbiAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcbiAgICAsIElTX1BST1RPICA9IHR5cGUgJiAkZXhwb3J0LlBcbiAgICAsIElTX0JJTkQgICA9IHR5cGUgJiAkZXhwb3J0LkJcbiAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0LldcbiAgICAsIGV4cG9ydHMgICA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pXG4gICAgLCB0YXJnZXQgICAgPSBJU19HTE9CQUwgPyBnbG9iYWwgOiBJU19TVEFUSUMgPyBnbG9iYWxbbmFtZV0gOiAoZ2xvYmFsW25hbWVdIHx8IHt9KVtQUk9UT1RZUEVdXG4gICAgLCBrZXksIG93biwgb3V0O1xuICBpZihJU19HTE9CQUwpc291cmNlID0gbmFtZTtcbiAgZm9yKGtleSBpbiBzb3VyY2Upe1xuICAgIC8vIGNvbnRhaW5zIGluIG5hdGl2ZVxuICAgIG93biA9ICFJU19GT1JDRUQgJiYgdGFyZ2V0ICYmIGtleSBpbiB0YXJnZXQ7XG4gICAgaWYob3duICYmIGtleSBpbiBleHBvcnRzKWNvbnRpbnVlO1xuICAgIC8vIGV4cG9ydCBuYXRpdmUgb3IgcGFzc2VkXG4gICAgb3V0ID0gb3duID8gdGFyZ2V0W2tleV0gOiBzb3VyY2Vba2V5XTtcbiAgICAvLyBwcmV2ZW50IGdsb2JhbCBwb2xsdXRpb24gZm9yIG5hbWVzcGFjZXNcbiAgICBleHBvcnRzW2tleV0gPSBJU19HTE9CQUwgJiYgdHlwZW9mIHRhcmdldFtrZXldICE9ICdmdW5jdGlvbicgPyBzb3VyY2Vba2V5XVxuICAgIC8vIGJpbmQgdGltZXJzIHRvIGdsb2JhbCBmb3IgY2FsbCBmcm9tIGV4cG9ydCBjb250ZXh0XG4gICAgOiBJU19CSU5EICYmIG93biA/IGN0eChvdXQsIGdsb2JhbClcbiAgICAvLyB3cmFwIGdsb2JhbCBjb25zdHJ1Y3RvcnMgZm9yIHByZXZlbnQgY2hhbmdlIHRoZW0gaW4gbGlicmFyeVxuICAgIDogSVNfV1JBUCAmJiB0YXJnZXRba2V5XSA9PSBvdXQgPyAoZnVuY3Rpb24oQyl7XG4gICAgICB2YXIgRiA9IGZ1bmN0aW9uKHBhcmFtKXtcbiAgICAgICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBDID8gbmV3IEMocGFyYW0pIDogQyhwYXJhbSk7XG4gICAgICB9O1xuICAgICAgRltQUk9UT1RZUEVdID0gQ1tQUk9UT1RZUEVdO1xuICAgICAgcmV0dXJuIEY7XG4gICAgLy8gbWFrZSBzdGF0aWMgdmVyc2lvbnMgZm9yIHByb3RvdHlwZSBtZXRob2RzXG4gICAgfSkob3V0KSA6IElTX1BST1RPICYmIHR5cGVvZiBvdXQgPT0gJ2Z1bmN0aW9uJyA/IGN0eChGdW5jdGlvbi5jYWxsLCBvdXQpIDogb3V0O1xuICAgIGlmKElTX1BST1RPKShleHBvcnRzW1BST1RPVFlQRV0gfHwgKGV4cG9ydHNbUFJPVE9UWVBFXSA9IHt9KSlba2V5XSA9IG91dDtcbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgLy8gZm9yY2VkXG4kZXhwb3J0LkcgPSAyOyAgLy8gZ2xvYmFsXG4kZXhwb3J0LlMgPSA0OyAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgLy8gcHJvdG9cbiRleHBvcnQuQiA9IDE2OyAvLyBiaW5kXG4kZXhwb3J0LlcgPSAzMjsgLy8gd3JhcFxubW9kdWxlLmV4cG9ydHMgPSAkZXhwb3J0O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmV4cG9ydC5qc1xuICoqIG1vZHVsZSBpZCA9IDE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzLyQuZ2xvYmFsLmpzXG4gKiogbW9kdWxlIGlkID0gMTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBjb3JlID0gbW9kdWxlLmV4cG9ydHMgPSB7dmVyc2lvbjogJzEuMi42J307XG5pZih0eXBlb2YgX19lID09ICdudW1iZXInKV9fZSA9IGNvcmU7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW5kZWZcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5jb3JlLmpzXG4gKiogbW9kdWxlIGlkID0gMThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIG9wdGlvbmFsIC8gc2ltcGxlIGNvbnRleHQgYmluZGluZ1xudmFyIGFGdW5jdGlvbiA9IHJlcXVpcmUoJy4vJC5hLWZ1bmN0aW9uJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuLCB0aGF0LCBsZW5ndGgpe1xuICBhRnVuY3Rpb24oZm4pO1xuICBpZih0aGF0ID09PSB1bmRlZmluZWQpcmV0dXJuIGZuO1xuICBzd2l0Y2gobGVuZ3RoKXtcbiAgICBjYXNlIDE6IHJldHVybiBmdW5jdGlvbihhKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEpO1xuICAgIH07XG4gICAgY2FzZSAyOiByZXR1cm4gZnVuY3Rpb24oYSwgYil7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhLCBiKTtcbiAgICB9O1xuICAgIGNhc2UgMzogcmV0dXJuIGZ1bmN0aW9uKGEsIGIsIGMpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYiwgYyk7XG4gICAgfTtcbiAgfVxuICByZXR1cm4gZnVuY3Rpb24oLyogLi4uYXJncyAqLyl7XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoYXQsIGFyZ3VtZW50cyk7XG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmN0eC5qc1xuICoqIG1vZHVsZSBpZCA9IDE5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYodHlwZW9mIGl0ICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ICsgJyBpcyBub3QgYSBmdW5jdGlvbiEnKTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvJC5hLWZ1bmN0aW9uLmpzXG4gKiogbW9kdWxlIGlkID0gMjBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuICEhZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy8kLmZhaWxzLmpzXG4gKiogbW9kdWxlIGlkID0gMjFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeVwiKSwgX19lc01vZHVsZTogdHJ1ZSB9O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9qc29uL3N0cmluZ2lmeS5qc1xuICoqIG1vZHVsZSBpZCA9IDIyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY29yZSA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvJC5jb3JlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHN0cmluZ2lmeShpdCl7IC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tdW51c2VkLXZhcnNcbiAgcmV0dXJuIChjb3JlLkpTT04gJiYgY29yZS5KU09OLnN0cmluZ2lmeSB8fCBKU09OLnN0cmluZ2lmeSkuYXBwbHkoSlNPTiwgYXJndW1lbnRzKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeS5qc1xuICoqIG1vZHVsZSBpZCA9IDIzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJcbi8qKlxuICogQGZpbGUgdXRpbHMuanMgLSBKUyBmaWxlIGZvciB1dGlscyBtZXRob2RzLlxuICogQGF1dGhvciBXZWJjb21cbiAqL1xuXG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZGVzY3JpcHRpb24gVGhlIHV0aWxzIGNsYXNzXG4gKi9cbmNvbnN0IHV0aWxzID0gZnVuY3Rpb24oKSB7XG5cdC8qKlxuXHQgKlxuXHQgKi9cblx0ZnVuY3Rpb24gczQoKSB7XG5cdFx0cmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7XG5cdH1cblx0LyoqXG5cdCAqIEdlbmVyYXRlcyBhbiBpZGVudGlmaWVyLiBUd28gY2FsbHMgb2YgdGhpcyBtZXRob2RlIG1heSBub3QgcmV0dXJuIHRoZSBzYW1lIGlkZW50aWZpZXJcblx0ICogQHJldHVybiB7c3RyaW5nfSAtIFRoZSBpZGVudGlmaWVyXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ3VpZCgpIHtcblx0XHRyZXR1cm4gYCR7czQoKX0ke3M0KCl9LSR7czQoKX0tJHtzNCgpfS0ke3M0KCl9LSR7czQoKX0ke3M0KCl9JHtzNCgpfWA7XG5cdH1cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgYXBwbGljYXRpb24gaW5zdGFuY2UgaW5kZW50aWZpZXJcblx0ICovXG5cdGNvbnN0IF9hcHBJbnN0YW5jZUlkID0gX2d1aWQoKTtcblxuXHRyZXR1cm4ge1xuXHRcdGFwcEluc3RhbmNlSWQ6IF9hcHBJbnN0YW5jZUlkXG5cdH07XG59KCk7XG5cbmV4cG9ydCBkZWZhdWx0IHV0aWxzO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3V0aWxzLmpzXG4gKiovIiwiLyoqXG4gKiBAZmlsZSByb29tLmpzIC0gSlMgZmlsZSB0byB1c2UgZm9yIHRoZSByb29tIHNlcnZpY2UuXG4gKiBAYXV0aG9yIFdlYmNvbVxuICovXG5cbi8qZXNsaW50IGNvbXBsZXhpdHk6MSwgbWF4LXN0YXRlbWVudHM6IDEsIG1heC1sZW46IDEqL1xuXG5pbXBvcnQgYWN0aW9ucyBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IGxvY2Fsc3RyZWFtIGZyb20gJy4vbG9jYWxzdHJlYW0nO1xuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMnO1xuXG4vKipcbiAqIFJPT01fU1RBVFVTX0NMT1NFIHN0YXR1cyA6IHJvb20gaXMgQ0xPU0UgLyBpbmFjdGl2ZVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBST09NX1NUQVRVU19DTE9TRSA9ICdDTE9TRSc7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZGVzY3JpcHRpb24gVGhlIHJvb20gb2JqZWN0IHdpdGggaXRzIHN0cmVhbXMsIG1lc3NhZ2VzLCBmbGFncyBhbmQgY2FsbGJhY2tzLiBUaGUgcHVibGlzaGVkIG1lZGlhIHN0cmVhbXMsIHRoZSBXZWJSVEMgc3RhY2tzLCB0aGUgaW5zdGFudCBtZXNzYWdlcywgYW5kIHRoZSBwYXJ0aWNpcGFudCBsaXN0c1xuICogYXJlIG1hbmFnZWQgaW4gdGhpcyBkYXRhIHN0cnVjdHVyZS5cbiAqIEBwYXJhbSBwX21lIC0gVGhlIHVzZXIgaWRlbnRpZmllciwgaWRlbnRpZnlpbmcgdGhlIGN1cnJlbnQgdXNlciBpbiB0aGUgZGF0YWJhc2VcbiAqIEBwYXJhbSBwX3Jvb21JZCAtIFRoZSByb29tIGlkZW50aWZpZXIsIGlkZW50aWZ5aW5nIGluIHRoZSBkYXRhYmFzZSB0aGUgcm9vbSBpbiB1c2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHBfbWUsIHBfcm9vbUlkLCBkYXRhcmVmcywgd2VicnRjbW5ncikge1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHJvb20gaWRlbnRpZmllciwgaWRlbnRpZnlpbmcgYSByb29tIGluIHRoZSBkYXRhYmFzZVxuXHQgKi9cblx0Y29uc3Qgcm9vbUlkID0gcF9yb29tSWQ7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHVzZXIgaWRlbnRpZmllclxuXHQgKi9cblx0Y29uc3QgbWUgPSBwX21lO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgZGF0YXJlZiBwb2ludGVyIHBvaW50aW5nIHRvIGEgbm9kZSBpZGVudGlmaWVkIGJ5IHRoZSByb29tIGlkZW50aWZpZXIgdW5kZXIgdGhlIHJvb21zIG5vZGVcblx0ICovXG5cdGNvbnN0IGRhdGFyZWYgPSBkYXRhcmVmcy5nZXRSb29tcygpLmNoaWxkKHJvb21JZCk7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIFdlYlJUQyBzdGFja3MgdXNlZCBpbiB0aGlzIHJvb21cblx0ICovXG5cdGxldCByb29tV2VicnRjU3RhY2tzID0ge307XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGF2YWlsYWJsZSBzdHJlYW1zXG5cdCAqL1xuXHRsZXQgbUF2YWlsYWJsZVN0cmVhbXMgPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIGRhdGEgc3RydWN0dXJlcyBmb3Igc3RyZWFtcyB3aGljaCBwb3NzZXNzIGNhbGxiYWNrcyB0byB0cmlnZ2VyIGluIEpTT04gZm9ybWF0LlxuXHQgKiBUaGVzZSBjYWxsYmFja3MgYXJlIGFkZFN1YnNjcmliZXJMaXN0Q2IgYW5kIHJlbW92ZVN1YnNjcmliZXJzTGlzdENiLlxuXHQgKi9cblx0bGV0IG1TdHJlYW1zID0gW107XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIGFsbCB0aGUgc3RyZWFtIG1hcmtlZCBhcyBtdXRlZFxuXHQgKi9cblx0bGV0IG1NdXRlZFN0cmVhbXMgPSBbXTtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgY2FsbGJhY2sgdG8gdHJpZ2dlciBmb3IgdW5wdWJsaXNoZWQgcmVtb3RlIG9iamVjdHNcblx0ICovXG5cdGxldCByZW1vdGVVbnB1Ymxpc2hlZENiID0gbnVsbDtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIHRyaWdnZXJlZCB3aGVuIGEgbGlzdCBvZiBpbnN0YW50IG1lc3NhZ2VzIGhhcyBiZWVuIHJlY2VpdmVkXG5cdCAqL1xuXHRsZXQgaW5zdGFudE1lc3NhZ2VMaXN0Q2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFVzZXIncyBjYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIGxpc3Qgb2YgbWVkaWFzIGhhcyBiZWVuIHB1Ymxpc2hlZFxuXHQgKi9cblx0bGV0IHB1Ymxpc2hlZE1lZGlhTGlzdENiID0gbnVsbDtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIHJvb20ncyBjYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIGxpc3Qgb2YgbWVkaWFzIGhhcyBiZWVuIHB1Ymxpc2hlZFxuXHQgKi9cblx0bGV0IHB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiB1c2VyJ3MgY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gYSBsaXN0IG9mIG1lZGlhcyBoYXMgYmVlbiB1bnB1Ymxpc2hlZFxuXHQgKi9cblx0bGV0IHVuUHVibGlzaGVkTWVkaWFMaXN0Q2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIHJvb20ncyBjYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIGxpc3Qgb2YgbWVkaWFzIGhhcyBiZWVuIHB1Ymxpc2hlZFxuXHQgKi9cblx0bGV0IHVuUHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0gPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIHRyaWdnZXJlZCB3aGVuIGEgbGlzdCBvZiBwYXJ0aWNpcGFudHMgam9pbnMgdGhlIHJvb20gKGFkZGVkKVxuXHQgKi9cblx0bGV0IHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBDYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIGxpc3Qgb2YgcGFydGljaXBhbnRzIGpvaW5zIHRoZSByb29tIChjaGFuZ2VkKVxuXHQgKi9cblx0bGV0IHBhcnRpY2lwYW50TGlzdEpvaW5DaGFuZ2VkQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIHRyaWdnZXJlZCB3aGVuIGEgbGlzdCBvZiBwYXJ0aWNpcGFudHMgbGVhdmVzIHRoZSByb29tXG5cdCAqL1xuXHRsZXQgcGFydGljaXBhbnRMaXN0TGVhdmVDYiA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEFkZHMgYW4gYXZhaWxhYmxlIHN0cmVhbVxuXHQgKiBAcGFyYW0gZGF0YSAtIFRoZSBzdHJlYW0gdG8gYWRkXG5cdCAqL1xuXHRmdW5jdGlvbiBfYWRkQXZhaWxhYmxlU3RyZWFtKGRhdGEpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9hZGRBdmFpbGFibGVTdHJlYW0pZGF0YT0ke0pTT04uc3RyaW5naWZ5KGRhdGEpfWApO1xuXHRcdG1BdmFpbGFibGVTdHJlYW1zLnB1c2goZGF0YSk7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyBhbiBhdmFpbGFibGUgc3RyZWFtXG5cdCAqIEBwYXJhbSBzdHJlYW0gLSBUaGUgc3RyZWFtSWQgdG8gcmVtb3ZlXG5cdCAqL1xuXHRmdW5jdGlvbiBfcmVtb3ZlQXZhaWxhYmxlU3RyZWFtKHN0cmVhbUlkKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfcmVtb3ZlQXZhaWxhYmxlU3RyZWFtKXN0cmVhbUlkPSR7c3RyZWFtSWR9YCk7XG5cdFx0aWYgKG1BdmFpbGFibGVTdHJlYW1zICYmIHN0cmVhbUlkKSB7XG5cdFx0XHRmb3IgKGxldCBpID0gbUF2YWlsYWJsZVN0cmVhbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0aWYgKG1BdmFpbGFibGVTdHJlYW1zW2ldICYmIE9iamVjdC5rZXlzKG1BdmFpbGFibGVTdHJlYW1zW2ldKVswXSAmJiBPYmplY3Qua2V5cyhtQXZhaWxhYmxlU3RyZWFtc1tpXSlbMF0gPT09IHN0cmVhbUlkKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIG1BdmFpbGFibGVTdHJlYW1zW2ldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIGEgV2ViY29tIGxpc3RlbmVyLlxuXHQgKiBEZWZpbmVzIGNhbGxiYWNrcyAoaWYgbm90IGFscmVhZHkgZGVmaW5lZCkgZm9yIDogaW5zdGFudCBtZXNzYWdlcywgbWVkaWEgbGlzdCBhbmQgcGFydGljaXBhbnRzLlxuXHQgKiBUaGVzZSBjYWxsYmFja3MgYXJlIGNhbGxlZCBpZiBhIG5ldyB2YWx1ZSBpcyBhZGRlZCBvciBpZiBhIHZhbHVlIGhhcyBiZWVuIHJlbW92ZWQgaW4gdGhlIGRhdGFiYXNlLlxuXHQgKi9cblx0ZnVuY3Rpb24gaW5pdFdlYmNvbUxpc3RlbmVyKCkge1xuXHRcdGlmICghcHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0pIHtcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtID0gZnVuY3Rpb24gKHNuYXBzaG90KSB7XG5cdFx0XHRcdGNvbnN0XG5cdFx0XHRcdFx0b2JqID0ge30sXG5cdFx0XHRcdFx0bmFtZSA9IHNuYXBzaG90Lm5hbWUoKSxcblx0XHRcdFx0XHR2YWx1ZSA9IHNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Om9uUHVibGlzaGVkU3RyZWFtRm9yQXZhaWxhYmxlU3RyZWFtKXN0cmVhbT0ke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gKTtcblx0XHRcdFx0b2JqW25hbWVdID0gdmFsdWU7XG5cdFx0XHRcdG9ialtuYW1lXS5yb29tSWQgPSByb29tSWQ7XG5cdFx0XHRcdF9hZGRBdmFpbGFibGVTdHJlYW0ob2JqKTtcblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdwdWJsaXNoZWRNZWRpYUxpc3QnKS5vbignY2hpbGRfYWRkZWQnLCBwdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSk7XG5cdFx0fVxuXG5cdFx0aWYgKCF1blB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtKSB7XG5cdFx0XHR1blB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtID0gZnVuY3Rpb24gKHNuYXBzaG90KSB7XG5cdFx0XHRcdGNvbnN0IHN0cmVhbUlkID0gc25hcHNob3QubmFtZSgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Om9uVW5QdWJsaXNoZWRTdHJlYW1Gb3JBdmFpbGFibGVTdHJlYW0pc3RyZWFtPSR7c3RyZWFtSWR9YCk7XG5cdFx0XHRcdF9yZW1vdmVBdmFpbGFibGVTdHJlYW0oc3RyZWFtSWQpO1xuXHRcdFx0fTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpLm9uKCdjaGlsZF9yZW1vdmVkJywgdW5QdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSByb29tIG9iamVjdCBieSBhZGRpbmcgYSBuZXcgdmFsdWUgaW4gYSBjaGlsZCBpZGVudGlmaWVkIGJ5IHRoZSB1c2VyIGlkZW50aWZpZXIgdW5kZXJcblx0ICogdGhlIHBhcnRpY2lwYW50TGlzdCBub2RlXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdGRhdGFyZWYuY2hpbGQoYHBhcnRpY2lwYW50TGlzdC8ke21lfWApLnVwZGF0ZSh7XG5cdFx0XHRjb25uZWN0ZWQ6IHRydWUsXG5cdFx0XHR3YXNJbnNpZGVSb29tOiB0cnVlXG5cdFx0fSk7XG5cdFx0ZGF0YXJlZi5jaGlsZChgcGFydGljaXBhbnRMaXN0LyR7bWV9L2Nvbm5lY3RlZGApLm9uRGlzY29ubmVjdCgpLnNldChmYWxzZSk7XG5cdFx0aW5pdFdlYmNvbUxpc3RlbmVyKCk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJuIHRoZSByb29tIGlkZW50aWZpZXJcblx0ICogQHJldHVybiB7c3RyaW5nfSAtIFRoZSByb29tIGlkZW50aWZpZXJcblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRSb29tSWQoKSB7XG5cdFx0cmV0dXJuIHJvb21JZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSB1c2VyIGlkZW50aWZpZXJcblx0ICogQHJldHVybiB7c3RyaW5nfSAtIFRoZSB1c2VyIGlkZW50aWZpZXJcblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRNZSgpIHtcblx0XHRyZXR1cm4gbWU7XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIFBhcnRpY2lwYW50cyBhZGRlZCBsaXN0ZW5lci5cblx0ICogRGVmaW5lcyBjYWxsYmFjayAocmVtb3ZlIGFueSBleGlzdGluZyBvbmUpIGZvciB0aGUgcGFydGljaXBhbnRzLlxuXHQgKiBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCwgZmlyc3QgZm9yIGFueSBleGlzdGluZyBjb25uZWN0ZWQgcGFydGljaXBhbnRzLCB0aGVuIHdoZW4gYSBuZXcgcGFydGljaXBhbnQgaXMgYWRkZWQuXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0T25QYXJ0aWNpcGFudEpvaW4ocF9jYikge1xuXHRcdGNvbnN0IHBhcnRpY2lwYW50TGlzdFJlZiA9IGRhdGFyZWYuY2hpbGQoJ3BhcnRpY2lwYW50TGlzdCcpO1xuXG5cdFx0aWYgKHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiKSB7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiKTtcblx0XHRcdHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocGFydGljaXBhbnRMaXN0Sm9pbkNoYW5nZWRDYikge1xuXHRcdFx0cGFydGljaXBhbnRMaXN0UmVmLm9mZignY2hpbGRfY2hhbmdlZCcsIHBhcnRpY2lwYW50TGlzdEpvaW5DaGFuZ2VkQ2IpO1xuXHRcdFx0cGFydGljaXBhbnRMaXN0Sm9pbkNoYW5nZWRDYiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0cGFydGljaXBhbnRMaXN0Sm9pbkFkZGVkQ2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0Y29uc3QgdXNlciA9IHNuYXBzaG90Lm5hbWUoKTtcblx0XHRcdFx0aWYgKHNuYXBzaG90LnZhbCgpICYmIHNuYXBzaG90LnZhbCgpLmNvbm5lY3RlZCAmJiBzbmFwc2hvdC52YWwoKS53YXNJbnNpZGVSb29tKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfc2V0T25QYXJ0aWNpcGFudEpvaW4pIHVzZXIgaGFzIGpvaW5lZDogJHt1c2VyfWApO1xuXHRcdFx0XHRcdHBfY2IodXNlcik7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RSZWYub24oJ2NoaWxkX2FkZGVkJywgcGFydGljaXBhbnRMaXN0Sm9pbkFkZGVkQ2IpO1xuXG5cdFx0XHRwYXJ0aWNpcGFudExpc3RKb2luQ2hhbmdlZENiID0gZnVuY3Rpb24gKHNuYXBzaG90KSB7XG5cdFx0XHRcdGNvbnN0IHVzZXIgPSBzbmFwc2hvdC5uYW1lKCk7XG5cdFx0XHRcdGlmIChzbmFwc2hvdC52YWwoKSAmJiAoc25hcHNob3QudmFsKCkuY29ubmVjdGVkICYmIHNuYXBzaG90LnZhbCgpLndhc0luc2lkZVJvb20pKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfc2V0T25QYXJ0aWNpcGFudEpvaW4pIHVzZXIgaGFzIGpvaW5lZDogJHt1c2VyfWApO1xuXHRcdFx0XHRcdHBfY2IodXNlcik7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RSZWYub24oJ2NoaWxkX2NoYW5nZWQnLCBwYXJ0aWNpcGFudExpc3RKb2luQ2hhbmdlZENiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9zZXRPblBhcnRpY2lwYW50Sm9pbilwYXJhbWV0ZXIgaW5jb3JyZWN0LiBFeHBlY3RlZCBmdW5jdGlvbmApO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgUGFydGljaXBhbnRzIGxlZnQgbGlzdGVuZXIuXG5cdCAqIERlZmluZXMgY2FsbGJhY2sgKHJlbW92ZSBhbnkgZXhpc3Rpbmcgb25lKSBmb3IgdGhlIHBhcnRpY2lwYW50cy5cblx0ICogVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgd2hlbiBhIG5ldyBwYXJ0aWNpcGFudCBpcyByZW1vdmVkLlxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE9uUGFydGljaXBhbnRMZWF2ZShwX2NiKSB7XG5cblx0XHRpZiAocGFydGljaXBhbnRMaXN0TGVhdmVDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgncGFydGljaXBhbnRMaXN0Jykub2ZmKCdjaGlsZF9jaGFuZ2VkJywgcGFydGljaXBhbnRMaXN0TGVhdmVDYik7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RMZWF2ZUNiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RMZWF2ZUNiID0gKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHVzZXIgPSBzbmFwc2hvdC5uYW1lKCk7XG5cdFx0XHRcdGlmIChzbmFwc2hvdC52YWwoKSAmJiAoIXNuYXBzaG90LnZhbCgpLmNvbm5lY3RlZCAmJiBzbmFwc2hvdC52YWwoKS53YXNJbnNpZGVSb29tKSkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3NldE9uUGFydGljaXBhbnRMZWF2ZSkgdXNlciBoYXMgbGVmdDogJHt1c2VyfWApO1xuXHRcdFx0XHRcdHBfY2IodXNlcik7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdwYXJ0aWNpcGFudExpc3QnKS5vbignY2hpbGRfY2hhbmdlZCcsIHBhcnRpY2lwYW50TGlzdExlYXZlQ2IpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3NldE9uUGFydGljaXBhbnRMZWF2ZSlwYXJhbWV0ZXIgaW5jb3JyZWN0LiBFeHBlY3RlZCBmdW5jdGlvbmApO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTZW5kcyBhbiBpbnN0YW50IG1lc3NhZ2UgYnkgcHVzaGluZyBhbiBuZXcgZWxlbWVudCBpbiB0aGUgZGF0YWJhc2Ugd2l0aCBhIHRpbWVzdGFtcCwgdGhlIG1lc3NhZ2UgYW5kIGl0cyBhdXRob3IgKGkuZS4gdGhlIGN1cnJlbnQgdXNlcilcblx0ICogQHBhcmFtIHtzdHJpbmd9cF9tZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gc2VuZFxuXHQgKi9cblx0ZnVuY3Rpb24gX3NlbmRJbnN0YW50TWVzc2FnZShwX21lc3NhZ2UpIHtcblx0XHRpZiAocF9tZXNzYWdlICE9PSAnJykge1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpzZW5kSW5zdGFudE1lc3NhZ2UpbWVzc2FnZT0ke3BfbWVzc2FnZX1gKTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ2luc3RhbnRNZXNzYWdlTGlzdCcpLnB1c2goe1xuXHRcdFx0XHRmcm9tOiBtZSxcblx0XHRcdFx0bWVzc2FnZTogcF9tZXNzYWdlLFxuXHRcdFx0XHR0aW1lc3RhbXA6IFdlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVBcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgaW5zdGFudCBtZXNzYWdlIGxpc3RlbmVyLlxuXHQgKiBEZWZpbmVzIGNhbGxiYWNrIChyZW1vdmUgYW55IGV4aXN0aW5nIG9uZSkgZm9yIDogaW5zdGFudCBtZXNzYWdlcy5cblx0ICogVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQsIGZpcnN0IGZvciBhbnkgZXhpc3RpbmcgaW5zdGFudCBtZXNzYWdlcywgdGhlbiB3aGVuIGEgbmV3IHZhbHVlIGlzIGFkZGVkIGluIHRoZSBkYXRhYmFzZS5cblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRPbkluc3RhbnRNZXNzYWdlKHBfY2IpIHtcblx0XHRpZiAoaW5zdGFudE1lc3NhZ2VMaXN0Q2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ2luc3RhbnRNZXNzYWdlTGlzdCcpLm9mZignY2hpbGRfYWRkZWQnLCBpbnN0YW50TWVzc2FnZUxpc3RDYik7XG5cdFx0XHRpbnN0YW50TWVzc2FnZUxpc3RDYiA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdGluc3RhbnRNZXNzYWdlTGlzdENiID0gZnVuY3Rpb24gKHNuYXBzaG90KSB7XG5cdFx0XHRcdGNvbnN0IG9iaiA9IHNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9zZXRPbkluc3RhbnRNZXNzYWdlKXJlY2VpdmUgSW5zdGFudE1lc3NhZ2U9JHtKU09OLnN0cmluZ2lmeShvYmopfWApO1xuXHRcdFx0XHRwX2NiKG9iaik7XG5cdFx0XHR9O1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgnaW5zdGFudE1lc3NhZ2VMaXN0Jykub24oJ2NoaWxkX2FkZGVkJywgaW5zdGFudE1lc3NhZ2VMaXN0Q2IpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3NldE9uSW5zdGFudE1lc3NhZ2UpcGFyYW1ldGVyIGluY29ycmVjdC4gRXhwZWN0ZWQgZnVuY3Rpb25gKTtcblx0XHR9XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBQdWJsaXNoZXMgdGhlIHN0cmVhbVxuXHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgaWRlbnRpZmllciBvZiB0aGUgc3RyZWFtIHRvIHB1Ymxpc2hcblx0ICogQHBhcmFtIGxvY2FsVmlkIC0gVGhlIGxvY2FsIHZpZGVvXG5cdCAqIEBwYXJhbSBwX2FjdGlvblR5cGUgLSBBIHZhbHVlIGRldGVybWluaW5nIHRoZSB0eXBlIG9mIHN0cmVhbSBpbiB1c2UgKHZpZGVvLCBhdWRpbywgdmlkZW8gYW5kIGF1ZGlvLCBzY3JlZW4tc2hhcmluZykuXG5cdCAqIEBwYXJhbSBnZXRMb2NhbFN0cmVhbUNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgbWVkaWFzdHJlYW0gb2JqZWN0XG5cdCAqL1xuXHRmdW5jdGlvbiBfcHVibGlzaFN0cmVhbShzdHJlYW1JZCwgbG9jYWxWaWQsIHBfYWN0aW9uVHlwZSwgZ2V0TG9jYWxTdHJlYW1DYikge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6cHVibGlzaFN0cmVhbSlyb29tSWQ9JHtyb29tSWR9LHN0cmVhbUlkPSR7c3RyZWFtSWR9LG1lPSR7bWV9LGFjdGlvblR5cGU9JHtwX2FjdGlvblR5cGV9YCk7XG5cdFx0aWYgKCEoc3RyZWFtSWQgJiYgdHlwZW9mIHN0cmVhbUlkID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tKXBhcmFtZXRlciBzdHJlYW1JZCBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IGxvY2FsRGF0YVJlZiA9IGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpLmNoaWxkKHN0cmVhbUlkKTtcblx0XHRjb25zdCByZW1vdGVEYXRhUmVmID0gbG9jYWxEYXRhUmVmLmNoaWxkKCdzdWJzY3JpYmVyc0xpc3QnKTtcblxuXHRcdGNvbnN0IHB1YkFuZFN1YnNjcmliZSA9ICgpID0+IHtcblx0XHRcdC8vIHB1Ymxpc2ggdGhlIHN0cmVhbVxuXHRcdFx0bG9jYWxEYXRhUmVmLnNldCh7XG5cdFx0XHRcdGZyb206IG1lLFxuXHRcdFx0XHRhcHBJbnN0YW5jZUlkOiB1dGlscy5hcHBJbnN0YW5jZUlkLFxuXHRcdFx0XHRhY3Rpb25UeXBlOiBwX2FjdGlvblR5cGVcblx0XHRcdH0pO1xuXHRcdFx0bG9jYWxEYXRhUmVmLm9uRGlzY29ubmVjdCgpLnJlbW92ZSgpO1xuXG5cdFx0XHQvLyBzdWJzY3JpYmUgdG8gc3RyZWFtIHVwZGF0ZXMgZm9yIGFkZFxuXHRcdFx0Y29uc3QgYWRkU3Vic2NyaWJlcnNMaXN0Q2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0Y29uc3Rcblx0XHRcdFx0XHRyZW1vdGVBcHBJbnN0YW5jZUlkID0gc25hcHNob3QubmFtZSgpLFxuXHRcdFx0XHRcdGRhdGEgPSBzbmFwc2hvdC52YWwoKSxcblx0XHRcdFx0XHRfc3Vic2NyaWJlcklkID0gZGF0YS51c2VySWQsXG5cdFx0XHRcdFx0X3BlZXJjb0lkID0gZGF0YS5wZWVyY29JZCxcblx0XHRcdFx0XHRfcGVlcmNvUmVmID0gZGF0YS5wZWVyY29SZWYsXG5cdFx0XHRcdFx0aXNBdWRpb011dGUgPSBtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXSAmJiBtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXS5hdWRpbyxcblx0XHRcdFx0XHRpc1ZpZGVvTXV0ZSA9IG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdICYmIG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLnZpZGVvLFxuXHRcdFx0XHRcdHN0cmVhbVN0YWNrSWQgPSBgJHtzdHJlYW1JZH1fcHViYDtcblxuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06OnB1Ymxpc2hTdHJlYW06OmFkZFN1YnNjcmliZXJzTGlzdENiKXN1YnNjcmliZXIgJHtfc3Vic2NyaWJlcklkfSB0byBzdHJlYW0gJHtzdHJlYW1JZH0gYWRkZWQgJHtKU09OLnN0cmluZ2lmeShkYXRhKX1gKTtcblxuXHRcdFx0XHRpZiAoIXJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tJZF0pIHtcblx0XHRcdFx0XHRyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrSWRdID0gW107XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBtU3RhY2tJZCA9IHdlYnJ0Y21uZ3IuY3JlYXRlV2VicnRjKGxvY2FsVmlkLCByZW1vdGVBcHBJbnN0YW5jZUlkLCAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpwdWJsaXNoU3RyZWFtOjphZGRTdWJzY3JpYmVyc0xpc3RDYilzdWJzY3JpYmVyICR7X3N1YnNjcmliZXJJZH0gdG8gc3RyZWFtICR7c3RyZWFtSWR9IGNvbm5lY3Rpb24gbG9zdGApO1xuXHRcdFx0XHRcdC8vb25VblB1Ymxpc2hlZFN0cmVhbShsb2NhbFZpZCwgcmVtb3RlVmlkKTtcblx0XHRcdFx0fSwgdHJ1ZSwgcF9hY3Rpb25UeXBlLCBfcGVlcmNvSWQsIF9wZWVyY29SZWYsIGlzQXVkaW9NdXRlLCBpc1ZpZGVvTXV0ZSk7XG5cblx0XHRcdFx0cm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja0lkXS5wdXNoKHtcblx0XHRcdFx0XHRzdGFja0lkOiBtU3RhY2tJZCxcblx0XHRcdFx0XHRzdWJzY3JpYmVySWQ6IF9zdWJzY3JpYmVySWQsXG5cdFx0XHRcdFx0aXNQdWJsaXNoOiB0cnVlLFxuXHRcdFx0XHRcdHBlZXJjb0lkOiBfcGVlcmNvSWQsXG5cdFx0XHRcdFx0cGVlcmNvUmVmOiBfcGVlcmNvUmVmXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQvL2RlbGV0ZSByb29tV2VicnRjU3RhY2tzW3N0cmVhbUlkK1wiX3B1YlwiXTtcblx0XHRcdFx0Ly8kKFwiZGl2I3ZpZGVvQnV0dG9uX1wiK3Jvb21JZCtcIi52aWRlb0J1dHRvbiwgZGl2I21pY0J1dHRvbl9cIityb29tSWQrXCIubWljQnV0dG9uXCIpLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIik7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBzdWJzY3JpYmUgdG8gc3RyZWFtIHVwZGF0ZXMgZm9yIHJlbW92ZVxuXHRcdFx0Y29uc3QgcmVtb3ZlU3Vic2NyaWJlcnNMaXN0Q2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0Y29uc3Rcblx0XHRcdFx0XHRzdWJzY3JpYmVySWQgPSBzbmFwc2hvdC5uYW1lKCksXG5cdFx0XHRcdFx0c3RyZWFtU3RhY2tzID0gcm9vbVdlYnJ0Y1N0YWNrc1tgJHtzdHJlYW1JZH1fcHViYF07XG5cblx0XHRcdFx0aWYgKHN1YnNjcmliZXJJZCAmJiBzdHJlYW1TdGFja3MpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06OnB1Ymxpc2hTdHJlYW06OnJlbW92ZVN1YnNjcmliZXJzTGlzdENiKXN1YnNjcmliZXIgJHtzdWJzY3JpYmVySWR9IHRvIHN0cmVhbSAke3N0cmVhbUlkfSByZW1vdmVkYCk7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IHN0cmVhbVN0YWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdFx0aWYgKHN0cmVhbVN0YWNrc1tpXS5zdWJzY3JpYmVySWQgPT09IHN1YnNjcmliZXJJZCkge1xuXHRcdFx0XHRcdFx0XHR3ZWJydGNtbmdyLmNsb3NlV2VicnRjKHN0cmVhbVN0YWNrc1tpXS5zdGFja0lkLCB0cnVlKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZGVsZXRlIHJvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3B1YmBdO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHRtU3RyZWFtc1tzdHJlYW1JZF0gPSB7XG5cdFx0XHRcdGFkZFN1YnNjcmliZXJzTGlzdENiLFxuXHRcdFx0XHRyZW1vdmVTdWJzY3JpYmVyc0xpc3RDYlxuXHRcdFx0fTtcblxuXHRcdFx0cmVtb3RlRGF0YVJlZi5vbignY2hpbGRfYWRkZWQnLCBhZGRTdWJzY3JpYmVyc0xpc3RDYik7XG5cdFx0XHRyZW1vdGVEYXRhUmVmLm9uKCdjaGlsZF9yZW1vdmVkJywgcmVtb3ZlU3Vic2NyaWJlcnNMaXN0Q2IpO1xuXHRcdH07XG5cblx0XHQvL2luaXQgbG9jYWwgc3RyZWFtXG5cdFx0aWYgKHBfYWN0aW9uVHlwZSkge1xuXHRcdFx0aWYgKHBfYWN0aW9uVHlwZSA9PT0gYWN0aW9ucy5BQ1RJT05fVFlQRV9WSURFTykge1xuXHRcdFx0XHRsb2NhbHN0cmVhbS5jb25uZWN0TG9jYWxWaWRlb1N0cmVhbShsb2NhbFZpZCwgcHViQW5kU3Vic2NyaWJlLCBnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdH0gZWxzZSBpZiAocF9hY3Rpb25UeXBlID09PSBhY3Rpb25zLkFDVElPTl9UWVBFX0FVRElPKSB7XG5cdFx0XHRcdGxvY2Fsc3RyZWFtLmNvbm5lY3RMb2NhbEF1ZGlvU3RyZWFtKGxvY2FsVmlkLCBwdWJBbmRTdWJzY3JpYmUsIGdldExvY2FsU3RyZWFtQ2IpO1xuXHRcdFx0fSBlbHNlIGlmIChwX2FjdGlvblR5cGUgPT09IGFjdGlvbnMuQUNUSU9OX1RZUEVfQVVESU9fVklERU8pIHtcblx0XHRcdFx0bG9jYWxzdHJlYW0uY29ubmVjdExvY2FsQXVkaW9WaWRlb1N0cmVhbShsb2NhbFZpZCwgcHViQW5kU3Vic2NyaWJlLCBnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIFB1Ymxpc2hlZCBNZWRpYUxpc3QgbGlzdGVuZXIuXG5cdCAqIERlZmluZXMgY2FsbGJhY2sgKHJlbW92ZSBhbnkgZXhpc3Rpbmcgb25lKSBmb3IgOiBwdWJsaXNoZWQgTWVkaWEuXG5cdCAqIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkLCBmaXJzdCBmb3IgYW55IGV4aXN0aW5nIHB1Ymxpc2hlZCBtZWRpYSwgdGhlbiB3aGVuIGEgbmV3IHZhbHVlIGlzIGFkZGVkIGluIHRoZSBkYXRhYmFzZS5cblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRPblB1Ymxpc2hlZFN0cmVhbShwX2NiKSB7XG5cblx0XHRpZiAocHVibGlzaGVkTWVkaWFMaXN0Q2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpLm9mZignY2hpbGRfYWRkZWQnLCBwdWJsaXNoZWRNZWRpYUxpc3RDYik7XG5cdFx0XHRwdWJsaXNoZWRNZWRpYUxpc3RDYiA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdENiID0gZnVuY3Rpb24gKHNuYXBzaG90KSB7XG5cdFx0XHRcdGNvbnN0XG5cdFx0XHRcdFx0b2JqID0ge30sXG5cdFx0XHRcdFx0bmFtZSA9IHNuYXBzaG90Lm5hbWUoKTtcblx0XHRcdFx0b2JqW25hbWVdID0gc25hcHNob3QudmFsKCk7XG5cdFx0XHRcdG9ialtuYW1lXS5yb29tSWQgPSByb29tSWQ7XG5cdFx0XHRcdHBfY2Iob2JqKTtcblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdwdWJsaXNoZWRNZWRpYUxpc3QnKS5vbignY2hpbGRfYWRkZWQnLCBwdWJsaXNoZWRNZWRpYUxpc3RDYik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfc2V0T25QdWJsaXNoZWRTdHJlYW0pcGFyYW1ldGVyIGluY29ycmVjdC4gRXhwZWN0ZWQgZnVuY3Rpb25gKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVW5wdWJsaXNoZXMgdGhlIHN0cmVhbVxuXHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgc3RyZWFtIGlkZW50aWZpZXJcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBUaGUgY2FsbGJhY2sgdG8gdHJpZ2dlclxuXHQgKi9cblx0ZnVuY3Rpb24gX3VuUHVibGlzaFN0cmVhbShzdHJlYW1JZCwgY2FsbGJhY2spIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06OnVuUHVibGlzaFN0cmVhbSlzdHJlYW1JZCAke3N0cmVhbUlkfWApO1xuXHRcdGNvbnN0XG5cdFx0XHRsb2NhbERhdGFSZWYgPSBkYXRhcmVmLmNoaWxkKGBwdWJsaXNoZWRNZWRpYUxpc3QvJHtzdHJlYW1JZH1gKSxcblx0XHRcdHJlbW90ZURhdGFSZWYgPSBsb2NhbERhdGFSZWYuY2hpbGQoJ3N1YnNjcmliZXJzTGlzdCcpLFxuXHRcdFx0c3RyZWFtU3RhY2tzSWQgPSBgJHtzdHJlYW1JZH1fcHViYDtcblxuXHRcdGlmIChtU3RyZWFtc1tzdHJlYW1JZF0gJiYgbVN0cmVhbXNbc3RyZWFtSWRdLmFkZFN1YnNjcmliZXJzTGlzdENiKSB7XG5cdFx0XHRyZW1vdGVEYXRhUmVmLm9mZignY2hpbGRfYWRkZWQnLCBtU3RyZWFtc1tzdHJlYW1JZF0uYWRkU3Vic2NyaWJlcnNMaXN0Q2IpO1xuXHRcdH1cblx0XHRpZiAobVN0cmVhbXNbc3RyZWFtSWRdICYmIG1TdHJlYW1zW3N0cmVhbUlkXS5yZW1vdmVTdWJzY3JpYmVyc0xpc3RDYikge1xuXHRcdFx0cmVtb3RlRGF0YVJlZi5vZmYoJ2NoaWxkX3JlbW92ZWQnLCBtU3RyZWFtc1tzdHJlYW1JZF0ucmVtb3ZlU3Vic2NyaWJlcnNMaXN0Q2IpO1xuXHRcdH1cblxuXHRcdGRlbGV0ZSBtU3RyZWFtc1tzdHJlYW1JZF07XG5cdFx0ZGVsZXRlIG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdO1xuXG5cdFx0bG9jYWxEYXRhUmVmLm9uRGlzY29ubmVjdCgpLmNhbmNlbCgpO1xuXHRcdGxvY2FsRGF0YVJlZi5yZW1vdmUoKTtcblxuXG5cdFx0aWYgKHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdICYmIHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdLmxlbmd0aCA+IDApIHtcblx0XHRcdGxldCBuYlN0YWNrID0gcm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF0ubGVuZ3RoO1xuXHRcdFx0Y29uc3QgY2xvc2VDYiA9ICgpID0+IHtcblx0XHRcdFx0bmJTdGFjay0tO1xuXHRcdFx0XHRpZiAobmJTdGFjayA8IDEpIHtcblx0XHRcdFx0XHRkZWxldGUgcm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF07XG5cdFx0XHRcdFx0aWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGZvciAobGV0IGkgPSBuYlN0YWNrIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0d2VicnRjbW5nci5jbG9zZVdlYnJ0Yyhyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXVtpXS5zdGFja0lkLCB0cnVlLCBjbG9zZUNiKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGVsZXRlIHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdO1xuXHRcdFx0aWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgdW5QdWJsaXNoZWQgTWVkaWFMaXN0IGxpc3RlbmVyLlxuXHQgKiBEZWZpbmVzIGNhbGxiYWNrIChyZW1vdmUgYW55IGV4aW50aW5nIG9uZSkgZm9yIDogdW5wdWJsaXNoZWQgTWVkaWEuXG5cdCAqIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkIHdoZW4gYSBtZWRpYSBpcyB1bnB1Ymxpc2guXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0T25VblB1Ymxpc2hlZFN0cmVhbShwX2NiKSB7XG5cblx0XHRpZiAodW5QdWJsaXNoZWRNZWRpYUxpc3RDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0Jykub2ZmKCdjaGlsZF9yZW1vdmVkJywgdW5QdWJsaXNoZWRNZWRpYUxpc3RDYik7XG5cdFx0XHR1blB1Ymxpc2hlZE1lZGlhTGlzdENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0dW5QdWJsaXNoZWRNZWRpYUxpc3RDYiA9IChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRwX2NiKHNuYXBzaG90Lm5hbWUoKSk7XG5cdFx0XHR9O1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0Jykub24oJ2NoaWxkX3JlbW92ZWQnLCB1blB1Ymxpc2hlZE1lZGlhTGlzdENiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9zZXRPblVuUHVibGlzaGVkU3RyZWFtKXBhcmFtZXRlciBpbmNvcnJlY3QuIEV4cGVjdGVkIGZ1bmN0aW9uYCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFN1YnNjcmliZXMgdG8gYSBzdHJlYW0gYW5kIGFkZHMgY2FsbGJhY2tzIHRvIHRoZSBkZWRpY2F0ZWQgbm9kZSBhY2NvcmRpbmcgdG8gdGhlIGFjdGlvbiB0eXBlIG9mIHRoZSBzdHJlYW0gZGF0YS5cblx0ICogQHBhcmFtIHN0cmVhbURhdGEgLSBUaGUgc3RyZWFtIGRhdGFcblx0ICogQHBhcmFtIHJlbW90ZVZpZCAtIFRoZSByZW1vdGUgdmlkZW9cblx0ICogQHBhcmFtIGdldFJlbW90ZVN0cmVhbUNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgbWVkaWFzdHJlYW0gb2JqZWN0XG5cdCAqL1xuXHRmdW5jdGlvbiBfc3Vic2NyaWJlVG9TdHJlYW0oc3RyZWFtRGF0YSwgcmVtb3RlVmlkLCBnZXRSZW1vdGVTdHJlYW1DYikge1xuXHRcdGNvbnN0XG5cdFx0XHRzdHJlYW1JZCA9IE9iamVjdC5rZXlzKHN0cmVhbURhdGEpWzBdLFxuXHRcdFx0YWN0aW9uVHlwZSA9IHN0cmVhbURhdGFbc3RyZWFtSWRdLmFjdGlvblR5cGU7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpzdWJzY3JpYmVUb1N0cmVhbSlzdHJlYW1JZCAke3N0cmVhbUlkfWApO1xuXHRcdC8vdGVzdCBpZiBzdHJlYW0gaXMgbm90IG91clxuXHRcdGlmIChtU3RyZWFtcyAmJiBtU3RyZWFtc1tzdHJlYW1JZF0pIHtcblx0XHRcdC8vaXQgaXMgb3VyIHN0cmVhbSAtPiBzdWJzY3JpYmUgdG8gbG9jYWxTdHJlYW1cblx0XHRcdGlmIChhY3Rpb25UeXBlKSB7XG5cdFx0XHRcdGlmIChhY3Rpb25UeXBlID09PSBhY3Rpb25zLkFDVElPTl9UWVBFX1ZJREVPKSB7XG5cdFx0XHRcdFx0bG9jYWxzdHJlYW0uY29ubmVjdExvY2FsVmlkZW9TdHJlYW0ocmVtb3RlVmlkLCBnZXRSZW1vdGVTdHJlYW1DYik7XG5cdFx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uVHlwZSA9PT0gYWN0aW9ucy5BQ1RJT05fVFlQRV9BVURJTykge1xuXHRcdFx0XHRcdGxvY2Fsc3RyZWFtLmNvbm5lY3RMb2NhbEF1ZGlvU3RyZWFtKHJlbW90ZVZpZCwgZ2V0UmVtb3RlU3RyZWFtQ2IpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGFjdGlvblR5cGUgPT09IGFjdGlvbnMuQUNUSU9OX1RZUEVfQVVESU9fVklERU8pIHtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5jb25uZWN0TG9jYWxBdWRpb1ZpZGVvU3RyZWFtKHJlbW90ZVZpZCwgZ2V0UmVtb3RlU3RyZWFtQ2IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gc3RyZWFtSWQ7XG5cdFx0fVxuXG5cblx0XHRjb25zdFxuXHRcdFx0YXBwSW5zdGFuY2VJZCA9IHN0cmVhbURhdGFbc3RyZWFtSWRdLmFwcEluc3RhbmNlSWQsXG5cdFx0XHRsb2NhbERhdGFSZWYgPSBkYXRhcmVmLmNoaWxkKCdwdWJsaXNoZWRNZWRpYUxpc3QnKS5jaGlsZChzdHJlYW1JZCksXG5cdFx0XHRyZW1vdGVEYXRhUmVmID0gbG9jYWxEYXRhUmVmLmNoaWxkKCdzdWJzY3JpYmVyc0xpc3QnKSxcblx0XHRcdHN0cmVhbVN0YWNrc0lkID0gYCR7c3RyZWFtSWR9X3N1YmA7XG5cblx0XHRsZXQgX3BlZXJjb0lkLCBfcGVlcmNvUmVmO1xuXG5cdFx0aWYgKCFyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXSkge1xuXHRcdFx0cm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF0gPSBbXTtcblx0XHR9IGVsc2UgaWYgKHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdICYmIHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdWzBdICYmIHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdWzBdLnBlZXJjb0lkKSB7XG5cdFx0XHRfcGVlcmNvSWQgPSByb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXVswXS5wZWVyY29JZDtcblx0XHR9XG5cblx0XHQvLyBSZXR1cm5zIGEgcmFuZG9tIGludGVnZXIgYmV0d2VlbiBtaW4gKGluY2x1ZGVkKSBhbmQgbWF4IChpbmNsdWRlZClcblx0XHQvLyBVc2luZyBNYXRoLnJvdW5kKCkgd2lsbCBnaXZlIHlvdSBhIG5vbi11bmlmb3JtIGRpc3RyaWJ1dGlvbiFcblx0XHRjb25zdCBnZXRSYW5kb21JbnRJbmNsdXNpdmUgPSAobWluLCBtYXgpID0+IHtcblx0XHRcdHJldHVybiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpICsgbWluO1xuXHRcdH07XG5cblx0XHRpZiAoIV9wZWVyY29JZCkge1xuXHRcdFx0X3BlZXJjb0lkID0gTWF0aC5mbG9vcihEYXRlLm5vdygpKS50b1N0cmluZygpICsgZ2V0UmFuZG9tSW50SW5jbHVzaXZlKDAsIDEwMDAwMDApO1xuXHRcdH1cblxuXHRcdF9wZWVyY29SZWYgPSBkYXRhcmVmcy5nZXRXZWJydGMoKS5wdXNoKCkubmFtZSgpO1xuXG5cdFx0cmVtb3RlRGF0YVJlZi5jaGlsZCh1dGlscy5hcHBJbnN0YW5jZUlkKS5zZXQoe1xuXHRcdFx0dHM6IFdlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVAsXG5cdFx0XHR1c2VySWQ6IG1lLFxuXHRcdFx0cGVlcmNvSWQ6IF9wZWVyY29JZCxcblx0XHRcdHBlZXJjb1JlZjogX3BlZXJjb1JlZlxuXHRcdH0pO1xuXG5cdFx0Y29uc3Rcblx0XHRcdGlzQXVkaW9NdXRlID0gbU11dGVkU3RyZWFtc1tzdHJlYW1JZF0gJiYgbU11dGVkU3RyZWFtc1tzdHJlYW1JZF0uYXVkaW8sXG5cdFx0XHRpc1ZpZGVvTXV0ZSA9IG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdICYmIG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLnZpZGVvO1xuXG5cdFx0Y29uc3QgbVN0YWNrSWQgPSB3ZWJydGNtbmdyLmNyZWF0ZVdlYnJ0YyhyZW1vdGVWaWQsIGFwcEluc3RhbmNlSWQsICgpID0+IHtcblx0XHRcdC8vXHRvblVuUHVibGlzaGVkU3RyZWFtKGxvY2FsVmlkLCByZW1vdGVWaWQpO1xuXHRcdH0sIGZhbHNlLCBhY3Rpb25UeXBlLCBfcGVlcmNvSWQsIF9wZWVyY29SZWYsIGlzQXVkaW9NdXRlLCBpc1ZpZGVvTXV0ZSwgZ2V0UmVtb3RlU3RyZWFtQ2IpO1xuXG5cdFx0Ly9oYW5kbGUgcmVtb3RlIHVucHVibGlzaFxuXHRcdGlmICghcmVtb3RlVW5wdWJsaXNoZWRDYikge1xuXHRcdFx0cmVtb3RlVW5wdWJsaXNoZWRDYiA9IGZ1bmN0aW9uIChzbmFwc2hvdCkge1xuXHRcdFx0XHRjb25zdCByZW1vdmVkU3RyZWFtSWQgPSBgJHtPYmplY3Qua2V5cyhzbmFwc2hvdClbMF19X3N1YmA7XG5cdFx0XHRcdGlmIChyb29tV2VicnRjU3RhY2tzW3JlbW92ZWRTdHJlYW1JZF0pIHtcblx0XHRcdFx0XHRsZXQgaSA9IDA7XG5cdFx0XHRcdFx0d2hpbGUgKGkgPCByb29tV2VicnRjU3RhY2tzW3JlbW92ZWRTdHJlYW1JZF0ubGVuZ3RoKSB7XG5cdFx0XHRcdFx0XHR3ZWJydGNtbmdyLmNsb3NlV2VicnRjKHJvb21XZWJydGNTdGFja3NbcmVtb3ZlZFN0cmVhbUlkXVtpXS5zdGFja0lkLCBmYWxzZSk7XG5cdFx0XHRcdFx0XHRpKys7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGRlbGV0ZSByb29tV2VicnRjU3RhY2tzW3JlbW92ZWRTdHJlYW1JZF07XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdwdWJsaXNoZWRNZWRpYUxpc3QnKS5vbignY2hpbGRfcmVtb3ZlZCcsIHJlbW90ZVVucHVibGlzaGVkQ2IpO1xuXHRcdH1cblxuXHRcdHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdLnB1c2goe1xuXHRcdFx0c3RhY2tJZDogbVN0YWNrSWQsXG5cdFx0XHRpc1B1Ymxpc2g6IGZhbHNlLFxuXHRcdFx0cGVlcmNvSWQ6IF9wZWVyY29JZCxcblx0XHRcdHBlZXJjb1JlZjogX3BlZXJjb1JlZlxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHN0cmVhbUlkO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVuU3Vic2NyaWJlIGZyb20gYSBzdHJlYW1cblx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyIGZyb20gd2hpY2ggdGhlIHVuU3Vic2NyaXB0aW9uIGhhdmUgdG8gYmUgZG9uZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3VuU3Vic2NyaWJlRnJvbVN0cmVhbShzdHJlYW1JZCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6dW5TdWJzY3JpYmVGcm9tU3RyZWFtKXN0cmVhbUlkICR7c3RyZWFtSWR9YCk7XG5cdFx0Y29uc3Rcblx0XHRcdGxvY2FsRGF0YVJlZiA9IGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpLmNoaWxkKHN0cmVhbUlkKSxcblx0XHRcdHJlbW90ZURhdGFSZWYgPSBsb2NhbERhdGFSZWYuY2hpbGQoJ3N1YnNjcmliZXJzTGlzdCcpLFxuXHRcdFx0c3RyZWFtU3RhY2tzSWQgPSBgJHtzdHJlYW1JZH1fc3ViYDtcblxuXHRcdHJlbW90ZURhdGFSZWYuY2hpbGQodXRpbHMuYXBwSW5zdGFuY2VJZCkucmVtb3ZlKCk7XG5cblx0XHRpZiAocm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF0pIHtcblx0XHRcdGxldCBpID0gMDtcblx0XHRcdHdoaWxlIChpIDwgcm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF0ubGVuZ3RoKSB7XG5cdFx0XHRcdGlmIChyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXVtpXSkge1xuXHRcdFx0XHRcdHdlYnJ0Y21uZ3IuY2xvc2VXZWJydGMocm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF1baV0uc3RhY2tJZCwgZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGkrKztcblx0XHRcdH1cblx0XHRcdGRlbGV0ZSByb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXTtcblx0XHR9XG5cdFx0ZGVsZXRlIG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYWxsIHRoZSBhdmFpbGFibGUgc3RyZWFtc1xuXHQgKiBAcmV0dXJuIHthcnJheX1cblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRBdmFpbGFibGVTdHJlYW1zKCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X2dldEF2YWlsYWJsZVN0cmVhbXMpYCk7XG5cdFx0cmV0dXJuIG1BdmFpbGFibGVTdHJlYW1zO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYW4gYXZhaWxhYmxlIHN0cmVhbSBoYXZpbmcgdGhlIGlkZW50aWZpZXJcblx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyXG5cdCAqIEByZXR1cm4gLSBBIHN0cmVhbVxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldEF2YWlsYWJsZVN0cmVhbShzdHJlYW1JZCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X2dldEF2YWlsYWJsZVN0cmVhbSlzdHJlYW1JZD0ke3N0cmVhbUlkfWApO1xuXHRcdGlmIChtQXZhaWxhYmxlU3RyZWFtcyAmJiBzdHJlYW1JZCkge1xuXHRcdFx0Zm9yIChsZXQgaSA9IG1BdmFpbGFibGVTdHJlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmIChtQXZhaWxhYmxlU3RyZWFtc1tpXSAmJiBPYmplY3Qua2V5cyhtQXZhaWxhYmxlU3RyZWFtc1tpXSlbMF0gJiYgT2JqZWN0LmtleXMobUF2YWlsYWJsZVN0cmVhbXNbaV0pWzBdID09PSBzdHJlYW1JZCkge1xuXHRcdFx0XHRcdHJldHVybiBtQXZhaWxhYmxlU3RyZWFtc1tpXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgYWxsIHRoZSBzdHJlYW1zIGJ5IGRlbGV0aW5nIHRoZSBhcnJheSBjb250YWluaW5nIHRoZW0gd2l0aG91dCB0cmlnZ2VycmluZyBjYWxsYmFja3Ncblx0ICovXG5cdGZ1bmN0aW9uIF9yZW1vdmVBbGxBdmFpbGFibGVTdHJlYW1zKCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3JlbW92ZUFsbEF2YWlsYWJsZVN0cmVhbXNgKTtcblx0XHRtQXZhaWxhYmxlU3RyZWFtcyA9IFtdO1xuXHR9XG5cblx0LyoqXG5cdCAqIEF1ZGlvIG11dGUgdGhlIHN0cmVhbSBzdHJlYW1JZFxuXHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgc3RyZWFtIGlkZW50aWZpZXIgdG8gbXV0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX211dGVBdWRpb1N0cmVhbShzdHJlYW1JZCkge1xuXHRcdGlmICghKHN0cmVhbUlkICYmIHR5cGVvZiBzdHJlYW1JZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfbXV0ZUF1ZGlvU3RyZWFtKXBhcmFtZXRlciBzdHJlYW1JZCBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nYCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X211dGVBdWRpb1N0cmVhbSlzdHJlYW1JZD0ke3N0cmVhbUlkfWApO1xuXHRcdGlmICghbU11dGVkU3RyZWFtc1tzdHJlYW1JZF0pIHtcblx0XHRcdG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdID0ge307XG5cdFx0fVxuXHRcdG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLmF1ZGlvID0gdHJ1ZTtcblxuXHRcdGlmKHJvb21XZWJydGNTdGFja3Mpe1xuXHRcdFx0W3Jvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3B1YmBdLCByb29tV2VicnRjU3RhY2tzW2Ake3N0cmVhbUlkfV9zdWJgXV0uZm9yRWFjaCgoc3RhY2tzKSA9PiB7XG5cdFx0XHRcdGlmKHN0YWNrcyAmJiBzdGFja3MubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSBzdGFja3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHRcdHdlYnJ0Y21uZ3IubXV0ZUF1ZGlvV2VicnRjU3RhY2soc3RhY2tzW2ldLnN0YWNrSWQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEF1ZGlvIHVubXV0ZVN0cmVhbSB0aGUgc3RyZWFtIHN0cmVhbUlkXG5cdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBzdHJlYW0gaWRlbnRpZmllciB0byB1bm11dGVcblx0ICovXG5cdGZ1bmN0aW9uIF91bm11dGVBdWRpb1N0cmVhbShzdHJlYW1JZCkge1xuXHRcdGlmICghKHN0cmVhbUlkICYmIHR5cGVvZiBzdHJlYW1JZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfdW5tdXRlQXVkaW9TdHJlYW0pcGFyYW1ldGVyIHN0cmVhbUlkIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmdgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdICYmIG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLmF1ZGlvKSB7XG5cdFx0XHRtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXS5hdWRpbyA9IGZhbHNlO1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol91bm11dGVBdWRpb1N0cmVhbSlzdHJlYW1JZD0ke3N0cmVhbUlkfWApO1xuXHRcdGlmKHJvb21XZWJydGNTdGFja3Mpe1xuXHRcdFx0W3Jvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3B1YmBdLCByb29tV2VicnRjU3RhY2tzW2Ake3N0cmVhbUlkfV9zdWJgXV0uZm9yRWFjaCgoc3RhY2tzKSA9PiB7XG5cdFx0XHRcdGlmKHN0YWNrcyAmJiBzdGFja3MubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSBzdGFja3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHRcdHdlYnJ0Y21uZ3IudW5tdXRlQXVkaW9XZWJydGNTdGFjayhzdGFja3NbaV0uc3RhY2tJZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVmlkZW8gbXV0ZSB0aGUgc3RyZWFtIHN0cmVhbUlkXG5cdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBzdHJlYW0gaWRlbnRpZmllciB0byBtdXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfbXV0ZVZpZGVvU3RyZWFtKHN0cmVhbUlkKSB7XG5cdFx0aWYgKCEoc3RyZWFtSWQgJiYgdHlwZW9mIHN0cmVhbUlkID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9tdXRlVmlkZW9TdHJlYW0pcGFyYW1ldGVyIHN0cmVhbUlkIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmdgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfbXV0ZVZpZGVvU3RyZWFtKXN0cmVhbUlkPSR7c3RyZWFtSWR9YCk7XG5cdFx0aWYgKCFtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXSkge1xuXHRcdFx0bU11dGVkU3RyZWFtc1tzdHJlYW1JZF0gPSB7fTtcblx0XHR9XG5cdFx0bU11dGVkU3RyZWFtc1tzdHJlYW1JZF0udmlkZW8gPSB0cnVlO1xuXG5cdFx0aWYocm9vbVdlYnJ0Y1N0YWNrcyl7XG5cdFx0XHRbcm9vbVdlYnJ0Y1N0YWNrc1tgJHtzdHJlYW1JZH1fcHViYF0sIHJvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3N1YmBdXS5mb3JFYWNoKChzdGFja3MpID0+IHtcblx0XHRcdFx0aWYoc3RhY2tzICYmIHN0YWNrcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IHN0YWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdFx0d2VicnRjbW5nci5tdXRlVmlkZW9XZWJydGNTdGFjayhzdGFja3NbaV0uc3RhY2tJZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVmlkZW8gdW5tdXRlU3RyZWFtIHRoZSBzdHJlYW0gc3RyZWFtSWRcblx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyIHRvIHVubXV0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3VubXV0ZVZpZGVvU3RyZWFtKHN0cmVhbUlkKSB7XG5cdFx0aWYgKCEoc3RyZWFtSWQgJiYgdHlwZW9mIHN0cmVhbUlkID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol91bm11dGVWaWRlb1N0cmVhbSlwYXJhbWV0ZXIgc3RyZWFtSWQgaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZ2ApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAobU11dGVkU3RyZWFtc1tzdHJlYW1JZF0gJiYgbU11dGVkU3RyZWFtc1tzdHJlYW1JZF0udmlkZW8pIHtcblx0XHRcdG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLnZpZGVvID0gZmFsc2U7XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3VubXV0ZVZpZGVvU3RyZWFtKXN0cmVhbUlkPSR7c3RyZWFtSWR9YCk7XG5cdFx0aWYocm9vbVdlYnJ0Y1N0YWNrcyl7XG5cdFx0XHRbcm9vbVdlYnJ0Y1N0YWNrc1tgJHtzdHJlYW1JZH1fcHViYF0sIHJvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3N1YmBdXS5mb3JFYWNoKChzdGFja3MpID0+IHtcblx0XHRcdFx0aWYoc3RhY2tzICYmIHN0YWNrcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IHN0YWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdFx0d2VicnRjbW5nci51bm11dGVWaWRlb1dlYnJ0Y1N0YWNrKHN0YWNrc1tpXS5zdGFja0lkKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cblx0LyoqXG5cdCAqIENsb3NlcyB0aGUgcm9vbS5cblx0ICogU2V0cyB0aGUgY29ubmVjdGVkIHN0YXR1cyBvZiB0aGUgY3VycmVudCBwYXJ0aWNpcGFudCB0byBmYWxzZSwgZGVsZXRlcyBtZWRpYXMgYW5kIGNhbGxiYWNrcywgdGhlbiBjbG9zZSBXZWJSVEMgc3RhY2tzIGluIHVzZS5cblx0ICogQHBhcmFtIHVwZGF0ZVJvb21TdGF0dXNUb0Nsb3NlIC0gdHJ1ZSBpZiB0aGUgcm9vbSBzaG91bGQgYmUgbWFya2VkIGFzIGNsb3NlZFxuXHQgKi9cblx0ZnVuY3Rpb24gX2Nsb3NlKHVwZGF0ZVJvb21TdGF0dXNUb0Nsb3NlKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfY2xvc2Upcm9vbSAke3Jvb21JZH0sIGRldHJveVJvb209JHt1cGRhdGVSb29tU3RhdHVzVG9DbG9zZX1gKTtcblxuXHRcdGNvbnN0XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RSZWYgPSBkYXRhcmVmLmNoaWxkKCdwYXJ0aWNpcGFudExpc3QnKSxcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdFJlZiA9IGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpO1xuXG5cdFx0Ly8gbWFyayBhcyBkaXNjb25uZWN0ZWQgd2hlbiB0aGUgcm9vbSBpcyBsZWZ0XG5cdFx0cGFydGljaXBhbnRMaXN0UmVmLmNoaWxkKGAke21lfS9jb25uZWN0ZWRgKS5zZXQoZmFsc2UpO1xuXG5cdFx0Ly8gcmVtb3ZlIHdlYmNvbSBjYWxsYmFja3Ncblx0XHRPYmplY3Qua2V5cyhtU3RyZWFtcykuZm9yRWFjaChfdW5QdWJsaXNoU3RyZWFtKTtcblx0XHRtU3RyZWFtcyA9IFtdO1xuXG5cdFx0aWYgKGluc3RhbnRNZXNzYWdlTGlzdENiKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdpbnN0YW50TWVzc2FnZUxpc3QnKS5vZmYoJ2NoaWxkX2FkZGVkJywgaW5zdGFudE1lc3NhZ2VMaXN0Q2IpO1xuXHRcdFx0aW5zdGFudE1lc3NhZ2VMaXN0Q2IgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAocHVibGlzaGVkTWVkaWFMaXN0Q2IpIHtcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdFJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgcHVibGlzaGVkTWVkaWFMaXN0Q2IpO1xuXHRcdFx0cHVibGlzaGVkTWVkaWFMaXN0Q2IgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAocHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0pIHtcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdFJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgcHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0pO1xuXHRcdFx0cHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0gPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmICh1blB1Ymxpc2hlZE1lZGlhTGlzdENiKSB7XG5cdFx0XHRwdWJsaXNoZWRNZWRpYUxpc3RSZWYub2ZmKCdjaGlsZF9yZW1vdmVkJywgdW5QdWJsaXNoZWRNZWRpYUxpc3RDYik7XG5cdFx0XHR1blB1Ymxpc2hlZE1lZGlhTGlzdENiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAodW5QdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSkge1xuXHRcdFx0cHVibGlzaGVkTWVkaWFMaXN0UmVmLm9mZignY2hpbGRfcmVtb3ZlZCcsIHVuUHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0pO1xuXHRcdFx0dW5QdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiKSB7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiKTtcblx0XHRcdHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocGFydGljaXBhbnRMaXN0Sm9pbkNoYW5nZWRDYikge1xuXHRcdFx0cGFydGljaXBhbnRMaXN0UmVmLm9mZignY2hpbGRfY2hhbmdlZCcsIHBhcnRpY2lwYW50TGlzdEpvaW5DaGFuZ2VkQ2IpO1xuXHRcdFx0cGFydGljaXBhbnRMaXN0Sm9pbkNoYW5nZWRDYiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHBhcnRpY2lwYW50TGlzdExlYXZlQ2IpIHtcblx0XHRcdHBhcnRpY2lwYW50TGlzdFJlZi5vZmYoJ2NoaWxkX2NoYW5nZWQnLCBwYXJ0aWNpcGFudExpc3RMZWF2ZUNiKTtcblx0XHRcdHBhcnRpY2lwYW50TGlzdExlYXZlQ2IgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChyZW1vdGVVbnB1Ymxpc2hlZENiKSB7XG5cdFx0XHRwdWJsaXNoZWRNZWRpYUxpc3RSZWYub2ZmKCdjaGlsZF9yZW1vdmVkJywgcmVtb3RlVW5wdWJsaXNoZWRDYik7XG5cdFx0XHRyZW1vdGVVbnB1Ymxpc2hlZENiID0gbnVsbDtcblx0XHR9XG5cblx0XHQvLyBjbG9zZSBhbGwgd2VicnRjIHN0YWNrc1xuXHRcdE9iamVjdC5rZXlzKHJvb21XZWJydGNTdGFja3MpLmZvckVhY2goKHN0cmVhbVN0YWNrc0lkKSA9PiB7XG5cdFx0XHRyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXS5mb3JFYWNoKChzdGFjaykgPT4ge1xuXHRcdFx0XHRpZihzdGFjayl7XG5cdFx0XHRcdFx0d2VicnRjbW5nci5jbG9zZVdlYnJ0YyhzdGFjay5zdGFja0lkLCBzdGFjay5pc1B1Ymxpc2gpO1xuXHRcdFx0XHRcdHdlYnJ0Y21uZ3IuY2xlYXJXZWJydGNTdGFja3Moc3RhY2suc3RhY2tJZCk7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0pO1xuXHRcdHJvb21XZWJydGNTdGFja3MgPSB7fTtcblxuXG5cdFx0bU11dGVkU3RyZWFtcyA9IFtdO1xuXG5cdFx0X3JlbW92ZUFsbEF2YWlsYWJsZVN0cmVhbXMoKTtcblx0XHRpZiAodXBkYXRlUm9vbVN0YXR1c1RvQ2xvc2UgJiYgdXBkYXRlUm9vbVN0YXR1c1RvQ2xvc2UgPT09IHRydWUpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ2NvbW1vbkRhdGFMaXN0L3N0YXR1cycpLnNldChST09NX1NUQVRVU19DTE9TRSk7XG5cdFx0fVxuXG5cdH1cblxuXHRpbml0KCk7XG5cblx0cmV0dXJuIHtcblx0XHQvKipcblx0XHQgKiBSZXR1cm4gdGhlIHJvb20gaWRlbnRpZmllclxuXHRcdCAqIEByZXR1cm4ge3N0cmluZ30gLSBUaGUgcm9vbSBpZGVudGlmaWVyXG5cdFx0ICovXG5cdFx0Z2V0Um9vbUlkOiBfZ2V0Um9vbUlkLFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHVzZXIgaWRlbnRpZmllclxuXHRcdCAqIEByZXR1cm4ge3N0cmluZ30gLSBUaGUgdXNlciBpZGVudGlmaWVyXG5cdFx0ICovXG5cdFx0Z2V0TWU6IF9nZXRNZSxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSBwYXJ0aWNpcGFudCBoYXMgam9pbmVkIHRoZSByb29tXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFja1xuXHRcdCAqL1xuXHRcdHNldE9uUGFydGljaXBhbnRKb2luOiBfc2V0T25QYXJ0aWNpcGFudEpvaW4sXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIGEgcGFydGljaXBhbnQgaGFzIGxlZnQgdGhlIHJvb21cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrXG5cdFx0ICovXG5cdFx0c2V0T25QYXJ0aWNpcGFudExlYXZlOiBfc2V0T25QYXJ0aWNpcGFudExlYXZlLFxuXHRcdC8qKlxuXHRcdCAqIFNlbmRzIGFuIGluc3RhbnQgbWVzc2FnZVxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBtZXNzYWdlIC0gVGhlIGVtc3NhZ2UgdG8gc2VuZFxuXHRcdCAqIEByZXR1cm4gbm90aGluZ1xuXHRcdCAqL1xuXHRcdHNlbmRJbnN0YW50TWVzc2FnZTogX3NlbmRJbnN0YW50TWVzc2FnZSxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHRvIHNlbmQgYW4gaW5zdGFudCBtZXNzYWdlXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFja1xuXHRcdCAqL1xuXHRcdHNldE9uSW5zdGFudE1lc3NhZ2U6IF9zZXRPbkluc3RhbnRNZXNzYWdlLFxuXHRcdC8qKlxuXHRcdCAqIFB1Ymxpc2hlcyBhIHN0cmVhbVxuXHRcdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBzdHJlYW0gdG8gcHVibGlzaFxuXHRcdCAqIEBwYXJhbSBsb2NhbFZpZCAtIFRoZSBsb2NhbCB2aWRlb1xuXHRcdCAqIEBwYXJhbSBhY3Rpb25UeXBlIC1cblx0XHQgKiBAcGFyYW0gZ2V0U3RyZWFtQ2IgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJldHJpZXZlIHRoZSBtZWRpYXN0cmVhbSBvYmplY3Rcblx0XHQgKiBAcmV0dXJuIG5vdGhpbmdcblx0XHQgKi9cblx0XHRwdWJsaXNoU3RyZWFtOiBfcHVibGlzaFN0cmVhbSxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2Vyd2hlbiBhIHN0cmVhbSBoYXMgYmVlbiBwdWJsaXNoZWRcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrXG5cdFx0ICovXG5cdFx0c2V0T25QdWJsaXNoZWRTdHJlYW06IF9zZXRPblB1Ymxpc2hlZFN0cmVhbSxcblx0XHQvKipcblx0XHQgKiBVbnB1Ymxpc2hlcyB0aGUgc3RyZWFtXG5cdFx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIGlkZW50aWZpZXIgb2YgdGhlIHN0cmVhbSB0byB1bnB1Ymxpc2hcblx0XHQgKiBAcGFyYW0gY2FsbGJhY2sgLSBUaGUgY2xhbGJhY2sgdG8gdHJpZ2dlciB3aGVuIHRoZSBzdHJlYW0gaGFzIGJlZW4gdW5wdWJsaXNoZWRcblx0XHQgKi9cblx0XHR1blB1Ymxpc2hTdHJlYW06IF91blB1Ymxpc2hTdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIGEgc3RyZWFtIGhhcyBiZWVuIHVucHVibGlzaGVkXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFja1xuXHRcdCAqL1xuXHRcdHNldE9uVW5QdWJsaXNoZWRTdHJlYW06IF9zZXRPblVuUHVibGlzaGVkU3RyZWFtLFxuXG5cdFx0LyoqXG5cdFx0ICogU3Vic2NyaWJlcyB0byBhIHN0cmVhbVxuXHRcdCAqIEBwYXJhbSBzdHJlYW1EYXRhIC0gVGhlIHN0cmVhbSBkYXRhXG5cdFx0ICogQHBhcmFtIHJlbW90ZVZpZCAtIFRoZSByZW1vdGUgdmlkZW9cblx0XHQgKiBAcGFyYW0gZ2V0U3RyZWFtQ2IgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJldHJpZXZlIHRoZSBtZWRpYXN0cmVhbSBvYmplY3Rcblx0XHQgKiBAcmV0dXJuIG5vdGhpbmdcblx0XHQgKi9cblx0XHRzdWJzY3JpYmVUb1N0cmVhbTogX3N1YnNjcmliZVRvU3RyZWFtLFxuXHRcdC8qKlxuXHRcdCAqIFVuc3ViY3JpYmVzIGZyb20gYSBzdHJlYW1cblx0XHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgaWRlbnRpZmllciBvZiB0aGUgc3RyZWFtIHRvIHVuc3Vic2NyaWJlXG5cdFx0ICovXG5cdFx0dW5TdWJzY3JpYmVGcm9tU3RyZWFtOiBfdW5TdWJzY3JpYmVGcm9tU3RyZWFtLFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgYWxsIHRoZSBhdmFpbGFibGUgc3RyZWFtc1xuXHRcdCAqIEByZXR1cm4ge2FycmF5fSAtIFRoZSBhdmFpbGFibGUgc3RyZWFtc1xuXHRcdCAqL1xuXHRcdGdldEF2YWlsYWJsZVN0cmVhbXM6IF9nZXRBdmFpbGFibGVTdHJlYW1zLFxuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHN0cmVhbSBtYXRjaGluZyB0aGUgaWRlbnRpZmllclxuXHRcdCAqIEBwYXJhbSBzdHJlYW0gLSBUaGUgc3RyZWFtIGlkZW50aWZpZXJcblx0XHQgKi9cblx0XHRnZXRBdmFpbGFibGVTdHJlYW06IF9nZXRBdmFpbGFibGVTdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogIG11dGUgYXVkaW8gdGhlIHN0cmVhbSBzdHJlYW1JZFxuXHRcdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBzdHJlYW0gaWRlbnRpZmllciB0byBtdXRlXG5cdFx0ICovXG5cdFx0bXV0ZUF1ZGlvU3RyZWFtOiBfbXV0ZUF1ZGlvU3RyZWFtLFxuXHRcdC8qKlxuXHRcdCAqIHVubXV0ZSBhdWRpbyB0aGUgc3RyZWFtIHN0cmVhbUlkXG5cdFx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyIHRvIG11dGVcblx0XHQgKi9cblx0XHR1bm11dGVBdWRpb1N0cmVhbTogX3VubXV0ZUF1ZGlvU3RyZWFtLFxuXHRcdC8qKlxuXHRcdCAqICBtdXRlIFZpZGVvIHRoZSBzdHJlYW0gc3RyZWFtSWRcblx0XHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgc3RyZWFtIGlkZW50aWZpZXIgdG8gbXV0ZVxuXHRcdCAqL1xuXHRcdG11dGVWaWRlb1N0cmVhbTogX211dGVWaWRlb1N0cmVhbSxcblx0XHQvKipcblx0XHQgKiB1bm11dGUgVmlkZW8gdGhlIHN0cmVhbSBzdHJlYW1JZFxuXHRcdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBzdHJlYW0gaWRlbnRpZmllciB0byBtdXRlXG5cdFx0ICovXG5cdFx0dW5tdXRlVmlkZW9TdHJlYW06IF91bm11dGVWaWRlb1N0cmVhbSxcblx0XHQvKipcblx0XHQgKiBDbG9zZXMgdGhlIHJvb20uXG5cdFx0ICogU2V0cyB0aGUgY29ubmVjdGVkIHN0YXR1cyBvZiB0aGUgY3VycmVudCBwYXJ0aWNpcGFudCB0byBmYWxzZSwgZGVsZXRlcyBtZWRpYXMgYW5kIGNhbGxiYWNrcywgdGhlbiBjbG9zZSBXZWJSVEMgc3RhY2tzIGluIHVzZS5cblx0XHQgKiBAcGFyYW0gdXBkYXRlUm9vbVN0YXR1c1RvQ2xvc2UgLSB0cnVlIGlmIHRoZSByb29tIHNob3VsZCBiZSBtYXJrZWQgYXMgY2xvc2VkXG5cdFx0ICovXG5cdFx0Y2xvc2U6IF9jbG9zZSxcblx0XHQvKipcblx0XHQgKiBDYWxscyB0aGUgbWFjaGluZyBmdW5jdGlvbiBmb3IgYSBkZWRpY2F0ZWQgZXZlbnRcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gZXZ0IC0gVGhlIGV2ZW50LCBpbiBcImluc3RhbnRNZXNzYWdlXCIsIFwicHVibGlzaGVkU3RyZWFtXCIsIFwidW5QdWJsaXNoZWRTdHJlYW1cIiwgXCJwYXJ0aWNpcGFudEpvaW5cIiwgXCJwYXJ0aWNpcGFudExlYXZlXCJcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrIHRvIGNhbGxcblx0XHQgKi9cblx0XHRvbjogKGV2dCwgcF9jYikgPT4ge1xuXHRcdFx0c3dpdGNoIChldnQpIHtcblx0XHRcdGNhc2UgJ2luc3RhbnRNZXNzYWdlJzpcblx0XHRcdFx0X3NldE9uSW5zdGFudE1lc3NhZ2UocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAncHVibGlzaGVkU3RyZWFtJzpcblx0XHRcdFx0X3NldE9uUHVibGlzaGVkU3RyZWFtKHBfY2IpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3VuUHVibGlzaGVkU3RyZWFtJzpcblx0XHRcdFx0X3NldE9uVW5QdWJsaXNoZWRTdHJlYW0ocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAncGFydGljaXBhbnRKb2luJzpcblx0XHRcdFx0X3NldE9uUGFydGljaXBhbnRKb2luKHBfY2IpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3BhcnRpY2lwYW50TGVhdmUnOlxuXHRcdFx0XHRfc2V0T25QYXJ0aWNpcGFudExlYXZlKHBfY2IpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGRlZmF1bHQ6XG5cdFx0XHRcdGNvbnNvbGUuZXJyKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6b24pdW5zdXBwb3J0ZWQgJHtldnR9IGV2ZW50YCk7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9yb29tLmpzXG4gKiovIiwiLyoqXG4gKiBAZmlsZSBsb2NhbHN0cmVhbS5qcyAtIEpTIGZpbGUgdG8gaGFuZGxlIGxvY2FsIHN0cmVhbXMuXG4gKiBAZGVzY3JpcHRpb24gUHJvdmlkZXMgZGF0YSBzdHJ1Y3R1cmVzIHRvIHN0b3JlIGFuZCBoYW5kbGUgdmlkZW8sIGF1ZGlvIGFuZCB2aWRlby1hbmQtYXVkaW8gc3RyZWFtcy4gVGhlIGF1ZGlvIGFuZCB2aWRlbyBzdHJlYW1zIGFyZSBtYW5hZ2VkIHRvby5cbiAqIEluaXRpYWxpemF0aW9uIG1ldGhvZHMgYXJlIHByb3ZpZGVkLCBzdHJlYW0gY29ubmVjdGlvbnMgYW5kIGxpc3RlbmVycyB0b28uXG4gKiBAYXV0aG9yIFdlYmNvbVxuICovXG5cbi8qZXNsaW50IGNvbXBsZXhpdHk6MSwgbWF4LXN0YXRlbWVudHM6IDEsIG1heC1sZW46IDEqL1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGRlc2NyaXB0aW9uIFRoZSBsb2NhbCBzdHJlYW0gb2JqZWN0IHdpdGggaXRzIHN0cmVhbXMsIGZsYWdzIGFuZCBjYWxsYmFja3MuIEl0IGlzIGEgc2luZ2xldG9uLlxuICovXG5jb25zdCBsb2NhbHN0cmVhbSA9IChmdW5jdGlvbigpIHtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBsb2NhbCB2aWRlbyBzdHJlYW1zLCBhcyBIVE1MIHZpZGVvIG9iamVjdHMsIGluIGFuIGFycmF5XG5cdCAqL1xuXHRsZXQgbG9jYWxWaWRlb1N0cmVhbXMgPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgbG9jYWwgYXVkaW8gc3RyZWFtcywgYXMgSFRNTCB2aWRlbyBvYmplY3RzLCBpbiBhbiBhcnJheVxuXHQgKi9cblx0bGV0IGxvY2FsQXVkaW9TdHJlYW1zID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGxvY2FsIGF1ZGlvIGFuZCB2aWRlbyBzdHJlYW1zLCBhcyBIVE1MIHZpZGVvIG9iamVjdHMsIGluIGFuIGFycmF5XG5cdCAqL1xuXHRsZXQgbG9jYWxBdWRpb1ZpZGVvU3RyZWFtcyA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSB2aWRlbyBzdHJlYW0gb2JqZWN0XG5cdCAqL1xuXHRsZXQgc3RyZWFtVmlkZW8gPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBhdWRpbyBzdHJlYW0gb2JqZWN0XG5cdCAqL1xuXHRsZXQgc3RyZWFtQXVkaW8gPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSB2aWRlbyBhbmQgYXVkaW8gc3RyZWFtIG9iamVjdFxuXHQgKi9cblx0bGV0IHN0cmVhbUF1ZGlvVmlkZW8gPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIGFycmF5IGNvbnRhaW5pbmcgdmlkZW8gbGlzdGVuZXJzIGFzIGZ1bmN0aW9ucy4gVGhlc2UgbGlzdGVuZXJzIHdpbGwgYmUgdHJpZ2dlcmVkIGlmIHRoZSB2aWRlbyBzdHJlYW0gaXMgZXN0YWJsaXNoZWQuXG5cdCAqL1xuXHRsZXQgbGlzdGVuZXJzVmlkZW8gPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIGF1ZGlvIGxpc3RlbmVycyBhcyBmdW5jdGlvbnMuIFRoZXNlIGxpc3RlbmVycyB3aWxsIGJlIHRyaWdnZXJlZCBpZiB0aGUgYXVkaW8gc3RyZWFtIGlzIGVzdGFibGlzaGVkLlxuXHQgKi9cblx0bGV0IGxpc3RlbmVyc0F1ZGlvID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyBhdWRpbyBhbmQgdmlkZW8gbGlzdGVuZXJzIGFzIGZ1bmN0aW9ucy4gVGhlc2UgbGlzdGVuZXJzIHdpbGwgYmUgdHJpZ2dlcmVkIGlmIHRoZSB2aWRlLWFuZC1hdWRpbyBzdHJlYW0gaXMgZXN0YWJsaXNoZWQuXG5cdCAqL1xuXHRsZXQgbGlzdGVuZXJzQXVkaW9WaWRlbyA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBsb2NhbCB2aWRlbyBzdHJlYW0sIGFzIGFuIEhUTUwgdmlkZW8gZWxlbWVudFxuXHQgKi9cblx0bGV0IG1Mb2NhbFN0cmVhbVZpZGVvID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgbG9jYWwgYXVkaW8gc3RyZWFtLCBhcyBhbiBIVE1MIHZpZGVvIGVsZW1lbnRcblx0ICovXG5cdGxldCBtTG9jYWxTdHJlYW1BdWRpbyA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGxvY2FsIGF1ZGlvIGFuZCB2aWRlbyBzdHJlYW0sIGFzIGFuIEhUTUwgdmlkZW8gZWxlbWVudFxuXHQgKi9cblx0bGV0IG1Mb2NhbFN0cmVhbUF1ZGlvVmlkZW8gPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZsYWcgaW5kaWNhdGluZyBpZiB0aGUgdmlkZW8gaW5pdGlhbGlzYXRpb24gaXMgaW4gcHJvZ3Jlc3Ncblx0ICovXG5cdGxldCBpbml0VmlkZW9Qcm9ncmVzcyA9IGZhbHNlO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZsYWcgaW5kaWNhdGluZyBpZiB0aGUgYXVkaW8gaW5pdGlhbGlzYXRpb24gaXMgaW4gcHJvZ3Jlc3Ncblx0ICovXG5cdGxldCBpbml0QXVkaW9Qcm9ncmVzcyA9IGZhbHNlO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEZsYWcgaW5kaWNhdGluZyBpZiB0aGUgYXVkaW8gYW5kIHZpZGVvIGluaXRpYWxpc2F0aW9uIGlzIGluIHByb2dyZXNzXG5cdCAqL1xuXHRsZXQgaW5pdEF1ZGlvVmlkZW9Qcm9ncmVzcyA9IGZhbHNlO1xuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgdmlkZW8gbG9jYWwgc3RyZWFtLlxuXHQgKiBUaGUgd2ViIGJyb3dzZXIncyB1c2VyIG1lZGlhIHdpbGwgYmUgY2FsbGVkLCBzbyB0aGUgYnJvd3NlciBpbiB1c2UgbXVzdCBiZSByZWNlbnQgKEZpcmVmb3ggMTcsIENocm9tZSAyMSwgT3BlcmEgMTggYW5kIGxhdGVyIHZlcnNpb25zKS5cblx0ICogQSB2aWRlbyBlbGVtZW50IHdpbGwgYmUgY3JlYXRlZCwgYW5kIHB1c2hlZCB0byB0aGUgbG9jYWwgc3RyZWFtcyBvYmplY3RzLiBUaGUgY2F0Y2hlZCB2aWRlbyBhbmQgYXVkaW8gc3RyZWFtIHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlIGNyZWF0ZWQgSFRNTCBlbGVtZW50LlxuXHQgKiBMaXN0ZW5lcnMgd2lsbCBhbHNvIGJlIGNhbGxlZC5cblx0ICovXG5cdGZ1bmN0aW9uIGluaXRWaWRlbyhjYWxsYmFjayl7XG5cdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6bG9jYWxzdHJlYW06OmluaXRWaWRlbyknKTtcblx0XHRpZiAoISBpbml0VmlkZW9Qcm9ncmVzcykge1xuXHRcdFx0aW5pdFZpZGVvUHJvZ3Jlc3M9dHJ1ZTtcblxuXHRcdFx0bmF2aWdhdG9yLmdldE1lZGlhID0gZ2V0VXNlck1lZGlhO1xuXHRcdFx0bUxvY2FsU3RyZWFtVmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdWSURFTycpO1xuXHRcdFx0bUxvY2FsU3RyZWFtVmlkZW8ubXV0ZWQ9IHRydWU7XG5cdFx0XHRsb2NhbFZpZGVvU3RyZWFtcy5wdXNoKG1Mb2NhbFN0cmVhbVZpZGVvKTtcblxuXHRcdFx0aWYoc3RyZWFtVmlkZW8gPT09IG51bGwpe1xuXHRcdFx0XHRuYXZpZ2F0b3IuZ2V0TWVkaWEoe2F1ZGlvIDogZmFsc2UsdmlkZW8gOiB0cnVlfSxcblx0XHRcdFx0XHQocykgPT4ge1xuXHRcdFx0XHRcdFx0c3RyZWFtVmlkZW8gPSBzO1xuXG5cdFx0XHRcdFx0XHRsb2NhbFZpZGVvU3RyZWFtcy5mb3JFYWNoKChsb2NhbFZpZGVvU3RyZWFtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKGxvY2FsVmlkZW9TdHJlYW0sIHN0cmVhbVZpZGVvKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0bG9jYWxWaWRlb1N0cmVhbXMgPSBbXTtcblxuXHRcdFx0XHRcdFx0bGlzdGVuZXJzVmlkZW8uZm9yRWFjaCgobGlzdGVuZXJWaWRlbykgPT4ge1xuXHRcdFx0XHRcdFx0XHRsaXN0ZW5lclZpZGVvKHN0cmVhbVZpZGVvKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzVmlkZW8gPSBbXTtcblxuXHRcdFx0XHRcdFx0aW5pdFZpZGVvUHJvZ3Jlc3M9ZmFsc2U7XG5cblx0XHRcdFx0XHRcdGlmIChjYWxsYmFjaykge1xuXHRcdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0KGVycm9yKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKCdFcnJvciBvbiB3ZWJydGNMb2NhbFN0cmVhbSAtIHdlYmtpdEdldFVzZXJNZWRpYSA6IGVycm9yPScpO1xuXHRcdFx0XHRcdFx0Y29uc29sZS5kaXIoZXJyb3IpO1xuXHRcdFx0XHRcdFx0aW5pdFZpZGVvUHJvZ3Jlc3MgPSBmYWxzZTtcblxuXHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrKGVycm9yKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRsb2NhbFZpZGVvU3RyZWFtcy5mb3JFYWNoKChsb2NhbFZpZGVvU3RyZWFtKSA9PiB7XG5cdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0obG9jYWxWaWRlb1N0cmVhbSwgc3RyZWFtVmlkZW8pO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0bG9jYWxWaWRlb1N0cmVhbXMgPSBbXTtcblxuXHRcdFx0XHRsaXN0ZW5lcnNWaWRlby5mb3JFYWNoKChsaXN0ZW5lclZpZGVvKSA9PiB7XG5cdFx0XHRcdFx0bGlzdGVuZXJWaWRlbyhzdHJlYW1WaWRlbyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRsaXN0ZW5lcnNWaWRlbyA9IFtdO1xuXG5cdFx0XHRcdGluaXRWaWRlb1Byb2dyZXNzID0gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSB2aWRlbyBsb2NhbCBzdHJlYW0uXG5cdCAqIFRoZSB3ZWIgYnJvd3NlcidzIHVzZXIgbWVkaWEgd2lsbCBiZSBjYWxsZWQsIHNvIHRoZSBicm93c2VyIGluIHVzZSBtdXN0IGJlIHJlY2VudCAoRmlyZWZveCAxNywgQ2hyb21lIDIxLCBPcGVyYSAxOCBhbmQgbGF0ZXIgdmVyc2lvbnMpLlxuXHQgKiBBIHZpZGVvIGVsZW1lbnQgd2lsbCBiZSBjcmVhdGVkLCBhbmQgcHVzaGVkIHRvIHRoZSBsb2NhbCBzdHJlYW1zIG9iamVjdHMuIFRoZSBjYXRjaGVkIGF1ZGlvIHN0cmVhbSB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBjcmVhdGVkIEhUTUwgZWxlbWVudC5cblx0ICogTGlzdGVuZXJzIHdpbGwgYWxzbyBiZSBjYWxsZWQuXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0QXVkaW8oY2FsbGJhY2spIHtcblx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjpsb2NhbHN0cmVhbTo6aW5pdEF1ZGlvKScpO1xuXHRcdGlmICghIGluaXRBdWRpb1Byb2dyZXNzKSB7XG5cdFx0XHRpbml0QXVkaW9Qcm9ncmVzcz10cnVlO1xuXG5cdFx0XHRuYXZpZ2F0b3IuZ2V0TWVkaWEgPSBnZXRVc2VyTWVkaWE7XG5cdFx0XHRtTG9jYWxTdHJlYW1BdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0FVRElPJyk7XG5cdFx0XHRtTG9jYWxTdHJlYW1BdWRpby5tdXRlZD0gdHJ1ZTtcblx0XHRcdGxvY2FsQXVkaW9TdHJlYW1zLnB1c2gobUxvY2FsU3RyZWFtQXVkaW8pO1xuXG5cdFx0XHRpZihzdHJlYW1BdWRpbyA9PT0gbnVsbCl7XG5cdFx0XHRcdG5hdmlnYXRvci5nZXRNZWRpYSh7YXVkaW8gOiB0cnVlLHZpZGVvIDogZmFsc2V9LFxuXHRcdFx0XHRcdChzKSA9PiB7XG5cdFx0XHRcdFx0XHRzdHJlYW1BdWRpbyA9IHM7XG5cdFx0XHRcdFx0XHRsb2NhbEF1ZGlvU3RyZWFtcy5mb3JFYWNoKChsb2NhbEF1ZGlvU3RyZWFtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKGxvY2FsQXVkaW9TdHJlYW0sIHN0cmVhbUF1ZGlvKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0bG9jYWxBdWRpb1N0cmVhbXMgPSBbXTtcblxuXHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW8uZm9yRWFjaCgobGlzdGVuZXJBdWRpbykgPT4ge1xuXHRcdFx0XHRcdFx0XHRsaXN0ZW5lckF1ZGlvKHN0cmVhbUF1ZGlvKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW8gPSBbXTtcblxuXHRcdFx0XHRcdFx0aW5pdEF1ZGlvUHJvZ3Jlc3MgPSBmYWxzZTtcblxuXHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQoZXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG9uIHdlYnJ0Y0xvY2FsU3RyZWFtIC0gd2Via2l0R2V0VXNlck1lZGlhIDplcnJvcj0nKTtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZGlyKGVycm9yKTtcblx0XHRcdFx0XHRcdGluaXRBdWRpb1Byb2dyZXNzPWZhbHNlO1xuXG5cdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soZXJyb3IpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxvY2FsQXVkaW9TdHJlYW1zLmZvckVhY2goKGxvY2FsQXVkaW9TdHJlYW0pID0+IHtcblx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShsb2NhbEF1ZGlvU3RyZWFtLCBzdHJlYW1BdWRpbyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRsb2NhbEF1ZGlvU3RyZWFtcyA9IFtdO1xuXG5cdFx0XHRcdGxpc3RlbmVyc0F1ZGlvLmZvckVhY2goKGxpc3RlbmVyQXVkaW8pID0+IHtcblx0XHRcdFx0XHRsaXN0ZW5lckF1ZGlvKHN0cmVhbUF1ZGlvKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGxpc3RlbmVyc0F1ZGlvID0gW107XG5cblx0XHRcdFx0aW5pdEF1ZGlvUHJvZ3Jlc3MgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIGF1ZGlvLWFuZC12aWRlbyBsb2NhbCBzdHJlYW0uXG5cdCAqIFRoZSB3ZWIgYnJvd3NlcidzIHVzZXIgbWVkaWEgd2lsbCBiZSBjYWxsZWQsIHNvIHRoZSBicm93c2VyIGluIHVzZSBtdXN0IGJlIHJlY2VudCAoRmlyZWZveCAxNywgQ2hyb21lIDIxLCBPcGVyYSAxOCBhbmQgbGF0ZXIgdmVyc2lvbnMpLlxuXHQgKiBBIHZpZGVvIGVsZW1lbnQgd2lsbCBiZSBjcmVhdGVkLCBhbmQgcHVzaGVkIHRvIHRoZSBsb2NhbCBzdHJlYW1zIG9iamVjdHMuIFRoZSBjYXRjaGVkIGF1ZGlvIHN0cmVhbSB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBjcmVhdGVkIEhUTUwgZWxlbWVudC5cblx0ICogTGlzdGVuZXJzIHdpbGwgYWxzbyBiZSBjYWxsZWQuXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0QXVkaW9WaWRlbyhjYWxsYmFjaykge1xuXHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OmxvY2Fsc3RyZWFtOjppbml0QXVkaW9WaWRlbyknKTtcblx0XHRpZiAoIWluaXRBdWRpb1ZpZGVvUHJvZ3Jlc3MpIHtcblx0XHRcdGluaXRBdWRpb1ZpZGVvUHJvZ3Jlc3M9dHJ1ZTtcblxuXHRcdFx0bmF2aWdhdG9yLmdldE1lZGlhID0gZ2V0VXNlck1lZGlhO1xuXHRcdFx0bUxvY2FsU3RyZWFtQXVkaW9WaWRlbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0FVRElPVklERU8nKTtcblx0XHRcdG1Mb2NhbFN0cmVhbUF1ZGlvVmlkZW8ubXV0ZWQ9IHRydWU7XG5cdFx0XHRsb2NhbEF1ZGlvVmlkZW9TdHJlYW1zLnB1c2gobUxvY2FsU3RyZWFtQXVkaW9WaWRlbyk7XG5cblx0XHRcdGlmKHN0cmVhbUF1ZGlvVmlkZW8gPT09IG51bGwpe1xuXHRcdFx0XHRuYXZpZ2F0b3IuZ2V0TWVkaWEoe2F1ZGlvIDogdHJ1ZSx2aWRlbyA6IHRydWV9LFxuXHRcdFx0XHRcdChzKSA9PiB7XG5cdFx0XHRcdFx0XHRzdHJlYW1BdWRpb1ZpZGVvID0gcztcblxuXHRcdFx0XHRcdFx0bG9jYWxBdWRpb1ZpZGVvU3RyZWFtcy5mb3JFYWNoKChsb2NhbEF1ZGlvVmlkZW9TdHJlYW0pID0+IHtcblx0XHRcdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0obG9jYWxBdWRpb1ZpZGVvU3RyZWFtLCBzdHJlYW1BdWRpb1ZpZGVvKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0bG9jYWxBdWRpb1ZpZGVvU3RyZWFtcyA9IFtdO1xuXG5cdFx0XHRcdFx0XHRsaXN0ZW5lcnNBdWRpb1ZpZGVvLmZvckVhY2goKGxpc3RlbmVyQXVkaW9WaWRlbykgPT4ge1xuXHRcdFx0XHRcdFx0XHRsaXN0ZW5lckF1ZGlvVmlkZW8oc3RyZWFtQXVkaW9WaWRlbyk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdGxpc3RlbmVyc0F1ZGlvVmlkZW8gPSBbXTtcblxuXHRcdFx0XHRcdFx0aW5pdEF1ZGlvVmlkZW9Qcm9ncmVzcyA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdChlcnJvcikgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpsb2NhbHN0cmVhbTo6aW5pdEF1ZGlvVmlkZW86OkVycm9yIG9uIHdlYnJ0Y0xvY2FsU3RyZWFtIC0gd2Via2l0R2V0VXNlck1lZGlhIDogZXJyb3I9Jyk7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmRpcihlcnJvcik7XG5cdFx0XHRcdFx0XHRpbml0QXVkaW9WaWRlb1Byb2dyZXNzPWZhbHNlO1xuXG5cdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soZXJyb3IpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxvY2FsQXVkaW9WaWRlb1N0cmVhbXMuZm9yRWFjaCgobG9jYWxBdWRpb1ZpZGVvU3RyZWFtKSA9PiB7XG5cdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0obG9jYWxBdWRpb1ZpZGVvU3RyZWFtLCBzdHJlYW1BdWRpb1ZpZGVvKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGxvY2FsQXVkaW9WaWRlb1N0cmVhbXMgPSBbXTtcblxuXHRcdFx0XHRsaXN0ZW5lcnNBdWRpb1ZpZGVvLmZvckVhY2goKGxpc3RlbmVyQXVkaW9WaWRlbykgPT4ge1xuXHRcdFx0XHRcdGxpc3RlbmVyQXVkaW9WaWRlbyhzdHJlYW1BdWRpb1ZpZGVvKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGxpc3RlbmVyc0F1ZGlvVmlkZW8gPSBbXTtcblxuXHRcdFx0XHRpbml0QXVkaW9WaWRlb1Byb2dyZXNzID0gZmFsc2U7XG5cdFx0XHR9XG5cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQ2xvc2VzIGFsbCB0aGUgc3RyZWFtcy5cblx0ICogU2V0IGFsbCB0aGUgaW5pdFByb2dyZXNzIGZsYWdzIHRvIGZhbHNlLCBkZXRhY2ggYWxsIHRoZSBzdHJlYW1zIGFmdGVyIHN0b3BwaW5nIHRoZW0uXG5cdCAqL1xuXHRmdW5jdGlvbiBjbG9zZSgpIHtcblx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjpsb2NhbHN0cmVhbTo6Y2xvc2UpJyk7XG5cdFx0aWYgKG1Mb2NhbFN0cmVhbVZpZGVvKSB7XG5cdFx0XHRkZXRhY2hNZWRpYVN0cmVhbShtTG9jYWxTdHJlYW1WaWRlbyk7XG5cdFx0XHRtTG9jYWxTdHJlYW1WaWRlbz1udWxsO1xuXHRcdH1cblx0XHRpZiAoc3RyZWFtQXVkaW9WaWRlbykge1xuXHRcdFx0c3RyZWFtQXVkaW9WaWRlby5zdG9wKCk7XG5cdFx0XHRzdHJlYW1BdWRpb1ZpZGVvPW51bGw7XG5cdFx0fVxuXHRcdGlmIChzdHJlYW1WaWRlbykge1xuXHRcdFx0c3RyZWFtVmlkZW8uc3RvcCgpO1xuXHRcdFx0c3RyZWFtVmlkZW8gPSBudWxsO1xuXHRcdH1cblx0XHRpbml0VmlkZW9Qcm9ncmVzcz1mYWxzZTtcblxuXHRcdGlmIChtTG9jYWxTdHJlYW1BdWRpbykge1xuXHRcdFx0ZGV0YWNoTWVkaWFTdHJlYW0obUxvY2FsU3RyZWFtQXVkaW8pO1xuXHRcdFx0bUxvY2FsU3RyZWFtQXVkaW89bnVsbDtcblx0XHR9XG5cdFx0aWYgKHN0cmVhbUF1ZGlvKSB7XG5cdFx0XHRzdHJlYW1BdWRpby5zdG9wKCk7XG5cdFx0XHRzdHJlYW1BdWRpbyA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aW5pdEF1ZGlvUHJvZ3Jlc3M9ZmFsc2U7XG5cblx0XHRpZiAobUxvY2FsU3RyZWFtQXVkaW9WaWRlbykge1xuXHRcdFx0ZGV0YWNoTWVkaWFTdHJlYW0obUxvY2FsU3RyZWFtQXVkaW9WaWRlbyk7XG5cdFx0XHRtTG9jYWxTdHJlYW1BdWRpb1ZpZGVvPW51bGw7XG5cdFx0fVxuXHRcdGlmIChzdHJlYW1BdWRpb1ZpZGVvKSB7XG5cdFx0XHRzdHJlYW1BdWRpb1ZpZGVvLnN0b3AoKTtcblx0XHRcdHN0cmVhbUF1ZGlvVmlkZW8gPSBudWxsO1xuXHRcdH1cblxuXHRcdGluaXRBdWRpb1ZpZGVvUHJvZ3Jlc3M9ZmFsc2U7XG5cdH1cblxuXG5cdHJldHVybiB7XG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgdmlkZW8gc3RyZWFtXG5cdFx0ICovXG5cdFx0Z2V0VmlkZW9TdHJlYW06ICgpID0+IHtcblx0XHRcdHJldHVybiBzdHJlYW1WaWRlbztcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIEFkZHMgYSB2aWRlbyBsaXN0ZW5lciB3aGljaCB3aWxsIGJlIGNhbGxlZCBhZnRlciB0aGUgdmlkZW8gc3RyZWFtIGlzIGVzdGFibGlzaGVkLlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IGNiIC0gVGhlIGxpc3RlbmVyIHRvIGFkZFxuXHRcdCAqL1xuXHRcdGFkZFZpZGVvTGlzdGVuZXI6IChjYikgPT4ge1xuXHRcdFx0bGlzdGVuZXJzVmlkZW8ucHVzaChjYik7XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplcyB0aGUgdmlkZW8gbG9jYWwgc3RyZWFtLlxuXHRcdCAqIFRoZSB3ZWIgYnJvd3NlcidzIHVzZXIgbWVkaWEgd2lsbCBiZSBjYWxsZWQsIHNvIHRoZSBicm93c2VyIGluIHVzZSBtdXN0IGJlIHJlY2VudCAoRmlyZWZveCAxNywgQ2hyb21lIDIxLCBPcGVyYSAxOCBhbmQgbGF0ZXIgdmVyc2lvbnMpLlxuXHRcdCAqIEEgdmlkZW8gZWxlbWVudCB3aWxsIGJlIGNyZWF0ZWQsIGFuZCBwdXNoZWQgdG8gdGhlIGxvY2FsIHN0cmVhbXMgb2JqZWN0cy4gVGhlIGNhdGNoZWQgdmlkZW8gYW5kIGF1ZGlvIHN0cmVhbSB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBjcmVhdGVkIEhUTUwgZWxlbWVudC5cblx0XHQgKiBMaXN0ZW5lcnMgd2lsbCBhbHNvIGJlIGNhbGxlZC5cblx0XHQgKi9cblx0XHRpbml0VmlkZW86ICgpID0+IHtcblx0XHRcdGluaXRWaWRlbygpO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogTWFrZXMgdGhlIGNvbm5lY3Rpb24gdG8gdGhlIGxvY2FsIHZpZGVvIHN0cmVhbSwgYW5kIGF0dGFjaCB0aGUgbG9jYWwgdmlkZW8gc3RyZWFtIHRvIHRoZSB2aWRlbyBlbGVtZW50IGlmIGRlZmluZWQuXG5cdFx0ICogSWYgdGhlIHZpZGVvIGVsZW1lbnQgaXMgbm90IGRlZmluZWQsIHRoZSB2aWRlbyBsb2NhbCBzdHJlYW0gd2lsbCBiZSBpbml0aWFsaXplZCBhbmQgYSBkZWRpY2F0ZWQgSFRNTCB2aWRlbyB0YWcgd2lsbCBiZSBjcmVhdGVkLlxuXHRcdCAqIEBwYXJhbSB2aWRlb0VsdCAtIFRoZSB2aWRlbyBlbGVtZW50IHdoZXJlIHBsYWNlIHRoZSBjb25uZWN0ZWQgbG9jYWwgdmlkZW8gc3RyZWFtLiBpZiBudWxsLCBhIG5ldyBvbmUgd2lsbCBiZSBjcmVhdGVkLlxuXHRcdCAqIEBwYXJhbSBnZXRMb2NhbFN0cmVhbUNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgbWVkaWFzdHJlYW0gb2JqZWN0XG5cdFx0ICovXG5cdFx0Y29ubmVjdExvY2FsVmlkZW9TdHJlYW06ICh2aWRlb0VsdCwgcHVibGlzaFN0cmVhbUNiLCBnZXRMb2NhbFN0cmVhbUNiKSA9PiB7XG5cdFx0XHRpZiAodmlkZW9FbHQpIHtcblx0XHRcdFx0dmlkZW9FbHQubXV0ZWQ9dHJ1ZTtcblx0XHRcdFx0aWYgKHN0cmVhbVZpZGVvKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6bG9jYWxzdHJlYW06OmNvbm5lY3RMb2NhbFZpZGVvU3RyZWFtKXVzZSBleGlzdGluZyBzdHJlYW1WaWRlbycpO1xuXHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKHZpZGVvRWx0LHN0cmVhbVZpZGVvKTtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0TG9jYWxTdHJlYW1DYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0Z2V0TG9jYWxTdHJlYW1DYihzdHJlYW1WaWRlbyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxvY2FsVmlkZW9TdHJlYW1zLnB1c2godmlkZW9FbHQpO1xuXHRcdFx0XHRcdGlmIChnZXRMb2NhbFN0cmVhbUNiICYmIHR5cGVvZiBnZXRMb2NhbFN0cmVhbUNiPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lcnNWaWRlby5wdXNoKGdldExvY2FsU3RyZWFtQ2IpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpbml0VmlkZW8ocHVibGlzaFN0cmVhbUNiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCFzdHJlYW1WaWRlbykge1xuXHRcdFx0XHRcdGlmIChnZXRMb2NhbFN0cmVhbUNiICYmIHR5cGVvZiBnZXRMb2NhbFN0cmVhbUNiPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lcnNWaWRlby5wdXNoKGdldExvY2FsU3RyZWFtQ2IpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpbml0VmlkZW8ocHVibGlzaFN0cmVhbUNiKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0TG9jYWxTdHJlYW1DYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0Z2V0TG9jYWxTdHJlYW1DYihzdHJlYW1WaWRlbyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBhdWRpbyBzdHJlYW1cblx0XHQgKiBAcmV0dXJuIC0gQW4gYXVkaW8gc3RyZWFtXG5cdFx0ICovXG5cdFx0Z2V0QXVkaW9TdHJlYW06ICgpID0+IHtcblx0XHRcdHJldHVybiBzdHJlYW1BdWRpbztcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIEFkZHMgYW4gYXVkaW8gbGlzdGVuZXIgd2hpY2ggd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgdGhlIGF1ZGlvIHN0cmVhbSBpcyBlc3RhYmxpc2hlZC5cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIFRoZSBsaXN0ZW5lciB0byBhZGRcblx0XHQgKi9cblx0XHRhZGRBdWRpb0xpc3RlbmVyOiAoY2IpID0+IHtcblx0XHRcdGxpc3RlbmVyc0F1ZGlvLnB1c2goY2IpO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZXMgdGhlIGF1ZGlvIGxvY2FsIHN0cmVhbS5cblx0XHQgKiBUaGUgd2ViIGJyb3dzZXIncyB1c2VyIG1lZGlhIHdpbGwgYmUgY2FsbGVkLCBzbyB0aGUgYnJvd3NlciBpbiB1c2UgbXVzdCBiZSByZWNlbnQgKEZpcmVmb3ggMTcsIENocm9tZSAyMSwgT3BlcmEgMTggYW5kIGxhdGVyIHZlcnNpb25zKS5cblx0XHQgKiBBIHZpZGVvIGVsZW1lbnQgd2lsbCBiZSBjcmVhdGVkLCBhbmQgcHVzaGVkIHRvIHRoZSBsb2NhbCBzdHJlYW1zIG9iamVjdHMuIFRoZSBjYXRjaGVkIGF1ZGlvIHN0cmVhbSB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBjcmVhdGVkIEhUTUwgZWxlbWVudC5cblx0XHQgKiBMaXN0ZW5lcnMgd2lsbCBhbHNvIGJlIGNhbGxlZC5cblx0XHQgKi9cblx0XHRpbml0QXVkaW86ICgpID0+IHtcblx0XHRcdGluaXRBdWRpbygpO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogQ29ubmVjdHMgdG8gdGhlIGxvY2FsIGF1ZGlvIHN0cmVhbSBhbmQgc2V0cyBpdCB0byB0aGUgYXVkaW8gZWxlbWVudCBpZiBkZWZpbmVkLlxuXHRcdCAqIElmIG5vdCwgYSBkZWRpY2F0ZWQgSFRNTCB2aWRlbyB3aWxsIGJlIGNyZWF0ZWQuIFRoZSBhdWRpbyBtZWRpYSBzdHJlYW0gd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgZWxlbWVudCBpbiB1c2UuXG5cdFx0ICogQHBhcmFtIEF1ZGlvRWx0IC0gVGhlIGF1ZGlvIGVsZW1lbnQgaW4gdXNlIHBvc3Nlc3NpbmcgdGhlIGF0dGFjaGVkIGxvY2FsIGF1ZGlvIHN0cmVhbVxuXHRcdCAqIEBwYXJhbSBnZXRMb2NhbFN0cmVhbUNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgbWVkaWFzdHJlYW0gb2JqZWN0XG5cdFx0ICovXG5cdFx0Y29ubmVjdExvY2FsQXVkaW9TdHJlYW06IChBdWRpb0VsdCwgcHVibGlzaFN0cmVhbUNiLCBnZXRMb2NhbFN0cmVhbUNiKSA9PiB7XG5cdFx0XHRpZiAoQXVkaW9FbHQpIHtcblx0XHRcdFx0QXVkaW9FbHQubXV0ZWQ9dHJ1ZTtcblx0XHRcdFx0aWYgKHN0cmVhbUF1ZGlvKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6bG9jYWxzdHJlYW06OmNvbm5lY3RMb2NhbEF1ZGlvU3RyZWFtKXVzZSBleGlzdGluZyBzdHJlYW1BdWRpbycpO1xuXHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKEF1ZGlvRWx0LHN0cmVhbUF1ZGlvKTtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0TG9jYWxTdHJlYW1DYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0Z2V0TG9jYWxTdHJlYW1DYihzdHJlYW1BdWRpbyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxvY2FsQXVkaW9TdHJlYW1zLnB1c2goQXVkaW9FbHQpO1xuXHRcdFx0XHRcdGlmIChnZXRMb2NhbFN0cmVhbUNiICYmIHR5cGVvZiBnZXRMb2NhbFN0cmVhbUNiPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lcnNBdWRpby5wdXNoKGdldExvY2FsU3RyZWFtQ2IpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpbml0QXVkaW8ocHVibGlzaFN0cmVhbUNiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCFzdHJlYW1BdWRpbykge1xuXHRcdFx0XHRcdGlmIChnZXRMb2NhbFN0cmVhbUNiICYmIHR5cGVvZiBnZXRMb2NhbFN0cmVhbUNiPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lcnNBdWRpby5wdXNoKGdldExvY2FsU3RyZWFtQ2IpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpbml0QXVkaW8ocHVibGlzaFN0cmVhbUNiKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0TG9jYWxTdHJlYW1DYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0Z2V0TG9jYWxTdHJlYW1DYihzdHJlYW1BdWRpbyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBhdWRpbyB2aWRlbyBzdHJlYW1cblx0XHQgKiBAcmV0dXJuIC0gVGhlIGF1ZGlvIGFuZCB2aWRlbyBzdHJlYW1cblx0XHQgKi9cblx0XHRnZXRBdWRpb1ZpZGVvU3RyZWFtOiAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gc3RyZWFtQXVkaW9WaWRlbztcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIEFkZHMgdGhlIGF1ZGlvLWFuZC12aWRlbyBsaXN0ZW5lciB3aGljaCB3aWxsIGJlIGNhbGxlZCBhZnRlciB0aGUgYXVkaS1hbmQtdmlkZW8gc3RyZWFtIGlzIGVzdGFibGlzaGVkLlxuXHRcdCAqIEBwYXJhbSBjYiAtIFRoZSBhdWRpbyBhbmQgdmlkZW8gbGlzdGVuZXIgdG8gYWRkXG5cdFx0ICovXG5cdFx0YWRkQXVkaW9WaWRlb0xpc3RlbmVyOiAoY2IpID0+IHtcblx0XHRcdGxpc3RlbmVyc0F1ZGlvVmlkZW8ucHVzaChjYik7XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBJbml0aWFsaXplcyB0aGUgYXVkaW8tYW5kLXZpZGVvIGxvY2FsIHN0cmVhbS5cblx0XHQgKiBUaGUgd2ViIGJyb3dzZXIncyB1c2VyIG1lZGlhIHdpbGwgYmUgY2FsbGVkLCBzbyB0aGUgYnJvd3NlciBpbiB1c2UgbXVzdCBiZSByZWNlbnQgKEZpcmVmb3ggMTcsIENocm9tZSAyMSwgT3BlcmEgMTggYW5kIGxhdGVyIHZlcnNpb25zKS5cblx0XHQgKiBBIHZpZGVvIGVsZW1lbnQgd2lsbCBiZSBjcmVhdGVkLCBhbmQgcHVzaGVkIHRvIHRoZSBsb2NhbCBzdHJlYW1zIG9iamVjdHMuIFRoZSBjYXRjaGVkIGF1ZGlvIHN0cmVhbSB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBjcmVhdGVkIEhUTUwgZWxlbWVudC5cblx0XHQgKiBMaXN0ZW5lcnMgd2lsbCBhbHNvIGJlIGNhbGxlZC5cblx0XHQgKi9cblx0XHRpbml0QXVkaW9WaWRlbzogKCkgPT4ge1xuXHRcdFx0aW5pdEF1ZGlvVmlkZW8oKTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIENvbm5lY3RzIHRoZSBsb2NhbCBhdWRpbyBhbmQgdmlkZW8gc3RyZWFtcyBhbmQgYXNzaWducyB0aGVtIHRvIHRoZSBhdWRpbyBhbmQgdmlkZW8gZWxlbWVudCBpZiBuZWVkZWQuXG5cdFx0ICogSWYgbm8gSFRNTCBlbGVtZW50IGlzIHBhc3NlZCB0byB0aGUgZnVuY3Rpb25uIGEgbmV3IGVsZW1lbnQgaXMgY3JlYXRlZFxuXHRcdCAqIEBwYXJhbSBBdWRpb1ZpZGVvRWx0IC0gVGhlIGVsZW1lbnQgd2hlcmUgdG8gcGxhY2UgdGhlIGF1ZGlvIGFuZCB2aWRlbyBsb2NhbCBzdHJlYW1zXG5cdFx0ICogQHBhcmFtIGdldExvY2FsU3RyZWFtQ2IgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJldHJpZXZlIHRoZSBtZWRpYXN0cmVhbSBvYmplY3Rcblx0XHQgKi9cblx0XHRjb25uZWN0TG9jYWxBdWRpb1ZpZGVvU3RyZWFtOiAoQXVkaW9WaWRlb0VsdCwgcHVibGlzaFN0cmVhbUNiLCBnZXRMb2NhbFN0cmVhbUNiKSA9PiB7XG5cdFx0XHRpZiAoQXVkaW9WaWRlb0VsdCkge1xuXHRcdFx0XHRBdWRpb1ZpZGVvRWx0Lm11dGVkPXRydWU7XG5cdFx0XHRcdGlmIChzdHJlYW1BdWRpb1ZpZGVvKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6bG9jYWxzdHJlYW06OmNvbm5lY3RMb2NhbEF1ZGlvVmlkZW9TdHJlYW0pdXNlIGV4aXN0aW5nIHN0cmVhbUF1ZGlvVmlkZW8nKTtcblx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShBdWRpb1ZpZGVvRWx0LHN0cmVhbUF1ZGlvVmlkZW8pO1xuXHRcdFx0XHRcdGlmIChnZXRMb2NhbFN0cmVhbUNiKSB7XG5cdFx0XHRcdFx0XHRnZXRMb2NhbFN0cmVhbUNiKHN0cmVhbUF1ZGlvVmlkZW8pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsb2NhbEF1ZGlvVmlkZW9TdHJlYW1zLnB1c2goQXVkaW9WaWRlb0VsdCk7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW9WaWRlby5wdXNoKGdldExvY2FsU3RyZWFtQ2IpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpbml0QXVkaW9WaWRlbyhwdWJsaXNoU3RyZWFtQ2IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoIXN0cmVhbUF1ZGlvVmlkZW8pIHtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0TG9jYWxTdHJlYW1DYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lcnNBdWRpb1ZpZGVvLnB1c2goZ2V0TG9jYWxTdHJlYW1DYik7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGluaXRBdWRpb1ZpZGVvKHB1Ymxpc2hTdHJlYW1DYik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IpIHtcblx0XHRcdFx0XHRcdGdldExvY2FsU3RyZWFtQ2Ioc3RyZWFtQXVkaW9WaWRlbyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIERldGFjaGVzIHN0cmVhbXMgYW5kIGRlbGV0ZXMgbGlzdGVuZXJzXG5cdFx0ICovXG5cdFx0Y2xvc2U6ICgpID0+IHtcblx0XHRcdGNsb3NlKCk7XG5cdFx0fVxuXHR9O1xuXG59KSgpO1xuXG5leHBvcnQgZGVmYXVsdCBsb2NhbHN0cmVhbTtcblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9sb2NhbHN0cmVhbS5qc1xuICoqLyIsIi8qKlxuICogQGZpbGUgd2VicnRjbW5nci5qcyAtIEpTIGZpbGUgZm9yIGEgV2ViUlRDIG1hbmFnZXJcbiAqIEBhdXRob3IgV2ViY29tXG4gKi9cblxuLyplc2xpbnQgY29tcGxleGl0eToxLCBtYXgtc3RhdGVtZW50czogMSwgbWF4LWxlbjogMSwgbWF4LXBhcmFtczogMSovXG5cbmltcG9ydCB1dGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCB3ZWJydGMgZnJvbSAnLi93ZWJydGMnO1xuaW1wb3J0IGxvY2Fsc3RyZWFtIGZyb20gJy4vbG9jYWxzdHJlYW0nO1xuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGRlc2NyaXB0aW9uIFdlYlJUQyBtYW5hZ2VyIGhhbmRsaW5nIHRoZSBXZWJSVEMgc3RhY2tzIGluIHVzZVxuICovXG5jb25zdCB3ZWJydGNtbmdyID0gZnVuY3Rpb24oZGF0YXJlZnMpIHtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIGFycmF5IGNvbnRhaW5nIHRoZSBXZWJSVEMgc3RhY2tzIGluIHVzZVxuXHQgKi9cblx0Y29uc3Qgd2VicnRjU3RhY2tzID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbnQgdGhlIHZpcnR1YWwgV2ViUlRDIHN0YWNrc1xuXHQgKi9cblx0Y29uc3QgdmlydHVhbFdlYnJ0Y1N0YWNrcyA9IFtdO1xuXG5cdC8qKlxuXHQgKiBDcmVhdGVzIGEgV2ViUlRDIG9iamVjdFxuXHQgKiBAcGFyYW0gcF9WaWQgLSB0aGUgdmlkZW8gY29udGFpbmVyIGxpbmtlZCB0byB0aGUgcGVlcmNvbm5lY3Rpb25cblx0ICogQHBhcmFtIHBfcmVtb3RlQXBwSW5zdElkIC0gdGhlIHJlbW90ZSBhcHBsaWNhdGlvbiBpbnN0YW5jZSBpZGVudGlmaWVyXG5cdCAqIEBwYXJhbSBwX29uQ2xvc2VDYiAtIEEgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIGNsb3NlZFxuXHQgKiBAcGFyYW0gcF9pc1B1Ymxpc2ggLSB0cnVlIGlmIGl0J3MgYSBwZWVyY29ubmVjdGlvbiByZWxhdGVkIHRvIGEgcHVibGlzaFN0cmVhbSwgZmFsc2UgaWYgaXQncyByZWxhdGF0ZWQgdG8gYSBzdWJzY3JpYmVcblx0ICogQHBhcmFtIHBfYWN0aW9uVHlwZSAtIFRoZSBhY3Rpb24gdHlwZSAoYXVkaW8sIHZpZGVvLCBhdWRpby12aWRlbylcblx0ICogQHBhcmFtIHBfcGVlcmNvSWQgLSBUaGUgUGVlckNvbm5lY3Rpb24gSWRcblx0ICogQHBhcmFtIHBfcGVlcmNvUmVmIC0gVGhlIFBlZXJDb25uZWN0aW9uIFJlZiBpbiB0aGUgd2VicnRjIG5vZGVcblx0ICogQHBhcmFtIHBfcGVlcmNvUmVmIC0gVGhlIFBlZXJDb25uZWN0aW9uIElkIGluIHRoZSB3ZWJydGMgbm9kZVxuXHQgKiBAcGFyYW0gcF9tdXRlZEF1ZGlvIC0gb3B0aW9uYWwgLSBpZiB0cnVlIHBlZXJjb25uZWN0aW9uIHdpbGwgYmUgY3JlYXRlZCBtdXRlZFxuXHQgKiBAcGFyYW0gcF9tdXRlVmlkZW8gLSBvcHRpb25hbCAtIGlmIHRydWUgcGVlcmNvbm5lY3Rpb24gd2lsbCBiZSBjcmVhdGVkIHdpdGggdmlkZW8gbXV0ZWRcblx0ICogQHBhcmFtIHBfZ2V0U3RyZWFtQ2IgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJldHJpZXZlIHRoZSBtZWRpYXN0cmVhbSBvYmplY3Rcblx0ICovXG5cdGZ1bmN0aW9uIF9jcmVhdGVXZWJydGMocF9WaWQsIHBfcmVtb3RlQXBwSW5zdElkLCBwX29uQ2xvc2VDYiwgcF9pc1B1Ymxpc2gsIHBfYWN0aW9uVHlwZSwgcF9wZWVyY29JZCwgcF9wZWVyY29SZWYsIHBfbXV0ZWRBdWRpbywgcF9tdXRlVmlkZW8sIHBfZ2V0U3RyZWFtQ2IpIHtcblx0XHRjb25zdFxuXHRcdFx0d2VicnRjU3RhY2tJZCA9IHBfcGVlcmNvSWQsXG5cdFx0XHRsb2NhbERhdGFSZWYgPSBkYXRhcmVmcy5nZXRXZWJydGMoKS5jaGlsZChgJHtwX3BlZXJjb1JlZn0vJHt1dGlscy5hcHBJbnN0YW5jZUlkfWApLFxuXHRcdFx0cmVtb3RlRGF0YVJlZiA9IGRhdGFyZWZzLmdldFdlYnJ0YygpLmNoaWxkKGAke3BfcGVlcmNvUmVmfS8ke3BfcmVtb3RlQXBwSW5zdElkfWApO1xuLy8gICAgXHQgaWYgKHBfaXNQdWJsaXNoKSB7XG4vLyAgICBcdFx0IHdlYnJ0Y1N0YWNrSWQ9dXRpbHMuYXBwSW5zdGFuY2VJZCtcIl9cIitwX3JlbW90ZUFwcEluc3RJZDtcbi8vICAgICAgICAgfSBlbHNlIHtcbi8vICAgICAgICBcdCB3ZWJydGNTdGFja0lkPXBfcmVtb3RlQXBwSW5zdElkK1wiX1wiK3V0aWxzLmFwcEluc3RhbmNlSWQ7XG4vLyAgICAgICAgIH1cblx0XHRsZXQgdmlydHVhbFdlYnJ0Y1N0YWNrIDtcblx0XHQvLyBjcmVhdGUgdGhlIHZpcnR1YWwgd2VicnRjc3RhY2tcblx0XHRpZiAocF9pc1B1Ymxpc2gpIHtcblx0XHRcdHZpcnR1YWxXZWJydGNTdGFjayA9IHtcblx0XHRcdFx0d2ViUnRjU3RhY2tJZDogd2VicnRjU3RhY2tJZCxcblx0XHRcdFx0bG9jYWxWaWQ6IHBfVmlkXG5cdFx0XHR9O1xuXHRcdH0gZWxzZSB7XG5cdFx0XHR2aXJ0dWFsV2VicnRjU3RhY2sgPSB7XG5cdFx0XHRcdHdlYlJ0Y1N0YWNrSWQ6IHdlYnJ0Y1N0YWNrSWQsXG5cdFx0XHRcdHJlbW90ZVZpZDogcF9WaWRcblx0XHRcdH07XG5cdFx0fVxuXG5cdFx0Y29uc3QgaWQgPSB2aXJ0dWFsV2VicnRjU3RhY2tzLnB1c2godmlydHVhbFdlYnJ0Y1N0YWNrKSAtIDE7XG5cblx0XHQvLyBjcmVhdGUgdGhlIHJlYWwgd2VicnRjc3RhY2sgaWYgaXQgZG9lcyBub3QgYWxyZWFkeSBleGlzdFxuXHRcdGlmICghd2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdKSB7XG5cdFx0XHRjb25zb2xlLmRlYnVnKCdSZWFjaFNESzo6d2VicnRjbW5ncjo6Y3JlYXRlV2VicnRjLT5jcmVhdGUgYSBuZXcgcmVhbCB3ZWJydGNTdGFjaycpO1xuXHRcdFx0Ly8gY3JlYXRlIHRoZSByZWFsIHdlYnJ0Y3N0YWNrXG5cdFx0XHRjb25zdCB3ZWJSdGNTdGFjayA9IHdlYnJ0Yyh0aGlzLCBwX2lzUHVibGlzaCwgbG9jYWxEYXRhUmVmLCByZW1vdGVEYXRhUmVmLCB3ZWJydGNTdGFja0lkLCBwX2FjdGlvblR5cGUsIHBfbXV0ZWRBdWRpbywgcF9tdXRlVmlkZW8pO1xuXHRcdFx0d2ViUnRjU3RhY2suc2V0T25DbG9zZShwX29uQ2xvc2VDYik7XG5cdFx0XHRpZiAocF9pc1B1Ymxpc2gpIHtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdID0ge1xuXHRcdFx0XHRcdHN0YWNrOndlYlJ0Y1N0YWNrLFxuXHRcdFx0XHRcdGlzUHVibGlzaGVkOjEsXG5cdFx0XHRcdFx0aXNTdWJzY3JpYmVkOjBcblx0XHRcdFx0fTtcblx0XHRcdFx0d2ViUnRjU3RhY2suY29ubmVjdExvY2FsU3RyZWFtKHBfVmlkLHBfZ2V0U3RyZWFtQ2IpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdID0ge1xuXHRcdFx0XHRcdHN0YWNrOndlYlJ0Y1N0YWNrLFxuXHRcdFx0XHRcdGlzUHVibGlzaGVkOjAsXG5cdFx0XHRcdFx0aXNTdWJzY3JpYmVkOjFcblx0XHRcdFx0fTtcblx0XHRcdFx0d2ViUnRjU3RhY2suY29ubmVjdFJlbW90ZVN0cmVhbShwX1ZpZCxwX2dldFN0cmVhbUNiKTtcblx0XHRcdH1cblxuXG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZygnUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNyZWF0ZVdlYnJ0Yy0+dXNlIGV4aXN0aW5nIHJlYWwgd2VicnRjU3RhY2snKTtcblx0XHRcdC8vIGluY3JlbWVudCByZWYgY291bnRlclxuXHRcdFx0aWYgKHBfaXNQdWJsaXNoKSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1B1Ymxpc2hlZCsrO1xuXHRcdFx0XHR3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uc3RhY2suY29ubmVjdExvY2FsU3RyZWFtKHBfVmlkLCBwX2dldFN0cmVhbUNiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1N1YnNjcmliZWQrKztcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLnN0YWNrLmNvbm5lY3RSZW1vdGVTdHJlYW0ocF9WaWQsIHBfZ2V0U3RyZWFtQ2IpO1xuXHRcdFx0fVxuXG5cblx0XHR9XG5cdFx0Y29uc29sZS5kZWJ1ZyhgUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNyZWF0ZVdlYnJ0Yy0+d2VicnRjU3RhY2s6JHt3ZWJydGNTdGFja0lkfSBuZXcgaXNQdWJsaXNoZWQgY291bnQgPSR7d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLmlzUHVibGlzaGVkfSBuZXcgaXNTdWJzY3JpYmVkIGNvdW50ID0ke3dlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1N1YnNjcmliZWR9YCk7XG5cdFx0cmV0dXJuIGlkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENsb3NlIFdlYlJUQyBmZWF0dXJlcyA6IGRldGFjaCBtZWRpYSBzdHJlYW1zIGFuZCB1bnB1Ymxpc2ggc3RhY2tzLlxuXHQgKiBAcGFyYW0gaWQgLVxuXHQgKiBAcGFyYW0gcF9pc1VuUHVibGlzaFxuXHQgKiBAcGFyYW0gY2FsbGJhY2sgLVxuXHQgKi9cblx0ZnVuY3Rpb24gX2Nsb3NlV2VicnRjKGlkLHBfaXNVblB1Ymxpc2gsY2FsbGJhY2spIHtcblx0XHRjb25zb2xlLmRlYnVnKGBSZWFjaFNESzo6d2VicnRjbW5ncjo6Y2xvc2VXZWJydGMtPmlkPSR7aWR9YCk7XG5cdFx0aWYgKCF2aXJ0dWFsV2VicnRjU3RhY2tzW2lkXSkge1xuXHRcdFx0Y29uc29sZS53YXJuKGBSZWFjaFNESzo6d2VicnRjbW5ncjo6Y2xvc2VXZWJydGM6IHZpcnR1YWxzdGFjayAke2lkfSBub3QgZm91bmRgKTtcblx0XHRcdGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGNvbnN0IHdlYnJ0Y1N0YWNrSWQgPSB2aXJ0dWFsV2VicnRjU3RhY2tzW2lkXS53ZWJSdGNTdGFja0lkO1xuXHRcdGlmICh3ZWJydGNTdGFja0lkICYmIHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXSAgKSB7XG5cdFx0XHRpZiAocF9pc1VuUHVibGlzaCAmJiB3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNQdWJsaXNoZWQ+MCkge1xuXHRcdFx0XHR3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNQdWJsaXNoZWQtLTtcblx0XHRcdH0gZWxzZSBpZiAoIXBfaXNVblB1Ymxpc2ggJiYgd2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLmlzU3Vic2NyaWJlZD4wKSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1N1YnNjcmliZWQtLTtcblx0XHRcdH1cblx0XHRcdGlmICh3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNQdWJsaXNoZWQ8MSAmJiB3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNTdWJzY3JpYmVkPDEpIHtcblx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNsb3NlV2VicnRjLT5kZXN0cm95ICByZWFsIHdlYnJ0Y1N0YWNrOiR7d2VicnRjU3RhY2tJZH1gKTtcblx0XHRcdFx0Ly8gZGVzdHJveSB0aGUgc3RhY2tcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLnN0YWNrLmNsb3NlKGNhbGxiYWNrKTtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdID0gbnVsbDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoYFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpjbG9zZVdlYnJ0Yy0+ZGVjcmVtZW50ICByZWFsIHdlYnJ0Y1N0YWNrOiR7d2VicnRjU3RhY2tJZH0gbmV3IGlzUHVibGlzaGVkIGNvdW50ID0ke3dlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1B1Ymxpc2hlZH0gbmV3IGlzU3Vic2NyaWJlZCBjb3VudCA9JHt3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNTdWJzY3JpYmVkfWApO1xuXHRcdFx0XHRpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc29sZS53YXJuKCdSZWFjaFNESzo6d2VicnRjbW5ncjo6Y2xvc2VXZWJydGMgY2Fubm90IGZvdW5kIHJlYWwgc3RhY2snKTtcblx0XHR9XG5cblx0XHRpZiAodmlydHVhbFdlYnJ0Y1N0YWNrc1tpZF0ubG9jYWxWaWQpIHtcblx0XHRcdGxvY2Fsc3RyZWFtLmNsb3NlKCk7XG5cdFx0XHRkZXRhY2hNZWRpYVN0cmVhbSh2aXJ0dWFsV2VicnRjU3RhY2tzW2lkXS5sb2NhbFZpZCk7XG5cdFx0fVxuXHRcdGlmICh2aXJ0dWFsV2VicnRjU3RhY2tzW2lkXS5yZW1vdGVWaWQpIHsgZGV0YWNoTWVkaWFTdHJlYW0odmlydHVhbFdlYnJ0Y1N0YWNrc1tpZF0ucmVtb3RlVmlkKTt9XG5cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDbGVhcnMgYSBzcGVjaWZpY2FsIFdlYlJUQyBzdGFjayBieSBzZXR0aW5nIGl0IHRvIG51bGwuXG5cdCAqIEBwYXJhbSB3ZWJydGNTdGFja0lkIC0gVGhlIFdlYlJUQyBzdGFjayBJRCB0byBjbGVhclxuXHQgKi9cblx0ZnVuY3Rpb24gX2NsZWFyV2VicnRjU3RhY2tzKHdlYnJ0Y1N0YWNrSWQpIHtcblx0XHRjb25zb2xlLmRlYnVnKGBSZWFjaFNESzo6d2VicnRjbW5ncjo6Y2xlYXJXZWJydGNTdGFja3MgaWQ9JHt3ZWJydGNTdGFja0lkfWApO1xuXHRcdGlmICh3ZWJydGNTdGFja0lkICYmIHdlYnJ0Y1N0YWNrcyAmJiB3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0pIHtcblx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXSA9IG51bGw7XG5cdFx0fVxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIEF1ZGlvIG11dGUgdGhlIHdlYnJ0YyBwZWVyY29ubmVjdGlvblxuXHQgKiBAcGFyYW0gdmlydHVhbFdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIG11dGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlQXVkaW9XZWJydGNTdGFjayh2aXJ0dWFsV2VicnRjU3RhY2tJZCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Om11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfWApO1xuXG5cdFx0aWYgKHZpcnR1YWxXZWJydGNTdGFja3MgJiYgdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0gJiYgdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0ud2ViUnRjU3RhY2tJZCkge1xuXHRcdFx0Y29uc3Qgd2ViUnRjU3RhY2tJZCA9IHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdLndlYlJ0Y1N0YWNrSWQ7XG5cdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjptdXRlQXVkaW9XZWJydGNTdGFjaykgdmlydHVhbFdlYnJ0Y1N0YWNrSWQ9JHt2aXJ0dWFsV2VicnRjU3RhY2tJZH0gd2ViUnRjU3RhY2tJZD0ke3dlYlJ0Y1N0YWNrSWR9YCk7XG5cdFx0XHRpZiAod2VicnRjU3RhY2tzICYmIHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXSAmJiB3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0uc3RhY2spIHtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdLnN0YWNrLm11dGVBdWRpbygpO1xuXHRcdFx0fSAgZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjptdXRlQXVkaW9XZWJydGNTdGFjaykgd2VicnRjU3RhY2s9JHt3ZWJSdGNTdGFja0lkfSBub3QgZm91bmRgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Om11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfSBub3QgZm91bmRgKTtcblx0XHR9XG5cblxuXHR9XG5cblx0LyoqXG5cdCAqIEF1ZGlvIHVubXV0ZSB0aGUgd2VicnRjIHBlZXJjb25uZWN0aW9uXG5cdCAqIEBwYXJhbSB2aXJ0dWFsV2VicnRjU3RhY2tJZCAtIFRoZSBXZWJSVEMgc3RhY2sgSUQgdG8gdW5tdXRlXG5cdCAqL1xuXHRmdW5jdGlvbiAgX3VubXV0ZUF1ZGlvV2VicnRjU3RhY2sgKHZpcnR1YWxXZWJydGNTdGFja0lkKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjbW5ncjo6X3VubXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9YCk7XG5cblx0XHRpZiAodmlydHVhbFdlYnJ0Y1N0YWNrcyAmJiB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXSAmJiB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXS53ZWJSdGNTdGFja0lkKSB7XG5cdFx0XHRjb25zdCB3ZWJSdGNTdGFja0lkID0gdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0ud2ViUnRjU3RhY2tJZDtcblx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Ol91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfSx3ZWJSdGNTdGFja0lkPSR7d2ViUnRjU3RhY2tJZH1gKTtcblx0XHRcdGlmICh3ZWJydGNTdGFja3MgJiYgd2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdICYmIHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXS5zdGFjaykge1xuXHRcdFx0XHR3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0uc3RhY2sudW5tdXRlQXVkaW8oKTtcblx0XHRcdH0gIGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oYChSZWFjaFNESzo6d2VicnRjbW5ncjo6X3VubXV0ZUF1ZGlvV2VicnRjU3RhY2spIHdlYnJ0Y1N0YWNrPSR7d2ViUnRjU3RhY2tJZH0gbm90IGZvdW5kYCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpfdW5tdXRlQXVkaW9XZWJydGNTdGFjaykgdmlydHVhbFdlYnJ0Y1N0YWNrSWQ9JHt2aXJ0dWFsV2VicnRjU3RhY2tJZH0gbm90IGZvdW5kYCk7XG5cdFx0fVxuXG5cdH1cblxuXG5cdC8qKlxuXHQgKiBWaWRlbyBtdXRlIHRoZSB3ZWJydGMgcGVlcmNvbm5lY3Rpb25cblx0ICogQHBhcmFtIHZpcnR1YWxXZWJydGNTdGFja0lkIC0gVGhlIFdlYlJUQyBzdGFjayBJRCB0byBtdXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfbXV0ZVZpZGVvV2VicnRjU3RhY2sodmlydHVhbFdlYnJ0Y1N0YWNrSWQpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjptdXRlQXVkaW9XZWJydGNTdGFjaykgdmlydHVhbFdlYnJ0Y1N0YWNrSWQ9JHt2aXJ0dWFsV2VicnRjU3RhY2tJZH1gKTtcblxuXHRcdGlmICh2aXJ0dWFsV2VicnRjU3RhY2tzICYmIHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdICYmIHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdLndlYlJ0Y1N0YWNrSWQpIHtcblx0XHRcdGNvbnN0IHdlYlJ0Y1N0YWNrSWQgPSB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXS53ZWJSdGNTdGFja0lkO1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjbW5ncjo6bXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9IHdlYlJ0Y1N0YWNrSWQ9JHt3ZWJSdGNTdGFja0lkfWApO1xuXHRcdFx0aWYgKHdlYnJ0Y1N0YWNrcyAmJiB3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0gJiYgd2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdLnN0YWNrKSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXS5zdGFjay5tdXRlVmlkZW8oKTtcblx0XHRcdH0gIGVsc2Uge1xuXHRcdFx0XHRjb25zb2xlLndhcm4oYChSZWFjaFNESzo6d2VicnRjbW5ncjo6bXV0ZUF1ZGlvV2VicnRjU3RhY2spIHdlYnJ0Y1N0YWNrPSR7d2ViUnRjU3RhY2tJZH0gbm90IGZvdW5kYCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjptdXRlQXVkaW9XZWJydGNTdGFjaykgdmlydHVhbFdlYnJ0Y1N0YWNrSWQ9JHt2aXJ0dWFsV2VicnRjU3RhY2tJZH0gbm90IGZvdW5kYCk7XG5cdFx0fVxuXG5cblx0fVxuXG5cdC8qKlxuXHQgKiBWaWRlbyB1bm11dGUgdGhlIHdlYnJ0YyBwZWVyY29ubmVjdGlvblxuXHQgKiBAcGFyYW0gdmlydHVhbFdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIHVubXV0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gIF91bm11dGVWaWRlb1dlYnJ0Y1N0YWNrICh2aXJ0dWFsV2VicnRjU3RhY2tJZCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Ol91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfWApO1xuXG5cdFx0aWYgKHZpcnR1YWxXZWJydGNTdGFja3MgJiYgdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0gJiYgdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0ud2ViUnRjU3RhY2tJZCkge1xuXHRcdFx0Y29uc3Qgd2ViUnRjU3RhY2tJZCA9IHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdLndlYlJ0Y1N0YWNrSWQ7XG5cdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpfdW5tdXRlQXVkaW9XZWJydGNTdGFjaykgdmlydHVhbFdlYnJ0Y1N0YWNrSWQ9JHt2aXJ0dWFsV2VicnRjU3RhY2tJZH0sIHdlYlJ0Y1N0YWNrSWQ9JHt3ZWJSdGNTdGFja0lkfWApO1xuXHRcdFx0aWYgKHdlYnJ0Y1N0YWNrcyAmJiB3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0gJiYgd2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdLnN0YWNrKSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXS5zdGFjay51bm11dGVWaWRlbygpO1xuXHRcdFx0fSAgZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpfdW5tdXRlQXVkaW9XZWJydGNTdGFjaykgd2VicnRjU3RhY2s9JHt3ZWJSdGNTdGFja0lkfSBub3QgZm91bmRgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Ol91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfSBub3QgZm91bmRgKTtcblx0XHR9XG5cblx0fVxuXG5cdHJldHVybiB7XG5cblx0XHQvKipcblx0XHQgKiBDcmVhdGVzIGEgV2ViUlRDIG9iamVjdFxuXHRcdCAqIEBwYXJhbSBwX1ZpZCAtIHRoZSB2aWRlbyBjb250YWluZXIgbGlua2VkIHRvIHRoZSBwZWVyY29ubmVjdGlvblxuXHRcdCAqIEBwYXJhbSBwX3JlbW90ZUFwcEluc3RJZCAtIHRoZSByZW1vdGUgYXBwbGljYXRpb24gaW5zdGFuY2UgaWRlbnRpZmllclxuXHRcdCAqIEBwYXJhbSBwX29uQ2xvc2VDYiAtIEEgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIHRoZSBjb25uZWN0aW9uIGlzIGNsb3NlZFxuXHRcdCAqIEBwYXJhbSBwX2lzUHVibGlzaCAtIHRydWUgaWYgaXQncyBhIHBlZXJjb25uZWN0aW9uIHJlbGF0ZWQgdG8gYSBwdWJsaXNoU3RyZWFtLCBmYWxzZSBpZiBpdCdzIHJlbGF0YXRlZCB0byBhIHN1YnNjcmliZVxuXHRcdCAqIEBwYXJhbSBwX2FjdGlvblR5cGUgLSBUaGUgYWN0aW9uIHR5cGUgKGF1ZGlvLCB2aWRlbywgYXVkaW8tdmlkZW8pXG5cdFx0ICogQHBhcmFtIHBfcGVlcmNvSWQgLSBUaGUgUGVlckNvbm5lY3Rpb24gSWQgaW4gdGhlIHdlYnJ0YyBub2RlXG5cdFx0ICovXG5cdFx0Y3JlYXRlV2VicnRjOiAocF9WaWQsIHBfcmVtb3RlQXBwSW5zdElkLCBwX29uQ2xvc2VDYiwgcF9pc1B1Ymxpc2gsIHBfYWN0aW9uVHlwZSwgcF9wZWVyY29JZCwgcF9tdXRlZEF1ZGlvLCBwX211dGVWaWRlbywgcF9nZXRTdHJlYW1DYikgPT4ge1xuXHRcdFx0cmV0dXJuICBfY3JlYXRlV2VicnRjLmJpbmQodGhpcykocF9WaWQsIHBfcmVtb3RlQXBwSW5zdElkLCBwX29uQ2xvc2VDYiwgcF9pc1B1Ymxpc2gsIHBfYWN0aW9uVHlwZSwgcF9wZWVyY29JZCwgcF9tdXRlZEF1ZGlvLCBwX211dGVWaWRlbywgcF9nZXRTdHJlYW1DYik7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIENsb3NlIFdlYlJUQyBmZWF0dXJlcyA6IGRldGFjaCBtZWRpYSBzdHJlYW1zIGFuZCB1bnB1Ymxpc2ggc3RhY2tzLlxuXHRcdCAqIEBwYXJhbSBpZCAtXG5cdFx0ICogQHBhcmFtIHBfaXNVblB1Ymxpc2hcblx0XHQgKiBAcGFyYW0gY2FsbGJhY2sgLVxuXHRcdCAqL1xuXHRcdGNsb3NlV2VicnRjOiBfY2xvc2VXZWJydGMsXG5cblx0XHQvKipcblx0XHQgKiBDbGVhcnMgYSBzcGVjaWZpY2FsIFdlYlJUQyBzdGFjayBieSBzZXR0aW5nIGl0IHRvIG51bGwuXG5cdFx0ICogQHBhcmFtIHdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIGNsZWFyXG5cdFx0ICovXG5cdFx0Y2xlYXJXZWJydGNTdGFja3M6IF9jbGVhcldlYnJ0Y1N0YWNrcyxcblx0XHQvKipcblx0XHQgKiBhdWRpbyBtdXRlIHRoZSB3ZWJydGMgcGVlcmNvbm5lY3Rpb25cblx0XHQgKiBAcGFyYW0gdmlydHVhbFdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIG11dGVcblx0XHQgKi9cblx0XHRtdXRlQXVkaW9XZWJydGNTdGFjazogX211dGVBdWRpb1dlYnJ0Y1N0YWNrLFxuXHRcdC8qKlxuXHRcdCAqICBhdWRpbyB1bm11dGUgdGhlIHdlYnJ0YyBwZWVyY29ubmVjdGlvblxuXHRcdCAqIEBwYXJhbSB2aXJ0dWFsV2VicnRjU3RhY2tJZCAtIFRoZSBXZWJSVEMgc3RhY2sgSUQgdG8gdW5tdXRlXG5cdFx0ICovXG5cdFx0dW5tdXRlQXVkaW9XZWJydGNTdGFjazogX3VubXV0ZUF1ZGlvV2VicnRjU3RhY2ssXG5cdFx0LyoqXG5cdFx0ICogdmlkZW8gbXV0ZSB0aGUgd2VicnRjIHBlZXJjb25uZWN0aW9uXG5cdFx0ICogQHBhcmFtIHZpcnR1YWxXZWJydGNTdGFja0lkIC0gVGhlIFdlYlJUQyBzdGFjayBJRCB0byBtdXRlXG5cdFx0ICovXG5cdFx0bXV0ZVZpZGVvV2VicnRjU3RhY2s6IF9tdXRlVmlkZW9XZWJydGNTdGFjayxcblx0XHQvKipcblx0XHQgKiB2aWRlbyB1bm11dGUgdGhlIHdlYnJ0YyBwZWVyY29ubmVjdGlvblxuXHRcdCAqIEBwYXJhbSB2aXJ0dWFsV2VicnRjU3RhY2tJZCAtIFRoZSBXZWJSVEMgc3RhY2sgSUQgdG8gdW5tdXRlXG5cdFx0ICovXG5cdFx0dW5tdXRlVmlkZW9XZWJydGNTdGFjazogX3VubXV0ZVZpZGVvV2VicnRjU3RhY2tcblx0fTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IHdlYnJ0Y21uZ3I7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2VicnRjbW5nci5qc1xuICoqLyIsIi8qKlxuICogQGZpbGUgd2VicnRjLmpzIC0gSlMgZmlsZSB1c2VkIGZvciBXZWJSVEMgYXNwZWN0c1xuICogQGF1dGhvciBXZWJjb21cbiAqL1xuXG4vKmVzbGludCBjb21wbGV4aXR5OjEsIG1heC1zdGF0ZW1lbnRzOiAxLCBtYXgtbGVuOiAxLCBtYXgtcGFyYW1zOiAxLCByZXF1aXJlLWpzZG9jOiAxKi9cblxuaW1wb3J0IGFjdGlvbnMgZnJvbSAnLi9hY3Rpb25zJztcbmltcG9ydCBsb2NhbHN0cmVhbSBmcm9tICcuL2xvY2Fsc3RyZWFtJztcbmltcG9ydCB2YXJzIGZyb20gJy4vYWN0aW9ucyc7XG5cbi8qKlxuICogSUNFIGNvbm5lY3Rpb24gc3RhdHVzIDogZGlzY29ubmVjdGVkXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IElDRV9DT05ORUNUSU9OX1NUQVRFX0RJU0NPTk5FQ1RFRCA9ICdkaXNjb25uZWN0ZWQnO1xuXG4vKipcbiAqIElDRSBjb25uZWN0aW9uIHN0YXR1cyA6IGNvbm5lY3RlZFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJQ0VfQ09OTkVDVElPTl9TVEFURV9DT05ORUNURUQ9ICdjb25uZWN0ZWQnO1xuXG4vKipcbiAqIElDRSBjb25uZWN0aW9uIHN0YXR1cyA6IGNvbXBsZXRlZFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJQ0VfQ09OTkVDVElPTl9TVEFURV9DT01QTEVURUQ9ICdjb21wbGV0ZWQnO1xuXG4vKipcbiAqIElDRSBjb25uZWN0aW9uIHN0YXR1cyA6IGNoZWNraW5nXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IElDRV9DT05ORUNUSU9OX1NUQVRFX0NIRUNLSU5HPSAnY2hlY2tpbmcnO1xuXG4vKipcbiAqIElDRSBjb25uZWN0aW9uIHN0YXR1cyA6IGNsb3NlZFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJQ0VfQ09OTkVDVElPTl9TVEFURV9DTE9TRUQ9ICdjbG9zZWQnO1xuXG4vKipcbiAqIElDRSBjb25uZWN0aW9uIHN0YXR1cyA6IGZhaWxlZFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJQ0VfQ09OTkVDVElPTl9TVEFURV9GQUlMRUQ9ICdmYWlsZWQnO1xuXG4vKipcbiAqIElDRSBjb25uZWN0aW9uIHN0YXR1cyA6IGFub3RoZXIgc3RhdHVzXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IElDRV9DT05ORUNUSU9OX1NUQVRFX09USEVSPSAnb3RoZXInO1xuXG5cbi8qKlxuICogVGhlIGRlZmF1bHQgSUNFIGNvbmZpZ3VyYXRpb24gZm9yIFRVUk4gYW5kIFNUVU4gc2VydmVycyB0byB1c2UgZm9yIFdlYlJUQyBjb21tdW5pY2F0aW9ueFxuICogTkIgOiB0aGVzZSBjb25maWd1cmF0aW9uIHdpbGwgYmUgb3ZlcndyaXRlbiBieSB0aGUgY29uZmlndXJhdGlvbiBvbiB0aGUgV2ViY29tIHNlcnZlciBpZiBwcmVzZW50XG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtqc29ufVxuICovXG5cbmNvbnN0IERFRkFVTFRfSUNFX0NPTkZJRyA9IHtcblx0aWNlU2VydmVyczogW1xuXHRcdHtcblx0XHRcdHVybDogJ3R1cm5zOnR1cm4xLndlYmNvbS5vcmFuZ2UuY29tOjQ0MycsXG5cdFx0XHR1c2VybmFtZTogJ2FkbWluJyxcblx0XHRcdGNyZWRlbnRpYWw6ICd3ZWJjb20xMjM0J1xuXHRcdH0sXG5cdFx0e1xuXHRcdFx0dXJsOiAndHVybjp0dXJuMi53ZWJjb20ub3JhbmdlLmNvbTo0NDMnLFxuXHRcdFx0dXNlcm5hbWU6ICdhZG1pbicsXG5cdFx0XHRjcmVkZW50aWFsOiAnd2ViY29tMTIzNCdcblx0XHR9LFxuXHRcdHtcblx0XHRcdHVybDogJ3R1cm5zOnR1cm4zLndlYmNvbS5vcmFuZ2UuY29tOjQ0MycsXG5cdFx0XHR1c2VybmFtZTogJ2FkbWluJyxcblx0XHRcdGNyZWRlbnRpYWw6ICd3ZWJjb20xMjM0J1xuXHRcdH1cblx0XVxufTtcblxuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGRlc2NyaXB0aW9uIFdlYlJUQyBjb25uZWN0aW9uIG9iamVjdC4gTWFuYWdlcyBhIFdlYlJUQyBjb25uZWN0aW9uLCBpLmUuIG9uZSBwZWVyY29ubmVjdGlvblxuICogQHBhcmFtIHBfd2VicnRjbW5nciAtIFJlZmVyZW5jZSB0byBXZWJSVENNYW5hZ2VyXG4gKiBAcGFyYW0gcF9pc1B1Ymxpc2ggLSBGbGFnIGluZGljYXRpbmcgaWYgdGhlcmUgaXMgYSBwbHVibGlzaCBhY3Rpb25cbiAqIEBwYXJhbSBwX2xvY2FsRGF0YVJlZiAtIFRoZSBsb2NhbCBkYXRhIHJlZlxuICogQHBhcmFtIHBfcmVtb3RlRGF0YVJlZiAtIFRoZSByZW1vdGUgZGF0YSByZWZcbiAqIEBwYXJhbSBwX3dlYnJ0Y1N0YWNrSWQgLSBUaGUgc3RhY2sgSUQgaW4gdXNlXG4gKiBAcGFyYW0gcF9hY3Rpb25UeXBlIC1cbiAqIEBwYXJhbSBwX211dGVBdWRpbyAtIG9wdGlvbmFsIC0gaWYgdHJ1ZSBwZWVyY29ubmVjdGlvbiB3aWxsIGJlIGNyZWF0ZWQgd2l0aCBhdWRpbyBtdXRlZFxuICogQHBhcmFtIHBfbXV0ZVZpZGVvIC0gb3B0aW9uYWwgLSBpZiB0cnVlIHBlZXJjb25uZWN0aW9uIHdpbGwgYmUgY3JlYXRlZCB3aXRoIHZpZGVvIG11dGVkXG5cbiAqL1xuY29uc3Qgd2VicnRjID0gZnVuY3Rpb24gKHBfd2VicnRjbW5nciwgcF9pc1B1Ymxpc2gsIHBfbG9jYWxEYXRhUmVmLCBwX3JlbW90ZURhdGFSZWYsIHBfd2VicnRjU3RhY2tJZCwgcF9hY3Rpb25UeXBlLCBwX211dGVBdWRpbywgcF9tdXRlVmlkZW8pIHtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFdlYlJUQyBtYW5hZ2VyIG9iamVjdC4gVXNlZnVsIHRvIGNsZWFyIHdlYnJ0YyBzdGFja1xuXHQgKi9cblx0Y29uc3Qgd2VicnRjbW5nciA9IHBfd2VicnRjbW5ncjtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgV2ViUlRDIHN0YWNrIGlkZW50aWZpZXIsIGhlcmUgdGhlIGN1cnJlbnQgdGltZXN0YW1wXG5cdCAqL1xuXHRjb25zdCBzdGFja0lkID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gSWYgdGhlcmUgaXMgYSBwdWJsaXNoIGFjdGlvbiBvciBub3Rcblx0ICovXG5cdGNvbnN0IGlzUHVibGlzaCA9IHBfaXNQdWJsaXNoO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBwZWVyIGNvbm5lY3Rpb25cblx0ICovXG5cdGxldCBwYyA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGxvY2FsIGRhdGEgcmVmXG5cdCAqL1xuXHRjb25zdCBsb2NhbERhdGFSZWYgPSBwX2xvY2FsRGF0YVJlZjtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgcmVtdG9lIGRhdGEgcmVmXG5cdCAqL1xuXHRjb25zdCByZW1vdGVEYXRhUmVmID0gcF9yZW1vdGVEYXRhUmVmO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVyZSBhIGxpc3Qgb2YgSUNFIGNhbmRpZGF0ZXMgaXMgcHJvdmlkZWRcblx0ICovXG5cdGxldCBpY2VDYW5kaWRhdGVzTGlzdENiID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBIGNhbGxiYWNrIHRyaWdnZXJlZCB3aGVuIGEgU0RQIG9mZmVyIGhhcyBiZWVuIHJlY2VpdmVkXG5cdCAqL1xuXHRsZXQgc2RwT2ZmZXJDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBjYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIFNEUCBhbnN3ZXIgaGFzIGJlZW4gcmVjZWl2ZWRcblx0ICovXG5cdGxldCBzZHBBbnN3ZXJDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBjYWxsYmFjayB0cmlnZ2VyZWQgb24gYSByZW1vdGUgZGF0YXJlZiBldmVudFxuXHQgKi9cblx0bGV0IHJlbW90ZWRhdGFyZWZDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBjYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBjbG9zaW5nXG5cdCAqL1xuXHRsZXQgb25DbG9zZUNiID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgV2ViUlRDIHN0YWNrIElEXG5cdCAqL1xuXHRjb25zdCB3ZWJydGNTdGFja0lkID0gcF93ZWJydGNTdGFja0lkO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBhY3Rpb24gdHlwZSB0byBwcm9jZXNzXG5cdCAqL1xuXHRjb25zdCBhY3Rpb25UeXBlID0gcF9hY3Rpb25UeXBlO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBjb25maWd1cmF0aW9uXG5cdCAqL1xuXHRsZXQgY29uZmlnID0gbnVsbDtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgcGVlciBjb25uZWN0aW9uIG9iamVjdCwgZm9yIGNyb3NzIGJyb3dzZXJzIGNvbXBhdGliaWxpdGllc1xuXHQgKi9cblx0bGV0IG15UGVlckNvbm5lY3Rpb24gPSBudWxsO1xuXHQvL3ZhciBteUNyZWF0ZU9iamVjdFVSTCA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gUlRDIHNlc3Npb24gZGVzY3JpcHRpb24sIGZvciBjcm9zcyBicm93c2VycyBjb21wYXRpYmlsaXRpZXNcblx0ICovXG5cdGxldCBteVJUQ1Nlc3Npb25EZXNjcmlwdGlvbiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gUlRDIElDRSBjYW5kaWRhdGUsIGZvciBjcm9zcyBicm93c2VycyBjb21wYXRpYmlsaXRpZXNcblx0ICovXG5cdGxldCBteVJUQ0ljZUNhbmRpZGF0ZSA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIGxvY2FsIHN0cmVhbXNcblx0ICovXG5cdGNvbnN0IGxvY2FsU3RyZWFtcyA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIGFycmF5IGNvbnRhaW5pbmcgcmVtb3RlIHN0cmVhbXNcblx0ICovXG5cdGNvbnN0IHJlbW90ZVN0cmVhbXMgPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIHJlbW90ZSBzdHJlYW1zIENCXG5cdCAqL1xuXHRsZXQgcmVtb3RlU3RyZWFtc0NiID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHJlY2VpdmVkIHN0cmVhbVxuXHQgKi9cblx0bGV0IHJlY2VpdmVkU3RyZWFtID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgc2VudCBzdHJlYW1cblx0ICovXG5cdGxldCBzZW50U3RyZWFtID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGbGFnIGluZGljYXRpbmcgaWYgdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2VkXG5cdCAqL1xuXHRsZXQgaXNDbG9zZWQgPSBmYWxzZTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBGbGFnIGluZGljYXRpbmcgaWYgdGhlIGNsb3NlIHByb2Nlc3MgaXMgb24gZ29pbmdcblx0ICovXG5cdGxldCBjbG9zZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgSUNFIGNvbm5lY3Rpb24gc3RhdGVcblx0ICovXG5cdGxldCBpY2VDb25uZWN0aW9uU3RhdGUgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFub3RoZXIgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIHRoZSBjb25uZWN0aW9uIHNob3VsZCBiZSBjbG9zZWRcblx0ICovXG5cdGxldCBvbkNsb3NlQ2IyID0gbnVsbDtcblxuXHRsZXQgaXNBdWRpb011dGUgPSBmYWxzZTtcblxuXHRsZXQgaXNWaWRlb011dGUgPSBmYWxzZTtcblxuXG5cdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OndlYnJ0Yzo6KXN0YWNrSWQ9JHtzdGFja0lkfSBpc1B1Ymxpc2g9JHtpc1B1Ymxpc2h9LGxvY2FsRGF0YVJlZj0ke2xvY2FsRGF0YVJlZn0scmVtb3RlRGF0YVJlZj0ke3JlbW90ZURhdGFSZWZ9KScpO1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBEYXRhZ3JhbSBUcmFuc3BvcnQgTGF5ZXIgU2VjdXJpdHkgKERUTFMpIGtleSBhZ3JlZW1lbnRcblx0ICovXG5cdGNvbnN0IER0bHNTcnRwS2V5QWdyZWVtZW50ID0ge1xuXHRcdER0bHNTcnRwS2V5QWdyZWVtZW50OiB0cnVlXG5cdH07XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiAtIFNvbWUgb3B0aW9uc1xuXHQgKi9cblx0Y29uc3Qgb3B0aW9uYWwgPSB7XG5cdFx0b3B0aW9uYWw6IFtEdGxzU3J0cEtleUFncmVlbWVudF1cblx0fTtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBwdWJsaXNoZXIgbWVkaWEgY29uc3RyYWludHMgYXMgYSBKU09OIGFycmF5XG5cdCAqL1xuXHRjb25zdCBwdWJsaXNoZXJNZWRpYUNvbnN0cmFpbnRzID0ge1xuXHRcdCdtYW5kYXRvcnknOiB7XG5cdFx0XHQnT2ZmZXJUb1JlY2VpdmVBdWRpbyc6IGZhbHNlLFxuXHRcdFx0J09mZmVyVG9SZWNlaXZlVmlkZW8nOiBmYWxzZVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBzdWJzY3JpYmVyIG1lZGlhIGNvbnN0cmFpbnRzIGFzIGEgSlNPTiBhcnJheVxuXHQgKi9cblx0Y29uc3Qgc3Vic2NyaWJlck1lZGlhQ29uc3RyYWludHMgPSB7XG5cdFx0J21hbmRhdG9yeSc6IHtcblx0XHRcdCdPZmZlclRvUmVjZWl2ZUF1ZGlvJzogdHJ1ZSxcblx0XHRcdCdPZmZlclRvUmVjZWl2ZVZpZGVvJzogdHJ1ZVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQ2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIGFuIGVycm9yIG9jY3Vyc1xuXHQgKiBAcGFyYW0gZSAtIFRoZSBlcnJvclxuXHQgKi9cblx0ZnVuY3Rpb24gb25FcnJvcihlKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjopc3RhY2tJZD0ke3N0YWNrSWR9ZXJyb3I9JHtlfWApO1xuXHRcdGNvbnNvbGUuZGlyKGUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEdldHMgdGhlIElDRSBzZXJ2ZXJzIGNvbmZpZ3VyYXRpb25cblx0ICogQHBhcmFtIGNhbGxiYWNrT2sgLSBUaGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIHRoZSBjb25maWcgcmV0cmlldmVtZW50IGlzIGRvbmVcblx0ICogQHBhcmFtIGNhbGxiYWNrS28gLSBUaGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIGFuIGVycm9yIG9jY3Vyc1xuXHQgKi9cblx0ZnVuY3Rpb24gZ2V0SWNlU2VydmVyc0NvbmZpZ0Zyb21TZXJ2ZXIoY2FsbGJhY2tPaywgY2FsbGJhY2tLbykge1xuXHRcdGNvbnNvbGUubG9nKCdSZWFjaFNESzo6d2VicnRjOjpnZXRJY2VTZXJ2ZXJzQ29uZmlnRnJvbVNlcnZlcicpO1xuXHRcdGlmIChsb2NhbERhdGFSZWYpIHtcblx0XHRcdGxvY2FsRGF0YVJlZi5yb290KCkuY2hpbGQoJ2NvbmZpZycpLm9uY2UoJ3ZhbHVlJywgKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRcdGNvbnN0IF9jb25maWcgPSBzbmFwc2hvdCA/IHNuYXBzaG90LnZhbCgpIDogbnVsbDtcblx0XHRcdFx0aWYgKF9jb25maWcpIHtcblx0XHRcdFx0XHRpZiAodHlwZW9mIGNhbGxiYWNrT2sgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2tPayhfY29uZmlnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSBpZiAodHlwZW9mIGNhbGxiYWNrS28gPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGNhbGxiYWNrS28oKTtcblx0XHRcdFx0fVxuXHRcdFx0fSwgKGVycm9yKSA9PiB7XG5cdFx0XHRcdGlmICh0eXBlb2YgY2FsbGJhY2tLbyA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Y2FsbGJhY2tLbyhlcnJvcik7XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH0gZWxzZSBpZiAodHlwZW9mIGNhbGxiYWNrS28gPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y2FsbGJhY2tLbygpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTdGFydHMgdGhlIGxpc3RpbmcgdG8gYSByZW1vdGUgSUNFIGNhbmRpZGF0ZSBieSBlbmFibGluZyB0aGUgZGVkaWNhdGVkIGNhbGxiYWNrXG5cdCAqIGZvciB0aGUgXCJjaGlsZF9hZGRlZFwiIGV2ZW50IG9uIHRoZSBcImljZUNhbmRpZGF0ZXNMaXN0XCIgbm9kZSBpbiB0aGUgZGF0YWJhc2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBzdGFydExpc3RlbmluZ1RvUmVtb3RlSWNlQ2FuZGlkYXRlKCkge1xuXHRcdHJlbW90ZURhdGFSZWYuY2hpbGQoJ2ljZUNhbmRpZGF0ZXNMaXN0Jykub24oJ2NoaWxkX2FkZGVkJywgaWNlQ2FuZGlkYXRlc0xpc3RDYik7XG5cdH1cblxuXHQvKipcblx0ICogU3RvcHMgdGhlIGxpc3RlbmluZyB0byByZW1vdGUgSUNFIGNhbmRpc2RhdGUgYnkgZGlzYWJsaW5nIHRoZSBkZWRpY2F0ZWQgY2FsbGJhY2tcblx0ICogZm9yIHRoZSBcImNoaWxkX2FkZGVkXCIgZXZlbnQgb24gdGhlIFwiaWNlQ2FuZGlkYXRlc0xpc3RcIiBub2RlIGluIHRoZSBkYXRhYmFzZS5cblx0ICovXG5cdGZ1bmN0aW9uIHN0b3BMaXN0ZW5pbmdUb1JlbW90ZUljZUNhbmRpZGF0ZSgpIHtcblx0XHRyZW1vdGVEYXRhUmVmLmNoaWxkKCdpY2VDYW5kaWRhdGVzTGlzdCcpLm9mZignY2hpbGRfYWRkZWQnLCBpY2VDYW5kaWRhdGVzTGlzdENiKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBFbmFibGUvRGlzYWJsZSB0cmFja3Ncblx0ICogQHBhcmFtIGVuYWJsZWQgdHJ1ZSB0byBlbmFibGUgdHJhY2tzXG5cdCAqIEBwYXJhbSB0cmFja3MgdGhlIHRyYWNrc1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX211dGVUcmFja3MoLypCb29sZWFuKi9lbmFibGVkLCAvKkFycmF5Ki90cmFja3MpIHtcblx0XHRpZih0cmFja3MpIHtcblx0XHRcdHRyYWNrcy5mb3JFYWNoKCh0cmFjaykgPT4ge1xuXHRcdFx0XHRpZih0cmFjaykge1xuXHRcdFx0XHRcdHRyYWNrLmVuYWJsZWQgPSBlbmFibGVkO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTXV0ZS9Vbk11dGUgYXVkaW8gdHJhY2tzXG5cdCAqIEBwYXJhbSBtdXRlIHRydWUgdG8gbXV0ZSB0cmFja3Ncblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlQXVkaW9UcmFja3MobXV0ZSkge1xuXHRcdGlzQXVkaW9NdXRlID0gbXV0ZTtcblx0XHRjb25zdCBzdHJlYW0gPSBpc1B1Ymxpc2ggJiYgc2VudFN0cmVhbSA/IHNlbnRTdHJlYW0gOiAoIWlzUHVibGlzaCAmJiByZWNlaXZlZFN0cmVhbSA/IHJlY2VpdmVkU3RyZWFtIDogbnVsbCk7XG5cdFx0aWYoc3RyZWFtKXtcblx0XHRcdF9tdXRlVHJhY2tzKCFpc0F1ZGlvTXV0ZSwgc3RyZWFtLmdldEF1ZGlvVHJhY2tzKCkpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBNdXRlIGF1ZGlvIHRyYWNrc1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX211dGVBdWRpbygpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9tdXRlQXVkaW8pc3RhY2tJZD0ke3N0YWNrSWR9YCk7XG5cdFx0X211dGVBdWRpb1RyYWNrcyh0cnVlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVbm11dGUgYXVkaW8gdHJhY2tzXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfdW5tdXRlQXVkaW8oKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpfdW5tdXRlQXVkaW8pc3RhY2tJZD0ke3N0YWNrSWR9YCk7XG5cdFx0X211dGVBdWRpb1RyYWNrcyhmYWxzZSk7XG5cdH1cblxuXHQvKipcblx0ICogTXV0ZS9Vbk11dGUgdmlkZW8gdHJhY2tzXG5cdCAqIEBwYXJhbSBtdXRlIHRydWUgdG8gbXV0ZSB0cmFja3Ncblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlVmlkZW9UcmFja3MobXV0ZSkge1xuXHRcdGlzVmlkZW9NdXRlID0gbXV0ZTtcblx0XHRjb25zdCBzdHJlYW0gPSBpc1B1Ymxpc2ggJiYgc2VudFN0cmVhbSA/IHNlbnRTdHJlYW0gOiAoIWlzUHVibGlzaCAmJiByZWNlaXZlZFN0cmVhbSA/IHJlY2VpdmVkU3RyZWFtIDogbnVsbCk7XG5cdFx0aWYoc3RyZWFtKXtcblx0XHRcdF9tdXRlVHJhY2tzKCFpc0F1ZGlvTXV0ZSwgc3RyZWFtLmdldFZpZGVvVHJhY2tzKCkpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBNdXRlIHZpZGVvIHRyYWNrc1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX211dGVWaWRlbygpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9tdXRlVmlkZW8pc3RhY2tJZD0ke3N0YWNrSWR9YCk7XG5cdFx0X211dGVWaWRlb1RyYWNrcyh0cnVlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBVbm11dGUgdmlkZW8gdHJhY2tzXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfdW5tdXRlVmlkZW8oKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpfdW5tdXRlVmlkZW8pc3RhY2tJZD0ke3N0YWNrSWR9YCk7XG5cdFx0X211dGVWaWRlb1RyYWNrcyhmYWxzZSk7XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIGxvY2FsIHN0cmVhbVxuXHQgKiBAcGFyYW0gY2FsbGJhY2sgLSBBIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgaW5pdGlhbGlzYXRpb24gaXMgZG9uZVxuXHQgKi9cblx0ZnVuY3Rpb24gX2luaXRsb2NhbFN0cmVhbShjYWxsYmFjaykge1xuXHRcdC8vIGdldCBsb2NhbCB2aWRlbyBzdHJlYW0gYW5kIHJlbmRlcnMgdG8gbG9jYWxWaWRcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0bG9jYWxTdHJlYW0pc3RhY2tJZD0ke3N0YWNrSWR9IGdldCBsb2NhbCB2aWRlbyBzdHJlYW0gYW5kIHJlbmRlcnMgdG8gbG9jYWwgdmlkZW9gKTtcblx0XHRpZiAoYWN0aW9uVHlwZSkge1xuXHRcdFx0bGV0IGluaXRsb2NhbFN0cmVhbTtcblx0XHRcdGlmIChhY3Rpb25UeXBlID09PSB2YXJzLkFDVElPTl9UWVBFX1ZJREVPKSB7XG5cdFx0XHRcdGluaXRsb2NhbFN0cmVhbSA9ICgpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0bG9jYWxTdHJlYW0paW5pdGxvY2FsU3RyZWFtX3ZpZGVvJyk7XG5cdFx0XHRcdFx0aWYgKGxvY2Fsc3RyZWFtLmdldFZpZGVvU3RyZWFtKCkgJiYgbG9jYWxzdHJlYW0uZ2V0VmlkZW9TdHJlYW0oKS5jbG9uZSAmJiB0eXBlb2YgbG9jYWxzdHJlYW0uZ2V0VmlkZW9TdHJlYW0oKS5jbG9uZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRzZW50U3RyZWFtID0gbG9jYWxzdHJlYW0uZ2V0VmlkZW9TdHJlYW0oKS5jbG9uZSgpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZW50U3RyZWFtID0gbG9jYWxzdHJlYW0uZ2V0VmlkZW9TdHJlYW0oKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGlzQXVkaW9NdXRlKSB7XG5cdFx0XHRcdFx0XHRfbXV0ZUF1ZGlvKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChpc1ZpZGVvTXV0ZSkge1xuXHRcdFx0XHRcdFx0X211dGVWaWRlbygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwYy5hZGRTdHJlYW0oc2VudFN0cmVhbSk7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0cmVhbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2luaXRsb2NhbFN0cmVhbSlzdGFja0lkPSR7c3RhY2tJZH0gcmVuZGVyaW5nIGxvY2FsIHZpZGVvIHRvICR7bG9jYWxTdHJlYW1zW2ldLmlkfWApO1xuXHRcdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0obG9jYWxTdHJlYW1zW2ldLCBsb2NhbHN0cmVhbS5nZXRWaWRlb1N0cmVhbSgpKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAobG9jYWxzdHJlYW0uZ2V0VmlkZW9TdHJlYW0oKSkge1xuXHRcdFx0XHRcdGluaXRsb2NhbFN0cmVhbSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxvY2Fsc3RyZWFtLmFkZFZpZGVvTGlzdGVuZXIoaW5pdGxvY2FsU3RyZWFtKTtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5pbml0VmlkZW8oKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChhY3Rpb25UeXBlID09PSB2YXJzLkFDVElPTl9UWVBFX0FVRElPKSB7XG5cdFx0XHRcdGluaXRsb2NhbFN0cmVhbSA9ICgpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0bG9jYWxTdHJlYW0paW5pdGxvY2FsU3RyZWFtX2F1ZGlvJyk7XG5cdFx0XHRcdFx0aWYgKGxvY2Fsc3RyZWFtLmdldEF1ZGlvU3RyZWFtKCkgJiYgbG9jYWxzdHJlYW0uZ2V0QXVkaW9TdHJlYW0oKS5jbG9uZSAmJiB0eXBlb2YgbG9jYWxzdHJlYW0uZ2V0QXVkaW9TdHJlYW0oKS5jbG9uZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRzZW50U3RyZWFtID0gbG9jYWxzdHJlYW0uZ2V0QXVkaW9TdHJlYW0oKS5jbG9uZSgpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZW50U3RyZWFtID0gbG9jYWxzdHJlYW0uZ2V0QXVkaW9TdHJlYW0oKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGlzQXVkaW9NdXRlKSB7XG5cdFx0XHRcdFx0XHRfbXV0ZUF1ZGlvKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChpc1ZpZGVvTXV0ZSkge1xuXHRcdFx0XHRcdFx0X211dGVWaWRlbygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwYy5hZGRTdHJlYW0oc2VudFN0cmVhbSk7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0cmVhbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2luaXRsb2NhbFN0cmVhbSlzdGFja0lkPSR7c3RhY2tJZH0gcmVuZGVyaW5nIGxvY2FsIEF1ZGlvIHRvICR7bG9jYWxTdHJlYW1zW2ldLmlkfWApO1xuXHRcdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0obG9jYWxTdHJlYW1zW2ldLCBsb2NhbHN0cmVhbS5nZXRBdWRpb1N0cmVhbSgpKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAobG9jYWxzdHJlYW0uZ2V0QXVkaW9TdHJlYW0oKSkge1xuXHRcdFx0XHRcdGluaXRsb2NhbFN0cmVhbSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxvY2Fsc3RyZWFtLmFkZEF1ZGlvTGlzdGVuZXIoaW5pdGxvY2FsU3RyZWFtKTtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5pbml0QXVkaW8oKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChhY3Rpb25UeXBlID09PSBhY3Rpb25zLkFDVElPTl9UWVBFX0FVRElPX1ZJREVPKSB7XG5cdFx0XHRcdGluaXRsb2NhbFN0cmVhbSA9ICgpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0bG9jYWxTdHJlYW0paW5pdGxvY2FsU3RyZWFtX2F1ZGlvX3ZpZGVvJyk7XG5cdFx0XHRcdFx0aWYgKGxvY2Fsc3RyZWFtLmdldEF1ZGlvVmlkZW9TdHJlYW0oKSAmJiBsb2NhbHN0cmVhbS5nZXRBdWRpb1ZpZGVvU3RyZWFtKCkuY2xvbmUgJiYgdHlwZW9mIGxvY2Fsc3RyZWFtLmdldEF1ZGlvVmlkZW9TdHJlYW0oKS5jbG9uZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRzZW50U3RyZWFtID0gbG9jYWxzdHJlYW0uZ2V0QXVkaW9WaWRlb1N0cmVhbSgpLmNsb25lKCk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdHNlbnRTdHJlYW0gPSBsb2NhbHN0cmVhbS5nZXRBdWRpb1ZpZGVvU3RyZWFtKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChpc0F1ZGlvTXV0ZSkge1xuXHRcdFx0XHRcdFx0X211dGVBdWRpbygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpZiAoaXNWaWRlb011dGUpIHtcblx0XHRcdFx0XHRcdF9tdXRlVmlkZW8oKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRwYy5hZGRTdHJlYW0oc2VudFN0cmVhbSk7XG5cblx0XHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsU3RyZWFtcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpfaW5pdGxvY2FsU3RyZWFtKXN0YWNrSWQ9JHtzdGFja0lkfSByZW5kZXJpbmcgbG9jYWwgQXVkaW9WaWRlbyB0byAke2xvY2FsU3RyZWFtc1tpXS5pZH1gKTtcblx0XHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKGxvY2FsU3RyZWFtc1tpXSwgbG9jYWxzdHJlYW0uZ2V0QXVkaW9WaWRlb1N0cmVhbSgpKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0fVxuXG5cblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKGxvY2Fsc3RyZWFtLmdldEF1ZGlvVmlkZW9TdHJlYW0oKSkge1xuXHRcdFx0XHRcdGluaXRsb2NhbFN0cmVhbSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxvY2Fsc3RyZWFtLmFkZEF1ZGlvVmlkZW9MaXN0ZW5lcihpbml0bG9jYWxTdHJlYW0pO1xuXHRcdFx0XHRcdGxvY2Fsc3RyZWFtLmluaXRBdWRpb1ZpZGVvKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKCcoUmVhY2hTREs6OndlYnJ0Yzo6X2luaXRsb2NhbFN0cmVhbSlubyBhY3Rpb25UeXBlIHNwZWNpZmllZCcpO1xuXHRcdH1cblxuXHR9XG5cblx0LyoqXG5cdCAqIFByZXBhcmVzIHRoZSBTRFAgY2FsbGJhY2tzLlxuXHQgKiBSZW1vdGUgZGVzY3JpcHRpb24gd2lsbCBieSBkZWZpbmVkIGZvciB0aGUgcGVlciBjb25uZWN0aW9uIGFuZCBjYWxsYmFja3MgYXJlIGRlZmluZWQgZm9yIFNEUCBhbnN3c2VyIGFuZCByZXNwb25zZSBtYW5hZ2VtZW50LlxuXHQgKiBJZiB0aGVyZSBpcyBubyBwdWJsaXNoaW5nLCBsb2NhbCBkZXNjcmlwdGlvbiB3aWxsIGJlIGRlZmluZWQuXG5cdCAqL1xuXHRmdW5jdGlvbiBfaW5pdFNkcENhbGxiYWNrcygpIHtcblx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2luaXRTZHBDYWxsYmFja3Mpc3RhY2tJZD0ke3N0YWNrSWR9YCk7XG5cdFx0aWYgKGlzUHVibGlzaCkge1xuXHRcdFx0aWYgKHNkcE9mZmVyQ2IpIHtcblx0XHRcdFx0cmVtb3RlRGF0YVJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgc2RwT2ZmZXJDYik7XG5cdFx0XHR9XG5cdFx0XHRzZHBBbnN3ZXJDYiA9IChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRpZiAoIWlzQ2xvc2VkICYmIHNuYXBzaG90Lm5hbWUoKSA9PT0gJ3NkcEFuc3dlcicpIHtcblx0XHRcdFx0XHRjb25zdCBkYXRhID0gc25hcHNob3QudmFsKCk7XG5cdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6OnNkcEFuc3dlckNiKXN0YWNrSWQ9JHtzdGFja0lkfS1yZWNlaXZlZCBzZHBBbnN3ZXI6ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9YCk7XG5cdFx0XHRcdFx0cGMuc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IG15UlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGRhdGEpLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6c2RwQW5zd2VyQ2Ipc3RhY2tJZD0ke3N0YWNrSWR9LXJlbW90ZSBkZXNjcmlwdGlvbiBzZXRgKTtcblx0XHRcdFx0XHRcdC8vIHJlbW92ZSBzZHBBbnN3ZXIgZnJvbSB3ZWJjb21cblx0XHRcdFx0XHRcdC8vc25hcHNob3QucmVmKCkucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRzdGFydExpc3RlbmluZ1RvUmVtb3RlSWNlQ2FuZGlkYXRlKCk7XG5cdFx0XHRcdFx0fSwgb25FcnJvcik7XG5cdFx0XHRcdFx0cmVtb3RlRGF0YVJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgc2RwQW5zd2VyQ2IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0cmVtb3RlRGF0YVJlZi5vbignY2hpbGRfYWRkZWQnLCBzZHBBbnN3ZXJDYik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChzZHBBbnN3ZXJDYikge1xuXHRcdFx0XHRyZW1vdGVEYXRhUmVmLm9mZignY2hpbGRfYWRkZWQnLCBzZHBBbnN3ZXJDYik7XG5cdFx0XHR9XG5cdFx0XHRzZHBPZmZlckNiID0gZnVuY3Rpb24gKHNuYXBzaG90KSB7XG5cdFx0XHRcdGlmICghaXNDbG9zZWQgJiYgc25hcHNob3QubmFtZSgpID09PSAnc2RwT2ZmZXInKSB7XG5cdFx0XHRcdFx0Y29uc3QgZGF0YSA9IHNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpzZHBPZmZlckNiKXN0YWNrSWQ9JHtzdGFja0lkfS1yZWNlaXZlZCBzZHBPZmZlcjogJHtKU09OLnN0cmluZ2lmeShkYXRhKX1gKTtcblx0XHRcdFx0XHRwYy5zZXRSZW1vdGVEZXNjcmlwdGlvbihuZXcgbXlSVENTZXNzaW9uRGVzY3JpcHRpb24oZGF0YSksICgpID0+IHtcblx0XHRcdFx0XHRcdHBjLmNyZWF0ZUFuc3dlcigoZGVzY3JpcHRpb24pID0+IHtcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpzZHBPZmZlckNiKXN0YWNrSWQ9JHtzdGFja0lkfS1zZW5kaW5nIGFuc3dlcmApO1xuXHRcdFx0XHRcdFx0XHRwYy5zZXRMb2NhbERlc2NyaXB0aW9uKGRlc2NyaXB0aW9uLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6OnNkcE9mZmVyQ2Ipc3RhY2tJZD0ke3N0YWNrSWR9LXNldCBzZHBBbnN3ZXIgaW4gYmFzZSA6ICR7SlNPTi5zdHJpbmdpZnkoZGVzY3JpcHRpb24pfWApO1xuXHRcdFx0XHRcdFx0XHRcdGxvY2FsRGF0YVJlZi5jaGlsZCgnc2RwQW5zd2VyJykuc2V0KEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGVzY3JpcHRpb24pKSk7IC8vIGRlY29kaW5nL2VuY29kaW5nIGJlY2F1c2Ugb2YgRmlyZWZveCBidWdcblx0XHRcdFx0XHRcdFx0XHQvLyByZW1vdmUgc2RwT2ZmZXIgZnJvbSB3ZWJjb21cblx0XHRcdFx0XHRcdFx0XHQvL3NuYXBzaG90LnJlZigpLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdHN0YXJ0TGlzdGVuaW5nVG9SZW1vdGVJY2VDYW5kaWRhdGUoKTtcblx0XHRcdFx0XHRcdFx0fSwgb25FcnJvcik7XG5cdFx0XHRcdFx0XHR9LCBvbkVycm9yLCBzdWJzY3JpYmVyTWVkaWFDb25zdHJhaW50cyk7XG5cdFx0XHRcdFx0fSwgb25FcnJvcik7XG5cdFx0XHRcdFx0cmVtb3RlRGF0YVJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgc2RwT2ZmZXJDYik7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRyZW1vdGVEYXRhUmVmLm9uKCdjaGlsZF9hZGRlZCcsIHNkcE9mZmVyQ2IpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBDbG9zZXMgdGhlIFNEUCBjYWxsYmFja3MgYnkgZGlzYWJsaW5nIGNhbGxiYWNrcyBmb3IgdGhlIFwiY2hpbGRfYWRkZWRcIiBldmVudCBhbmQgYnkgZGVmaW5pbmcgdGhlbSB0byBudWxsLlxuXHQgKi9cblx0ZnVuY3Rpb24gX2Nsb3NlU2RwQ2FsbGJhY2tzKCkge1xuXHRcdGlmIChzZHBBbnN3ZXJDYikge1xuXHRcdFx0cmVtb3RlRGF0YVJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgc2RwQW5zd2VyQ2IpO1xuXHRcdFx0c2RwQW5zd2VyQ2IgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAoc2RwT2ZmZXJDYikge1xuXHRcdFx0cmVtb3RlRGF0YVJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgc2RwT2ZmZXJDYik7XG5cdFx0XHRzZHBPZmZlckNiID0gbnVsbDtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU2VuZHMgYW4gU0RQIG9mZmVyIHRocm91Z2ggdGhlIHBlZXIgY29ubmVjdGlvbi5cblx0ICogQW4gU0RQIG9mZmVyIGlzIGNyZWF0ZWQsIHdpdGggYSBsb2NhbCBkZXNjcmlwdGlvbiwgYW5kIGlzIHNlbnQuXG5cdCAqIFRoZSBkZXNjcmlwdGlvbiBpcyBib3RoIGRlY29kZWQgYW5kIGVuY29kZWQgYmVjYXVzZSBvZiBGaXJlZm94IGJ1Z3MuXG5cdCAqL1xuXHRmdW5jdGlvbiBzZW5kT2ZmZXIoKSB7XG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0Ly8gcHVibGllIGwnb2ZmcmUgaW5pdGlhbGVcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0XHRjb25zb2xlLmxvZyhgKHdlYnJ0Yzo6c2VuZE9mZmVyKXN0YWNraWQ9JHtzdGFja0lkfS1jcmVhdGluZyBzZHBPZmZlcmApO1xuXHRcdHBjLmNyZWF0ZU9mZmVyKChkZXNjcmlwdGlvbikgPT4ge1xuXHRcdFx0cGMuc2V0TG9jYWxEZXNjcmlwdGlvbihkZXNjcmlwdGlvbiwgKCkgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6Y3JlYXRlT2ZmZXIpc3RhY2tJZD0ke3N0YWNrSWR9LXNldCBzZHBPZmZlciBpbiBiYXNlIDogJHtKU09OLnN0cmluZ2lmeShkZXNjcmlwdGlvbil9YCk7XG5cdFx0XHRcdGxvY2FsRGF0YVJlZi5jaGlsZCgnc2RwT2ZmZXInKS5zZXQoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkZXNjcmlwdGlvbikpKTsgLy8gZGVjb2RpbmcvZW5jb2RpbmcgYmVjYXVzZSBvZiBGaXJlZm94IGJ1Z1xuXHRcdFx0fSwgb25FcnJvcik7XG5cdFx0fSwgb25FcnJvciwgcHVibGlzaGVyTWVkaWFDb25zdHJhaW50cyk7XG5cdH1cblxuXHQvKipcblx0ICogQ2xvc2VzIHRoZSBjb25uZWN0aW9uIGFuZCB0cmlnZ2VycyB0aGUgY2FsbGJhY2sgd2hlbiB0aGUgb3BlcmF0aW9uIGlzIGRvbmVcblx0ICogQHBhcmFtIGNhbGxiYWNrXG5cdCAqL1xuXHRmdW5jdGlvbiBfY2xvc2UoY2FsbGJhY2spIHtcblxuXHRcdGlmICghY2xvc2VJblByb2dyZXNzICYmICFpc0Nsb3NlZCkge1xuXHRcdFx0Y2xvc2VJblByb2dyZXNzID0gdHJ1ZTtcblx0XHRcdG9uQ2xvc2VDYjIgPSBjYWxsYmFjaztcblx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpfY2xvc2Upc3RhY2tJZD0ke3N0YWNrSWR9LWNsb3Npbmcgd2VicnRjIHN0YWNrYCk7XG5cdFx0XHRpZiAocGMpIHtcblx0XHRcdFx0cGMuY2xvc2UoKTtcblxuXHRcdFx0fVxuXG5cdFx0XHQvLyByZW1vdmUgd2ViY29tIGNhbGxiYWNrc1xuXHRcdFx0aWYgKHJlbW90ZWRhdGFyZWZDYikge1xuXHRcdFx0XHRyZW1vdGVEYXRhUmVmLm9mZignY2hpbGRfYWRkZWQnLCByZW1vdGVkYXRhcmVmQ2IpO1xuXHRcdFx0XHRyZW1vdGVkYXRhcmVmQ2IgPSBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaWNlQ2FuZGlkYXRlc0xpc3RDYikge1xuXHRcdFx0XHRzdG9wTGlzdGVuaW5nVG9SZW1vdGVJY2VDYW5kaWRhdGUoKTtcblx0XHRcdFx0aWNlQ2FuZGlkYXRlc0xpc3RDYiA9IG51bGw7XG5cdFx0XHR9XG5cdFx0XHRfY2xvc2VTZHBDYWxsYmFja3MoKTtcblxuXHRcdFx0Ly8gcmVtb3ZlIHdlYmNvbSBkYXRhXG4vL1x0XHRcdGxvY2FsRGF0YVJlZi5wYXJlbnQoKS5vbkRpc2Nvbm5lY3QoKS5jYW5jZWwoKTtcbi8vXHRcdFx0bG9jYWxEYXRhUmVmLnBhcmVudCgpLm9uRGlzY29ubmVjdCgpLnJlbW92ZSgpO1xuXHRcdFx0Ly9yZW1vdGVEYXRhUmVmLnJlbW92ZSgpO1xuXG5cdFx0XHQvLyBzdG9wIHZpZGVvXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGxvY2FsU3RyZWFtcy5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRpZiAobG9jYWxTdHJlYW1zW2ldKSB7XG5cdFx0XHRcdFx0Ly9sb2NhbFN0cmVhbXNbaV0uc3JjPVwiXCI7IG5vdCBzdXBwb3J0ZWQgYnkgRmlyZWZveFxuXHRcdFx0XHRcdGRldGFjaE1lZGlhU3RyZWFtKGxvY2FsU3RyZWFtc1tpXSk7XG5cdFx0XHRcdFx0Ly9sb2NhbFN0cmVhbXNbaV0ucmVtb3ZlQXR0cmlidXRlKFwic3JjXCIpO1xuXHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpfY2xvc2Upc3RhY2tJZD0ke3N0YWNrSWR9LXN0b3BwaW5nIGxvY2FsIHZpZGVvIHRvICR7bG9jYWxTdHJlYW1zW2ldLmlkfWApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IHJlbW90ZVN0cmVhbXMubGVuZ3RoOyBqKyspIHtcblx0XHRcdFx0aWYgKHJlbW90ZVN0cmVhbXNbal0pIHtcblx0XHRcdFx0XHQvL3JlbW90ZVN0cmVhbXNbal0uc3JjPVwiXCI7IG5vdCBzdXBwb3J0ZWQgYnkgRmlyZWZveFxuXHRcdFx0XHRcdGRldGFjaE1lZGlhU3RyZWFtKHJlbW90ZVN0cmVhbXNbal0pO1xuXHRcdFx0XHRcdC8vcmVtb3RlU3RyZWFtc1tqXS5yZW1vdmVBdHRyaWJ1dGUoXCJzcmNcIik7XG5cdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9jbG9zZSlzdGFja0lkPSR7c3RhY2tJZH0tc3RvcHBpbmcgcmVtb3RlIHZpZCB0byAke3JlbW90ZVN0cmVhbXNbal0uaWR9YCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXG5cdFx0XHRpc0Nsb3NlZCA9IHRydWU7XG5cdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1jbG9zaW5nIHdlYnJ0YyBzdGFjayAtPiB3YWl0aW5nIGZvciBJQ0VfQ09OTkVDVElPTl9TVEFURV9ESVNDT05ORUNURURgKTtcblx0XHRcdGlmIChpc0Nsb3NlZCAmJiAoaWNlQ29ubmVjdGlvblN0YXRlID09PSBJQ0VfQ09OTkVDVElPTl9TVEFURV9ESVNDT05ORUNURUQgfHwgaWNlQ29ubmVjdGlvblN0YXRlID09PSBJQ0VfQ09OTkVDVElPTl9TVEFURV9DTE9TRUQgfHwgaWNlQ29ubmVjdGlvblN0YXRlID09PSBJQ0VfQ09OTkVDVElPTl9TVEFURV9GQUlMRUQpKSB7XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpfY2xvc2Upc3RhY2tJZD0ke3N0YWNrSWR9LWNsb3NlZCB3ZWJydGMgc3RhY2sgY29tcGxldGVgKTtcblx0XHRcdFx0cGMgPSBudWxsO1xuXHRcdFx0XHRjbG9zZUluUHJvZ3Jlc3MgPSBmYWxzZTtcblx0XHRcdFx0d2VicnRjbW5nci5jbGVhcldlYnJ0Y1N0YWNrcyh3ZWJydGNTdGFja0lkKTtcblx0XHRcdFx0aWYgKG9uQ2xvc2VDYjIgJiYgdHlwZW9mIG9uQ2xvc2VDYjIgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdG9uQ2xvc2VDYjIoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1jbG9zaW5nIHdlYnJ0YyBzdGFjayBhbHJlYWR5IGluIHByb2dyZXNzYCk7XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gX2Nvbm5lY3RMb2NhbFN0cmVhbSh2aWRlb0VsdCwgZ2V0U3RyZWFtQ2IpIHtcblx0XHRpZiAoYWN0aW9uVHlwZSkge1xuXHRcdFx0aWYgKGFjdGlvblR5cGUgPT09IGFjdGlvbnMuQUNUSU9OX1RZUEVfVklERU8pIHtcblx0XHRcdFx0bG9jYWxzdHJlYW0uY29ubmVjdExvY2FsVmlkZW9TdHJlYW0odmlkZW9FbHQsIGdldFN0cmVhbUNiKTtcblx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uVHlwZSA9PT0gYWN0aW9ucy5BQ1RJT05fVFlQRV9BVURJTykge1xuXHRcdFx0XHRsb2NhbHN0cmVhbS5jb25uZWN0TG9jYWxBdWRpb1N0cmVhbSh2aWRlb0VsdCwgZ2V0U3RyZWFtQ2IpO1xuXHRcdFx0fSBlbHNlIGlmIChhY3Rpb25UeXBlID09PSBhY3Rpb25zLkFDVElPTl9UWVBFX0FVRElPX1ZJREVPKSB7XG5cdFx0XHRcdGxvY2Fsc3RyZWFtLmNvbm5lY3RMb2NhbEF1ZGlvVmlkZW9TdHJlYW0odmlkZW9FbHQsIGdldFN0cmVhbUNiKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRmdW5jdGlvbiBfY29ubmVjdFJlbW90ZVN0cmVhbSh2aWRlb0VsdCwgZ2V0U3RyZWFtQ2IpIHtcblx0XHRpZiAodmlkZW9FbHQpIHtcblx0XHRcdGlmIChyZWNlaXZlZFN0cmVhbSkge1xuXHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbSh2aWRlb0VsdCwgcmVjZWl2ZWRTdHJlYW0pO1xuXHRcdFx0XHRpZiAoZ2V0U3RyZWFtQ2IgJiYgdHlwZW9mIGdldFN0cmVhbUNiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRnZXRTdHJlYW1DYihyZWNlaXZlZFN0cmVhbSk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJlbW90ZVN0cmVhbXMucHVzaCh2aWRlb0VsdCk7XG5cdFx0XHRcdGlmIChnZXRTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0U3RyZWFtQ2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdHJlbW90ZVN0cmVhbXNDYi5wdXNoKGdldFN0cmVhbUNiKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRpZiAocmVjZWl2ZWRTdHJlYW0pIHtcblx0XHRcdFx0aWYgKGdldFN0cmVhbUNiICYmIHR5cGVvZiBnZXRTdHJlYW1DYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Z2V0U3RyZWFtQ2IocmVjZWl2ZWRTdHJlYW0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAoZ2V0U3RyZWFtQ2IgJiYgdHlwZW9mIGdldFN0cmVhbUNiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRyZW1vdGVTdHJlYW1zQ2IucHVzaChnZXRTdHJlYW1DYik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblxuXHRcdH1cblx0fVxuXG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSBwZWVyIGNvbm5lY3Rpb25cblx0ICovXG5cdGZ1bmN0aW9uIGluaXRfcGMoKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjppbml0X3BjKXN0YWNrSWQ9JHtzdGFja0lkfV9jb25maWc9YCwgSlNPTi5zdHJpbmdpZnkoY29uZmlnKSk7XG5cdFx0Ly8gVE9ETyB0ZXN0IGlzIGNvbmZpZyBpcyBtYWxmb3JtYXRlZCBvciBlbXB0eVxuXHRcdHBjID0gbmV3IG15UGVlckNvbm5lY3Rpb24oY29uZmlnLCBvcHRpb25hbCk7XG5cblxuXHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdC8vIFJlY2VpdmVkIEljZSBjYW5kaWRhdGUgZnJvbSB0aGUgc3RhY2s6IHNlbmQgaXQgdG8gdGhlIHBlZXJcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0XHRwYy5vbmljZWNhbmRpZGF0ZSA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRpZiAoZS5jYW5kaWRhdGUpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpwYy5vbmljZWNhbmRpZGF0ZSlzdGFja0lkPSR7c3RhY2tJZH0gc2VuZCBpY2UgY2FuZGlkYXRlPSR7SlNPTi5zdHJpbmdpZnkoZS5jYW5kaWRhdGUpfWApO1xuXHRcdFx0XHRsb2NhbERhdGFSZWYuY2hpbGQoJ2ljZUNhbmRpZGF0ZXNMaXN0JykucHVzaCh7XG5cdFx0XHRcdFx0bGFiZWw6IGUuY2FuZGlkYXRlLnNkcE1MaW5lSW5kZXgsXG5cdFx0XHRcdFx0aWQ6IGUuY2FuZGlkYXRlLnNkcE1pZCxcblx0XHRcdFx0XHRjYW5kaWRhdGU6IGUuY2FuZGlkYXRlLmNhbmRpZGF0ZVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0Ly8gUmVjZWl2ZWQgYSByZW1vdGUgc3RyZWFtIGZyb20gdGhlIHN0YWNrOiBwbGF5IGl0IG9uIHRoZSB2aWRlbyBwbGF5ZXJcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0XHRwYy5vbmFkZHN0cmVhbSA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6b25hZGRzdHJlYW0pc3RhY2tJZD0ke3N0YWNrSWR9LXN0cmVhbToke0pTT04uc3RyaW5naWZ5KGUuc3RyZWFtKX1gKTtcblx0XHRcdGlmIChlICYmIGUuc3RyZWFtKSB7XG5cdFx0XHRcdHJlY2VpdmVkU3RyZWFtID0gZS5zdHJlYW07XG5cdFx0XHRcdGlmIChpc0F1ZGlvTXV0ZSkge1xuXHRcdFx0XHRcdF9tdXRlQXVkaW8oKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoaXNWaWRlb011dGUpIHtcblx0XHRcdFx0XHRfbXV0ZVZpZGVvKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cbi8vICAgICAgICAgICAgX3JlbW90ZVN0cmVhbSA9IGUuc3RyZWFtO1xuLy9cbi8vXHRcdFx0Zm9yICh2YXIgaT0wO2k8cmVtb3RlU3RyZWFtcy5sZW5ndGg7aSsrKSB7XG4vL1x0XHRcdCAgICBpZiAocmVtb3RlU3RyZWFtc1tpXSkge1xuLy9cdFx0XHQgICAgXHQgIGNvbnNvbGUuZGVidWcoXCIoUmVhY2hTREs6OndlYnJ0Yzo6b25hZGRzdHJlYW0pcGMub25hZGRzdHJlYW0gc3RhY2tJZD1cIitzdGFja0lkICsgXCItXCIgK1wicmVuZGVyaW5nIHJlbW90ZSB2aWQgdG8gXCIrcmVtb3RlU3RyZWFtc1tpXS5pZCk7XG4vL1x0XHRcdCAgICBcdCAgYXR0YWNoTWVkaWFTdHJlYW0oIHJlbW90ZVN0cmVhbXNbaV0sX3JlbW90ZVN0cmVhbSk7XG4vL1x0XHRcdCAgICB9XG4vL1x0XHRcdH1cblx0XHR9O1xuXG5cdFx0cGMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UgPSAoKSA9PiB7XG5cblx0XHRcdGlmICghIXBjICYmIHBjLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0hFQ0tJTkcpIHtcblx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Om9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKXN0YWNrSWQ9JHtzdGFja0lkfS1jaGVja2luZ2ApO1xuXHRcdFx0XHRpY2VDb25uZWN0aW9uU3RhdGUgPSBJQ0VfQ09OTkVDVElPTl9TVEFURV9DSEVDS0lORztcblx0XHRcdH0gZWxzZSBpZiAoISFwYyAmJiBwYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0NPTk5FQ1RFRCkge1xuXHRcdFx0XHRpY2VDb25uZWN0aW9uU3RhdGUgPSBJQ0VfQ09OTkVDVElPTl9TVEFURV9DT05ORUNURUQ7XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSlzdGFja0lkPSR7c3RhY2tJZH0tY29ubmVjdGVkYCk7XG5cdFx0XHRcdGlmIChyZWNlaXZlZFN0cmVhbSkge1xuXHRcdFx0XHRcdHJlbW90ZVN0cmVhbXMuZm9yRWFjaCgocmVtb3RlU3RyZWFtKSA9PiB7XG5cdFx0XHRcdFx0XHRpZihyZW1vdGVTdHJlYW0pIHtcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Om9uYWRkc3RyZWFtKXBjLm9uYWRkc3RyZWFtIHN0YWNrSWQ9JHtzdGFja0lkfS1yZW5kZXJpbmcgcmVtb3RlIHZpZCB0byAke3JlbW90ZVN0cmVhbS5pZH1gKTtcblx0XHRcdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0ocmVtb3RlU3RyZWFtLCByZWNlaXZlZFN0cmVhbSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cmVtb3RlU3RyZWFtc0NiLmZvckVhY2goKHJlbW90ZVN0cmVhbUNiKSA9PiB7XG5cdFx0XHRcdFx0XHRpZihyZW1vdGVTdHJlYW1DYikge1xuXHRcdFx0XHRcdFx0XHRyZW1vdGVTdHJlYW1DYihyZWNlaXZlZFN0cmVhbSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cmVtb3RlU3RyZWFtc0NiID0gW107XG5cdFx0XHRcdH1cblx0XHRcdFx0c3RvcExpc3RlbmluZ1RvUmVtb3RlSWNlQ2FuZGlkYXRlKCk7XG5cdFx0XHR9IGVsc2UgaWYgKCEhcGMgJiYgcGMuaWNlQ29ubmVjdGlvblN0YXRlID09PSBJQ0VfQ09OTkVDVElPTl9TVEFURV9DT01QTEVURUQpIHtcblx0XHRcdFx0aWNlQ29ubmVjdGlvblN0YXRlID0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ09NUExFVEVEO1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6b25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2Upc3RhY2tJZD0ke3N0YWNrSWR9LSR7SUNFX0NPTk5FQ1RJT05fU1RBVEVfQ09NUExFVEVEfWApO1xuXHRcdFx0XHRzdG9wTGlzdGVuaW5nVG9SZW1vdGVJY2VDYW5kaWRhdGUoKTtcblx0XHRcdH1cblx0XHRcdGlmICghIXBjICYmIHBjLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRElTQ09OTkVDVEVEKSB7XG5cdFx0XHRcdGljZUNvbm5lY3Rpb25TdGF0ZSA9IElDRV9DT05ORUNUSU9OX1NUQVRFX0RJU0NPTk5FQ1RFRDtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSlzdGFja0lkPSR7c3RhY2tJZH0tcmVtb3RlIGRpc2Nvbm5lY3Rpb24sIGNsb3NpbmcgcGVlciBjb25uZWN0aW9uYCk7XG5cdFx0XHRcdF9jbG9zZSgpO1xuXHRcdFx0fSBlbHNlIGlmICghIXBjICYmIHBjLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0xPU0VEKSB7XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSlzdGFja0lkPSR7c3RhY2tJZH0tY2xvc2VkYCk7XG5cdFx0XHRcdGljZUNvbm5lY3Rpb25TdGF0ZSA9IElDRV9DT05ORUNUSU9OX1NUQVRFX0NMT1NFRDtcblx0XHRcdFx0X2Nsb3NlKCk7XG5cdFx0XHR9IGVsc2UgaWYgKCEhcGMgJiYgcGMuaWNlQ29ubmVjdGlvblN0YXRlID09PSBJQ0VfQ09OTkVDVElPTl9TVEFURV9GQUlMRUQpIHtcblx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Om9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKXN0YWNrSWQ9JHtzdGFja0lkfS1mYWlsZWRgKTtcblx0XHRcdFx0aWNlQ29ubmVjdGlvblN0YXRlID0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRkFJTEVEO1xuXHRcdFx0XHRfY2xvc2UoKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmIChwYykge1xuXHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSlzdGFja0lkPSR7c3RhY2tJZH0tJHtwYy5pY2VDb25uZWN0aW9uU3RhdGV9YCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Om9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKXN0YWNrSWQ9JHtzdGFja0lkfS1wYyA9IG51bGxgKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGljZUNvbm5lY3Rpb25TdGF0ZSA9IElDRV9DT05ORUNUSU9OX1NUQVRFX09USEVSO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoaXNDbG9zZWQgJiYgKGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRElTQ09OTkVDVEVEIHx8IGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0xPU0VEIHx8IGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRkFJTEVEKSkge1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1jbG9zZWQgd2VicnRjIHN0YWNrIGNvbXBsZXRlYCk7XG5cdFx0XHRcdHBjID0gbnVsbDtcblx0XHRcdFx0Y2xvc2VJblByb2dyZXNzID0gZmFsc2U7XG5cdFx0XHRcdHdlYnJ0Y21uZ3IuY2xlYXJXZWJydGNTdGFja3Mod2VicnRjU3RhY2tJZCk7XG5cdFx0XHRcdGlmIChvbkNsb3NlQ2IgJiYgdHlwZW9mIG9uQ2xvc2VDYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0b25DbG9zZUNiKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG9uQ2xvc2VDYjIgJiYgdHlwZW9mIG9uQ2xvc2VDYjIgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdG9uQ2xvc2VDYjIoKTtcblx0XHRcdFx0fVxuXG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8vIHN1YnNjcmliZSB0byByZW1vdGUgZGF0YVxuXHRcdGljZUNhbmRpZGF0ZXNMaXN0Q2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdGNvbnN0XG5cdFx0XHRcdGRhdGEgPSBzbmFwc2hvdC52YWwoKSxcblx0XHRcdFx0Y2FuZGlkYXRlID0gbmV3IG15UlRDSWNlQ2FuZGlkYXRlKHtcblx0XHRcdFx0XHRzZHBNTGluZUluZGV4OiBkYXRhLmxhYmVsLFxuXHRcdFx0XHRcdGNhbmRpZGF0ZTogZGF0YS5jYW5kaWRhdGUsXG5cdFx0XHRcdFx0c2RwTWlkOiBkYXRhLmlkXG5cdFx0XHRcdH0pO1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjppY2VDYW5kaWRhdGVzTGlzdENiKXN0YWNrSWQ9JHtzdGFja0lkfXJlY2VpdmVkIGljZSBjYW5kaWRhdGU9JHtKU09OLnN0cmluZ2lmeShjYW5kaWRhdGUpfWApO1xuXG5cdFx0XHRwYy5hZGRJY2VDYW5kaWRhdGUoY2FuZGlkYXRlKTtcblx0XHRcdC8vIHJlbW92ZSBjYW5kaWRhdGUgZnJvbSB3ZWJjb21cblx0XHRcdC8vc25hcHNob3QucmVmKCkucmVtb3ZlKCk7XG5cdFx0fTtcblxuXHRcdGlmIChpc1B1Ymxpc2gpIHtcblx0XHRcdF9pbml0bG9jYWxTdHJlYW0oKCkgPT4ge1xuXHRcdFx0XHRfaW5pdFNkcENhbGxiYWNrcygpO1xuXHRcdFx0XHRzZW5kT2ZmZXIoKTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRfaW5pdFNkcENhbGxiYWNrcygpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgb2JqZWN0XG5cdCAqL1xuXHQoKCkgPT4ge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6aW5pdClzdGFja0lkPSR7c3RhY2tJZH1gKTtcblx0XHQvLyBwZWVyY29ubmVjdGlvblxuXHRcdGlmICh0eXBlb2YoUlRDUGVlckNvbm5lY3Rpb24pID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRteVBlZXJDb25uZWN0aW9uID0gUlRDUGVlckNvbm5lY3Rpb247XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjp3ZWJydGM6OmluaXQpc3RhY2tJZD0ke3N0YWNrSWR9IGVycm9yPVdlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhYCk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1dlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZihSVENTZXNzaW9uRGVzY3JpcHRpb24pID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRteVJUQ1Nlc3Npb25EZXNjcmlwdGlvbiA9IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbjtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OndlYnJ0Yzo6aW5pdClzdGFja0lkPSR7c3RhY2tJZH0gZXJyb3IyPVdlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhYCk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1dlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZihSVENJY2VDYW5kaWRhdGUpID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRteVJUQ0ljZUNhbmRpZGF0ZSA9IFJUQ0ljZUNhbmRpZGF0ZTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OndlYnJ0Yzo6aW5pdClzdGFja0lkPSR7c3RhY2tJZH0gZXJyb3IzPVdlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhYCk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1dlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHBfbXV0ZUF1ZGlvKSB7XG5cdFx0XHRpc0F1ZGlvTXV0ZSA9IHRydWU7XG5cdFx0fVxuXHRcdGlmIChwX211dGVWaWRlbykge1xuXHRcdFx0aXNWaWRlb011dGUgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGdldEljZVNlcnZlcnNDb25maWdGcm9tU2VydmVyKChfY29uZmlnKSA9PiB7XG5cdFx0XHRjb25maWcgPSBfY29uZmlnO1xuXHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6d2VicnRjOjopIHVzZSBzZXJ2ZXIgY29uZmlnPScsIEpTT04uc3RyaW5naWZ5KGNvbmZpZykpO1xuXHRcdFx0aW5pdF9wYygpO1xuXHRcdH0sICgpID0+IHtcblx0XHRcdGlmICh0eXBlb2YgREVGQVVMVF9JQ0VfQ09ORklHICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRjb25maWcgPSBERUZBVUxUX0lDRV9DT05GSUc7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OndlYnJ0Yzo6KSB1c2UgREVGQVVMVF9JQ0VfQ09ORklHIGNvbmZpZz0nLCBKU09OLnN0cmluZ2lmeShjb25maWcpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OndlYnJ0Yzo6KSBubyBpY2UgIGNvbmZpZycpO1xuXHRcdFx0fVxuXHRcdFx0aW5pdF9wYygpO1xuXHRcdH0pO1xuXG5cdH0pKCk7XG5cblx0Ly9pbml0KCk7XG5cblx0cmV0dXJuIHtcblxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgc28gYXMgdG8gY2xvc2UgdGhlIGNvbW11bmljYXRpb25cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIFRoZSBjYWxsYmFjayB0byB0cmlnZ2VyXG5cdFx0ICovXG5cdFx0c2V0T25DbG9zZTogKGNiKSA9PiB7XG5cdFx0XHRvbkNsb3NlQ2IgPSBjYjtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIENsb3NlcyBhIGNhbGxiYWNrXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBUaGUgY2FsbGJhY2sgdG8gY2xvc2Vcblx0XHQgKi9cblx0XHRjbG9zZTogKGNiKSA9PiB7XG5cdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1jbG9zZSByZXF1ZXN0ZWRgKTtcblx0XHRcdF9jbG9zZShjYik7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIENvbm5lY3QgYSBsb2NhbCBzdHJlYW0gdG8gYW4gZWxlbWVudCBhY2NvcmRpbmcgdG8gdGhlIGFjdGlvbiB0eXBlIGluIHVzZSAoQUNUSU9OX1RZUEVfVklERU8sIEFDVElPTl9UWVBFX0FVRElPLCBBQ1RJT05fVFlQRV9BVURJT19WSURFTylcblx0XHQgKiBAcGFyYW0gdmlkZW9FbHQgLSBUaGUgdmlkZW8gZWxlbWVudFxuXHRcdCAqIEBwYXJhbSBnZXRTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHRcdCAqL1xuXHRcdGNvbm5lY3RMb2NhbFN0cmVhbTogX2Nvbm5lY3RMb2NhbFN0cmVhbSxcblx0XHQvKipcblx0XHQgKiBDb25uZWN0IGEgcmVtb3RlIHN0cmVhbSB0byBhbiBlbGVtZW50XG5cdFx0ICogQHBhcmFtIHZpZGVvRWx0IC0gVGhlIHZpZGVvIGVsZW1lbnRcblx0XHQgKiBAcGFyYW0gZ2V0U3RyZWFtQ2IgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJldHJpZXZlIHRoZSBtZWRpYXN0cmVhbSBvYmplY3Rcblx0XHQgKi9cblx0XHRjb25uZWN0UmVtb3RlU3RyZWFtOiBfY29ubmVjdFJlbW90ZVN0cmVhbSxcblx0XHQvKipcblx0XHQgKiBtdXRlIEF1ZGlvXG5cdFx0ICovXG5cdFx0bXV0ZUF1ZGlvOiBfbXV0ZUF1ZGlvLFxuXHRcdC8qKlxuXHRcdCAqIHVubXV0ZSBBdWRpb1xuXHRcdCAqL1xuXHRcdHVubXV0ZUF1ZGlvOiBfdW5tdXRlQXVkaW8sXG5cdFx0LyoqXG5cdFx0ICogbXV0ZSBWaWRlb1xuXHRcdCAqL1xuXHRcdG11dGVWaWRlbzogX211dGVWaWRlbyxcblx0XHQvKipcblx0XHQgKiB1bm11dGUgVmlkZW9cblx0XHQgKi9cblx0XHR1bm11dGVWaWRlbzogX3VubXV0ZVZpZGVvXG5cdH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCB3ZWJydGM7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2VicnRjLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==