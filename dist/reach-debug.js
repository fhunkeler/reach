/*!
 * The MIT License (MIT)
 * 
 * Copyright (c) 2015 Webcom
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["Reach"] = factory();
	else
		root["Reach"] = factory();
})(this, function() {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;
/******/
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.Reach=undefined;var _classCallCheck2=__webpack_require__(1),_classCallCheck3=_interopRequireDefault(_classCallCheck2),_createClass2=__webpack_require__(2),_createClass3=_interopRequireDefault(_createClass2),_adapter=__webpack_require__(21),_adapter2=_interopRequireDefault(_adapter),_actions=__webpack_require__(98),_actions2=_interopRequireDefault(_actions),_datarefs=__webpack_require__(99),_datarefs2=_interopRequireDefault(_datarefs),_reach=__webpack_require__(100),_reach2=_interopRequireDefault(_reach),_room=__webpack_require__(102),_room2=_interopRequireDefault(_room),_webrtcmngr=__webpack_require__(104),_webrtcmngr2=_interopRequireDefault(_webrtcmngr);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var Reach=exports.Reach=function(){function Reach(){var url=arguments.length<=0||arguments[0]===undefined?'http://webcom.orange.com/base/webrtc':arguments[0];(0,_classCallCheck3.default)(this,Reach);this.datarefs=(0,_datarefs2.default)(url);this.webrtcmngr=(0,_webrtcmngr2.default)(this.datarefs);this.webrtcmngr.setWebrtcManger(this.webrtcmngr);}(0,_createClass3.default)(Reach,[{key:'Room',value:function Room(){for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _room2.default.apply(undefined,args.concat([this.datarefs,this.webrtcmngr]));}},{key:'Reach',value:function Reach(){for(var _len2=arguments.length,args=Array(_len2),_key2=0;_key2<_len2;_key2++){args[_key2]=arguments[_key2];}return _reach2.default.apply(undefined,args.concat([this.datarefs]));}}],[{key:'version',get:function get(){return ('1.1.0');}},{key:'actions',get:function get(){return _actions2.default;}}]);return Reach;}();module.exports=Reach;

/***/ },
/* 1 */
/***/ function(module, exports) {

	"use strict";
	
	exports.__esModule = true;
	
	exports.default = function (instance, Constructor) {
	  if (!(instance instanceof Constructor)) {
	    throw new TypeError("Cannot call a class as a function");
	  }
	};

/***/ },
/* 2 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	exports.__esModule = true;
	
	var _defineProperty = __webpack_require__(3);
	
	var _defineProperty2 = _interopRequireDefault(_defineProperty);
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	exports.default = function () {
	  function defineProperties(target, props) {
	    for (var i = 0; i < props.length; i++) {
	      var descriptor = props[i];
	      descriptor.enumerable = descriptor.enumerable || false;
	      descriptor.configurable = true;
	      if ("value" in descriptor) descriptor.writable = true;
	      (0, _defineProperty2.default)(target, descriptor.key, descriptor);
	    }
	  }
	
	  return function (Constructor, protoProps, staticProps) {
	    if (protoProps) defineProperties(Constructor.prototype, protoProps);
	    if (staticProps) defineProperties(Constructor, staticProps);
	    return Constructor;
	  };
	}();

/***/ },
/* 3 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(4), __esModule: true };

/***/ },
/* 4 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(5);
	var $Object = __webpack_require__(8).Object;
	module.exports = function defineProperty(it, key, desc){
	  return $Object.defineProperty(it, key, desc);
	};

/***/ },
/* 5 */
/***/ function(module, exports, __webpack_require__) {

	var $export = __webpack_require__(6);
	// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)
	$export($export.S + $export.F * !__webpack_require__(16), 'Object', {defineProperty: __webpack_require__(12).f});

/***/ },
/* 6 */
/***/ function(module, exports, __webpack_require__) {

	var global    = __webpack_require__(7)
	  , core      = __webpack_require__(8)
	  , ctx       = __webpack_require__(9)
	  , hide      = __webpack_require__(11)
	  , PROTOTYPE = 'prototype';
	
	var $export = function(type, name, source){
	  var IS_FORCED = type & $export.F
	    , IS_GLOBAL = type & $export.G
	    , IS_STATIC = type & $export.S
	    , IS_PROTO  = type & $export.P
	    , IS_BIND   = type & $export.B
	    , IS_WRAP   = type & $export.W
	    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})
	    , expProto  = exports[PROTOTYPE]
	    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]
	    , key, own, out;
	  if(IS_GLOBAL)source = name;
	  for(key in source){
	    // contains in native
	    own = !IS_FORCED && target && target[key] !== undefined;
	    if(own && key in exports)continue;
	    // export native or passed
	    out = own ? target[key] : source[key];
	    // prevent global pollution for namespaces
	    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]
	    // bind timers to global for call from export context
	    : IS_BIND && own ? ctx(out, global)
	    // wrap global constructors for prevent change them in library
	    : IS_WRAP && target[key] == out ? (function(C){
	      var F = function(a, b, c){
	        if(this instanceof C){
	          switch(arguments.length){
	            case 0: return new C;
	            case 1: return new C(a);
	            case 2: return new C(a, b);
	          } return new C(a, b, c);
	        } return C.apply(this, arguments);
	      };
	      F[PROTOTYPE] = C[PROTOTYPE];
	      return F;
	    // make static versions for prototype methods
	    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;
	    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%
	    if(IS_PROTO){
	      (exports.virtual || (exports.virtual = {}))[key] = out;
	      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%
	      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);
	    }
	  }
	};
	// type bitmap
	$export.F = 1;   // forced
	$export.G = 2;   // global
	$export.S = 4;   // static
	$export.P = 8;   // proto
	$export.B = 16;  // bind
	$export.W = 32;  // wrap
	$export.U = 64;  // safe
	$export.R = 128; // real proto method for `library` 
	module.exports = $export;

/***/ },
/* 7 */
/***/ function(module, exports) {

	// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028
	var global = module.exports = typeof window != 'undefined' && window.Math == Math
	  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();
	if(typeof __g == 'number')__g = global; // eslint-disable-line no-undef

/***/ },
/* 8 */
/***/ function(module, exports) {

	var core = module.exports = {version: '2.4.0'};
	if(typeof __e == 'number')__e = core; // eslint-disable-line no-undef

/***/ },
/* 9 */
/***/ function(module, exports, __webpack_require__) {

	// optional / simple context binding
	var aFunction = __webpack_require__(10);
	module.exports = function(fn, that, length){
	  aFunction(fn);
	  if(that === undefined)return fn;
	  switch(length){
	    case 1: return function(a){
	      return fn.call(that, a);
	    };
	    case 2: return function(a, b){
	      return fn.call(that, a, b);
	    };
	    case 3: return function(a, b, c){
	      return fn.call(that, a, b, c);
	    };
	  }
	  return function(/* ...args */){
	    return fn.apply(that, arguments);
	  };
	};

/***/ },
/* 10 */
/***/ function(module, exports) {

	module.exports = function(it){
	  if(typeof it != 'function')throw TypeError(it + ' is not a function!');
	  return it;
	};

/***/ },
/* 11 */
/***/ function(module, exports, __webpack_require__) {

	var dP         = __webpack_require__(12)
	  , createDesc = __webpack_require__(20);
	module.exports = __webpack_require__(16) ? function(object, key, value){
	  return dP.f(object, key, createDesc(1, value));
	} : function(object, key, value){
	  object[key] = value;
	  return object;
	};

/***/ },
/* 12 */
/***/ function(module, exports, __webpack_require__) {

	var anObject       = __webpack_require__(13)
	  , IE8_DOM_DEFINE = __webpack_require__(15)
	  , toPrimitive    = __webpack_require__(19)
	  , dP             = Object.defineProperty;
	
	exports.f = __webpack_require__(16) ? Object.defineProperty : function defineProperty(O, P, Attributes){
	  anObject(O);
	  P = toPrimitive(P, true);
	  anObject(Attributes);
	  if(IE8_DOM_DEFINE)try {
	    return dP(O, P, Attributes);
	  } catch(e){ /* empty */ }
	  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');
	  if('value' in Attributes)O[P] = Attributes.value;
	  return O;
	};

/***/ },
/* 13 */
/***/ function(module, exports, __webpack_require__) {

	var isObject = __webpack_require__(14);
	module.exports = function(it){
	  if(!isObject(it))throw TypeError(it + ' is not an object!');
	  return it;
	};

/***/ },
/* 14 */
/***/ function(module, exports) {

	module.exports = function(it){
	  return typeof it === 'object' ? it !== null : typeof it === 'function';
	};

/***/ },
/* 15 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = !__webpack_require__(16) && !__webpack_require__(17)(function(){
	  return Object.defineProperty(__webpack_require__(18)('div'), 'a', {get: function(){ return 7; }}).a != 7;
	});

/***/ },
/* 16 */
/***/ function(module, exports, __webpack_require__) {

	// Thank's IE8 for his funny defineProperty
	module.exports = !__webpack_require__(17)(function(){
	  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;
	});

/***/ },
/* 17 */
/***/ function(module, exports) {

	module.exports = function(exec){
	  try {
	    return !!exec();
	  } catch(e){
	    return true;
	  }
	};

/***/ },
/* 18 */
/***/ function(module, exports, __webpack_require__) {

	var isObject = __webpack_require__(14)
	  , document = __webpack_require__(7).document
	  // in old IE typeof document.createElement is 'object'
	  , is = isObject(document) && isObject(document.createElement);
	module.exports = function(it){
	  return is ? document.createElement(it) : {};
	};

/***/ },
/* 19 */
/***/ function(module, exports, __webpack_require__) {

	// 7.1.1 ToPrimitive(input [, PreferredType])
	var isObject = __webpack_require__(14);
	// instead of the ES6 spec version, we didn't implement @@toPrimitive case
	// and the second argument - flag - preferred type is a string
	module.exports = function(it, S){
	  if(!isObject(it))return it;
	  var fn, val;
	  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;
	  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;
	  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;
	  throw TypeError("Can't convert object to primitive value");
	};

/***/ },
/* 20 */
/***/ function(module, exports) {

	module.exports = function(bitmap, value){
	  return {
	    enumerable  : !(bitmap & 1),
	    configurable: !(bitmap & 2),
	    writable    : !(bitmap & 4),
	    value       : value
	  };
	};

/***/ },
/* 21 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';var _promise=__webpack_require__(22),_promise2=_interopRequireDefault(_promise),_stringify=__webpack_require__(75),_stringify2=_interopRequireDefault(_stringify),_keys=__webpack_require__(77),_keys2=_interopRequireDefault(_keys),_typeof2=__webpack_require__(81),_typeof3=_interopRequireDefault(_typeof2);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}window.getUserMedia=null;window.attachMediaStream=null;window.detachMediaStream=null;window.reattachMediaStream=null;window.webrtcDetectedBrowser=null;var webrtcDetectedVersion=null,webrtcMinimumVersion=null,webrtcUtils={log:function log(){if(true){return;}console.log.apply(console,arguments);},extractVersion:function extractVersion(uastring,expr,pos){var match=uastring.match(expr);return match&&match.length>=pos&&parseInt(match[pos],10);}};function trace(text){if(text[text.length-1]==='\n'){text=text.substring(0,text.length-1);}if(window.performance){var now=(window.performance.now()/1000).toFixed(3);webrtcUtils.log(now+': '+text);}else {webrtcUtils.log(text);}}if((typeof window==='undefined'?'undefined':(0,_typeof3.default)(window))==='object'){if(window.HTMLMediaElement&&!('srcObject' in window.HTMLMediaElement.prototype)){Object.defineProperty(window.HTMLMediaElement.prototype,'srcObject',{get:function get(){return 'mozSrcObject' in this?this.mozSrcObject:this._srcObject;},set:function set(stream){if('mozSrcObject' in this){if(stream){this.mozSrcObject=stream;}else {this.mozSrcObject="";}}else {if(stream){this._srcObject=stream;this.src=URL.createObjectURL(stream);}else {this._srcObject="";this.src="";}}}});}getUserMedia=window.navigator&&window.navigator.getUserMedia;}detachMediaStream=function detachMediaStream(element){if(element){if(typeof element.srcObject!=='undefined'){element.srcObject=null;}else if(typeof element.mozSrcObject!=='undefined'){element.mozSrcObject="";}else if(typeof element.src!=='undefined'){element.src="";}else {console.log('Error attaching stream to element.');}}};attachMediaStream=function attachMediaStream(element,stream){console.log("(ReachSDK::adapt::attachMediaStream1)");element.srcObject=stream;element.autoplay=true;if(element.play&&typeof element.play=='function'){element.play();}};reattachMediaStream=function reattachMediaStream(to,from){to.srcObject=from.srcObject;to.autoplay=true;if(to.play&&typeof to.play=='function'){to.play();}};if(typeof window==='undefined'||!window.navigator){webrtcUtils.log('This does not appear to be a browser');webrtcDetectedBrowser='not a browser';}else if(navigator.mozGetUserMedia){webrtcUtils.log('This appears to be Firefox');webrtcDetectedBrowser='firefox';webrtcDetectedVersion=webrtcUtils.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1);webrtcMinimumVersion=31;if(!window.RTCPeerConnection){window.RTCPeerConnection=function(pcConfig,pcConstraints){if(webrtcDetectedVersion<38){if(pcConfig&&pcConfig.iceServers){var newIceServers=[];for(var i=0;i<pcConfig.iceServers.length;i++){var server=pcConfig.iceServers[i];if(server.hasOwnProperty('urls')){for(var j=0;j<server.urls.length;j++){var newServer={url:server.urls[j]};if(server.urls[j].indexOf('turn')===0){newServer.username=server.username;newServer.credential=server.credential;}newIceServers.push(newServer);}}else {newIceServers.push(pcConfig.iceServers[i]);}}pcConfig.iceServers=newIceServers;}}return new mozRTCPeerConnection(pcConfig,pcConstraints);};window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype;if(mozRTCPeerConnection.generateCertificate){Object.defineProperty(window.RTCPeerConnection,'generateCertificate',{get:function get(){if(arguments.length){return mozRTCPeerConnection.generateCertificate.apply(null,arguments);}else {return mozRTCPeerConnection.generateCertificate;}}});}window.RTCSessionDescription=mozRTCSessionDescription;window.RTCIceCandidate=mozRTCIceCandidate;}getUserMedia=function getUserMedia(constraints,onSuccess,onError){var constraintsToFF37=function constraintsToFF37(c){if((typeof c==='undefined'?'undefined':(0,_typeof3.default)(c))!=='object'||c.require){return c;}var require=[];(0,_keys2.default)(c).forEach(function(key){if(key==='require'||key==='advanced'||key==='mediaSource'){return;}var r=c[key]=(0,_typeof3.default)(c[key])==='object'?c[key]:{ideal:c[key]};if(r.min!==undefined||r.max!==undefined||r.exact!==undefined){require.push(key);}if(r.exact!==undefined){if(typeof r.exact==='number'){r.min=r.max=r.exact;}else {c[key]=r.exact;}delete r.exact;}if(r.ideal!==undefined){c.advanced=c.advanced||[];var oc={};if(typeof r.ideal==='number'){oc[key]={min:r.ideal,max:r.ideal};}else {oc[key]=r.ideal;}c.advanced.push(oc);delete r.ideal;if(!(0,_keys2.default)(r).length){delete c[key];}}});if(require.length){c.require=require;}return c;};if(webrtcDetectedVersion<38){webrtcUtils.log('spec: '+(0,_stringify2.default)(constraints));if(constraints.audio){constraints.audio=constraintsToFF37(constraints.audio);}if(constraints.video){constraints.video=constraintsToFF37(constraints.video);}webrtcUtils.log('ff37: '+(0,_stringify2.default)(constraints));}return navigator.mozGetUserMedia(constraints,onSuccess,onError);};navigator.getUserMedia=getUserMedia;if(!navigator.mediaDevices){navigator.mediaDevices={getUserMedia:requestUserMedia,addEventListener:function addEventListener(){},removeEventListener:function removeEventListener(){}};}navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new _promise2.default(function(resolve){var infos=[{kind:'audioinput',deviceId:'default',label:'',groupId:''},{kind:'videoinput',deviceId:'default',label:'',groupId:''}];resolve(infos);});};if(webrtcDetectedVersion<41){var orgEnumerateDevices=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return orgEnumerateDevices().then(undefined,function(e){if(e.name==='NotFoundError'){return [];}throw e;});};}}else if(navigator.webkitGetUserMedia&&window.webkitRTCPeerConnection){webrtcUtils.log('This appears to be Chrome');webrtcDetectedBrowser='chrome';webrtcDetectedVersion=webrtcUtils.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2);webrtcMinimumVersion=38;window.RTCPeerConnection=function(pcConfig,pcConstraints){if(pcConfig&&pcConfig.iceTransportPolicy){pcConfig.iceTransports=pcConfig.iceTransportPolicy;}var pc=new webkitRTCPeerConnection(pcConfig,pcConstraints),origGetStats=pc.getStats.bind(pc);pc.getStats=function(selector,successCallback,errorCallback){var self=this,args=arguments;if(arguments.length>0&&typeof selector==='function'){return origGetStats(selector,successCallback);}var fixChromeStats=function fixChromeStats(response){var standardReport={},reports=response.result();reports.forEach(function(report){var standardStats={id:report.id,timestamp:report.timestamp,type:report.type};report.names().forEach(function(name){standardStats[name]=report.stat(name);});standardReport[standardStats.id]=standardStats;});return standardReport;};if(arguments.length>=2){var successCallbackWrapper=function successCallbackWrapper(response){args[1](fixChromeStats(response));};return origGetStats.apply(this,[successCallbackWrapper,arguments[0]]);}return new _promise2.default(function(resolve,reject){if(args.length===1&&selector===null){origGetStats.apply(self,[function(response){resolve.apply(null,[fixChromeStats(response)]);},reject]);}else {origGetStats.apply(self,[resolve,reject]);}});};return pc;};window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype;if(webkitRTCPeerConnection.generateCertificate){Object.defineProperty(window.RTCPeerConnection,'generateCertificate',{get:function get(){if(arguments.length){return webkitRTCPeerConnection.generateCertificate.apply(null,arguments);}else {return webkitRTCPeerConnection.generateCertificate;}}});}['createOffer','createAnswer'].forEach(function(method){var nativeMethod=webkitRTCPeerConnection.prototype[method];webkitRTCPeerConnection.prototype[method]=function(){var self=this;if(arguments.length<1||arguments.length===1&&(0,_typeof3.default)(arguments[0])==='object'){var opts=arguments.length===1?arguments[0]:undefined;return new _promise2.default(function(resolve,reject){nativeMethod.apply(self,[resolve,reject,opts]);});}else {return nativeMethod.apply(this,arguments);}};});['setLocalDescription','setRemoteDescription','addIceCandidate'].forEach(function(method){var nativeMethod=webkitRTCPeerConnection.prototype[method];webkitRTCPeerConnection.prototype[method]=function(){var args=arguments,self=this;return new _promise2.default(function(resolve,reject){nativeMethod.apply(self,[args[0],function(){resolve();if(args.length>=2){args[1].apply(null,[]);}},function(err){reject(err);if(args.length>=3){args[2].apply(null,[err]);}}]);});};});var constraintsToChrome=function constraintsToChrome(c){if((typeof c==='undefined'?'undefined':(0,_typeof3.default)(c))!=='object'||c.mandatory||c.optional){return c;}var cc={};(0,_keys2.default)(c).forEach(function(key){if(key==='require'||key==='advanced'||key==='mediaSource'){return;}var r=(0,_typeof3.default)(c[key])==='object'?c[key]:{ideal:c[key]};if(r.exact!==undefined&&typeof r.exact==='number'){r.min=r.max=r.exact;}var oldname=function oldname(prefix,name){if(prefix){return prefix+name.charAt(0).toUpperCase()+name.slice(1);}return name==='deviceId'?'sourceId':name;};if(r.ideal!==undefined){cc.optional=cc.optional||[];var oc={};if(typeof r.ideal==='number'){oc[oldname('min',key)]=r.ideal;cc.optional.push(oc);oc={};oc[oldname('max',key)]=r.ideal;cc.optional.push(oc);}else {oc[oldname('',key)]=r.ideal;cc.optional.push(oc);}}if(r.exact!==undefined&&typeof r.exact!=='number'){cc.mandatory=cc.mandatory||{};cc.mandatory[oldname('',key)]=r.exact;}else {['min','max'].forEach(function(mix){if(r[mix]!==undefined){cc.mandatory=cc.mandatory||{};cc.mandatory[oldname(mix,key)]=r[mix];}});}});if(c.advanced){cc.optional=(cc.optional||[]).concat(c.advanced);}return cc;};getUserMedia=function getUserMedia(constraints,onSuccess,onError){if(constraints.audio){constraints.audio=constraintsToChrome(constraints.audio);}if(constraints.video){constraints.video=constraintsToChrome(constraints.video);}webrtcUtils.log('chrome: '+(0,_stringify2.default)(constraints));return navigator.webkitGetUserMedia(constraints,onSuccess,onError);};navigator.getUserMedia=getUserMedia;if(!navigator.mediaDevices){navigator.mediaDevices={getUserMedia:requestUserMedia,enumerateDevices:function enumerateDevices(){return new _promise2.default(function(resolve){var kinds={audio:'audioinput',video:'videoinput'};return MediaStreamTrack.getSources(function(devices){resolve(devices.map(function(device){return {label:device.label,kind:kinds[device.kind],deviceId:device.id,groupId:''};}));});});}};}if(!navigator.mediaDevices.getUserMedia){navigator.mediaDevices.getUserMedia=function(constraints){return requestUserMedia(constraints);};}else {var origGetUserMedia=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(c){webrtcUtils.log('spec:   '+(0,_stringify2.default)(c));c.audio=constraintsToChrome(c.audio);c.video=constraintsToChrome(c.video);webrtcUtils.log('chrome: '+(0,_stringify2.default)(c));return origGetUserMedia(c);};}if(typeof navigator.mediaDevices.addEventListener==='undefined'){navigator.mediaDevices.addEventListener=function(){webrtcUtils.log('Dummy mediaDevices.addEventListener called.');};}if(typeof navigator.mediaDevices.removeEventListener==='undefined'){navigator.mediaDevices.removeEventListener=function(){webrtcUtils.log('Dummy mediaDevices.removeEventListener called.');};}attachMediaStream=function attachMediaStream(element,stream){console.log("(ReachSDK::adapt::attachMediaStream2)");if(webrtcDetectedVersion>=43){element.srcObject=stream;element.autoplay=true;}else if(typeof element.src!=='undefined'){element.src=URL.createObjectURL(stream);element.autoplay=true;}else {webrtcUtils.log('Error attaching stream to element.');}};reattachMediaStream=function reattachMediaStream(to,from){if(webrtcDetectedVersion>=43){to.srcObject=from.srcObject;}else {to.src=from.src;}to.autoplay=true;if(to.play&&typeof to.play=='function'){to.play();}};}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)){webrtcUtils.log('This appears to be Edge');webrtcDetectedBrowser='edge';webrtcDetectedVersion=webrtcUtils.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2);webrtcMinimumVersion=10547;if(window.RTCIceGatherer){var generateIdentifier=function generateIdentifier(){return Math.random().toString(36).substr(2,10);},localCName=generateIdentifier(),SDPUtils={};SDPUtils.splitLines=function(blob){return blob.trim().split('\n').map(function(line){return line.trim();});};SDPUtils.splitSections=function(blob){var parts=blob.split('\r\nm=');return parts.map(function(part,index){return (index>0?'m='+part:part).trim()+'\r\n';});};SDPUtils.matchPrefix=function(blob,prefix){return SDPUtils.splitLines(blob).filter(function(line){return line.indexOf(prefix)===0;});};SDPUtils.parseCandidate=function(line){var parts;if(line.indexOf('a=candidate:')===0){parts=line.substring(12).split(' ');}else {parts=line.substring(10).split(' ');}var candidate={foundation:parts[0],component:parts[1],protocol:parts[2].toLowerCase(),priority:parseInt(parts[3],10),ip:parts[4],port:parseInt(parts[5],10),type:parts[7]};for(var i=8;i<parts.length;i+=2){switch(parts[i]){case 'raddr':candidate.relatedAddress=parts[i+1];break;case 'rport':candidate.relatedPort=parseInt(parts[i+1],10);break;case 'tcptype':candidate.tcpType=parts[i+1];break;default:break;}}return candidate;};SDPUtils.writeCandidate=function(candidate){var sdp=[];sdp.push(candidate.foundation);sdp.push(candidate.component);sdp.push(candidate.protocol.toUpperCase());sdp.push(candidate.priority);sdp.push(candidate.ip);sdp.push(candidate.port);var type=candidate.type;sdp.push('typ');sdp.push(type);if(type!=='host'&&candidate.relatedAddress&&candidate.relatedPort){sdp.push('raddr');sdp.push(candidate.relatedAddress);sdp.push('rport');sdp.push(candidate.relatedPort);}if(candidate.tcpType&&candidate.protocol.toLowerCase()==='tcp'){sdp.push('tcptype');sdp.push(candidate.tcpType);}return 'candidate:'+sdp.join(' ');};SDPUtils.parseRtpMap=function(line){var parts=line.substr(9).split(' '),parsed={payloadType:parseInt(parts.shift(),10)};parts=parts[0].split('/');parsed.name=parts[0];parsed.clockRate=parseInt(parts[1],10);parsed.numChannels=parts.length===3?parseInt(parts[2],10):1;return parsed;};SDPUtils.writeRtpMap=function(codec){var pt=codec.payloadType;if(codec.preferredPayloadType!==undefined){pt=codec.preferredPayloadType;}return 'a=rtpmap:'+pt+' '+codec.name+'/'+codec.clockRate+(codec.numChannels!==1?'/'+codec.numChannels:'')+'\r\n';};SDPUtils.parseFmtp=function(line){var parsed={},kv,parts=line.substr(line.indexOf(' ')+1).split(';');for(var j=0;j<parts.length;j++){kv=parts[j].trim().split('=');parsed[kv[0].trim()]=kv[1];}return parsed;};SDPUtils.writeFtmp=function(codec){var line='',pt=codec.payloadType;if(codec.preferredPayloadType!==undefined){pt=codec.preferredPayloadType;}if(codec.parameters&&codec.parameters.length){var params=[];(0,_keys2.default)(codec.parameters).forEach(function(param){params.push(param+'='+codec.parameters[param]);});line+='a=fmtp:'+pt+' '+params.join(';')+'\r\n';}return line;};SDPUtils.parseRtcpFb=function(line){var parts=line.substr(line.indexOf(' ')+1).split(' ');return {type:parts.shift(),parameter:parts.join(' ')};};SDPUtils.writeRtcpFb=function(codec){var lines='',pt=codec.payloadType;if(codec.preferredPayloadType!==undefined){pt=codec.preferredPayloadType;}if(codec.rtcpFeedback&&codec.rtcpFeedback.length){codec.rtcpFeedback.forEach(function(fb){lines+='a=rtcp-fb:'+pt+' '+fb.type+' '+fb.parameter+'\r\n';});}return lines;};SDPUtils.parseSsrcMedia=function(line){var sp=line.indexOf(' '),parts={ssrc:line.substr(7,sp-7)},colon=line.indexOf(':',sp);if(colon>-1){parts.attribute=line.substr(sp+1,colon-sp-1);parts.value=line.substr(colon+1);}else {parts.attribute=line.substr(sp+1);}return parts;};SDPUtils.getDtlsParameters=function(mediaSection,sessionpart){var lines=SDPUtils.splitLines(mediaSection);lines=lines.concat(SDPUtils.splitLines(sessionpart));var fpLine=lines.filter(function(line){return line.indexOf('a=fingerprint:')===0;})[0].substr(14),dtlsParameters={role:'auto',fingerprints:[{algorithm:fpLine.split(' ')[0],value:fpLine.split(' ')[1]}]};return dtlsParameters;};SDPUtils.writeDtlsParameters=function(params,setupType){var sdp='a=setup:'+setupType+'\r\n';params.fingerprints.forEach(function(fp){sdp+='a=fingerprint:'+fp.algorithm+' '+fp.value+'\r\n';});return sdp;};SDPUtils.getIceParameters=function(mediaSection,sessionpart){var lines=SDPUtils.splitLines(mediaSection);lines=lines.concat(SDPUtils.splitLines(sessionpart));var iceParameters={usernameFragment:lines.filter(function(line){return line.indexOf('a=ice-ufrag:')===0;})[0].substr(12),password:lines.filter(function(line){return line.indexOf('a=ice-pwd:')===0;})[0].substr(10)};return iceParameters;};SDPUtils.writeIceParameters=function(params){return 'a=ice-ufrag:'+params.usernameFragment+'\r\n'+'a=ice-pwd:'+params.password+'\r\n';};SDPUtils.parseRtpParameters=function(mediaSection){var description={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},lines=SDPUtils.splitLines(mediaSection),mline=lines[0].split(' ');for(var i=3;i<mline.length;i++){var pt=mline[i],rtpmapline=SDPUtils.matchPrefix(mediaSection,'a=rtpmap:'+pt+' ')[0];if(rtpmapline){var codec=SDPUtils.parseRtpMap(rtpmapline),fmtps=SDPUtils.matchPrefix(mediaSection,'a=fmtp:'+pt+' ');codec.parameters=fmtps.length?SDPUtils.parseFmtp(fmtps[0]):{};codec.rtcpFeedback=SDPUtils.matchPrefix(mediaSection,'a=rtcp-fb:'+pt+' ').map(SDPUtils.parseRtcpFb);description.codecs.push(codec);}}return description;};SDPUtils.writeRtpDescription=function(kind,caps){var sdp='';sdp+='m='+kind+' ';sdp+=caps.codecs.length>0?'9':'0';sdp+=' UDP/TLS/RTP/SAVPF ';sdp+=caps.codecs.map(function(codec){if(codec.preferredPayloadType!==undefined){return codec.preferredPayloadType;}return codec.payloadType;}).join(' ')+'\r\n';sdp+='c=IN IP4 0.0.0.0\r\n';sdp+='a=rtcp:9 IN IP4 0.0.0.0\r\n';caps.codecs.forEach(function(codec){sdp+=SDPUtils.writeRtpMap(codec);sdp+=SDPUtils.writeFtmp(codec);sdp+=SDPUtils.writeRtcpFb(codec);});sdp+='a=rtcp-mux\r\n';return sdp;};SDPUtils.writeSessionBoilerplate=function(){return 'v=0\r\n'+'o=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\n'+'s=-\r\n'+'t=0 0\r\n';};SDPUtils.writeMediaSection=function(transceiver,caps,type,stream){var sdp=SDPUtils.writeRtpDescription(transceiver.kind,caps);sdp+=SDPUtils.writeIceParameters(transceiver.iceGatherer.getLocalParameters());sdp+=SDPUtils.writeDtlsParameters(transceiver.dtlsTransport.getLocalParameters(),type==='offer'?'actpass':'active');sdp+='a=mid:'+transceiver.mid+'\r\n';if(transceiver.rtpSender&&transceiver.rtpReceiver){sdp+='a=sendrecv\r\n';}else if(transceiver.rtpSender){sdp+='a=sendonly\r\n';}else if(transceiver.rtpReceiver){sdp+='a=recvonly\r\n';}else {sdp+='a=inactive\r\n';}if(transceiver.rtpSender){var msid='msid:'+stream.id+' '+transceiver.rtpSender.track.id+'\r\n';sdp+='a='+msid;sdp+='a=ssrc:'+transceiver.sendSsrc+' '+msid;}sdp+='a=ssrc:'+transceiver.sendSsrc+' cname:'+localCName+'\r\n';return sdp;};SDPUtils.getDirection=function(mediaSection,sessionpart){var lines=SDPUtils.splitLines(mediaSection);for(var i=0;i<lines.length;i++){switch(lines[i]){case 'a=sendrecv':case 'a=sendonly':case 'a=recvonly':case 'a=inactive':return lines[i].substr(2);}}if(sessionpart){return SDPUtils.getDirection(sessionpart);}return 'sendrecv';};if(!window.RTCIceCandidate){window.RTCIceCandidate=function(args){return args;};}if(!window.RTCSessionDescription){window.RTCSessionDescription=function(args){return args;};}window.RTCPeerConnection=function(config){var self=this;this.onicecandidate=null;this.onaddstream=null;this.onremovestream=null;this.onsignalingstatechange=null;this.oniceconnectionstatechange=null;this.onnegotiationneeded=null;this.ondatachannel=null;this.localStreams=[];this.remoteStreams=[];this.getLocalStreams=function(){return self.localStreams;};this.getRemoteStreams=function(){return self.remoteStreams;};this.localDescription=new RTCSessionDescription({type:'',sdp:''});this.remoteDescription=new RTCSessionDescription({type:'',sdp:''});this.signalingState='stable';this.iceConnectionState='new';this.iceOptions={gatherPolicy:'all',iceServers:[]};if(config&&config.iceTransportPolicy){switch(config.iceTransportPolicy){case 'all':case 'relay':this.iceOptions.gatherPolicy=config.iceTransportPolicy;break;case 'none':throw new TypeError('iceTransportPolicy "none" not supported');}}if(config&&config.iceServers){config.iceServers.forEach(function(server){if(server.urls){var url;if(typeof server.urls==='string'){url=server.urls;}else {url=server.urls[0];}if(url.indexOf('transport=udp')!==-1){self.iceServers.push({username:server.username,credential:server.credential,urls:url});}}});}this.transceivers=[];this._localIceCandidatesBuffer=[];};window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var self=this;this._localIceCandidatesBuffer.forEach(function(event){if(self.onicecandidate!==null){self.onicecandidate(event);}});this._localIceCandidatesBuffer=[];};window.RTCPeerConnection.prototype.addStream=function(stream){this.localStreams.push(stream.clone());this._maybeFireNegotiationNeeded();};window.RTCPeerConnection.prototype.removeStream=function(stream){var idx=this.localStreams.indexOf(stream);if(idx>-1){this.localStreams.splice(idx,1);this._maybeFireNegotiationNeeded();}};window.RTCPeerConnection.prototype._getCommonCapabilities=function(localCapabilities,remoteCapabilities){var commonCapabilities={codecs:[],headerExtensions:[],fecMechanisms:[]};localCapabilities.codecs.forEach(function(lCodec){for(var i=0;i<remoteCapabilities.codecs.length;i++){var rCodec=remoteCapabilities.codecs[i];if(lCodec.name.toLowerCase()===rCodec.name.toLowerCase()&&lCodec.clockRate===rCodec.clockRate&&lCodec.numChannels===rCodec.numChannels){commonCapabilities.codecs.push(rCodec);break;}}});localCapabilities.headerExtensions.forEach(function(lHeaderExtension){for(var i=0;i<remoteCapabilities.headerExtensions.length;i++){var rHeaderExtension=remoteCapabilities.headerExtensions[i];if(lHeaderExtension.uri===rHeaderExtension.uri){commonCapabilities.headerExtensions.push(rHeaderExtension);break;}}});return commonCapabilities;};window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(mid,sdpMLineIndex){var self=this,iceGatherer=new RTCIceGatherer(self.iceOptions),iceTransport=new RTCIceTransport(iceGatherer);iceGatherer.onlocalcandidate=function(evt){var event={};event.candidate={sdpMid:mid,sdpMLineIndex:sdpMLineIndex};var cand=evt.candidate;if(!cand||(0,_keys2.default)(cand).length===0){if(iceGatherer.state===undefined){iceGatherer.state='completed';}event.candidate.candidate='candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates';}else {cand.component=iceTransport.component==='RTCP'?2:1;event.candidate.candidate=SDPUtils.writeCandidate(cand);}var complete=self.transceivers.every(function(transceiver){return transceiver.iceGatherer&&transceiver.iceGatherer.state==='completed';});if(self.onicecandidate!==null){if(self.localDescription&&self.localDescription.type===''){self._localIceCandidatesBuffer.push(event);if(complete){self._localIceCandidatesBuffer.push({});}}else {self.onicecandidate(event);if(complete){self.onicecandidate({});}}}};iceTransport.onicestatechange=function(){self._updateConnectionState();};var dtlsTransport=new RTCDtlsTransport(iceTransport);dtlsTransport.ondtlsstatechange=function(){self._updateConnectionState();};dtlsTransport.onerror=function(){dtlsTransport.state='failed';self._updateConnectionState();};return {iceGatherer:iceGatherer,iceTransport:iceTransport,dtlsTransport:dtlsTransport};};window.RTCPeerConnection.prototype._transceive=function(transceiver,send,recv){var params=this._getCommonCapabilities(transceiver.localCapabilities,transceiver.remoteCapabilities);if(send&&transceiver.rtpSender){params.encodings=[{ssrc:transceiver.sendSsrc}];params.rtcp={cname:localCName,ssrc:transceiver.recvSsrc};transceiver.rtpSender.send(params);}if(recv&&transceiver.rtpReceiver){params.encodings=[{ssrc:transceiver.recvSsrc}];params.rtcp={cname:transceiver.cname,ssrc:transceiver.sendSsrc};transceiver.rtpReceiver.receive(params);}};window.RTCPeerConnection.prototype.setLocalDescription=function(description){var self=this;if(description.type==='offer'){if(!this._pendingOffer){}else {this.transceivers=this._pendingOffer;delete this._pendingOffer;}}else if(description.type==='answer'){var sections=SDPUtils.splitSections(self.remoteDescription.sdp),sessionpart=sections.shift();sections.forEach(function(mediaSection,sdpMLineIndex){var transceiver=self.transceivers[sdpMLineIndex],iceGatherer=transceiver.iceGatherer,iceTransport=transceiver.iceTransport,dtlsTransport=transceiver.dtlsTransport,localCapabilities=transceiver.localCapabilities,remoteCapabilities=transceiver.remoteCapabilities,rejected=mediaSection.split('\n',1)[0].split(' ',2)[1]==='0';if(!rejected){var remoteIceParameters=SDPUtils.getIceParameters(mediaSection,sessionpart);iceTransport.start(iceGatherer,remoteIceParameters,'controlled');var remoteDtlsParameters=SDPUtils.getDtlsParameters(mediaSection,sessionpart);dtlsTransport.start(remoteDtlsParameters);var params=self._getCommonCapabilities(localCapabilities,remoteCapabilities);self._transceive(transceiver,params.codecs.length>0,false);}});}this.localDescription=description;switch(description.type){case 'offer':this._updateSignalingState('have-local-offer');break;case 'answer':this._updateSignalingState('stable');break;default:throw new TypeError('unsupported type "'+description.type+'"');}var hasCallback=arguments.length>1&&typeof arguments[1]==='function';if(hasCallback){var cb=arguments[1];window.setTimeout(function(){cb();self._emitBufferedCandidates();},0);}var p=_promise2.default.resolve();p.then(function(){if(!hasCallback){window.setTimeout(self._emitBufferedCandidates.bind(self),0);}});return p;};window.RTCPeerConnection.prototype.setRemoteDescription=function(description){var self=this,stream=new MediaStream(),sections=SDPUtils.splitSections(description.sdp),sessionpart=sections.shift();sections.forEach(function(mediaSection,sdpMLineIndex){var lines=SDPUtils.splitLines(mediaSection),mline=lines[0].substr(2).split(' '),kind=mline[0],rejected=mline[1]==='0',direction=SDPUtils.getDirection(mediaSection,sessionpart),transceiver,iceGatherer,iceTransport,dtlsTransport,rtpSender,rtpReceiver,sendSsrc,recvSsrc,localCapabilities,remoteCapabilities=SDPUtils.parseRtpParameters(mediaSection),remoteIceParameters,remoteDtlsParameters;if(!rejected){remoteIceParameters=SDPUtils.getIceParameters(mediaSection,sessionpart);remoteDtlsParameters=SDPUtils.getDtlsParameters(mediaSection,sessionpart);}var mid=SDPUtils.matchPrefix(mediaSection,'a=mid:')[0].substr(6),cname,remoteSsrc=SDPUtils.matchPrefix(mediaSection,'a=ssrc:').map(function(line){return SDPUtils.parseSsrcMedia(line);}).filter(function(obj){return obj.attribute==='cname';})[0];if(remoteSsrc){recvSsrc=parseInt(remoteSsrc.ssrc,10);cname=remoteSsrc.value;}if(description.type==='offer'){var transports=self._createIceAndDtlsTransports(mid,sdpMLineIndex);localCapabilities=RTCRtpReceiver.getCapabilities(kind);sendSsrc=(2*sdpMLineIndex+2)*1001;rtpReceiver=new RTCRtpReceiver(transports.dtlsTransport,kind);stream.addTrack(rtpReceiver.track);if(self.localStreams.length>0&&self.localStreams[0].getTracks().length>=sdpMLineIndex){var localtrack=self.localStreams[0].getTracks()[sdpMLineIndex];rtpSender=new RTCRtpSender(localtrack,transports.dtlsTransport);}self.transceivers[sdpMLineIndex]={iceGatherer:transports.iceGatherer,iceTransport:transports.iceTransport,dtlsTransport:transports.dtlsTransport,localCapabilities:localCapabilities,remoteCapabilities:remoteCapabilities,rtpSender:rtpSender,rtpReceiver:rtpReceiver,kind:kind,mid:mid,cname:cname,sendSsrc:sendSsrc,recvSsrc:recvSsrc};self._transceive(self.transceivers[sdpMLineIndex],false,direction==='sendrecv'||direction==='sendonly');}else if(description.type==='answer'&&!rejected){transceiver=self.transceivers[sdpMLineIndex];iceGatherer=transceiver.iceGatherer;iceTransport=transceiver.iceTransport;dtlsTransport=transceiver.dtlsTransport;rtpSender=transceiver.rtpSender;rtpReceiver=transceiver.rtpReceiver;sendSsrc=transceiver.sendSsrc;localCapabilities=transceiver.localCapabilities;self.transceivers[sdpMLineIndex].recvSsrc=recvSsrc;self.transceivers[sdpMLineIndex].remoteCapabilities=remoteCapabilities;self.transceivers[sdpMLineIndex].cname=cname;iceTransport.start(iceGatherer,remoteIceParameters,'controlling');dtlsTransport.start(remoteDtlsParameters);self._transceive(transceiver,direction==='sendrecv'||direction==='recvonly',direction==='sendrecv'||direction==='sendonly');if(rtpReceiver&&(direction==='sendrecv'||direction==='sendonly')){stream.addTrack(rtpReceiver.track);}else {delete transceiver.rtpReceiver;}}});this.remoteDescription=description;switch(description.type){case 'offer':this._updateSignalingState('have-remote-offer');break;case 'answer':this._updateSignalingState('stable');break;default:throw new TypeError('unsupported type "'+description.type+'"');}window.setTimeout(function(){if(self.onaddstream!==null&&stream.getTracks().length){self.remoteStreams.push(stream);window.setTimeout(function(){self.onaddstream({stream:stream});},0);}},0);if(arguments.length>1&&typeof arguments[1]==='function'){window.setTimeout(arguments[1],0);}return _promise2.default.resolve();};window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(transceiver){if(transceiver.iceTransport){transceiver.iceTransport.stop();}if(transceiver.dtlsTransport){transceiver.dtlsTransport.stop();}if(transceiver.rtpSender){transceiver.rtpSender.stop();}if(transceiver.rtpReceiver){transceiver.rtpReceiver.stop();}});this._updateSignalingState('closed');};window.RTCPeerConnection.prototype._updateSignalingState=function(newState){this.signalingState=newState;if(this.onsignalingstatechange!==null){this.onsignalingstatechange();}};window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){if(this.onnegotiationneeded!==null){this.onnegotiationneeded();}};window.RTCPeerConnection.prototype._updateConnectionState=function(){var self=this,newState,states={'new':0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};this.transceivers.forEach(function(transceiver){states[transceiver.iceTransport.state]++;states[transceiver.dtlsTransport.state]++;});states.connected+=states.completed;newState='new';if(states.failed>0){newState='failed';}else if(states.connecting>0||states.checking>0){newState='connecting';}else if(states.disconnected>0){newState='disconnected';}else if(states.new>0){newState='new';}else if(states.connecting>0||states.completed>0){newState='connected';}if(newState!==self.iceConnectionState){self.iceConnectionState=newState;if(this.oniceconnectionstatechange!==null){this.oniceconnectionstatechange();}}};window.RTCPeerConnection.prototype.createOffer=function(){var self=this;if(this._pendingOffer){throw new Error('createOffer called while there is a pending offer.');}var offerOptions;if(arguments.length===1&&typeof arguments[0]!=='function'){offerOptions=arguments[0];}else if(arguments.length===3){offerOptions=arguments[2];}var tracks=[],numAudioTracks=0,numVideoTracks=0;if(this.localStreams.length){numAudioTracks=this.localStreams[0].getAudioTracks().length;numVideoTracks=this.localStreams[0].getVideoTracks().length;}if(offerOptions){if(offerOptions.mandatory||offerOptions.optional){throw new TypeError('Legacy mandatory/optional constraints not supported.');}if(offerOptions.offerToReceiveAudio!==undefined){numAudioTracks=offerOptions.offerToReceiveAudio;}if(offerOptions.offerToReceiveVideo!==undefined){numVideoTracks=offerOptions.offerToReceiveVideo;}}if(this.localStreams.length){this.localStreams[0].getTracks().forEach(function(track){tracks.push({kind:track.kind,track:track,wantReceive:track.kind==='audio'?numAudioTracks>0:numVideoTracks>0});if(track.kind==='audio'){numAudioTracks--;}else if(track.kind==='video'){numVideoTracks--;}});}while(numAudioTracks>0||numVideoTracks>0){if(numAudioTracks>0){tracks.push({kind:'audio',wantReceive:true});numAudioTracks--;}if(numVideoTracks>0){tracks.push({kind:'video',wantReceive:true});numVideoTracks--;}}var sdp=SDPUtils.writeSessionBoilerplate(),transceivers=[];tracks.forEach(function(mline,sdpMLineIndex){var track=mline.track,kind=mline.kind,mid=generateIdentifier(),transports=self._createIceAndDtlsTransports(mid,sdpMLineIndex),localCapabilities=RTCRtpSender.getCapabilities(kind),rtpSender,rtpReceiver,sendSsrc=(2*sdpMLineIndex+1)*1001;if(track){rtpSender=new RTCRtpSender(track,transports.dtlsTransport);}if(mline.wantReceive){rtpReceiver=new RTCRtpReceiver(transports.dtlsTransport,kind);}transceivers[sdpMLineIndex]={iceGatherer:transports.iceGatherer,iceTransport:transports.iceTransport,dtlsTransport:transports.dtlsTransport,localCapabilities:localCapabilities,remoteCapabilities:null,rtpSender:rtpSender,rtpReceiver:rtpReceiver,kind:kind,mid:mid,sendSsrc:sendSsrc,recvSsrc:null};var transceiver=transceivers[sdpMLineIndex];sdp+=SDPUtils.writeMediaSection(transceiver,transceiver.localCapabilities,'offer',self.localStreams[0]);});this._pendingOffer=transceivers;var desc=new RTCSessionDescription({type:'offer',sdp:sdp});if(arguments.length&&typeof arguments[0]==='function'){window.setTimeout(arguments[0],0,desc);}return _promise2.default.resolve(desc);};window.RTCPeerConnection.prototype.createAnswer=function(){var self=this,answerOptions;if(arguments.length===1&&typeof arguments[0]!=='function'){answerOptions=arguments[0];}else if(arguments.length===3){answerOptions=arguments[2];}var sdp=SDPUtils.writeSessionBoilerplate();this.transceivers.forEach(function(transceiver){var commonCapabilities=self._getCommonCapabilities(transceiver.localCapabilities,transceiver.remoteCapabilities);sdp+=SDPUtils.writeMediaSection(transceiver,commonCapabilities,'answer',self.localStreams[0]);});var desc=new RTCSessionDescription({type:'answer',sdp:sdp});if(arguments.length&&typeof arguments[0]==='function'){window.setTimeout(arguments[0],0,desc);}return _promise2.default.resolve(desc);};window.RTCPeerConnection.prototype.addIceCandidate=function(candidate){var mLineIndex=candidate.sdpMLineIndex;if(candidate.sdpMid){for(var i=0;i<this.transceivers.length;i++){if(this.transceivers[i].mid===candidate.sdpMid){mLineIndex=i;break;}}}var transceiver=this.transceivers[mLineIndex];if(transceiver){var cand=(0,_keys2.default)(candidate.candidate).length>0?SDPUtils.parseCandidate(candidate.candidate):{};if(cand.protocol==='tcp'&&cand.port===0){return;}if(cand.component!=='1'){return;}if(cand.type==='endOfCandidates'){cand={};}transceiver.iceTransport.addRemoteCandidate(cand);}if(arguments.length>1&&typeof arguments[1]==='function'){window.setTimeout(arguments[1],0);}return _promise2.default.resolve();};window.RTCPeerConnection.prototype.getStats=function(){var promises=[];this.transceivers.forEach(function(transceiver){['rtpSender','rtpReceiver','iceGatherer','iceTransport','dtlsTransport'].forEach(function(method){if(transceiver[method]){promises.push(transceiver[method].getStats());}});});var cb=arguments.length>1&&typeof arguments[1]==='function'&&arguments[1];return new _promise2.default(function(resolve){var results={};_promise2.default.all(promises).then(function(res){res.forEach(function(result){(0,_keys2.default)(result).forEach(function(id){results[id]=result[id];});});if(cb){window.setTimeout(cb,0,results);}resolve(results);});});};}}else {webrtcUtils.log('Browser does not appear to be WebRTC-capable');}if((typeof window==='undefined'?'undefined':(0,_typeof3.default)(window))==='object'&&window.RTCPeerConnection&&!('ontrack' in window.RTCPeerConnection.prototype)){Object.defineProperty(window.RTCPeerConnection.prototype,'ontrack',{get:function get(){return this._ontrack;},set:function set(f){var self=this;if(this._ontrack){this.removeEventListener('track',this._ontrack);this.removeEventListener('addstream',this._ontrackpoly);}this.addEventListener('track',this._ontrack=f);this.addEventListener('addstream',this._ontrackpoly=function(e){if(webrtcDetectedBrowser==='chrome'){e.stream.addEventListener('addtrack',function(te){var event=new Event('track');event.track=te.track;event.receiver={track:te.track};event.streams=[e.stream];self.dispatchEvent(event);});}e.stream.getTracks().forEach(function(track){var event=new Event('track');event.track=track;event.receiver={track:track};event.streams=[e.stream];this.dispatchEvent(event);}.bind(this));}.bind(this));}});}function requestUserMedia(constraints){return new _promise2.default(function(resolve,reject){getUserMedia(constraints,resolve,reject);});}var webrtcTesting={};try{Object.defineProperty(webrtcTesting,'version',{set:function set(version){webrtcDetectedVersion=version;}});}catch(e){}if(true){var RTCPeerConnection,RTCIceCandidate,RTCSessionDescription;if(typeof window!=='undefined'){RTCPeerConnection=window.RTCPeerConnection;RTCIceCandidate=window.RTCIceCandidate;RTCSessionDescription=window.RTCSessionDescription;}module.exports={RTCPeerConnection:RTCPeerConnection,RTCIceCandidate:RTCIceCandidate,RTCSessionDescription:RTCSessionDescription,getUserMedia:getUserMedia,attachMediaStream:attachMediaStream,reattachMediaStream:reattachMediaStream,webrtcDetectedBrowser:webrtcDetectedBrowser,webrtcDetectedVersion:webrtcDetectedVersion,webrtcMinimumVersion:webrtcMinimumVersion,webrtcTesting:webrtcTesting,webrtcUtils:webrtcUtils};}else if(typeof require==='function'&&typeof define==='function'){define([],function(){return {RTCPeerConnection:window.RTCPeerConnection,RTCIceCandidate:window.RTCIceCandidate,RTCSessionDescription:window.RTCSessionDescription,getUserMedia:getUserMedia,detachMediaStream:detachMediaStream,attachMediaStream:attachMediaStream,reattachMediaStream:reattachMediaStream,webrtcDetectedBrowser:webrtcDetectedBrowser,webrtcDetectedVersion:webrtcDetectedVersion,webrtcMinimumVersion:webrtcMinimumVersion,webrtcTesting:webrtcTesting,webrtcUtils:webrtcUtils};});}

/***/ },
/* 22 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(23), __esModule: true };

/***/ },
/* 23 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(24);
	__webpack_require__(25);
	__webpack_require__(54);
	__webpack_require__(58);
	module.exports = __webpack_require__(8).Promise;

/***/ },
/* 24 */
/***/ function(module, exports) {



/***/ },
/* 25 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	var $at  = __webpack_require__(26)(true);
	
	// 21.1.3.27 String.prototype[@@iterator]()
	__webpack_require__(29)(String, 'String', function(iterated){
	  this._t = String(iterated); // target
	  this._i = 0;                // next index
	// 21.1.5.2.1 %StringIteratorPrototype%.next()
	}, function(){
	  var O     = this._t
	    , index = this._i
	    , point;
	  if(index >= O.length)return {value: undefined, done: true};
	  point = $at(O, index);
	  this._i += point.length;
	  return {value: point, done: false};
	});

/***/ },
/* 26 */
/***/ function(module, exports, __webpack_require__) {

	var toInteger = __webpack_require__(27)
	  , defined   = __webpack_require__(28);
	// true  -> String#at
	// false -> String#codePointAt
	module.exports = function(TO_STRING){
	  return function(that, pos){
	    var s = String(defined(that))
	      , i = toInteger(pos)
	      , l = s.length
	      , a, b;
	    if(i < 0 || i >= l)return TO_STRING ? '' : undefined;
	    a = s.charCodeAt(i);
	    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff
	      ? TO_STRING ? s.charAt(i) : a
	      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;
	  };
	};

/***/ },
/* 27 */
/***/ function(module, exports) {

	// 7.1.4 ToInteger
	var ceil  = Math.ceil
	  , floor = Math.floor;
	module.exports = function(it){
	  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);
	};

/***/ },
/* 28 */
/***/ function(module, exports) {

	// 7.2.1 RequireObjectCoercible(argument)
	module.exports = function(it){
	  if(it == undefined)throw TypeError("Can't call method on  " + it);
	  return it;
	};

/***/ },
/* 29 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	var LIBRARY        = __webpack_require__(30)
	  , $export        = __webpack_require__(6)
	  , redefine       = __webpack_require__(31)
	  , hide           = __webpack_require__(11)
	  , has            = __webpack_require__(32)
	  , Iterators      = __webpack_require__(33)
	  , $iterCreate    = __webpack_require__(34)
	  , setToStringTag = __webpack_require__(50)
	  , getPrototypeOf = __webpack_require__(52)
	  , ITERATOR       = __webpack_require__(51)('iterator')
	  , BUGGY          = !([].keys && 'next' in [].keys()) // Safari has buggy iterators w/o `next`
	  , FF_ITERATOR    = '@@iterator'
	  , KEYS           = 'keys'
	  , VALUES         = 'values';
	
	var returnThis = function(){ return this; };
	
	module.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){
	  $iterCreate(Constructor, NAME, next);
	  var getMethod = function(kind){
	    if(!BUGGY && kind in proto)return proto[kind];
	    switch(kind){
	      case KEYS: return function keys(){ return new Constructor(this, kind); };
	      case VALUES: return function values(){ return new Constructor(this, kind); };
	    } return function entries(){ return new Constructor(this, kind); };
	  };
	  var TAG        = NAME + ' Iterator'
	    , DEF_VALUES = DEFAULT == VALUES
	    , VALUES_BUG = false
	    , proto      = Base.prototype
	    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]
	    , $default   = $native || getMethod(DEFAULT)
	    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined
	    , $anyNative = NAME == 'Array' ? proto.entries || $native : $native
	    , methods, key, IteratorPrototype;
	  // Fix native
	  if($anyNative){
	    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));
	    if(IteratorPrototype !== Object.prototype){
	      // Set @@toStringTag to native iterators
	      setToStringTag(IteratorPrototype, TAG, true);
	      // fix for some old engines
	      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);
	    }
	  }
	  // fix Array#{values, @@iterator}.name in V8 / FF
	  if(DEF_VALUES && $native && $native.name !== VALUES){
	    VALUES_BUG = true;
	    $default = function values(){ return $native.call(this); };
	  }
	  // Define iterator
	  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){
	    hide(proto, ITERATOR, $default);
	  }
	  // Plug for library
	  Iterators[NAME] = $default;
	  Iterators[TAG]  = returnThis;
	  if(DEFAULT){
	    methods = {
	      values:  DEF_VALUES ? $default : getMethod(VALUES),
	      keys:    IS_SET     ? $default : getMethod(KEYS),
	      entries: $entries
	    };
	    if(FORCED)for(key in methods){
	      if(!(key in proto))redefine(proto, key, methods[key]);
	    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);
	  }
	  return methods;
	};

/***/ },
/* 30 */
/***/ function(module, exports) {

	module.exports = true;

/***/ },
/* 31 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(11);

/***/ },
/* 32 */
/***/ function(module, exports) {

	var hasOwnProperty = {}.hasOwnProperty;
	module.exports = function(it, key){
	  return hasOwnProperty.call(it, key);
	};

/***/ },
/* 33 */
/***/ function(module, exports) {

	module.exports = {};

/***/ },
/* 34 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	var create         = __webpack_require__(35)
	  , descriptor     = __webpack_require__(20)
	  , setToStringTag = __webpack_require__(50)
	  , IteratorPrototype = {};
	
	// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()
	__webpack_require__(11)(IteratorPrototype, __webpack_require__(51)('iterator'), function(){ return this; });
	
	module.exports = function(Constructor, NAME, next){
	  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});
	  setToStringTag(Constructor, NAME + ' Iterator');
	};

/***/ },
/* 35 */
/***/ function(module, exports, __webpack_require__) {

	// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])
	var anObject    = __webpack_require__(13)
	  , dPs         = __webpack_require__(36)
	  , enumBugKeys = __webpack_require__(48)
	  , IE_PROTO    = __webpack_require__(45)('IE_PROTO')
	  , Empty       = function(){ /* empty */ }
	  , PROTOTYPE   = 'prototype';
	
	// Create object with fake `null` prototype: use iframe Object with cleared prototype
	var createDict = function(){
	  // Thrash, waste and sodomy: IE GC bug
	  var iframe = __webpack_require__(18)('iframe')
	    , i      = enumBugKeys.length
	    , gt     = '>'
	    , iframeDocument;
	  iframe.style.display = 'none';
	  __webpack_require__(49).appendChild(iframe);
	  iframe.src = 'javascript:'; // eslint-disable-line no-script-url
	  // createDict = iframe.contentWindow.Object;
	  // html.removeChild(iframe);
	  iframeDocument = iframe.contentWindow.document;
	  iframeDocument.open();
	  iframeDocument.write('<script>document.F=Object</script' + gt);
	  iframeDocument.close();
	  createDict = iframeDocument.F;
	  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];
	  return createDict();
	};
	
	module.exports = Object.create || function create(O, Properties){
	  var result;
	  if(O !== null){
	    Empty[PROTOTYPE] = anObject(O);
	    result = new Empty;
	    Empty[PROTOTYPE] = null;
	    // add "__proto__" for Object.getPrototypeOf polyfill
	    result[IE_PROTO] = O;
	  } else result = createDict();
	  return Properties === undefined ? result : dPs(result, Properties);
	};

/***/ },
/* 36 */
/***/ function(module, exports, __webpack_require__) {

	var dP       = __webpack_require__(12)
	  , anObject = __webpack_require__(13)
	  , getKeys  = __webpack_require__(37);
	
	module.exports = __webpack_require__(16) ? Object.defineProperties : function defineProperties(O, Properties){
	  anObject(O);
	  var keys   = getKeys(Properties)
	    , length = keys.length
	    , i = 0
	    , P;
	  while(length > i)dP.f(O, P = keys[i++], Properties[P]);
	  return O;
	};

/***/ },
/* 37 */
/***/ function(module, exports, __webpack_require__) {

	// 19.1.2.14 / 15.2.3.14 Object.keys(O)
	var $keys       = __webpack_require__(38)
	  , enumBugKeys = __webpack_require__(48);
	
	module.exports = Object.keys || function keys(O){
	  return $keys(O, enumBugKeys);
	};

/***/ },
/* 38 */
/***/ function(module, exports, __webpack_require__) {

	var has          = __webpack_require__(32)
	  , toIObject    = __webpack_require__(39)
	  , arrayIndexOf = __webpack_require__(42)(false)
	  , IE_PROTO     = __webpack_require__(45)('IE_PROTO');
	
	module.exports = function(object, names){
	  var O      = toIObject(object)
	    , i      = 0
	    , result = []
	    , key;
	  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);
	  // Don't enum bug & hidden keys
	  while(names.length > i)if(has(O, key = names[i++])){
	    ~arrayIndexOf(result, key) || result.push(key);
	  }
	  return result;
	};

/***/ },
/* 39 */
/***/ function(module, exports, __webpack_require__) {

	// to indexed object, toObject with fallback for non-array-like ES3 strings
	var IObject = __webpack_require__(40)
	  , defined = __webpack_require__(28);
	module.exports = function(it){
	  return IObject(defined(it));
	};

/***/ },
/* 40 */
/***/ function(module, exports, __webpack_require__) {

	// fallback for non-array-like ES3 and non-enumerable old V8 strings
	var cof = __webpack_require__(41);
	module.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){
	  return cof(it) == 'String' ? it.split('') : Object(it);
	};

/***/ },
/* 41 */
/***/ function(module, exports) {

	var toString = {}.toString;
	
	module.exports = function(it){
	  return toString.call(it).slice(8, -1);
	};

/***/ },
/* 42 */
/***/ function(module, exports, __webpack_require__) {

	// false -> Array#indexOf
	// true  -> Array#includes
	var toIObject = __webpack_require__(39)
	  , toLength  = __webpack_require__(43)
	  , toIndex   = __webpack_require__(44);
	module.exports = function(IS_INCLUDES){
	  return function($this, el, fromIndex){
	    var O      = toIObject($this)
	      , length = toLength(O.length)
	      , index  = toIndex(fromIndex, length)
	      , value;
	    // Array#includes uses SameValueZero equality algorithm
	    if(IS_INCLUDES && el != el)while(length > index){
	      value = O[index++];
	      if(value != value)return true;
	    // Array#toIndex ignores holes, Array#includes - not
	    } else for(;length > index; index++)if(IS_INCLUDES || index in O){
	      if(O[index] === el)return IS_INCLUDES || index || 0;
	    } return !IS_INCLUDES && -1;
	  };
	};

/***/ },
/* 43 */
/***/ function(module, exports, __webpack_require__) {

	// 7.1.15 ToLength
	var toInteger = __webpack_require__(27)
	  , min       = Math.min;
	module.exports = function(it){
	  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991
	};

/***/ },
/* 44 */
/***/ function(module, exports, __webpack_require__) {

	var toInteger = __webpack_require__(27)
	  , max       = Math.max
	  , min       = Math.min;
	module.exports = function(index, length){
	  index = toInteger(index);
	  return index < 0 ? max(index + length, 0) : min(index, length);
	};

/***/ },
/* 45 */
/***/ function(module, exports, __webpack_require__) {

	var shared = __webpack_require__(46)('keys')
	  , uid    = __webpack_require__(47);
	module.exports = function(key){
	  return shared[key] || (shared[key] = uid(key));
	};

/***/ },
/* 46 */
/***/ function(module, exports, __webpack_require__) {

	var global = __webpack_require__(7)
	  , SHARED = '__core-js_shared__'
	  , store  = global[SHARED] || (global[SHARED] = {});
	module.exports = function(key){
	  return store[key] || (store[key] = {});
	};

/***/ },
/* 47 */
/***/ function(module, exports) {

	var id = 0
	  , px = Math.random();
	module.exports = function(key){
	  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));
	};

/***/ },
/* 48 */
/***/ function(module, exports) {

	// IE 8- don't enum bug keys
	module.exports = (
	  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'
	).split(',');

/***/ },
/* 49 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(7).document && document.documentElement;

/***/ },
/* 50 */
/***/ function(module, exports, __webpack_require__) {

	var def = __webpack_require__(12).f
	  , has = __webpack_require__(32)
	  , TAG = __webpack_require__(51)('toStringTag');
	
	module.exports = function(it, tag, stat){
	  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});
	};

/***/ },
/* 51 */
/***/ function(module, exports, __webpack_require__) {

	var store      = __webpack_require__(46)('wks')
	  , uid        = __webpack_require__(47)
	  , Symbol     = __webpack_require__(7).Symbol
	  , USE_SYMBOL = typeof Symbol == 'function';
	
	var $exports = module.exports = function(name){
	  return store[name] || (store[name] =
	    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));
	};
	
	$exports.store = store;

/***/ },
/* 52 */
/***/ function(module, exports, __webpack_require__) {

	// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)
	var has         = __webpack_require__(32)
	  , toObject    = __webpack_require__(53)
	  , IE_PROTO    = __webpack_require__(45)('IE_PROTO')
	  , ObjectProto = Object.prototype;
	
	module.exports = Object.getPrototypeOf || function(O){
	  O = toObject(O);
	  if(has(O, IE_PROTO))return O[IE_PROTO];
	  if(typeof O.constructor == 'function' && O instanceof O.constructor){
	    return O.constructor.prototype;
	  } return O instanceof Object ? ObjectProto : null;
	};

/***/ },
/* 53 */
/***/ function(module, exports, __webpack_require__) {

	// 7.1.13 ToObject(argument)
	var defined = __webpack_require__(28);
	module.exports = function(it){
	  return Object(defined(it));
	};

/***/ },
/* 54 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(55);
	var global        = __webpack_require__(7)
	  , hide          = __webpack_require__(11)
	  , Iterators     = __webpack_require__(33)
	  , TO_STRING_TAG = __webpack_require__(51)('toStringTag');
	
	for(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){
	  var NAME       = collections[i]
	    , Collection = global[NAME]
	    , proto      = Collection && Collection.prototype;
	  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);
	  Iterators[NAME] = Iterators.Array;
	}

/***/ },
/* 55 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	var addToUnscopables = __webpack_require__(56)
	  , step             = __webpack_require__(57)
	  , Iterators        = __webpack_require__(33)
	  , toIObject        = __webpack_require__(39);
	
	// 22.1.3.4 Array.prototype.entries()
	// 22.1.3.13 Array.prototype.keys()
	// 22.1.3.29 Array.prototype.values()
	// 22.1.3.30 Array.prototype[@@iterator]()
	module.exports = __webpack_require__(29)(Array, 'Array', function(iterated, kind){
	  this._t = toIObject(iterated); // target
	  this._i = 0;                   // next index
	  this._k = kind;                // kind
	// 22.1.5.2.1 %ArrayIteratorPrototype%.next()
	}, function(){
	  var O     = this._t
	    , kind  = this._k
	    , index = this._i++;
	  if(!O || index >= O.length){
	    this._t = undefined;
	    return step(1);
	  }
	  if(kind == 'keys'  )return step(0, index);
	  if(kind == 'values')return step(0, O[index]);
	  return step(0, [index, O[index]]);
	}, 'values');
	
	// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)
	Iterators.Arguments = Iterators.Array;
	
	addToUnscopables('keys');
	addToUnscopables('values');
	addToUnscopables('entries');

/***/ },
/* 56 */
/***/ function(module, exports) {

	module.exports = function(){ /* empty */ };

/***/ },
/* 57 */
/***/ function(module, exports) {

	module.exports = function(done, value){
	  return {value: value, done: !!done};
	};

/***/ },
/* 58 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	var LIBRARY            = __webpack_require__(30)
	  , global             = __webpack_require__(7)
	  , ctx                = __webpack_require__(9)
	  , classof            = __webpack_require__(59)
	  , $export            = __webpack_require__(6)
	  , isObject           = __webpack_require__(14)
	  , anObject           = __webpack_require__(13)
	  , aFunction          = __webpack_require__(10)
	  , anInstance         = __webpack_require__(60)
	  , forOf              = __webpack_require__(61)
	  , setProto           = __webpack_require__(65).set
	  , speciesConstructor = __webpack_require__(68)
	  , task               = __webpack_require__(69).set
	  , microtask          = __webpack_require__(71)()
	  , PROMISE            = 'Promise'
	  , TypeError          = global.TypeError
	  , process            = global.process
	  , $Promise           = global[PROMISE]
	  , process            = global.process
	  , isNode             = classof(process) == 'process'
	  , empty              = function(){ /* empty */ }
	  , Internal, GenericPromiseCapability, Wrapper;
	
	var USE_NATIVE = !!function(){
	  try {
	    // correct subclassing with @@species support
	    var promise     = $Promise.resolve(1)
	      , FakePromise = (promise.constructor = {})[__webpack_require__(51)('species')] = function(exec){ exec(empty, empty); };
	    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test
	    return (isNode || typeof PromiseRejectionEvent == 'function') && promise.then(empty) instanceof FakePromise;
	  } catch(e){ /* empty */ }
	}();
	
	// helpers
	var sameConstructor = function(a, b){
	  // with library wrapper special case
	  return a === b || a === $Promise && b === Wrapper;
	};
	var isThenable = function(it){
	  var then;
	  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;
	};
	var newPromiseCapability = function(C){
	  return sameConstructor($Promise, C)
	    ? new PromiseCapability(C)
	    : new GenericPromiseCapability(C);
	};
	var PromiseCapability = GenericPromiseCapability = function(C){
	  var resolve, reject;
	  this.promise = new C(function($$resolve, $$reject){
	    if(resolve !== undefined || reject !== undefined)throw TypeError('Bad Promise constructor');
	    resolve = $$resolve;
	    reject  = $$reject;
	  });
	  this.resolve = aFunction(resolve);
	  this.reject  = aFunction(reject);
	};
	var perform = function(exec){
	  try {
	    exec();
	  } catch(e){
	    return {error: e};
	  }
	};
	var notify = function(promise, isReject){
	  if(promise._n)return;
	  promise._n = true;
	  var chain = promise._c;
	  microtask(function(){
	    var value = promise._v
	      , ok    = promise._s == 1
	      , i     = 0;
	    var run = function(reaction){
	      var handler = ok ? reaction.ok : reaction.fail
	        , resolve = reaction.resolve
	        , reject  = reaction.reject
	        , domain  = reaction.domain
	        , result, then;
	      try {
	        if(handler){
	          if(!ok){
	            if(promise._h == 2)onHandleUnhandled(promise);
	            promise._h = 1;
	          }
	          if(handler === true)result = value;
	          else {
	            if(domain)domain.enter();
	            result = handler(value);
	            if(domain)domain.exit();
	          }
	          if(result === reaction.promise){
	            reject(TypeError('Promise-chain cycle'));
	          } else if(then = isThenable(result)){
	            then.call(result, resolve, reject);
	          } else resolve(result);
	        } else reject(value);
	      } catch(e){
	        reject(e);
	      }
	    };
	    while(chain.length > i)run(chain[i++]); // variable length - can't use forEach
	    promise._c = [];
	    promise._n = false;
	    if(isReject && !promise._h)onUnhandled(promise);
	  });
	};
	var onUnhandled = function(promise){
	  task.call(global, function(){
	    var value = promise._v
	      , abrupt, handler, console;
	    if(isUnhandled(promise)){
	      abrupt = perform(function(){
	        if(isNode){
	          process.emit('unhandledRejection', value, promise);
	        } else if(handler = global.onunhandledrejection){
	          handler({promise: promise, reason: value});
	        } else if((console = global.console) && console.error){
	          console.error('Unhandled promise rejection', value);
	        }
	      });
	      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should
	      promise._h = isNode || isUnhandled(promise) ? 2 : 1;
	    } promise._a = undefined;
	    if(abrupt)throw abrupt.error;
	  });
	};
	var isUnhandled = function(promise){
	  if(promise._h == 1)return false;
	  var chain = promise._a || promise._c
	    , i     = 0
	    , reaction;
	  while(chain.length > i){
	    reaction = chain[i++];
	    if(reaction.fail || !isUnhandled(reaction.promise))return false;
	  } return true;
	};
	var onHandleUnhandled = function(promise){
	  task.call(global, function(){
	    var handler;
	    if(isNode){
	      process.emit('rejectionHandled', promise);
	    } else if(handler = global.onrejectionhandled){
	      handler({promise: promise, reason: promise._v});
	    }
	  });
	};
	var $reject = function(value){
	  var promise = this;
	  if(promise._d)return;
	  promise._d = true;
	  promise = promise._w || promise; // unwrap
	  promise._v = value;
	  promise._s = 2;
	  if(!promise._a)promise._a = promise._c.slice();
	  notify(promise, true);
	};
	var $resolve = function(value){
	  var promise = this
	    , then;
	  if(promise._d)return;
	  promise._d = true;
	  promise = promise._w || promise; // unwrap
	  try {
	    if(promise === value)throw TypeError("Promise can't be resolved itself");
	    if(then = isThenable(value)){
	      microtask(function(){
	        var wrapper = {_w: promise, _d: false}; // wrap
	        try {
	          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));
	        } catch(e){
	          $reject.call(wrapper, e);
	        }
	      });
	    } else {
	      promise._v = value;
	      promise._s = 1;
	      notify(promise, false);
	    }
	  } catch(e){
	    $reject.call({_w: promise, _d: false}, e); // wrap
	  }
	};
	
	// constructor polyfill
	if(!USE_NATIVE){
	  // 25.4.3.1 Promise(executor)
	  $Promise = function Promise(executor){
	    anInstance(this, $Promise, PROMISE, '_h');
	    aFunction(executor);
	    Internal.call(this);
	    try {
	      executor(ctx($resolve, this, 1), ctx($reject, this, 1));
	    } catch(err){
	      $reject.call(this, err);
	    }
	  };
	  Internal = function Promise(executor){
	    this._c = [];             // <- awaiting reactions
	    this._a = undefined;      // <- checked in isUnhandled reactions
	    this._s = 0;              // <- state
	    this._d = false;          // <- done
	    this._v = undefined;      // <- value
	    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled
	    this._n = false;          // <- notify
	  };
	  Internal.prototype = __webpack_require__(72)($Promise.prototype, {
	    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)
	    then: function then(onFulfilled, onRejected){
	      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));
	      reaction.ok     = typeof onFulfilled == 'function' ? onFulfilled : true;
	      reaction.fail   = typeof onRejected == 'function' && onRejected;
	      reaction.domain = isNode ? process.domain : undefined;
	      this._c.push(reaction);
	      if(this._a)this._a.push(reaction);
	      if(this._s)notify(this, false);
	      return reaction.promise;
	    },
	    // 25.4.5.1 Promise.prototype.catch(onRejected)
	    'catch': function(onRejected){
	      return this.then(undefined, onRejected);
	    }
	  });
	  PromiseCapability = function(){
	    var promise  = new Internal;
	    this.promise = promise;
	    this.resolve = ctx($resolve, promise, 1);
	    this.reject  = ctx($reject, promise, 1);
	  };
	}
	
	$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});
	__webpack_require__(50)($Promise, PROMISE);
	__webpack_require__(73)(PROMISE);
	Wrapper = __webpack_require__(8)[PROMISE];
	
	// statics
	$export($export.S + $export.F * !USE_NATIVE, PROMISE, {
	  // 25.4.4.5 Promise.reject(r)
	  reject: function reject(r){
	    var capability = newPromiseCapability(this)
	      , $$reject   = capability.reject;
	    $$reject(r);
	    return capability.promise;
	  }
	});
	$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {
	  // 25.4.4.6 Promise.resolve(x)
	  resolve: function resolve(x){
	    // instanceof instead of internal slot check because we should fix it without replacement native Promise core
	    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;
	    var capability = newPromiseCapability(this)
	      , $$resolve  = capability.resolve;
	    $$resolve(x);
	    return capability.promise;
	  }
	});
	$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(74)(function(iter){
	  $Promise.all(iter)['catch'](empty);
	})), PROMISE, {
	  // 25.4.4.1 Promise.all(iterable)
	  all: function all(iterable){
	    var C          = this
	      , capability = newPromiseCapability(C)
	      , resolve    = capability.resolve
	      , reject     = capability.reject;
	    var abrupt = perform(function(){
	      var values    = []
	        , index     = 0
	        , remaining = 1;
	      forOf(iterable, false, function(promise){
	        var $index        = index++
	          , alreadyCalled = false;
	        values.push(undefined);
	        remaining++;
	        C.resolve(promise).then(function(value){
	          if(alreadyCalled)return;
	          alreadyCalled  = true;
	          values[$index] = value;
	          --remaining || resolve(values);
	        }, reject);
	      });
	      --remaining || resolve(values);
	    });
	    if(abrupt)reject(abrupt.error);
	    return capability.promise;
	  },
	  // 25.4.4.4 Promise.race(iterable)
	  race: function race(iterable){
	    var C          = this
	      , capability = newPromiseCapability(C)
	      , reject     = capability.reject;
	    var abrupt = perform(function(){
	      forOf(iterable, false, function(promise){
	        C.resolve(promise).then(capability.resolve, reject);
	      });
	    });
	    if(abrupt)reject(abrupt.error);
	    return capability.promise;
	  }
	});

/***/ },
/* 59 */
/***/ function(module, exports, __webpack_require__) {

	// getting tag from 19.1.3.6 Object.prototype.toString()
	var cof = __webpack_require__(41)
	  , TAG = __webpack_require__(51)('toStringTag')
	  // ES3 wrong here
	  , ARG = cof(function(){ return arguments; }()) == 'Arguments';
	
	// fallback for IE11 Script Access Denied error
	var tryGet = function(it, key){
	  try {
	    return it[key];
	  } catch(e){ /* empty */ }
	};
	
	module.exports = function(it){
	  var O, T, B;
	  return it === undefined ? 'Undefined' : it === null ? 'Null'
	    // @@toStringTag case
	    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T
	    // builtinTag case
	    : ARG ? cof(O)
	    // ES3 arguments fallback
	    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;
	};

/***/ },
/* 60 */
/***/ function(module, exports) {

	module.exports = function(it, Constructor, name, forbiddenField){
	  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){
	    throw TypeError(name + ': incorrect invocation!');
	  } return it;
	};

/***/ },
/* 61 */
/***/ function(module, exports, __webpack_require__) {

	var ctx         = __webpack_require__(9)
	  , call        = __webpack_require__(62)
	  , isArrayIter = __webpack_require__(63)
	  , anObject    = __webpack_require__(13)
	  , toLength    = __webpack_require__(43)
	  , getIterFn   = __webpack_require__(64)
	  , BREAK       = {}
	  , RETURN      = {};
	var exports = module.exports = function(iterable, entries, fn, that, ITERATOR){
	  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)
	    , f      = ctx(fn, that, entries ? 2 : 1)
	    , index  = 0
	    , length, step, iterator, result;
	  if(typeof iterFn != 'function')throw TypeError(iterable + ' is not iterable!');
	  // fast case for arrays with default iterator
	  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){
	    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);
	    if(result === BREAK || result === RETURN)return result;
	  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){
	    result = call(iterator, f, step.value, entries);
	    if(result === BREAK || result === RETURN)return result;
	  }
	};
	exports.BREAK  = BREAK;
	exports.RETURN = RETURN;

/***/ },
/* 62 */
/***/ function(module, exports, __webpack_require__) {

	// call something on iterator step with safe closing on error
	var anObject = __webpack_require__(13);
	module.exports = function(iterator, fn, value, entries){
	  try {
	    return entries ? fn(anObject(value)[0], value[1]) : fn(value);
	  // 7.4.6 IteratorClose(iterator, completion)
	  } catch(e){
	    var ret = iterator['return'];
	    if(ret !== undefined)anObject(ret.call(iterator));
	    throw e;
	  }
	};

/***/ },
/* 63 */
/***/ function(module, exports, __webpack_require__) {

	// check on default Array iterator
	var Iterators  = __webpack_require__(33)
	  , ITERATOR   = __webpack_require__(51)('iterator')
	  , ArrayProto = Array.prototype;
	
	module.exports = function(it){
	  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);
	};

/***/ },
/* 64 */
/***/ function(module, exports, __webpack_require__) {

	var classof   = __webpack_require__(59)
	  , ITERATOR  = __webpack_require__(51)('iterator')
	  , Iterators = __webpack_require__(33);
	module.exports = __webpack_require__(8).getIteratorMethod = function(it){
	  if(it != undefined)return it[ITERATOR]
	    || it['@@iterator']
	    || Iterators[classof(it)];
	};

/***/ },
/* 65 */
/***/ function(module, exports, __webpack_require__) {

	// Works with __proto__ only. Old v8 can't work with null proto objects.
	/* eslint-disable no-proto */
	var isObject = __webpack_require__(14)
	  , anObject = __webpack_require__(13);
	var check = function(O, proto){
	  anObject(O);
	  if(!isObject(proto) && proto !== null)throw TypeError(proto + ": can't set as prototype!");
	};
	module.exports = {
	  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line
	    function(test, buggy, set){
	      try {
	        set = __webpack_require__(9)(Function.call, __webpack_require__(66).f(Object.prototype, '__proto__').set, 2);
	        set(test, []);
	        buggy = !(test instanceof Array);
	      } catch(e){ buggy = true; }
	      return function setPrototypeOf(O, proto){
	        check(O, proto);
	        if(buggy)O.__proto__ = proto;
	        else set(O, proto);
	        return O;
	      };
	    }({}, false) : undefined),
	  check: check
	};

/***/ },
/* 66 */
/***/ function(module, exports, __webpack_require__) {

	var pIE            = __webpack_require__(67)
	  , createDesc     = __webpack_require__(20)
	  , toIObject      = __webpack_require__(39)
	  , toPrimitive    = __webpack_require__(19)
	  , has            = __webpack_require__(32)
	  , IE8_DOM_DEFINE = __webpack_require__(15)
	  , gOPD           = Object.getOwnPropertyDescriptor;
	
	exports.f = __webpack_require__(16) ? gOPD : function getOwnPropertyDescriptor(O, P){
	  O = toIObject(O);
	  P = toPrimitive(P, true);
	  if(IE8_DOM_DEFINE)try {
	    return gOPD(O, P);
	  } catch(e){ /* empty */ }
	  if(has(O, P))return createDesc(!pIE.f.call(O, P), O[P]);
	};

/***/ },
/* 67 */
/***/ function(module, exports) {

	exports.f = {}.propertyIsEnumerable;

/***/ },
/* 68 */
/***/ function(module, exports, __webpack_require__) {

	// 7.3.20 SpeciesConstructor(O, defaultConstructor)
	var anObject  = __webpack_require__(13)
	  , aFunction = __webpack_require__(10)
	  , SPECIES   = __webpack_require__(51)('species');
	module.exports = function(O, D){
	  var C = anObject(O).constructor, S;
	  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);
	};

/***/ },
/* 69 */
/***/ function(module, exports, __webpack_require__) {

	var ctx                = __webpack_require__(9)
	  , invoke             = __webpack_require__(70)
	  , html               = __webpack_require__(49)
	  , cel                = __webpack_require__(18)
	  , global             = __webpack_require__(7)
	  , process            = global.process
	  , setTask            = global.setImmediate
	  , clearTask          = global.clearImmediate
	  , MessageChannel     = global.MessageChannel
	  , counter            = 0
	  , queue              = {}
	  , ONREADYSTATECHANGE = 'onreadystatechange'
	  , defer, channel, port;
	var run = function(){
	  var id = +this;
	  if(queue.hasOwnProperty(id)){
	    var fn = queue[id];
	    delete queue[id];
	    fn();
	  }
	};
	var listener = function(event){
	  run.call(event.data);
	};
	// Node.js 0.9+ & IE10+ has setImmediate, otherwise:
	if(!setTask || !clearTask){
	  setTask = function setImmediate(fn){
	    var args = [], i = 1;
	    while(arguments.length > i)args.push(arguments[i++]);
	    queue[++counter] = function(){
	      invoke(typeof fn == 'function' ? fn : Function(fn), args);
	    };
	    defer(counter);
	    return counter;
	  };
	  clearTask = function clearImmediate(id){
	    delete queue[id];
	  };
	  // Node.js 0.8-
	  if(__webpack_require__(41)(process) == 'process'){
	    defer = function(id){
	      process.nextTick(ctx(run, id, 1));
	    };
	  // Browsers with MessageChannel, includes WebWorkers
	  } else if(MessageChannel){
	    channel = new MessageChannel;
	    port    = channel.port2;
	    channel.port1.onmessage = listener;
	    defer = ctx(port.postMessage, port, 1);
	  // Browsers with postMessage, skip WebWorkers
	  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'
	  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){
	    defer = function(id){
	      global.postMessage(id + '', '*');
	    };
	    global.addEventListener('message', listener, false);
	  // IE8-
	  } else if(ONREADYSTATECHANGE in cel('script')){
	    defer = function(id){
	      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){
	        html.removeChild(this);
	        run.call(id);
	      };
	    };
	  // Rest old browsers
	  } else {
	    defer = function(id){
	      setTimeout(ctx(run, id, 1), 0);
	    };
	  }
	}
	module.exports = {
	  set:   setTask,
	  clear: clearTask
	};

/***/ },
/* 70 */
/***/ function(module, exports) {

	// fast apply, http://jsperf.lnkit.com/fast-apply/5
	module.exports = function(fn, args, that){
	  var un = that === undefined;
	  switch(args.length){
	    case 0: return un ? fn()
	                      : fn.call(that);
	    case 1: return un ? fn(args[0])
	                      : fn.call(that, args[0]);
	    case 2: return un ? fn(args[0], args[1])
	                      : fn.call(that, args[0], args[1]);
	    case 3: return un ? fn(args[0], args[1], args[2])
	                      : fn.call(that, args[0], args[1], args[2]);
	    case 4: return un ? fn(args[0], args[1], args[2], args[3])
	                      : fn.call(that, args[0], args[1], args[2], args[3]);
	  } return              fn.apply(that, args);
	};

/***/ },
/* 71 */
/***/ function(module, exports, __webpack_require__) {

	var global    = __webpack_require__(7)
	  , macrotask = __webpack_require__(69).set
	  , Observer  = global.MutationObserver || global.WebKitMutationObserver
	  , process   = global.process
	  , Promise   = global.Promise
	  , isNode    = __webpack_require__(41)(process) == 'process';
	
	module.exports = function(){
	  var head, last, notify;
	
	  var flush = function(){
	    var parent, fn;
	    if(isNode && (parent = process.domain))parent.exit();
	    while(head){
	      fn   = head.fn;
	      head = head.next;
	      try {
	        fn();
	      } catch(e){
	        if(head)notify();
	        else last = undefined;
	        throw e;
	      }
	    } last = undefined;
	    if(parent)parent.enter();
	  };
	
	  // Node.js
	  if(isNode){
	    notify = function(){
	      process.nextTick(flush);
	    };
	  // browsers with MutationObserver
	  } else if(Observer){
	    var toggle = true
	      , node   = document.createTextNode('');
	    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new
	    notify = function(){
	      node.data = toggle = !toggle;
	    };
	  // environments with maybe non-completely correct, but existent Promise
	  } else if(Promise && Promise.resolve){
	    var promise = Promise.resolve();
	    notify = function(){
	      promise.then(flush);
	    };
	  // for other environments - macrotask based on:
	  // - setImmediate
	  // - MessageChannel
	  // - window.postMessag
	  // - onreadystatechange
	  // - setTimeout
	  } else {
	    notify = function(){
	      // strange IE + webpack dev server bug - use .call(global)
	      macrotask.call(global, flush);
	    };
	  }
	
	  return function(fn){
	    var task = {fn: fn, next: undefined};
	    if(last)last.next = task;
	    if(!head){
	      head = task;
	      notify();
	    } last = task;
	  };
	};

/***/ },
/* 72 */
/***/ function(module, exports, __webpack_require__) {

	var hide = __webpack_require__(11);
	module.exports = function(target, src, safe){
	  for(var key in src){
	    if(safe && target[key])target[key] = src[key];
	    else hide(target, key, src[key]);
	  } return target;
	};

/***/ },
/* 73 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	var global      = __webpack_require__(7)
	  , core        = __webpack_require__(8)
	  , dP          = __webpack_require__(12)
	  , DESCRIPTORS = __webpack_require__(16)
	  , SPECIES     = __webpack_require__(51)('species');
	
	module.exports = function(KEY){
	  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];
	  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {
	    configurable: true,
	    get: function(){ return this; }
	  });
	};

/***/ },
/* 74 */
/***/ function(module, exports, __webpack_require__) {

	var ITERATOR     = __webpack_require__(51)('iterator')
	  , SAFE_CLOSING = false;
	
	try {
	  var riter = [7][ITERATOR]();
	  riter['return'] = function(){ SAFE_CLOSING = true; };
	  Array.from(riter, function(){ throw 2; });
	} catch(e){ /* empty */ }
	
	module.exports = function(exec, skipClosing){
	  if(!skipClosing && !SAFE_CLOSING)return false;
	  var safe = false;
	  try {
	    var arr  = [7]
	      , iter = arr[ITERATOR]();
	    iter.next = function(){ return {done: safe = true}; };
	    arr[ITERATOR] = function(){ return iter; };
	    exec(arr);
	  } catch(e){ /* empty */ }
	  return safe;
	};

/***/ },
/* 75 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(76), __esModule: true };

/***/ },
/* 76 */
/***/ function(module, exports, __webpack_require__) {

	var core  = __webpack_require__(8)
	  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});
	module.exports = function stringify(it){ // eslint-disable-line no-unused-vars
	  return $JSON.stringify.apply($JSON, arguments);
	};

/***/ },
/* 77 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(78), __esModule: true };

/***/ },
/* 78 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(79);
	module.exports = __webpack_require__(8).Object.keys;

/***/ },
/* 79 */
/***/ function(module, exports, __webpack_require__) {

	// 19.1.2.14 Object.keys(O)
	var toObject = __webpack_require__(53)
	  , $keys    = __webpack_require__(37);
	
	__webpack_require__(80)('keys', function(){
	  return function keys(it){
	    return $keys(toObject(it));
	  };
	});

/***/ },
/* 80 */
/***/ function(module, exports, __webpack_require__) {

	// most Object methods by ES6 should accept primitives
	var $export = __webpack_require__(6)
	  , core    = __webpack_require__(8)
	  , fails   = __webpack_require__(17);
	module.exports = function(KEY, exec){
	  var fn  = (core.Object || {})[KEY] || Object[KEY]
	    , exp = {};
	  exp[KEY] = exec(fn);
	  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);
	};

/***/ },
/* 81 */
/***/ function(module, exports, __webpack_require__) {

	"use strict";
	
	exports.__esModule = true;
	
	var _iterator = __webpack_require__(82);
	
	var _iterator2 = _interopRequireDefault(_iterator);
	
	var _symbol = __webpack_require__(85);
	
	var _symbol2 = _interopRequireDefault(_symbol);
	
	var _typeof = typeof _symbol2.default === "function" && typeof _iterator2.default === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default ? "symbol" : typeof obj; };
	
	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }
	
	exports.default = typeof _symbol2.default === "function" && _typeof(_iterator2.default) === "symbol" ? function (obj) {
	  return typeof obj === "undefined" ? "undefined" : _typeof(obj);
	} : function (obj) {
	  return obj && typeof _symbol2.default === "function" && obj.constructor === _symbol2.default ? "symbol" : typeof obj === "undefined" ? "undefined" : _typeof(obj);
	};

/***/ },
/* 82 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(83), __esModule: true };

/***/ },
/* 83 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(25);
	__webpack_require__(54);
	module.exports = __webpack_require__(84).f('iterator');

/***/ },
/* 84 */
/***/ function(module, exports, __webpack_require__) {

	exports.f = __webpack_require__(51);

/***/ },
/* 85 */
/***/ function(module, exports, __webpack_require__) {

	module.exports = { "default": __webpack_require__(86), __esModule: true };

/***/ },
/* 86 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(87);
	__webpack_require__(24);
	__webpack_require__(96);
	__webpack_require__(97);
	module.exports = __webpack_require__(8).Symbol;

/***/ },
/* 87 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';
	// ECMAScript 6 symbols shim
	var global         = __webpack_require__(7)
	  , has            = __webpack_require__(32)
	  , DESCRIPTORS    = __webpack_require__(16)
	  , $export        = __webpack_require__(6)
	  , redefine       = __webpack_require__(31)
	  , META           = __webpack_require__(88).KEY
	  , $fails         = __webpack_require__(17)
	  , shared         = __webpack_require__(46)
	  , setToStringTag = __webpack_require__(50)
	  , uid            = __webpack_require__(47)
	  , wks            = __webpack_require__(51)
	  , wksExt         = __webpack_require__(84)
	  , wksDefine      = __webpack_require__(89)
	  , keyOf          = __webpack_require__(90)
	  , enumKeys       = __webpack_require__(91)
	  , isArray        = __webpack_require__(93)
	  , anObject       = __webpack_require__(13)
	  , toIObject      = __webpack_require__(39)
	  , toPrimitive    = __webpack_require__(19)
	  , createDesc     = __webpack_require__(20)
	  , _create        = __webpack_require__(35)
	  , gOPNExt        = __webpack_require__(94)
	  , $GOPD          = __webpack_require__(66)
	  , $DP            = __webpack_require__(12)
	  , $keys          = __webpack_require__(37)
	  , gOPD           = $GOPD.f
	  , dP             = $DP.f
	  , gOPN           = gOPNExt.f
	  , $Symbol        = global.Symbol
	  , $JSON          = global.JSON
	  , _stringify     = $JSON && $JSON.stringify
	  , PROTOTYPE      = 'prototype'
	  , HIDDEN         = wks('_hidden')
	  , TO_PRIMITIVE   = wks('toPrimitive')
	  , isEnum         = {}.propertyIsEnumerable
	  , SymbolRegistry = shared('symbol-registry')
	  , AllSymbols     = shared('symbols')
	  , OPSymbols      = shared('op-symbols')
	  , ObjectProto    = Object[PROTOTYPE]
	  , USE_NATIVE     = typeof $Symbol == 'function'
	  , QObject        = global.QObject;
	// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173
	var setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;
	
	// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687
	var setSymbolDesc = DESCRIPTORS && $fails(function(){
	  return _create(dP({}, 'a', {
	    get: function(){ return dP(this, 'a', {value: 7}).a; }
	  })).a != 7;
	}) ? function(it, key, D){
	  var protoDesc = gOPD(ObjectProto, key);
	  if(protoDesc)delete ObjectProto[key];
	  dP(it, key, D);
	  if(protoDesc && it !== ObjectProto)dP(ObjectProto, key, protoDesc);
	} : dP;
	
	var wrap = function(tag){
	  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);
	  sym._k = tag;
	  return sym;
	};
	
	var isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function(it){
	  return typeof it == 'symbol';
	} : function(it){
	  return it instanceof $Symbol;
	};
	
	var $defineProperty = function defineProperty(it, key, D){
	  if(it === ObjectProto)$defineProperty(OPSymbols, key, D);
	  anObject(it);
	  key = toPrimitive(key, true);
	  anObject(D);
	  if(has(AllSymbols, key)){
	    if(!D.enumerable){
	      if(!has(it, HIDDEN))dP(it, HIDDEN, createDesc(1, {}));
	      it[HIDDEN][key] = true;
	    } else {
	      if(has(it, HIDDEN) && it[HIDDEN][key])it[HIDDEN][key] = false;
	      D = _create(D, {enumerable: createDesc(0, false)});
	    } return setSymbolDesc(it, key, D);
	  } return dP(it, key, D);
	};
	var $defineProperties = function defineProperties(it, P){
	  anObject(it);
	  var keys = enumKeys(P = toIObject(P))
	    , i    = 0
	    , l = keys.length
	    , key;
	  while(l > i)$defineProperty(it, key = keys[i++], P[key]);
	  return it;
	};
	var $create = function create(it, P){
	  return P === undefined ? _create(it) : $defineProperties(_create(it), P);
	};
	var $propertyIsEnumerable = function propertyIsEnumerable(key){
	  var E = isEnum.call(this, key = toPrimitive(key, true));
	  if(this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return false;
	  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;
	};
	var $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key){
	  it  = toIObject(it);
	  key = toPrimitive(key, true);
	  if(it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key))return;
	  var D = gOPD(it, key);
	  if(D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key]))D.enumerable = true;
	  return D;
	};
	var $getOwnPropertyNames = function getOwnPropertyNames(it){
	  var names  = gOPN(toIObject(it))
	    , result = []
	    , i      = 0
	    , key;
	  while(names.length > i){
	    if(!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META)result.push(key);
	  } return result;
	};
	var $getOwnPropertySymbols = function getOwnPropertySymbols(it){
	  var IS_OP  = it === ObjectProto
	    , names  = gOPN(IS_OP ? OPSymbols : toIObject(it))
	    , result = []
	    , i      = 0
	    , key;
	  while(names.length > i){
	    if(has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true))result.push(AllSymbols[key]);
	  } return result;
	};
	
	// 19.4.1.1 Symbol([description])
	if(!USE_NATIVE){
	  $Symbol = function Symbol(){
	    if(this instanceof $Symbol)throw TypeError('Symbol is not a constructor!');
	    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);
	    var $set = function(value){
	      if(this === ObjectProto)$set.call(OPSymbols, value);
	      if(has(this, HIDDEN) && has(this[HIDDEN], tag))this[HIDDEN][tag] = false;
	      setSymbolDesc(this, tag, createDesc(1, value));
	    };
	    if(DESCRIPTORS && setter)setSymbolDesc(ObjectProto, tag, {configurable: true, set: $set});
	    return wrap(tag);
	  };
	  redefine($Symbol[PROTOTYPE], 'toString', function toString(){
	    return this._k;
	  });
	
	  $GOPD.f = $getOwnPropertyDescriptor;
	  $DP.f   = $defineProperty;
	  __webpack_require__(95).f = gOPNExt.f = $getOwnPropertyNames;
	  __webpack_require__(67).f  = $propertyIsEnumerable;
	  __webpack_require__(92).f = $getOwnPropertySymbols;
	
	  if(DESCRIPTORS && !__webpack_require__(30)){
	    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);
	  }
	
	  wksExt.f = function(name){
	    return wrap(wks(name));
	  }
	}
	
	$export($export.G + $export.W + $export.F * !USE_NATIVE, {Symbol: $Symbol});
	
	for(var symbols = (
	  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14
	  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'
	).split(','), i = 0; symbols.length > i; )wks(symbols[i++]);
	
	for(var symbols = $keys(wks.store), i = 0; symbols.length > i; )wksDefine(symbols[i++]);
	
	$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {
	  // 19.4.2.1 Symbol.for(key)
	  'for': function(key){
	    return has(SymbolRegistry, key += '')
	      ? SymbolRegistry[key]
	      : SymbolRegistry[key] = $Symbol(key);
	  },
	  // 19.4.2.5 Symbol.keyFor(sym)
	  keyFor: function keyFor(key){
	    if(isSymbol(key))return keyOf(SymbolRegistry, key);
	    throw TypeError(key + ' is not a symbol!');
	  },
	  useSetter: function(){ setter = true; },
	  useSimple: function(){ setter = false; }
	});
	
	$export($export.S + $export.F * !USE_NATIVE, 'Object', {
	  // 19.1.2.2 Object.create(O [, Properties])
	  create: $create,
	  // 19.1.2.4 Object.defineProperty(O, P, Attributes)
	  defineProperty: $defineProperty,
	  // 19.1.2.3 Object.defineProperties(O, Properties)
	  defineProperties: $defineProperties,
	  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)
	  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,
	  // 19.1.2.7 Object.getOwnPropertyNames(O)
	  getOwnPropertyNames: $getOwnPropertyNames,
	  // 19.1.2.8 Object.getOwnPropertySymbols(O)
	  getOwnPropertySymbols: $getOwnPropertySymbols
	});
	
	// 24.3.2 JSON.stringify(value [, replacer [, space]])
	$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function(){
	  var S = $Symbol();
	  // MS Edge converts symbol values to JSON as {}
	  // WebKit converts symbol values to JSON as null
	  // V8 throws on boxed symbols
	  return _stringify([S]) != '[null]' || _stringify({a: S}) != '{}' || _stringify(Object(S)) != '{}';
	})), 'JSON', {
	  stringify: function stringify(it){
	    if(it === undefined || isSymbol(it))return; // IE8 returns string on undefined
	    var args = [it]
	      , i    = 1
	      , replacer, $replacer;
	    while(arguments.length > i)args.push(arguments[i++]);
	    replacer = args[1];
	    if(typeof replacer == 'function')$replacer = replacer;
	    if($replacer || !isArray(replacer))replacer = function(key, value){
	      if($replacer)value = $replacer.call(this, key, value);
	      if(!isSymbol(value))return value;
	    };
	    args[1] = replacer;
	    return _stringify.apply($JSON, args);
	  }
	});
	
	// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)
	$Symbol[PROTOTYPE][TO_PRIMITIVE] || __webpack_require__(11)($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);
	// 19.4.3.5 Symbol.prototype[@@toStringTag]
	setToStringTag($Symbol, 'Symbol');
	// 20.2.1.9 Math[@@toStringTag]
	setToStringTag(Math, 'Math', true);
	// 24.3.3 JSON[@@toStringTag]
	setToStringTag(global.JSON, 'JSON', true);

/***/ },
/* 88 */
/***/ function(module, exports, __webpack_require__) {

	var META     = __webpack_require__(47)('meta')
	  , isObject = __webpack_require__(14)
	  , has      = __webpack_require__(32)
	  , setDesc  = __webpack_require__(12).f
	  , id       = 0;
	var isExtensible = Object.isExtensible || function(){
	  return true;
	};
	var FREEZE = !__webpack_require__(17)(function(){
	  return isExtensible(Object.preventExtensions({}));
	});
	var setMeta = function(it){
	  setDesc(it, META, {value: {
	    i: 'O' + ++id, // object ID
	    w: {}          // weak collections IDs
	  }});
	};
	var fastKey = function(it, create){
	  // return primitive with prefix
	  if(!isObject(it))return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;
	  if(!has(it, META)){
	    // can't set metadata to uncaught frozen object
	    if(!isExtensible(it))return 'F';
	    // not necessary to add metadata
	    if(!create)return 'E';
	    // add missing metadata
	    setMeta(it);
	  // return object ID
	  } return it[META].i;
	};
	var getWeak = function(it, create){
	  if(!has(it, META)){
	    // can't set metadata to uncaught frozen object
	    if(!isExtensible(it))return true;
	    // not necessary to add metadata
	    if(!create)return false;
	    // add missing metadata
	    setMeta(it);
	  // return hash weak collections IDs
	  } return it[META].w;
	};
	// add metadata on freeze-family methods calling
	var onFreeze = function(it){
	  if(FREEZE && meta.NEED && isExtensible(it) && !has(it, META))setMeta(it);
	  return it;
	};
	var meta = module.exports = {
	  KEY:      META,
	  NEED:     false,
	  fastKey:  fastKey,
	  getWeak:  getWeak,
	  onFreeze: onFreeze
	};

/***/ },
/* 89 */
/***/ function(module, exports, __webpack_require__) {

	var global         = __webpack_require__(7)
	  , core           = __webpack_require__(8)
	  , LIBRARY        = __webpack_require__(30)
	  , wksExt         = __webpack_require__(84)
	  , defineProperty = __webpack_require__(12).f;
	module.exports = function(name){
	  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});
	  if(name.charAt(0) != '_' && !(name in $Symbol))defineProperty($Symbol, name, {value: wksExt.f(name)});
	};

/***/ },
/* 90 */
/***/ function(module, exports, __webpack_require__) {

	var getKeys   = __webpack_require__(37)
	  , toIObject = __webpack_require__(39);
	module.exports = function(object, el){
	  var O      = toIObject(object)
	    , keys   = getKeys(O)
	    , length = keys.length
	    , index  = 0
	    , key;
	  while(length > index)if(O[key = keys[index++]] === el)return key;
	};

/***/ },
/* 91 */
/***/ function(module, exports, __webpack_require__) {

	// all enumerable object keys, includes symbols
	var getKeys = __webpack_require__(37)
	  , gOPS    = __webpack_require__(92)
	  , pIE     = __webpack_require__(67);
	module.exports = function(it){
	  var result     = getKeys(it)
	    , getSymbols = gOPS.f;
	  if(getSymbols){
	    var symbols = getSymbols(it)
	      , isEnum  = pIE.f
	      , i       = 0
	      , key;
	    while(symbols.length > i)if(isEnum.call(it, key = symbols[i++]))result.push(key);
	  } return result;
	};

/***/ },
/* 92 */
/***/ function(module, exports) {

	exports.f = Object.getOwnPropertySymbols;

/***/ },
/* 93 */
/***/ function(module, exports, __webpack_require__) {

	// 7.2.2 IsArray(argument)
	var cof = __webpack_require__(41);
	module.exports = Array.isArray || function isArray(arg){
	  return cof(arg) == 'Array';
	};

/***/ },
/* 94 */
/***/ function(module, exports, __webpack_require__) {

	// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window
	var toIObject = __webpack_require__(39)
	  , gOPN      = __webpack_require__(95).f
	  , toString  = {}.toString;
	
	var windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames
	  ? Object.getOwnPropertyNames(window) : [];
	
	var getWindowNames = function(it){
	  try {
	    return gOPN(it);
	  } catch(e){
	    return windowNames.slice();
	  }
	};
	
	module.exports.f = function getOwnPropertyNames(it){
	  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));
	};


/***/ },
/* 95 */
/***/ function(module, exports, __webpack_require__) {

	// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)
	var $keys      = __webpack_require__(38)
	  , hiddenKeys = __webpack_require__(48).concat('length', 'prototype');
	
	exports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O){
	  return $keys(O, hiddenKeys);
	};

/***/ },
/* 96 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(89)('asyncIterator');

/***/ },
/* 97 */
/***/ function(module, exports, __webpack_require__) {

	__webpack_require__(89)('observable');

/***/ },
/* 98 */
/***/ function(module, exports) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default={ACTION_TYPE_AUDIO:'audio',ACTION_TYPE_VIDEO:'video',ACTION_TYPE_CHAT:'chat',ACTION_TYPE_AUDIO_VIDEO:'audio-video',ACTION_TYPE_SCREEN_SHARING:'screen-sharing',ACTION_TYPE_CALL:'call'};

/***/ },
/* 99 */
/***/ function(module, exports) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});exports.default=function(WEBCOMBASE_URL){var _datastore=null,_rooms=null,_reach=null,_webrtc=null,_sipPhoneNumbers=null;function _initChildren(){_rooms=_datastore.child('roomsList');_reach=_datastore.child('reach');_webrtc=_datastore.child('webrtc');_sipPhoneNumbers=_datastore.child('sipPhoneNumbers');}function _init(){_datastore=new Webcom(WEBCOMBASE_URL);_initChildren();}function _setWebcomBaseUrl(p_webcombase_url){_datastore=new Webcom(p_webcombase_url);_initChildren();}function _getWebcomBaseUrl(){if(_datastore){return _datastore.toString();}return undefined;}function _setDatastore(p_datastore){_datastore=p_datastore;_initChildren();}function _getDatastore(){return _datastore;}function _setRooms(p_rooms){_rooms=p_rooms;}function _getRooms(){return _rooms;}function _setReach(p_reach){_reach=p_reach;}function _getReach(){return _reach;}function _setWebrtc(p_webrtc){_webrtc=p_webrtc;}function _getWebrtc(){return _webrtc;}function _setSipPhoneNumbers(p_sipPhoneNumbers){_sipPhoneNumbers=p_sipPhoneNumbers;}function _getSipPhoneNumbers(){return _sipPhoneNumbers;}_init();return {setWebcomBaseUrl:_setWebcomBaseUrl,getWebcomBaseUrl:_getWebcomBaseUrl,setDatastore:_setDatastore,getDatastore:_getDatastore,setRooms:_setRooms,getRooms:_getRooms,setReach:_setReach,getReach:_getReach,setWebrtc:_setWebrtc,getWebrtc:_getWebrtc,setSipPhoneNumbers:_setSipPhoneNumbers,getSipPhoneNumbers:_getSipPhoneNumbers};};

/***/ },
/* 100 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _keys=__webpack_require__(77),_keys2=_interopRequireDefault(_keys),_stringify=__webpack_require__(75),_stringify2=_interopRequireDefault(_stringify),_utils=__webpack_require__(101),_utils2=_interopRequireDefault(_utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var INVITATION_ONGOING='ONGOING',INVITATION_ACCEPTED='ACCEPTED',INVITATION_REJECTED='REJECTED',INVITATION_CANCELED='CANCELED',DEVICE_STATUS_CONNECTED='CONNECTED',ROOM_STATUS_OPEN='OPEN',reach=function reach(p_me,datarefs){var me=p_me,dataref=datarefs.getReach(),onUserAddedCb=null,onUserChangedCb=null,onUserRemovedCb=null,newInviteCb=null,onRoomInviteChangedCb=null,mOutgoingInvites=[],mIncomingInvitation=[],automaticRejectTimeOut=null,automaticRejectReason=null,mDeviceId=null;function init(){mDeviceId=dataref.child('userList/'+me+'/connectedList/'+_utils2.default.appInstanceId);mDeviceId.onDisconnect().remove();mDeviceId.child('status').set(DEVICE_STATUS_CONNECTED);try{(function(){var description=mDeviceId.child('description');if(_utils2.default.appInstanceId){description.child('appInstanceId').set(_utils2.default.appInstanceId);}var navigatorData={},properties=['appCodeName','appName','appVersion','buildID','cookieEnabled','language','onLine','oscpu','platform','product','productSub','securityPolicy','userAgent','vendor','vendorSub'];properties.forEach(function(property){if(navigator[property]){navigatorData[property]=navigator[property];}});description.child('navigator').set(navigatorData);})();}catch(e){console.error('(ReachSDK::reach::init)failed to get information about device. error='+e);}dataref.child('userList/'+me+'/wasInsideReach').set(true);}function _isConnected(p_userId,p_cb){console.log('(ReachSDK::reach::_isConnected)userId: '+p_userId);dataref.child('userList/'+p_userId+'/connectedList').once('value',function(snapshot){if(p_cb&&typeof p_cb=='function'){p_cb(snapshot.val()!==null);}});}function _isRegistered(p_userId,p_cb){console.log('(ReachSDK::reach::_isRegistered)userId: '+p_userId);dataref.child('userList/'+p_userId+'/wasInsideReach').once('value',function(snapshot){if(p_cb&&typeof p_cb=='function'){p_cb(snapshot.val()!==null);}});}function _setConnectedStatus(p_status){if(mDeviceId){mDeviceId.child('status').set(p_status);}}function _setOnUserAdded(p_cb){if(onUserAddedCb){dataref.child('userList').off('child_added',onUserAddedCb);onUserAddedCb=null;}if(p_cb&&typeof p_cb=='function'){onUserAddedCb=function onUserAddedCb(snapshot){console.log('(ReachSDK::reach::onUserAddedCb) '+snapshot.name()+'='+(0,_stringify2.default)(snapshot.val()));var obj={};obj[snapshot.name()]=snapshot.val();p_cb(obj);};dataref.child('userList').on('child_added',onUserAddedCb);}}function _setOnUserChanged(p_cb){if(onUserChangedCb){dataref.child('userList').off('child_changed',onUserChangedCb);onUserChangedCb=null;}if(p_cb&&typeof p_cb=='function'){onUserChangedCb=function onUserChangedCb(snapshot){console.log('(ReachSDK::reach::onUserChangedCb) '+snapshot.name()+'='+(0,_stringify2.default)(snapshot.val()));var obj={};obj[snapshot.name()]=snapshot.val();p_cb(obj);};dataref.child('userList').on('child_changed',onUserChangedCb);}}function _setOnUserRemoved(p_cb){if(onUserRemovedCb){dataref.child('userList').off('child_removed',onUserRemovedCb);onUserRemovedCb=null;}if(p_cb&&typeof p_cb=='function'){onUserRemovedCb=function onUserRemovedCb(snapshot){console.log('(ReachSDK::reach::onUserRemovedCb) '+snapshot.name()+'='+(0,_stringify2.default)(snapshot.val()));var obj={};obj[snapshot.name()]=snapshot.val();p_cb(obj);};dataref.child('userList').on('child_removed',onUserRemovedCb);}}function _setOnNewRoomInvitation(p_onNewRoomInviteCb){if(newInviteCb){dataref.child('invitationList/'+me).off('child_added',newInviteCb);newInviteCb=null;}if(p_onNewRoomInviteCb&&typeof p_onNewRoomInviteCb=='function'){newInviteCb=function newInviteCb(snapshot){if(snapshot.val().status===INVITATION_ONGOING){(function(){console.log('(ReachSDK::reach::_setOnNewRoomInvitation)new Invite received,id) '+snapshot.name()+',content='+(0,_stringify2.default)(snapshot.val()));var invitationId=snapshot.name();if(!mIncomingInvitation){mIncomingInvitation=[];}if(mIncomingInvitation[invitationId]){if(mIncomingInvitation[invitationId].timeout){clearTimeout(mIncomingInvitation[invitationId].timeout);}delete mIncomingInvitation[invitationId];}mIncomingInvitation[invitationId]={};var obj={};obj[invitationId]=snapshot.val();p_onNewRoomInviteCb(obj);var invitationRef=dataref.child('invitationList/'+me+'/'+invitationId);if(automaticRejectTimeOut){mIncomingInvitation[invitationId].timeout=setTimeout(function(){if(automaticRejectTimeOut){console.log('(ReachSDK::reach::_setOnNewRoomInvitation)automatic reject of Invite received='+(0,_stringify2.default)(snapshot.val()));invitationRef.onDisconnect().cancel();if(automaticRejectReason){invitationRef.update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_REJECTED,status_info:automaticRejectReason});}else {invitationRef.update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_REJECTED});}}},automaticRejectTimeOut);}invitationRef.once('child_changed',function(snapshot){if(snapshot&&snapshot.name()==='status'){snapshot.ref().parent().once('value',function(snapshot2){var cb_invitationId=void 0,cb_obj_content=void 0;if(snapshot2){cb_invitationId=snapshot.ref().parent().name();cb_obj_content=snapshot2.val();var cb_obj={};cb_obj[cb_invitationId]=cb_obj_content;if(mIncomingInvitation&&mIncomingInvitation[cb_invitationId]&&mIncomingInvitation[cb_invitationId].timeout){clearTimeout(mIncomingInvitation[cb_invitationId].timeout);}console.log('(ReachSDK::reach::_setOnNewRoomInvitation)Invite changed,id=) '+cb_invitationId+', new content='+(0,_stringify2.default)(cb_obj_content));if(cb_obj&&onRoomInviteChangedCb){onRoomInviteChangedCb(cb_obj);}delete mIncomingInvitation[cb_invitationId];}});}});})();}};dataref.child('invitationList/'+me).on('child_added',newInviteCb);}}function _setOnRoomInvitationChanged(p_onRoomInviteChangedCb){if(onRoomInviteChangedCb){onRoomInviteChangedCb=null;}if(p_onRoomInviteChangedCb&&typeof p_onRoomInviteChangedCb=='function'){onRoomInviteChangedCb=p_onRoomInviteChangedCb;}}function _setNewRoomInvitationTimeout(p_timeout,p_reason){if(automaticRejectTimeOut){automaticRejectTimeOut=null;}if(automaticRejectReason){automaticRejectReason=null;}if(p_timeout&&p_timeout===parseInt(p_timeout,10)&&p_timeout>0){console.log('(ReachSDK::reach::_setNewRoomInvitationTimeout)timeout='+p_timeout);automaticRejectTimeOut=p_timeout;}if(p_reason){automaticRejectReason=p_reason;}}function _isUserPresentInRoom(p_roomId,p_user,p_cb){console.log('(ReachSDK::reach::_isUserPresentInRoom)p_roomId='+p_roomId+' p_user='+p_user);if(!(p_roomId&&typeof p_roomId=='string')){console.error('(ReachSDK::reach::_isUserPresentInRoom)parameter p_roomid is incorrect. Expecting non empty string');return;}if(!(p_user&&typeof p_user=='string')){console.error('(ReachSDK::reach::_isUserPresentInRoom)parameter p_user is incorrect. Expecting non empty string');return;}if(!(p_cb&&typeof p_cb=='function')){console.error('(ReachSDK::reach::_isUserPresentInRoom)parameter p_cb is incorrect. if defined, expecting a function');return;}datarefs.getRooms().child(p_roomId+'/participantList/'+p_user+'/wasInsideRoom').once('value',function(snapshot){var wasPresent=snapshot.val()!==null;console.log('(ReachSDK::reach::_isUserPresentInRoom)p_roomId='+p_roomId+',p_user='+p_user+',result='+wasPresent);p_cb(wasPresent,p_roomId,p_user);});}function _cancelInvitation(p_roomId,p_guestIds,p_cb){if(!(p_roomId&&typeof p_roomId=='string')){console.error('(ReachSDK::reach::_cancelInvitation)parameter p_roomid is incorrect. Expecting non empty string');return;}if(p_guestIds&&!p_guestIds instanceof Array){console.error('(ReachSDK::reach::_cancelInvitation)parameter p_guestIds is incorrect. Expecting an Array');return;}console.log(' (ReachSDK::reach::_cancelInvitation)p_roomId='+p_roomId+', p_guestIds='+(0,_stringify2.default)(p_guestIds));if(mOutgoingInvites&&mOutgoingInvites[p_roomId]){if(p_guestIds){p_guestIds.forEach(function(guestId,i){if(!(guestId&&typeof guestId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_guestIds['+i+'] is incorrect. Expecting non empty string');}else if(mOutgoingInvites[p_roomId][guestId]){if(mOutgoingInvites[p_roomId][guestId].InviteDataref){mOutgoingInvites[p_roomId][guestId].InviteDataref.onDisconnect().cancel();if(mOutgoingInvites[p_roomId][guestId].InviteChangedCb&&typeof mOutgoingInvites[p_roomId][guestId].InviteChangedCb=='function'){mOutgoingInvites[p_roomId][guestId].InviteDataref.off('child_changed',mOutgoingInvites[p_roomId][guestId].InviteChangedCb);}mOutgoingInvites[p_roomId][guestId].InviteDataref.once('value',function(dataSnapshot){var cb_status=void 0,cb_guestId=void 0,cb_roomId=void 0;if(dataSnapshot&&dataSnapshot.val()){cb_status=dataSnapshot.val().status;cb_roomId=dataSnapshot.val().room;cb_guestId=dataSnapshot.ref().parent().name();if(cb_status&&cb_status===INVITATION_ONGOING){mOutgoingInvites[cb_roomId][cb_guestId].InviteDataref.update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_CANCELED});if(mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb&&typeof mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb=='function'){mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb(cb_roomId,cb_guestId,INVITATION_CANCELED);}console.log('(ReachSDK::reach::_cancelInvitation)deleting Invite to room '+cb_roomId+' for invitee '+cb_guestId);}else {console.warn('(ReachSDK::reach::_cancelInvitation)cannot delete intivation to room '+cb_roomId+' for guest '+cb_guestId+' Invitation has been removed/rejected/accepted');}}delete mOutgoingInvites[p_roomId][guestId];if(p_cb&&typeof p_cb=='function'){p_cb(guestId);}});}else {delete mOutgoingInvites[p_roomId][guestId];if(p_cb&&typeof p_cb=='function'){p_cb(guestId);}}}else {if(p_cb&&typeof p_cb=='function'){p_cb(guestId);}}});}else {(0,_keys2.default)(mOutgoingInvites[p_roomId]).forEach(function(invitee){_cancelInvitation(p_roomId,[invitee],p_cb);});}}else {console.warn('(ReachSDK::reach::_cancelInvitation) Invite to room '+p_roomId+' not found');}}function _inviteToRoom(p_roomId,p_guestIds,p_topic,p_statusChangedCb){if(!(p_roomId&&typeof p_roomId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_roomid is incorrect. Expecting non empty string');return;}if(!(p_topic&&typeof p_topic=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_topic is incorrect. Expecting non empty string');return;}if(p_statusChangedCb&&typeof p_statusChangedCb!='function'){console.warn('(ReachSDK::reach::inviteToRoom)parameter p_statusChangedCb is incorrect. if defined, expecting a function');}if(!(p_guestIds&&p_guestIds instanceof Array)){console.error('(ReachSDK::reach::inviteToRoom)parameter p_guestIds is incorrect. Expecting an Array');return;}datarefs.getRooms().child(p_roomId).child('commonDataList').update({status:ROOM_STATUS_OPEN,owner:me});var _isUserPresentInRoomCb=function _isUserPresentInRoomCb(isAlreadyPresent,p_roomId2,p_guestId2){if(!isAlreadyPresent){datarefs.getRooms().child(p_roomId2+'/participantList/'+p_guestId2).update({connected:false,wasInsideRoom:false});}},_InviteChangedCb=function _InviteChangedCb(snapshot){console.log('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)');if(snapshot&&snapshot.name()==='status'){var cb_guestId2=snapshot.ref().parent().parent().name();console.log('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cb_guestId2='+cb_guestId2);if(mOutgoingInvites&&mOutgoingInvites[p_roomId]&&mOutgoingInvites[p_roomId][cb_guestId2]&&mOutgoingInvites[p_roomId][cb_guestId2].InviteChangedCb){mOutgoingInvites[p_roomId][cb_guestId2].InviteDataref.off('child_changed',mOutgoingInvites[p_roomId][cb_guestId2].InviteChangedCb);}snapshot.ref().parent().once('value',function(snapshot2){var cb_status=void 0,cb_guestId=void 0,cb_roomId=void 0,cb_status_info=void 0;if(snapshot2){cb_status=snapshot2.val().status;cb_roomId=snapshot2.val().room;cb_status_info=snapshot2.val().status_info;cb_guestId=snapshot2.ref().parent().name();console.log('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)roomId='+cb_roomId+' invitee='+cb_guestId+' new invitation status='+cb_status+' status info='+cb_status_info);if(mOutgoingInvites&&mOutgoingInvites[cb_roomId]&&mOutgoingInvites[cb_roomId][cb_guestId]&&mOutgoingInvites[cb_roomId][cb_guestId].InviteDataref){mOutgoingInvites[cb_roomId][cb_guestId].InviteDataref.onDisconnect().cancel();if(mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb&&typeof mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb=='function'){mOutgoingInvites[cb_roomId][cb_guestId].statusChangedCb(cb_roomId,cb_guestId,cb_status,cb_status_info);}else {console.warn('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cannot retrieve mathing p_statusChangedCb');}delete mOutgoingInvites[cb_roomId][cb_guestId];}else {console.warn('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cannot retrieve mathing mOutgoingInvite');}}else {console.warn('(ReachSDK::reach::inviteToRoom::_InviteChangedCb)cannot retrieve invitation');}});}};p_guestIds.forEach(function(mGuestId,i){if(!(mGuestId&&typeof mGuestId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter p_guestIds['+i+'] is incorrect. Expecting non empty string');}else {console.log('(ReachSDK::reach::inviteToRoom)roomId='+p_roomId+' invitee='+mGuestId.toString());if(mOutgoingInvites[p_roomId]&&mOutgoingInvites[p_roomId][mGuestId]){_cancelInvitation(p_roomId,[mGuestId],function(p_guestId){if(p_guestId&&p_guestId===mGuestId){_inviteToRoom(p_roomId,[p_guestId],p_topic,p_statusChangedCb);}});return;}if(!mOutgoingInvites[p_roomId]){mOutgoingInvites[p_roomId]=[];}mOutgoingInvites[p_roomId][mGuestId]={};_isUserPresentInRoom(p_roomId,mGuestId,_isUserPresentInRoomCb);mOutgoingInvites[p_roomId][mGuestId].InviteDataref=dataref.child('invitationList').child(mGuestId).push({from:me,room:p_roomId,timestamp_creation:Webcom.ServerValue.TIMESTAMP,topic:p_topic,status:INVITATION_ONGOING});console.log('(ReachSDK::reach::inviteToRoom)InviteDataref='+mOutgoingInvites[p_roomId][mGuestId].InviteDataref.toString());mOutgoingInvites[p_roomId][mGuestId].InviteChangedCb=_InviteChangedCb;mOutgoingInvites[p_roomId][mGuestId].InviteDataref.on('child_changed',mOutgoingInvites[p_roomId][mGuestId].InviteChangedCb);mOutgoingInvites[p_roomId][mGuestId].statusChangedCb=p_statusChangedCb;mOutgoingInvites[p_roomId][mGuestId].InviteDataref.onDisconnect().update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_CANCELED});}});}function _acceptInvitation(p_invitation){var inviteId=(0,_keys2.default)(p_invitation)[0];if(!inviteId){console.error('(ReachSDK::reach::_acceptInvitation)parameter p_invitation is incorrect. cannot get invitation Id');return;}if(!p_invitation[inviteId]){console.error('(ReachSDK::reach::_acceptInvitation)parameter p_invitation is incorrect. cannot get invitation data');return;}dataref.child('invitationList/'+me+'/'+inviteId).once('value',function(dataSnapshot){var cb_status=void 0,cb_guestId=void 0,cb_invitationId=void 0;if(dataSnapshot&&dataSnapshot.val()){cb_invitationId=dataSnapshot.name();cb_status=dataSnapshot.val().status;cb_guestId=dataSnapshot.ref().parent().name();if(cb_status&&cb_status===INVITATION_ONGOING){console.log('(ReachSDK::reach::_acceptInvitation)inviteId='+inviteId+',data='+(0,_stringify2.default)(p_invitation[inviteId]));dataref.child('invitationList/'+cb_guestId+'/'+cb_invitationId).update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_ACCEPTED});}else {console.warn('(ReachSDK::reach::_acceptInvitation)inviteId='+cb_invitationId+',data='+(0,_stringify2.default)(p_invitation[inviteId])+', cannot be accepted. It has been removed or canceled');}}});}function _rejectInvitation(p_invitation,p_reason){var inviteId=(0,_keys2.default)(p_invitation)[0];if(!inviteId){console.error('(ReachSDK::reach::_rejectInvitation)parameter p_invitation is incorrect. cannot get invitation Id');return;}if(!p_invitation[inviteId]){console.error('(ReachSDK::reach::_rejectInvitation)parameter p_invitation is incorrect. cannot get invitation data');return;}dataref.child('invitationList/'+me+'/'+inviteId).once('value',function(dataSnapshot){var cb_status=void 0,cb_guestId=void 0,cb_invitationId=void 0;if(dataSnapshot&&dataSnapshot.val()){cb_invitationId=dataSnapshot.name();cb_status=dataSnapshot.val().status;cb_guestId=dataSnapshot.ref().parent().name();if(cb_status&&cb_status===INVITATION_ONGOING){console.log('(ReachSDK::reach::_rejectInvitation)inviteId='+inviteId+',data='+(0,_stringify2.default)(p_invitation[inviteId]));if(p_reason){dataref.child('invitationList/'+cb_guestId+'/'+cb_invitationId).update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status_info:p_reason,status:INVITATION_REJECTED});}else {dataref.child('invitationList/'+cb_guestId+'/'+cb_invitationId).update({timestamp_end:Webcom.ServerValue.TIMESTAMP,status:INVITATION_REJECTED});}}else {console.warn('(ReachSDK::reach::_rejectInvitation)inviteId='+cb_invitationId+',data='+(0,_stringify2.default)(p_invitation[inviteId])+', cannot be rejected. It has been removed or canceled');}}});}function _isRoomActive(p_invitation,p_cb){if(p_invitation&&p_cb&&typeof p_cb=='function'){(function(){var inviteId=(0,_keys2.default)(p_invitation)[0];console.log('(ReachSDK::reach::_isRoomActive)inviteId='+inviteId);var roomId=p_invitation[inviteId].room;datarefs.getRooms().child(roomId+'/commonDataList/status').once('value',function(snapshot){var opened=snapshot&&snapshot.val()&&snapshot.val()===ROOM_STATUS_OPEN;console.log('(ReachSDK::reach::_isRoomActive)inviteId='+inviteId+' result='+opened);p_cb(opened);});})();}}function _archiveInvitations(p_userId,p_cb){console.log('(ReachSDK::reach::_archiveInvitations)userId='+p_userId);dataref.child('invitationList/'+me).once('value',function(snapshot){if(snapshot&&snapshot.hasChildren()){(function(){var nbChildren=snapshot.numChildren(),nbChildrenProcessed=0;snapshot.forEach(function(childSnapshot){if(childSnapshot&&childSnapshot.val()){console.log('(ReachSDK::reach::_archiveInvitations)userId='+p_userId+' inviteId='+childSnapshot.name());if(childSnapshot.val().status===INVITATION_REJECTED||childSnapshot.val().status===INVITATION_CANCELED){dataref.child('invitationListHistory/'+p_userId+'/'+childSnapshot.name()).update(childSnapshot.val());childSnapshot.ref().remove();nbChildrenProcessed++;if(nbChildrenProcessed>=nbChildren&&p_cb&&typeof p_cb=='function'){p_cb();}}else {var inviteData={};inviteData[childSnapshot.name()]=childSnapshot.val();_isRoomActive(inviteData,function(isActive){if(isActive){nbChildrenProcessed++;if(nbChildrenProcessed>=nbChildren&&p_cb&&typeof p_cb=='function'){p_cb();}}else {if(childSnapshot.val().status===INVITATION_ONGOING){var newValue=childSnapshot.val();newValue.status=INVITATION_CANCELED;dataref.child('invitationListHistory/'+p_userId+'/'+childSnapshot.name()).set(newValue);}else {dataref.child('invitationListHistory/'+p_userId+'/'+childSnapshot.name()).set(childSnapshot.val());}childSnapshot.ref().remove();nbChildrenProcessed++;if(nbChildrenProcessed>=nbChildren&&p_cb&&typeof p_cb=='function'){p_cb();}}});}}else {if(p_cb&&typeof p_cb=='function'){p_cb();}}});})();}else {if(p_cb&&typeof p_cb=='function'){p_cb();}}});}function _close(){console.log('(ReachSDK::reach::_close)');if(newInviteCb){dataref.child('invitationList').child(me).off('child_added',newInviteCb);newInviteCb=null;}if(onUserAddedCb){dataref.child('userList').off('child_added',onUserAddedCb);onUserAddedCb=null;}if(onUserChangedCb){dataref.child('userList').off('child_changed',onUserChangedCb);onUserChangedCb=null;}if(onUserRemovedCb){dataref.child('userList').off('child_removed',onUserRemovedCb);onUserRemovedCb=null;}if(mOutgoingInvites){mOutgoingInvites.forEach(function(roomId){mOutgoingInvites[roomId].forEach(function(invitee){if(invitee.InviteDataref){invitee.InviteDataref.onDisconnect().cancel();invitee.InviteDataref.update({status:INVITATION_CANCELED,timestamp_end:Webcom.ServerValue.TIMESTAMP});}});});mOutgoingInvites=[];}if(automaticRejectTimeOut){automaticRejectTimeOut=null;}if(automaticRejectReason){automaticRejectReason=null;}if(mDeviceId){mDeviceId.remove();mDeviceId=null;}}function _isUserPresent(roomId,userId,callback){console.log('(ReachSDK::reach::_isUserPresent) userId='+userId);if(!(userId&&typeof userId=='string')){console.error('(ReachSDK::reach::_isUserPresent)parameter userId is incorrect. Expecting non empty string');return;}if(!(callback&&typeof callback=='function')){console.error('(ReachSDK::reach::_isUserPresent)parameter callback is incorrect. if defined, expecting a function');return;}datarefs.getRooms().child(roomId+'/participantList/'+userId+'/connected').once('value',function(snapshot){var isConnected=snapshot.val();console.log('(ReachSDK::reach::_isUserPresent)userId='+userId+',result='+isConnected);callback(!!isConnected);});}init();return {getMe:function getMe(){return me;},isConnected:_isConnected,isRegistered:_isRegistered,setConnectedStatus:_setConnectedStatus,setOnUserAdded:_setOnUserAdded,setOnUserChanged:_setOnUserChanged,setOnUserRemoved:_setOnUserRemoved,inviteToRoom:_inviteToRoom,cancelInvitation:_cancelInvitation,setOnNewRoomInvitation:_setOnNewRoomInvitation,setOnRoomInvitationChanged:_setOnRoomInvitationChanged,setNewRoomInvitationTimeout:_setNewRoomInvitationTimeout,archiveMyInvitations:function archiveMyInvitations(p_cb){return _archiveInvitations(me,p_cb);},acceptInvitation:_acceptInvitation,rejectInvitation:_rejectInvitation,on:function on(p_evt,p_cb){switch(p_evt){case 'newRoomInvitation':_setOnNewRoomInvitation(p_cb);break;case 'roomInvitationChanged':_setOnRoomInvitationChanged(p_cb);break;case 'userAdded':_setOnUserAdded(p_cb);break;case 'userChanged':_setOnUserChanged(p_cb);break;case 'userRemoved':_setOnUserRemoved(p_cb);break;default:console.error('reach.set: no such event');return -1;}},close:_close,isUserPresent:_isUserPresent};};exports.default=reach;

/***/ },
/* 101 */
/***/ function(module, exports) {

	"use strict";Object.defineProperty(exports,"__esModule",{value:true});var utils=function(){function s4(){return Math.floor((1+Math.random())*0x10000).toString(16).substring(1);}function _guid(){return ""+s4()+s4()+"-"+s4()+"-"+s4()+"-"+s4()+"-"+s4()+s4()+s4();}var _appInstanceId=_guid();return {appInstanceId:_appInstanceId};}();exports.default=utils;

/***/ },
/* 102 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _keys=__webpack_require__(77),_keys2=_interopRequireDefault(_keys),_stringify=__webpack_require__(75),_stringify2=_interopRequireDefault(_stringify);exports.default=function(p_me,p_roomId,datarefs,webrtcmngr){var roomId=p_roomId,me=p_me,dataref=datarefs.getRooms().child(roomId),roomWebrtcStacks={},mAvailableStreams=[],mStreams=[],mMutedStreams=[],remoteUnpublishedCb=null,instantMessageListCb=null,publishedMediaListCb=null,publishedMediaListCbForAvailableStream=null,unPublishedMediaListCb=null,unPublishedMediaListCbForAvailableStream=null,participantListJoinAddedCb=null,participantListJoinChangedCb=null,participantListLeaveCb=null;function _addAvailableStream(data){console.log('(ReachSDK::room['+roomId+']::_addAvailableStream)data='+(0,_stringify2.default)(data));mAvailableStreams.push(data);}function _removeAvailableStream(streamId){console.log('(ReachSDK::room['+roomId+']::_removeAvailableStream)streamId='+streamId);if(mAvailableStreams&&streamId){for(var i=mAvailableStreams.length-1;i>=0;i--){if(mAvailableStreams[i]&&(0,_keys2.default)(mAvailableStreams[i])[0]&&(0,_keys2.default)(mAvailableStreams[i])[0]===streamId){delete mAvailableStreams[i];}}}}function initWebcomListener(){if(!publishedMediaListCbForAvailableStream){publishedMediaListCbForAvailableStream=function publishedMediaListCbForAvailableStream(snapshot){var obj={},name=snapshot.name(),value=snapshot.val();console.log('(ReachSDK::room['+roomId+']::onPublishedStreamForAvailableStream)stream='+(0,_stringify2.default)(value));obj[name]=value;obj[name].roomId=roomId;_addAvailableStream(obj);};dataref.child('publishedMediaList').on('child_added',publishedMediaListCbForAvailableStream);}if(!unPublishedMediaListCbForAvailableStream){unPublishedMediaListCbForAvailableStream=function unPublishedMediaListCbForAvailableStream(snapshot){var streamId=snapshot.name();console.log('(ReachSDK::room['+roomId+']::onUnPublishedStreamForAvailableStream)stream='+streamId);_removeAvailableStream(streamId);};dataref.child('publishedMediaList').on('child_removed',unPublishedMediaListCbForAvailableStream);}}function init(){dataref.child('participantList/'+me).update({connected:true,wasInsideRoom:true});dataref.child('participantList/'+me+'/connected').onDisconnect().set(false);initWebcomListener();}function _getRoomId(){return roomId;}function _getMe(){return me;}function _setOnParticipantJoin(p_cb){var participantListRef=dataref.child('participantList');if(participantListJoinAddedCb){participantListRef.off('child_added',participantListJoinAddedCb);participantListJoinAddedCb=null;}if(participantListJoinChangedCb){participantListRef.off('child_changed',participantListJoinChangedCb);participantListJoinChangedCb=null;}if(p_cb&&typeof p_cb=='function'){participantListJoinAddedCb=function participantListJoinAddedCb(snapshot){var user=snapshot.name();if(snapshot.val()&&snapshot.val().connected&&snapshot.val().wasInsideRoom){console.log('(ReachSDK::room['+roomId+']::_setOnParticipantJoin) user has joined: '+user);p_cb(user);}};participantListRef.on('child_added',participantListJoinAddedCb);participantListJoinChangedCb=function participantListJoinChangedCb(snapshot){var user=snapshot.name();if(snapshot.val()&&snapshot.val().connected&&snapshot.val().wasInsideRoom){console.log('(ReachSDK::room['+roomId+']::_setOnParticipantJoin) user has joined: '+user);p_cb(user);}};participantListRef.on('child_changed',participantListJoinChangedCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnParticipantJoin)parameter incorrect. Expected function');}}function _setOnParticipantLeave(p_cb){if(participantListLeaveCb){dataref.child('participantList').off('child_changed',participantListLeaveCb);participantListLeaveCb=null;}if(p_cb&&typeof p_cb=='function'){participantListLeaveCb=function participantListLeaveCb(snapshot){var user=snapshot.name();if(snapshot.val()&&!snapshot.val().connected&&snapshot.val().wasInsideRoom){console.log('(ReachSDK::room['+roomId+']::_setOnParticipantLeave) user has left: '+user);p_cb(user);}};dataref.child('participantList').on('child_changed',participantListLeaveCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnParticipantLeave)parameter incorrect. Expected function');}}function _sendInstantMessage(p_message){if(p_message!==''){console.log('(ReachSDK::room['+roomId+']::sendInstantMessage)message='+p_message);dataref.child('instantMessageList').push({from:me,message:p_message,timestamp:Webcom.ServerValue.TIMESTAMP});}}function _setOnInstantMessage(p_cb){if(instantMessageListCb){dataref.child('instantMessageList').off('child_added',instantMessageListCb);instantMessageListCb=null;}if(p_cb&&typeof p_cb=='function'){instantMessageListCb=function instantMessageListCb(snapshot){var obj=snapshot.val();console.log('(ReachSDK::room['+roomId+']::_setOnInstantMessage)receive InstantMessage='+(0,_stringify2.default)(obj));p_cb(obj);};dataref.child('instantMessageList').on('child_added',instantMessageListCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnInstantMessage)parameter incorrect. Expected function');}}function _publishStream(streamId,localVid,p_actionType,getLocalStreamCb){console.log('(ReachSDK::room['+roomId+']::publishStream)roomId='+roomId+',streamId='+streamId+',me='+me+',actionType='+p_actionType);if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::reach::inviteToRoom)parameter streamId is incorrect. Expecting non empty string');return;}var localDataRef=dataref.child('publishedMediaList').child(streamId),remoteDataRef=localDataRef.child('subscribersList'),pubAndSubscribe=function pubAndSubscribe(){localDataRef.set({from:me,appInstanceId:_utils2.default.appInstanceId,actionType:p_actionType});localDataRef.onDisconnect().remove();var addSubscribersListCb=function addSubscribersListCb(snapshot){var remoteAppInstanceId=snapshot.name(),data=snapshot.val(),_subscriberId=data.userId,_peercoId=data.peercoId,_peercoRef=data.peercoRef,isAudioMute=mMutedStreams[streamId]&&mMutedStreams[streamId].audio,isVideoMute=mMutedStreams[streamId]&&mMutedStreams[streamId].video,streamStackId=streamId+'_pub';console.log('(ReachSDK::room['+roomId+']::publishStream::addSubscribersListCb)subscriber '+_subscriberId+' to stream '+streamId+' added '+(0,_stringify2.default)(data));if(!roomWebrtcStacks[streamStackId]){roomWebrtcStacks[streamStackId]=[];}var mStackId=webrtcmngr.createWebrtc(localVid,remoteAppInstanceId,function(){console.log('(ReachSDK::room['+roomId+']::publishStream::addSubscribersListCb)subscriber '+_subscriberId+' to stream '+streamId+' connection lost');},true,p_actionType,_peercoId,_peercoRef,isAudioMute,isVideoMute);roomWebrtcStacks[streamStackId].push({stackId:mStackId,subscriberId:_subscriberId,isPublish:true,peercoId:_peercoId,peercoRef:_peercoRef,streamId:streamId});},removeSubscribersListCb=function removeSubscribersListCb(snapshot){var subscriberId=snapshot.val().userId,streamStacks=roomWebrtcStacks[streamId+'_pub'];if(subscriberId&&streamStacks){console.log('(ReachSDK::room['+roomId+']::publishStream::removeSubscribersListCb)subscriber '+subscriberId+' to stream '+streamId+' removed');for(var i=streamStacks.length-1;i>=0;i--){if(streamStacks[i].subscriberId===subscriberId){webrtcmngr.closeWebrtc(streamStacks[i].stackId,true);roomWebrtcStacks[streamId+'_pub'].splice(i,1);}}}};mStreams[streamId]={addSubscribersListCb:addSubscribersListCb,removeSubscribersListCb:removeSubscribersListCb};remoteDataRef.on('child_added',addSubscribersListCb);remoteDataRef.on('child_removed',removeSubscribersListCb);};if(p_actionType){if(p_actionType===_actions2.default.ACTION_TYPE_VIDEO){_localstream2.default.connectLocalVideoStream(localVid,pubAndSubscribe,getLocalStreamCb);}else if(p_actionType===_actions2.default.ACTION_TYPE_AUDIO){_localstream2.default.connectLocalAudioStream(localVid,pubAndSubscribe,getLocalStreamCb);}else if(p_actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){_localstream2.default.connectLocalAudioVideoStream(localVid,pubAndSubscribe,getLocalStreamCb);}}}function _setOnPublishedStream(p_cb){if(publishedMediaListCb){dataref.child('publishedMediaList').off('child_added',publishedMediaListCb);publishedMediaListCb=null;}if(p_cb&&typeof p_cb=='function'){publishedMediaListCb=function publishedMediaListCb(snapshot){var obj={},name=snapshot.name();obj[name]=snapshot.val();obj[name].roomId=roomId;p_cb(obj);};dataref.child('publishedMediaList').on('child_added',publishedMediaListCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnPublishedStream)parameter incorrect. Expected function');}}function _unPublishStream(streamId,callback){console.log('(ReachSDK::room['+roomId+']::unPublishStream)streamId '+streamId);var localDataRef=dataref.child('publishedMediaList/'+streamId),remoteDataRef=localDataRef.child('subscribersList'),streamStacksId=streamId+'_pub';if(mStreams[streamId]&&mStreams[streamId].addSubscribersListCb){remoteDataRef.off('child_added',mStreams[streamId].addSubscribersListCb);}if(mStreams[streamId]&&mStreams[streamId].removeSubscribersListCb){remoteDataRef.off('child_removed',mStreams[streamId].removeSubscribersListCb);}delete mStreams[streamId];delete mMutedStreams[streamId];localDataRef.onDisconnect().cancel();localDataRef.remove();if(roomWebrtcStacks[streamStacksId]&&roomWebrtcStacks[streamStacksId].length>0){(function(){var nbStack=roomWebrtcStacks[streamStacksId].length,closeCb=function closeCb(){nbStack--;if(nbStack<1){delete roomWebrtcStacks[streamStacksId];if(callback&&typeof callback=='function'){callback();}}};for(var i=nbStack-1;i>=0;i--){webrtcmngr.closeWebrtc(roomWebrtcStacks[streamStacksId][i].stackId,true,closeCb);}_localstream2.default.close();})();}else {delete roomWebrtcStacks[streamStacksId];if(callback&&typeof callback=='function'){callback();}}}function _setOnUnPublishedStream(p_cb){if(unPublishedMediaListCb){dataref.child('publishedMediaList').off('child_removed',unPublishedMediaListCb);unPublishedMediaListCb=null;}if(p_cb&&typeof p_cb=='function'){unPublishedMediaListCb=function unPublishedMediaListCb(snapshot){p_cb(snapshot.name());};dataref.child('publishedMediaList').on('child_removed',unPublishedMediaListCb);}else {console.error('(ReachSDK::room['+roomId+']::_setOnUnPublishedStream)parameter incorrect. Expected function');}}function _subscribeToStream(streamData,remoteVid,getRemoteStreamCb){var streamId=(0,_keys2.default)(streamData)[0],actionType=streamData[streamId].actionType;console.log('(ReachSDK::room['+roomId+']::subscribeToStream)streamId '+streamId);if(mStreams&&mStreams[streamId]){if(actionType){if(actionType===_actions2.default.ACTION_TYPE_VIDEO){_localstream2.default.connectLocalVideoStream(remoteVid,getRemoteStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO){_localstream2.default.connectLocalAudioStream(remoteVid,getRemoteStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){_localstream2.default.connectLocalAudioVideoStream(remoteVid,getRemoteStreamCb);}}return streamId;}var appInstanceId=streamData[streamId].appInstanceId,localDataRef=dataref.child('publishedMediaList').child(streamId),remoteDataRef=localDataRef.child('subscribersList'),streamStacksId=streamId+'_sub',_peercoId=void 0,_peercoRef=void 0;if(!roomWebrtcStacks[streamStacksId]){roomWebrtcStacks[streamStacksId]=[];}else if(roomWebrtcStacks[streamStacksId]&&roomWebrtcStacks[streamStacksId][0]&&roomWebrtcStacks[streamStacksId][0].peercoId){_peercoId=roomWebrtcStacks[streamStacksId][0].peercoId;}var getRandomIntInclusive=function getRandomIntInclusive(min,max){return Math.floor(Math.random()*(max-min+1))+min;};if(!_peercoId){_peercoId=Math.floor(Date.now()).toString()+getRandomIntInclusive(0,1000000);}_peercoRef=datarefs.getWebrtc().push().name();remoteDataRef.child(_utils2.default.appInstanceId).set({ts:Webcom.ServerValue.TIMESTAMP,userId:me,peercoId:_peercoId,peercoRef:_peercoRef});var isAudioMute=mMutedStreams[streamId]&&mMutedStreams[streamId].audio,isVideoMute=mMutedStreams[streamId]&&mMutedStreams[streamId].video,mStackId=webrtcmngr.createWebrtc(remoteVid,appInstanceId,function(){},false,actionType,_peercoId,_peercoRef,isAudioMute,isVideoMute,getRemoteStreamCb);if(!remoteUnpublishedCb){remoteUnpublishedCb=function remoteUnpublishedCb(snapshot){var streamId=snapshot.val().from+'-stream',removedStreamId=streamId+'_sub';console.log('(ReachSDK::room['+roomId+']::remoteUnpublishedCb)streamId '+removedStreamId);if(roomWebrtcStacks[removedStreamId]){var i=0;while(i<roomWebrtcStacks[removedStreamId].length){webrtcmngr.closeWebrtc(roomWebrtcStacks[removedStreamId][i].stackId,false);i++;}delete roomWebrtcStacks[removedStreamId];}};dataref.child('publishedMediaList').on('child_removed',remoteUnpublishedCb);}roomWebrtcStacks[streamStacksId].push({stackId:mStackId,isPublish:false,peercoId:_peercoId,peercoRef:_peercoRef,streamId:streamId});return streamId;}function _unSubscribeFromStream(streamId){console.log('(ReachSDK::room['+roomId+']::unSubscribeFromStream)streamId '+streamId);var localDataRef=dataref.child('publishedMediaList').child(streamId),remoteDataRef=localDataRef.child('subscribersList'),streamStacksId=streamId+'_sub';remoteDataRef.child(_utils2.default.appInstanceId).remove();if(roomWebrtcStacks[streamStacksId]){var i=0;while(i<roomWebrtcStacks[streamStacksId].length){if(roomWebrtcStacks[streamStacksId][i]){webrtcmngr.closeWebrtc(roomWebrtcStacks[streamStacksId][i].stackId,false);}i++;}delete roomWebrtcStacks[streamStacksId];}delete mMutedStreams[streamId];}function _getAvailableStreams(){console.log('(ReachSDK::room['+roomId+']::_getAvailableStreams)');return mAvailableStreams;}function _getAvailableStream(streamId){console.log('(ReachSDK::room['+roomId+']::_getAvailableStream)streamId='+streamId);if(mAvailableStreams&&streamId){for(var i=mAvailableStreams.length-1;i>=0;i--){if(mAvailableStreams[i]&&(0,_keys2.default)(mAvailableStreams[i])[0]&&(0,_keys2.default)(mAvailableStreams[i])[0]===streamId){return mAvailableStreams[i];}}}return null;}function _removeAllAvailableStreams(){console.log('(ReachSDK::room['+roomId+']::_removeAllAvailableStreams');mAvailableStreams=[];}function _muteAudioStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_muteAudioStream)parameter streamId is incorrect. Expecting non empty string');return;}console.log('(ReachSDK::room['+roomId+']::_muteAudioStream)streamId='+streamId);if(!mMutedStreams[streamId]){mMutedStreams[streamId]={};}mMutedStreams[streamId].audio=true;if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.muteAudioWebrtcStack(stacks[i].stackId);}}});}}function _unmuteAudioStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_unmuteAudioStream)parameter streamId is incorrect. Expecting non empty string');return;}if(mMutedStreams[streamId]&&mMutedStreams[streamId].audio){mMutedStreams[streamId].audio=false;}console.log('(ReachSDK::room['+roomId+']::_unmuteAudioStream)streamId='+streamId);if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.unmuteAudioWebrtcStack(stacks[i].stackId);}}});}}function _muteVideoStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_muteVideoStream)parameter streamId is incorrect. Expecting non empty string');return;}console.log('(ReachSDK::room['+roomId+']::_muteVideoStream)streamId='+streamId);if(!mMutedStreams[streamId]){mMutedStreams[streamId]={};}mMutedStreams[streamId].video=true;if(roomWebrtcStacks){console.log(roomWebrtcStacks[streamId+'_pub']);[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.muteVideoWebrtcStack(stacks[i].stackId);}}});}}function _unmuteVideoStream(streamId){if(!(streamId&&typeof streamId=='string')){console.error('(ReachSDK::room['+roomId+']::_unmuteVideoStream)parameter streamId is incorrect. Expecting non empty string');return;}if(mMutedStreams[streamId]&&mMutedStreams[streamId].video){mMutedStreams[streamId].video=false;}console.log('(ReachSDK::room['+roomId+']::_unmuteVideoStream)streamId='+streamId);if(roomWebrtcStacks){[roomWebrtcStacks[streamId+'_pub'],roomWebrtcStacks[streamId+'_sub']].forEach(function(stacks){if(stacks&&stacks.length>0){for(var i=stacks.length-1;i>=0;i--){webrtcmngr.unmuteVideoWebrtcStack(stacks[i].stackId);}}});}}function _close(updateRoomStatusToClose){console.log('(ReachSDK::room['+roomId+']::_close)room '+roomId+', detroyRoom='+updateRoomStatusToClose);var participantListRef=dataref.child('participantList'),publishedMediaListRef=dataref.child('publishedMediaList');participantListRef.child(me+'/connected').set(false);(0,_keys2.default)(mStreams).forEach(_unPublishStream);mStreams=[];if(instantMessageListCb){dataref.child('instantMessageList').off('child_added',instantMessageListCb);instantMessageListCb=null;}if(publishedMediaListCb){publishedMediaListRef.off('child_added',publishedMediaListCb);publishedMediaListCb=null;}if(publishedMediaListCbForAvailableStream){publishedMediaListRef.off('child_added',publishedMediaListCbForAvailableStream);publishedMediaListCbForAvailableStream=null;}if(unPublishedMediaListCb){publishedMediaListRef.off('child_removed',unPublishedMediaListCb);unPublishedMediaListCb=null;}if(unPublishedMediaListCbForAvailableStream){publishedMediaListRef.off('child_removed',unPublishedMediaListCbForAvailableStream);unPublishedMediaListCbForAvailableStream=null;}if(participantListJoinAddedCb){participantListRef.off('child_added',participantListJoinAddedCb);participantListJoinAddedCb=null;}if(participantListJoinChangedCb){participantListRef.off('child_changed',participantListJoinChangedCb);participantListJoinChangedCb=null;}if(participantListLeaveCb){participantListRef.off('child_changed',participantListLeaveCb);participantListLeaveCb=null;}if(remoteUnpublishedCb){publishedMediaListRef.off('child_removed',remoteUnpublishedCb);remoteUnpublishedCb=null;}(0,_keys2.default)(roomWebrtcStacks).forEach(function(streamStacksId){roomWebrtcStacks[streamStacksId].forEach(function(stack){if(streamStacksId&&stack){(function(){var _streamId=stack.streamId,_stackId=stack.stackId,_isPublish=stack.isPublish;if(_isPublish){_unPublishStream(_streamId);}else {_unSubscribeFromStream(_streamId);}setTimeout(function(){webrtcmngr.clearWebrtcStacks(_stackId);},1000);})();}});});setTimeout(function(){roomWebrtcStacks={};mMutedStreams=[];_removeAllAvailableStreams();},1100);if(updateRoomStatusToClose&&updateRoomStatusToClose===true){dataref.child('commonDataList/status').set(ROOM_STATUS_CLOSE);}_localstream2.default.close();}function _switchCamera(){_localstream2.default.switchCamera();}function _getAllVideoSources(){return _localstream2.default.getAllVideoSources();}function _getVideoSourceNumber(){return _localstream2.default.getVideoSourceNumber();}init();return {getRoomId:_getRoomId,getMe:_getMe,setOnParticipantJoin:_setOnParticipantJoin,setOnParticipantLeave:_setOnParticipantLeave,sendInstantMessage:_sendInstantMessage,setOnInstantMessage:_setOnInstantMessage,publishStream:_publishStream,setOnPublishedStream:_setOnPublishedStream,unPublishStream:_unPublishStream,setOnUnPublishedStream:_setOnUnPublishedStream,subscribeToStream:_subscribeToStream,unSubscribeFromStream:_unSubscribeFromStream,getAvailableStreams:_getAvailableStreams,getAvailableStream:_getAvailableStream,muteAudioStream:_muteAudioStream,unmuteAudioStream:_unmuteAudioStream,muteVideoStream:_muteVideoStream,unmuteVideoStream:_unmuteVideoStream,close:_close,on:function on(evt,p_cb){switch(evt){case 'instantMessage':_setOnInstantMessage(p_cb);break;case 'publishedStream':_setOnPublishedStream(p_cb);break;case 'unPublishedStream':_setOnUnPublishedStream(p_cb);break;case 'participantJoin':_setOnParticipantJoin(p_cb);break;case 'participantLeave':_setOnParticipantLeave(p_cb);break;default:console.err('(ReachSDK::room['+roomId+']::on)unsupported '+evt+' event');break;}},switchCamera:_switchCamera,getAllVideoSources:_getAllVideoSources,getVideoSourceNumber:_getVideoSourceNumber};};var _actions=__webpack_require__(98),_actions2=_interopRequireDefault(_actions),_localstream=__webpack_require__(103),_localstream2=_interopRequireDefault(_localstream),_utils=__webpack_require__(101),_utils2=_interopRequireDefault(_utils);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var ROOM_STATUS_CLOSE='CLOSE';

/***/ },
/* 103 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _promise=__webpack_require__(22),_promise2=_interopRequireDefault(_promise);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var localstream=function(){var localVideoStreams=[],localAudioStreams=[],localAudioVideoStreams=[],streamVideo=null,streamAudio=null,streamAudioVideo=null,listenersVideo=[],listenersAudio=[],listenersAudioVideo=[],mLocalStreamVideo=null,mLocalStreamAudio=null,mLocalStreamAudioVideo=null,initVideoProgress=false,initAudioProgress=false,initAudioVideoProgress=false,videoSources=[],currentVideoSource=0,streamListenersAudioVideo=[],streamListenersVideo=[];function _getAllVideoSources(){if(videoSources.length>0){return _promise2.default.resolve(videoSources);}return navigator.mediaDevices.enumerateDevices().then(function(sourceInfos){videoSources=sourceInfos.filter(function(sourceInfo){return (/^videoinput$/.test(sourceInfo.kind));});return videoSources;});}function _initVideo(callback){console.log('(ReachSDK::localstream::initVideo)');if(!initVideoProgress){initVideoProgress=true;_getAllVideoSources().then(function(sources){navigator.getMedia=getUserMedia;mLocalStreamVideo=document.createElement('VIDEO');mLocalStreamVideo.muted=true;var audioSource=void 0,videoSource=void 0;if(sources[currentVideoSource]){videoSource=sources[currentVideoSource].deviceId;}var constraints={audio:{deviceId:audioSource?{exact:audioSource}:undefined},video:{deviceId:videoSource?{exact:videoSource}:undefined}};if(streamVideo===null||videoSource){navigator.getMedia(constraints,function(s){console.log(s);streamVideo=s;localVideoStreams.forEach(function(localVideoStream){attachMediaStream(localVideoStream,streamVideo);});listenersVideo.forEach(function(listenerVideo){listenerVideo(streamVideo);});streamListenersVideo.forEach(function(streamListenerVideo){streamListenerVideo(streamVideo);});listenersVideo=[];initVideoProgress=false;if(callback){callback();}},function(error){console.error('Error on webrtcLocalStream - webkitGetUserMedia : error=');console.dir(error);initVideoProgress=false;if(callback){callback(error);}});}else {localVideoStreams.forEach(function(localVideoStream){attachMediaStream(localVideoStream,streamVideo);});listenersVideo.forEach(function(listenerVideo){listenerVideo(streamVideo);});listenersVideo=[];initVideoProgress=false;}});}}function _initAudio(callback){console.log('(ReachSDK::localstream::initAudio)');if(!initAudioProgress){initAudioProgress=true;navigator.getMedia=getUserMedia;mLocalStreamAudio=document.createElement('AUDIO');mLocalStreamAudio.muted=true;localAudioStreams.push(mLocalStreamAudio);if(streamAudio===null){navigator.getMedia({audio:true,video:false},function(s){streamAudio=s;localAudioStreams.forEach(function(localAudioStream){attachMediaStream(localAudioStream,streamAudio);});localAudioStreams=[];listenersAudio.forEach(function(listenerAudio){listenerAudio(streamAudio);});listenersAudio=[];initAudioProgress=false;if(callback){callback();}},function(error){console.error('Error on webrtcLocalStream - webkitGetUserMedia :error=');console.dir(error);initAudioProgress=false;if(callback){callback(error);}});}else {localAudioStreams.forEach(function(localAudioStream){attachMediaStream(localAudioStream,streamAudio);});localAudioStreams=[];listenersAudio.forEach(function(listenerAudio){listenerAudio(streamAudio);});listenersAudio=[];initAudioProgress=false;}}}function _initAudioVideo(callback){console.log('(ReachSDK::localstream::initAudioVideo)');if(!initAudioVideoProgress){initAudioVideoProgress=true;_getAllVideoSources().then(function(sources){navigator.getMedia=getUserMedia;mLocalStreamAudioVideo=document.createElement('AUDIOVIDEO');mLocalStreamAudioVideo.muted=true;var audioSource=void 0,videoSource=void 0;if(sources[currentVideoSource]){videoSource=sources[currentVideoSource].deviceId;}var constraints={audio:{deviceId:audioSource?{exact:audioSource}:undefined},video:{deviceId:videoSource?{exact:videoSource}:undefined}};if(streamAudioVideo===null||videoSource){navigator.getMedia(constraints,function(s){streamAudioVideo=s;localAudioVideoStreams.forEach(function(localAudioVideoStream){attachMediaStream(localAudioVideoStream,streamAudioVideo);});listenersAudioVideo.forEach(function(listenerAudioVideo){listenerAudioVideo(streamAudioVideo);});streamListenersAudioVideo.forEach(function(streamListenerAudioVideo){streamListenerAudioVideo(streamAudioVideo);});listenersAudioVideo=[];initAudioVideoProgress=false;if(callback){callback();}},function(error){console.error('(ReachSDK::localstream::initAudioVideo::Error on webrtcLocalStream - webkitGetUserMedia : error=');console.dir(error);initAudioVideoProgress=false;if(callback){callback(error);}});}else {localAudioVideoStreams.forEach(function(localAudioVideoStream){attachMediaStream(localAudioVideoStream,streamAudioVideo);});listenersAudioVideo.forEach(function(listenerAudioVideo){listenerAudioVideo(streamAudioVideo);});listenersAudioVideo=[];initAudioVideoProgress=false;}});}}function _switchCamera(){console.log('(ReachSDK::localstream::_switchCamera)');if(videoSources.length>0){currentVideoSource=++currentVideoSource%videoSources.length;if(streamAudioVideo){console.log('(ReachSDK::localstream::_switchCamera)::streamAudioVideo');streamAudioVideo.getTracks().forEach(function(track){track.stop();});_initAudioVideo();}if(streamVideo){console.log('(ReachSDK::localstream::_switchCamera)::streamVideo');streamVideo.getTracks().forEach(function(track){track.stop();});_initVideo();}}}function _close(){console.log('(ReachSDK::localstream::close)');if(mLocalStreamVideo){detachMediaStream(mLocalStreamVideo);mLocalStreamVideo=null;}if(streamAudioVideo){streamAudioVideo.getTracks().forEach(function(track){track.stop();});streamAudioVideo=null;}if(streamVideo){streamVideo.getTracks().forEach(function(track){track.stop();});streamVideo=null;}initVideoProgress=false;if(mLocalStreamAudio){detachMediaStream(mLocalStreamAudio);mLocalStreamAudio=null;}if(streamAudio){streamAudio.stop();streamAudio=null;}initAudioProgress=false;if(mLocalStreamAudioVideo){detachMediaStream(mLocalStreamAudioVideo);mLocalStreamAudioVideo=null;}if(streamAudioVideo){streamAudioVideo.stop();streamAudioVideo=null;}initAudioVideoProgress=false;}return {getVideoStream:function getVideoStream(){return streamVideo;},addVideoListener:function addVideoListener(cb){listenersVideo.push(cb);},initVideo:function initVideo(){_initVideo();},connectLocalVideoStream:function connectLocalVideoStream(videoElt,publishStreamCb,getLocalStreamCb){if(videoElt){videoElt.muted=true;if(streamVideo){console.log('(ReachSDK::localstream::connectLocalVideoStream)use existing streamVideo');attachMediaStream(videoElt,streamVideo);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamVideo);}}else {localVideoStreams.push(videoElt);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersVideo.push(getLocalStreamCb);}_initVideo(publishStreamCb);}}else {if(!streamVideo){if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersVideo.push(getLocalStreamCb);}_initVideo(publishStreamCb);}else {if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamVideo);}}}},getAudioStream:function getAudioStream(){return streamAudio;},addAudioListener:function addAudioListener(cb){listenersAudio.push(cb);},initAudio:function initAudio(){_initAudio();},connectLocalAudioStream:function connectLocalAudioStream(AudioElt,publishStreamCb,getLocalStreamCb){if(AudioElt){AudioElt.muted=true;if(streamAudio){console.log('(ReachSDK::localstream::connectLocalAudioStream)use existing streamAudio');attachMediaStream(AudioElt,streamAudio);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamAudio);}}else {localAudioStreams.push(AudioElt);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudio.push(getLocalStreamCb);}_initAudio(publishStreamCb);}}else {if(!streamAudio){if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudio.push(getLocalStreamCb);}_initAudio(publishStreamCb);}else {if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){getLocalStreamCb(streamAudio);}}}},getAudioVideoStream:function getAudioVideoStream(){return streamAudioVideo;},addAudioVideoListener:function addAudioVideoListener(cb){listenersAudioVideo.push(cb);},initAudioVideo:function initAudioVideo(){_initAudioVideo();},connectLocalAudioVideoStream:function connectLocalAudioVideoStream(AudioVideoElt,publishStreamCb,getLocalStreamCb){if(AudioVideoElt){AudioVideoElt.muted=true;if(streamAudioVideo){console.log('(ReachSDK::localstream::connectLocalAudioVideoStream)use existing streamAudioVideo');attachMediaStream(AudioVideoElt,streamAudioVideo);if(getLocalStreamCb){getLocalStreamCb(streamAudioVideo);}}else {localAudioVideoStreams.push(AudioVideoElt);if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudioVideo.push(getLocalStreamCb);}_initAudioVideo(publishStreamCb);}}else {if(!streamAudioVideo){if(getLocalStreamCb&&typeof getLocalStreamCb=='function'){listenersAudioVideo.push(getLocalStreamCb);}_initAudioVideo(publishStreamCb);}else {if(getLocalStreamCb){getLocalStreamCb(streamAudioVideo);}}}},close:function close(){_close();},switchCamera:function switchCamera(){_switchCamera();},addStreamAudioVideoListener:function addStreamAudioVideoListener(cb){streamListenersAudioVideo.push(cb);},addStreamVideoListener:function addStreamVideoListener(cb){streamListenersVideo.push(cb);},getAllVideoSources:function getAllVideoSources(){return _getAllVideoSources();},getVideoSourceNumber:function getVideoSourceNumber(){return _getAllVideoSources().then(function(sources){return sources.length;});}};}();exports.default=localstream;

/***/ },
/* 104 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _utils=__webpack_require__(101),_utils2=_interopRequireDefault(_utils),_webrtc=__webpack_require__(105),_webrtc2=_interopRequireDefault(_webrtc);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var webrtcmngr=function webrtcmngr(datarefs){var _this=this,webrtcStacks=[],virtualWebrtcStacks=[],mwebrtcmngr_reference=void 0;function _createWebrtc(p_Vid,p_remoteAppInstId,p_onCloseCb,p_isPublish,p_actionType,p_peercoId,p_peercoRef,p_mutedAudio,p_muteVideo,p_getStreamCb){var webrtcStackId=p_peercoId,localDataRef=datarefs.getWebrtc().child(p_peercoRef+'/'+_utils2.default.appInstanceId),remoteDataRef=datarefs.getWebrtc().child(p_peercoRef+'/'+p_remoteAppInstId),virtualWebrtcStack=void 0;if(p_isPublish){virtualWebrtcStack={webRtcStackId:webrtcStackId,localVid:p_Vid};}else {virtualWebrtcStack={webRtcStackId:webrtcStackId,remoteVid:p_Vid};}var id=virtualWebrtcStacks.push(virtualWebrtcStack)-1;if(!webrtcStacks[webrtcStackId]){console.debug('ReachSDK::webrtcmngr::createWebrtc->create a new real webrtcStack');var webRtcStack=(0,_webrtc2.default)(mwebrtcmngr_reference,p_isPublish,localDataRef,remoteDataRef,webrtcStackId,p_actionType,p_mutedAudio,p_muteVideo);webRtcStack.setOnClose(p_onCloseCb);if(p_isPublish){webrtcStacks[webrtcStackId]={stack:webRtcStack,isPublished:1,isSubscribed:0};webRtcStack.connectLocalStream(p_Vid,p_getStreamCb);}else {webrtcStacks[webrtcStackId]={stack:webRtcStack,isPublished:0,isSubscribed:1};webRtcStack.connectRemoteStream(p_Vid,p_getStreamCb);}}else {console.debug('ReachSDK::webrtcmngr::createWebrtc->use existing real webrtcStack');if(p_isPublish){webrtcStacks[webrtcStackId].isPublished++;webrtcStacks[webrtcStackId].stack.connectLocalStream(p_Vid,p_getStreamCb);}else {webrtcStacks[webrtcStackId].isSubscribed++;webrtcStacks[webrtcStackId].stack.connectRemoteStream(p_Vid,p_getStreamCb);}}console.debug('ReachSDK::webrtcmngr::createWebrtc->webrtcStack:'+webrtcStackId+' new isPublished count ='+webrtcStacks[webrtcStackId].isPublished+' new isSubscribed count ='+webrtcStacks[webrtcStackId].isSubscribed);return id;}function _closeWebrtc(id,p_isUnPublish,callback){console.debug('ReachSDK::webrtcmngr::closeWebrtc->id='+id);if(!virtualWebrtcStacks[id]){console.warn('ReachSDK::webrtcmngr::closeWebrtc: virtualstack '+id+' not found');if(callback&&typeof callback=='function'){callback();}return false;}var webrtcStackId=virtualWebrtcStacks[id].webRtcStackId;if(webrtcStackId&&webrtcStacks[webrtcStackId]){if(p_isUnPublish&&webrtcStacks[webrtcStackId].isPublished>0){webrtcStacks[webrtcStackId].isPublished--;}else if(!p_isUnPublish&&webrtcStacks[webrtcStackId].isSubscribed>0){webrtcStacks[webrtcStackId].isSubscribed--;}if(webrtcStacks[webrtcStackId].isPublished<1&&webrtcStacks[webrtcStackId].isSubscribed<1){console.debug('ReachSDK::webrtcmngr::closeWebrtc->destroy  real webrtcStack:'+webrtcStackId);webrtcStacks[webrtcStackId].stack.close(callback);webrtcStacks[webrtcStackId]=null;}else {console.debug('ReachSDK::webrtcmngr::closeWebrtc->decrement  real webrtcStack:'+webrtcStackId+' new isPublished count ='+webrtcStacks[webrtcStackId].isPublished+' new isSubscribed count ='+webrtcStacks[webrtcStackId].isSubscribed);if(callback&&typeof callback=='function'){callback();}}}else {if(callback&&typeof callback=='function'){callback();}console.warn('ReachSDK::webrtcmngr::closeWebrtc cannot found real stack');}if(virtualWebrtcStacks[id].remoteVid){detachMediaStream(virtualWebrtcStacks[id].remoteVid);}virtualWebrtcStacks.splice(id,1);return true;}function _clearWebrtcStacks(webrtcStackId){console.debug('ReachSDK::webrtcmngr::clearWebrtcStacks id='+webrtcStackId);if(webrtcStackId&&webrtcStacks&&webrtcStacks[webrtcStackId]){webrtcStacks[webrtcStackId]=null;}return true;}function _muteAudioWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.muteAudio();}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}function _unmuteAudioWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+',webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.unmuteAudio();}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}function _muteVideoWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.muteVideo();}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::muteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}function _unmuteVideoWebrtcStack(virtualWebrtcStackId){console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId);if(virtualWebrtcStacks&&virtualWebrtcStacks[virtualWebrtcStackId]&&virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId){var webRtcStackId=virtualWebrtcStacks[virtualWebrtcStackId].webRtcStackId;console.log('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+', webRtcStackId='+webRtcStackId);if(webrtcStacks&&webrtcStacks[webRtcStackId]&&webrtcStacks[webRtcStackId].stack){webrtcStacks[webRtcStackId].stack.unmuteVideo();}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) webrtcStack='+webRtcStackId+' not found');}}else {console.warn('(ReachSDK::webrtcmngr::_unmuteAudioWebrtcStack) virtualWebrtcStackId='+virtualWebrtcStackId+' not found');}}function _setWebrtcManger(webrtcmngr){mwebrtcmngr_reference=webrtcmngr;}return {createWebrtc:function createWebrtc(p_Vid,p_remoteAppInstId,p_onCloseCb,p_isPublish,p_actionType,p_peercoId,p_peercoRef,p_mutedAudio,p_muteVideo,p_getStreamCb){return _createWebrtc.bind(_this)(p_Vid,p_remoteAppInstId,p_onCloseCb,p_isPublish,p_actionType,p_peercoId,p_peercoRef,p_mutedAudio,p_muteVideo,p_getStreamCb);},closeWebrtc:_closeWebrtc,clearWebrtcStacks:_clearWebrtcStacks,muteAudioWebrtcStack:_muteAudioWebrtcStack,unmuteAudioWebrtcStack:_unmuteAudioWebrtcStack,muteVideoWebrtcStack:_muteVideoWebrtcStack,unmuteVideoWebrtcStack:_unmuteVideoWebrtcStack,setWebrtcManger:_setWebrtcManger};};exports.default=webrtcmngr;

/***/ },
/* 105 */
/***/ function(module, exports, __webpack_require__) {

	'use strict';Object.defineProperty(exports,"__esModule",{value:true});var _stringify=__webpack_require__(75),_stringify2=_interopRequireDefault(_stringify),_actions=__webpack_require__(98),_actions2=_interopRequireDefault(_actions),_localstream=__webpack_require__(103),_localstream2=_interopRequireDefault(_localstream);function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj};}var ICE_CONNECTION_STATE_DISCONNECTED='disconnected',ICE_CONNECTION_STATE_CONNECTED='connected',ICE_CONNECTION_STATE_COMPLETED='completed',ICE_CONNECTION_STATE_CHECKING='checking',ICE_CONNECTION_STATE_CLOSED='closed',ICE_CONNECTION_STATE_FAILED='failed',ICE_CONNECTION_STATE_OTHER='other',DEFAULT_ICE_CONFIG={iceServers:[{url:'turns:turn1.webcom.orange.com:443',username:'admin',credential:'webcom1234'},{url:'turn:turn2.webcom.orange.com:443',username:'admin',credential:'webcom1234'},{url:'turns:turn3.webcom.orange.com:443',username:'admin',credential:'webcom1234'}]},webrtc=function webrtc(p_webrtcmngr,p_isPublish,p_localDataRef,p_remoteDataRef,p_webrtcStackId,p_actionType,p_muteAudio,p_muteVideo){var webrtcmngr=p_webrtcmngr,stackId=new Date().getTime(),isPublish=p_isPublish,pc=null,localDataRef=p_localDataRef,remoteDataRef=p_remoteDataRef,iceCandidatesListCb=null,_sdpOfferCb=null,_sdpAnswerCb=null,remotedatarefCb=null,onCloseCb=null,webrtcStackId=p_webrtcStackId,actionType=p_actionType,config=null,myPeerConnection=null,myRTCSessionDescription=null,myRTCIceCandidate=null,localStreams=[],remoteStreams=[],remoteStreamsCb=[],receivedStream=null,sentStream=null,isClosed=false,closeInProgress=false,iceConnectionState=null,onCloseCb2=null,isAudioMute=false,isVideoMute=false;console.log('(ReachSDK::webrtc::)stackId=${stackId} isPublish=${isPublish},localDataRef=${localDataRef},remoteDataRef=${remoteDataRef})');var DtlsSrtpKeyAgreement={DtlsSrtpKeyAgreement:true},optional={optional:[DtlsSrtpKeyAgreement]},publisherMediaConstraints={mandatory:{OfferToReceiveAudio:false,OfferToReceiveVideo:false}},subscriberMediaConstraints={mandatory:{OfferToReceiveAudio:true,OfferToReceiveVideo:true}};function onError(e){console.log('(ReachSDK::webrtc::)stackId='+stackId+'error='+e);console.dir(e);}function getIceServersConfigFromServer(callbackOk,callbackKo){console.log('ReachSDK::webrtc::getIceServersConfigFromServer');if(localDataRef){localDataRef.root().child('config').once('value',function(snapshot){var _config=snapshot?snapshot.val():null;if(_config){if(typeof callbackOk=='function'){callbackOk(_config);}}else if(typeof callbackKo=='function'){callbackKo();}},function(error){if(typeof callbackKo=='function'){callbackKo(error);}});}else if(typeof callbackKo=='function'){callbackKo();}}function startListeningToRemoteIceCandidate(){remoteDataRef.child('iceCandidatesList').on('child_added',iceCandidatesListCb);}function stopListeningToRemoteIceCandidate(){remoteDataRef.child('iceCandidatesList').off('child_added',iceCandidatesListCb);}function _muteTracks(enabled,tracks){if(tracks){tracks.forEach(function(track){if(track){track.enabled=enabled;}});}}function _muteAudioTracks(mute){isAudioMute=mute;var stream=isPublish&&sentStream?sentStream:!isPublish&&receivedStream?receivedStream:null;if(stream){_muteTracks(!isAudioMute,stream.getAudioTracks());}}function _muteAudio(){console.log('(ReachSDK::webrtc::_muteAudio)stackId='+stackId);_muteAudioTracks(true);}function _unmuteAudio(){console.log('(ReachSDK::webrtc::_unmuteAudio)stackId='+stackId);_muteAudioTracks(false);}function _muteVideoTracks(mute){isVideoMute=mute;var stream=isPublish&&sentStream?sentStream:!isPublish&&receivedStream?receivedStream:null;if(stream){_muteTracks(!isVideoMute,stream.getVideoTracks());}}function _muteVideo(){console.log('(ReachSDK::webrtc::_muteVideo)stackId='+stackId);_muteVideoTracks(true);}function _unmuteVideo(){console.log('(ReachSDK::webrtc::_unmuteVideo)stackId='+stackId);_muteVideoTracks(false);}function _initSdpCallbacks(isPublish){console.debug('(ReachSDK::webrtc::_initSdpCallbacks)stackId='+stackId);if(_sdpOfferCb){remoteDataRef.off('child_added',_sdpOfferCb);_sdpOfferCb=undefined;}if(_sdpAnswerCb){remoteDataRef.off('child_added',_sdpAnswerCb);_sdpAnswerCb=undefined;}console.debug('(ReachSDK::webrtc::_initSdpCallbacks)isPublish='+isPublish);if(isPublish){_sdpAnswerCb=function sdpAnswerCb(snapshot){if(!isClosed&&snapshot.name()==='sdpAnswer'){var data=snapshot.val();console.debug('(ReachSDK::webrtc::sdpAnswerCb)stackId='+stackId+'-received sdpAnswer: '+(0,_stringify2.default)(data));pc.setRemoteDescription(new myRTCSessionDescription(data),function(){console.debug('(ReachSDK::webrtc::sdpAnswerCb)stackId='+stackId+'-remote description set');startListeningToRemoteIceCandidate();},onError);remoteDataRef.off('child_added',_sdpAnswerCb);_sdpAnswerCb=undefined;snapshot.ref().remove();_initSdpCallbacks(false);}};remoteDataRef.on('child_added',_sdpAnswerCb);}else {_sdpOfferCb=function sdpOfferCb(snapshot){if(!isClosed&&snapshot.name()==='sdpOffer'){var data=snapshot.val();console.debug('(ReachSDK::webrtc::sdpOfferCb)stackId='+stackId+'-received sdpOffer: '+(0,_stringify2.default)(data));pc.setRemoteDescription(new myRTCSessionDescription(data),function(){console.debug('(ReachSDK::webrtc::setRemoteDescription)');pc.createAnswer(function(description){console.log('(ReachSDK::webrtc::sdpOfferCb)stackId='+stackId+'-sending answer');pc.setLocalDescription(description,function(){console.debug('(ReachSDK::webrtc::sdpOfferCb)stackId='+stackId+'-set sdpAnswer in base : '+(0,_stringify2.default)(description));localDataRef.child('sdpAnswer').set(JSON.parse((0,_stringify2.default)(description)));startListeningToRemoteIceCandidate();},onError);setTimeout(function(){receivedStream=pc.getRemoteStreams()[0];if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}if((pc.iceConnectionState===ICE_CONNECTION_STATE_CONNECTED||pc.iceConnectionState===ICE_CONNECTION_STATE_COMPLETED||pc.iceConnectionState===ICE_CONNECTION_STATE_OTHER)&&receivedStream){for(var i=0;i<remoteStreams.length;i++){if(remoteStreams[i]){attachMediaStream(remoteStreams[i],receivedStream);}}for(var j=0;j<remoteStreamsCb.length;j++){if(remoteStreamsCb[j]){remoteStreamsCb[j](receivedStream);}}remoteStreamsCb=[];}},1100);},onError,subscriberMediaConstraints);},onError);remoteDataRef.off('child_added',_sdpOfferCb);_sdpOfferCb=undefined;snapshot.ref().remove();_initSdpCallbacks(false);}};remoteDataRef.on('child_added',_sdpOfferCb);}}function sendOffer(){console.log('(webrtc::sendOffer)stackid='+stackId+'-creating sdpOffer');pc.createOffer(function(description){pc.setLocalDescription(description,function(){console.debug('(ReachSDK::webrtc::createOffer)stackId='+stackId+'-set sdpOffer in base : '+(0,_stringify2.default)(description));localDataRef.child('sdpOffer').set(JSON.parse((0,_stringify2.default)(description)));},onError);},onError,publisherMediaConstraints);}function _initlocalStream(callback){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' get local video stream and renders to local video');if(actionType){var initlocalStream=void 0;if(actionType===_actions2.default.ACTION_TYPE_VIDEO){initlocalStream=function initlocalStream(){console.log('(ReachSDK::webrtc::_initlocalStream)initlocalStream_video');sentStream=_localstream2.default.getVideoStream();_localstream2.default.addStreamVideoListener(function(stream){console.log('(ReachSDK::webrtc::addStreamVideoListener)');if(pc){if(webrtcDetectedBrowser==='firefox'){console.log(webrtcDetectedBrowser);pc.getSenders().forEach(function(sender){return sentStream.getTracks().includes(sender.track)&&pc.removeTrack(sender);});}else {pc.removeStream(sentStream);}sentStream=stream;if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}console.log(stream);pc.addStream(stream);for(var i=0;i<localStreams.length;i++){console.log('(ReachSDK::webrtc::addStreamVideoListener)stackId='+stackId+' rendering local AudioVideo to '+localStreams[i].id);attachMediaStream(localStreams[i],stream);}_initSdpCallbacks(true);sendOffer();}});if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}pc.addStream(sentStream);for(var i=0;i<localStreams.length;i++){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' rendering local video to '+localStreams[i].id);attachMediaStream(localStreams[i],_localstream2.default.getVideoStream());}if(callback&&typeof callback=='function'){callback();}};if(_localstream2.default.getVideoStream()){initlocalStream();}else {_localstream2.default.addVideoListener(initlocalStream);_localstream2.default.initVideo();}}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO){initlocalStream=function initlocalStream(){console.log('(ReachSDK::webrtc::_initlocalStream)initlocalStream_audio');if(_localstream2.default.getAudioStream()&&_localstream2.default.getAudioStream().clone&&typeof _localstream2.default.getAudioStream().clone=='function'){sentStream=_localstream2.default.getAudioStream().clone();}else {sentStream=_localstream2.default.getAudioStream();}if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}pc.addStream(sentStream);for(var i=0;i<localStreams.length;i++){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' rendering local Audio to '+localStreams[i].id);attachMediaStream(localStreams[i],_localstream2.default.getAudioStream());}if(callback&&typeof callback=='function'){callback();}};if(_localstream2.default.getAudioStream()){initlocalStream();}else {_localstream2.default.addAudioListener(initlocalStream);_localstream2.default.initAudio();}}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){initlocalStream=function initlocalStream(){console.log('(ReachSDK::webrtc::_initlocalStream)initlocalStream_audio_video');sentStream=_localstream2.default.getAudioVideoStream();_localstream2.default.addStreamAudioVideoListener(function(stream){console.log('(ReachSDK::webrtc::addStreamAudioVideoListener)');if(pc){if(webrtcDetectedBrowser==='firefox'){console.log(webrtcDetectedBrowser);pc.getSenders().forEach(function(sender){return sentStream.getTracks().includes(sender.track)&&pc.removeTrack(sender);});}else {pc.removeStream(sentStream);}sentStream=stream;if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}console.log(stream);pc.addStream(stream);for(var i=0;i<localStreams.length;i++){console.log('(ReachSDK::webrtc::addStreamAudioVideoListener)stackId='+stackId+' rendering local AudioVideo to '+localStreams[i].id);attachMediaStream(localStreams[i],stream);}_initSdpCallbacks(true);sendOffer();}});if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}pc.addStream(sentStream);for(var i=0;i<localStreams.length;i++){console.log('(ReachSDK::webrtc::_initlocalStream)stackId='+stackId+' rendering local AudioVideo to '+localStreams[i].id);attachMediaStream(localStreams[i],_localstream2.default.getAudioVideoStream());}if(callback&&typeof callback=='function'){callback();}};if(_localstream2.default.getAudioVideoStream()){initlocalStream();}else {_localstream2.default.addAudioVideoListener(initlocalStream);_localstream2.default.initAudioVideo();}}}else {console.warn('(ReachSDK::webrtc::_initlocalStream)no actionType specified');}}function _closeSdpCallbacks(){if(_sdpAnswerCb){remoteDataRef.off('child_added',_sdpAnswerCb);_sdpAnswerCb=null;}if(_sdpOfferCb){remoteDataRef.off('child_added',_sdpOfferCb);_sdpOfferCb=null;}}function _close(callback){if(!closeInProgress&&!isClosed){closeInProgress=true;onCloseCb2=callback;console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closing webrtc stack');if(pc){pc.close();}if(remotedatarefCb){remoteDataRef.off('child_added',remotedatarefCb);remotedatarefCb=null;}if(iceCandidatesListCb){stopListeningToRemoteIceCandidate();iceCandidatesListCb=null;}_closeSdpCallbacks();for(var i=0;i<localStreams.length;i++){if(localStreams[i]){detachMediaStream(localStreams[i]);console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-stopping local video to '+localStreams[i].id);}}for(var j=0;j<remoteStreams.length;j++){if(remoteStreams[j]){detachMediaStream(remoteStreams[j]);console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-stopping remote vid to '+remoteStreams[j].id);}}isClosed=true;console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closing webrtc stack -> waiting for ICE_CONNECTION_STATE_DISCONNECTED');if(isClosed&&(iceConnectionState===ICE_CONNECTION_STATE_DISCONNECTED||iceConnectionState===ICE_CONNECTION_STATE_CLOSED||iceConnectionState===ICE_CONNECTION_STATE_FAILED)){console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closed webrtc stack complete');pc=null;closeInProgress=false;webrtcmngr.clearWebrtcStacks(webrtcStackId);if(onCloseCb2&&typeof onCloseCb2=='function'){onCloseCb2();}}}else {console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closing webrtc stack already in progress');}}function _connectLocalStream(videoElt,getStreamCb){if(actionType){if(actionType===_actions2.default.ACTION_TYPE_VIDEO){_localstream2.default.connectLocalVideoStream(videoElt,getStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO){_localstream2.default.connectLocalAudioStream(videoElt,getStreamCb);}else if(actionType===_actions2.default.ACTION_TYPE_AUDIO_VIDEO){_localstream2.default.connectLocalAudioVideoStream(videoElt,getStreamCb);}}}function _connectRemoteStream(videoElt,getStreamCb){if(videoElt){if(receivedStream){attachMediaStream(videoElt,receivedStream);if(getStreamCb&&typeof getStreamCb=='function'){getStreamCb(receivedStream);}}else {remoteStreams.push(videoElt);if(getStreamCb&&typeof getStreamCb=='function'){remoteStreamsCb.push(getStreamCb);}}}else {if(receivedStream){if(getStreamCb&&typeof getStreamCb=='function'){getStreamCb(receivedStream);}}else {if(getStreamCb&&typeof getStreamCb=='function'){remoteStreamsCb.push(getStreamCb);}}}}function init_pc(){console.log('(ReachSDK::webrtc::init_pc)stackId='+stackId+'_config=',(0,_stringify2.default)(config));pc=new myPeerConnection(config,optional);pc.onicecandidate=function(e){if(e.candidate){console.log('(ReachSDK::webrtc::pc.onicecandidate)stackId='+stackId+' send ice candidate='+(0,_stringify2.default)(e.candidate));localDataRef.child('iceCandidatesList').push({label:e.candidate.sdpMLineIndex,id:e.candidate.sdpMid,candidate:e.candidate.candidate});}};pc.onaddstream=function(e){console.debug('(ReachSDK::webrtc::onaddstream)stackId='+stackId+'-stream:'+(0,_stringify2.default)(e.stream));if(e&&e.stream){receivedStream=e.stream;if(isAudioMute){_muteAudio();}if(isVideoMute){_muteVideo();}}if((pc.iceConnectionState===ICE_CONNECTION_STATE_CONNECTED||pc.iceConnectionState===ICE_CONNECTION_STATE_COMPLETED||pc.iceConnectionState===ICE_CONNECTION_STATE_OTHER)&&receivedStream){for(var i=0;i<remoteStreams.length;i++){if(remoteStreams[i]){attachMediaStream(remoteStreams[i],receivedStream);}}for(var j=0;j<remoteStreamsCb.length;j++){if(remoteStreamsCb[j]){remoteStreamsCb[j](receivedStream);}}remoteStreamsCb=[];}};pc.oniceconnectionstatechange=function(){if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_CHECKING){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-checking');iceConnectionState=ICE_CONNECTION_STATE_CHECKING;}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_CONNECTED){iceConnectionState=ICE_CONNECTION_STATE_CONNECTED;console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-connected');if(receivedStream){remoteStreams.forEach(function(remoteStream){if(remoteStream){console.debug('(ReachSDK::webrtc::onaddstream)pc.onaddstream stackId='+stackId+'-rendering remote vid to '+remoteStream.id);attachMediaStream(remoteStream,receivedStream);}});remoteStreamsCb.forEach(function(remoteStreamCb){if(remoteStreamCb){remoteStreamCb(receivedStream);}});remoteStreamsCb=[];}stopListeningToRemoteIceCandidate();}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_COMPLETED){iceConnectionState=ICE_CONNECTION_STATE_COMPLETED;console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-'+ICE_CONNECTION_STATE_COMPLETED);stopListeningToRemoteIceCandidate();}if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_DISCONNECTED){iceConnectionState=ICE_CONNECTION_STATE_DISCONNECTED;console.log('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-remote disconnection, closing peer connection');}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_CLOSED){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-closed');iceConnectionState=ICE_CONNECTION_STATE_CLOSED;_close();}else if(!!pc&&pc.iceConnectionState===ICE_CONNECTION_STATE_FAILED){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-failed');iceConnectionState=ICE_CONNECTION_STATE_FAILED;}else {if(pc){console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-'+pc.iceConnectionState);}else {console.debug('(ReachSDK::webrtc::oniceconnectionstatechange)stackId='+stackId+'-pc = null');}iceConnectionState=ICE_CONNECTION_STATE_OTHER;}if(isClosed&&(iceConnectionState===ICE_CONNECTION_STATE_DISCONNECTED||iceConnectionState===ICE_CONNECTION_STATE_CLOSED||iceConnectionState===ICE_CONNECTION_STATE_FAILED)){console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-closed webrtc stack complete');pc=null;closeInProgress=false;webrtcmngr.clearWebrtcStacks(webrtcStackId);if(onCloseCb&&typeof onCloseCb=='function'){onCloseCb();}if(onCloseCb2&&typeof onCloseCb2=='function'){onCloseCb2();}}};iceCandidatesListCb=function iceCandidatesListCb(snapshot){var data=snapshot.val(),candidate=new myRTCIceCandidate({sdpMLineIndex:data.label,candidate:data.candidate,sdpMid:data.id});console.log('(ReachSDK::webrtc::iceCandidatesListCb)stackId='+stackId+'received ice candidate='+(0,_stringify2.default)(candidate));pc.addIceCandidate(candidate);};if(isPublish){_initlocalStream(function(){_initSdpCallbacks(isPublish);sendOffer();});}else {_initSdpCallbacks(false);}}(function(){console.log('(ReachSDK::webrtc::init)stackId='+stackId);if(typeof RTCPeerConnection==='function'){myPeerConnection=RTCPeerConnection;}else {console.error('(ReachSDK::webrtc::init)stackId='+stackId+' error=Webrtc is not supported on this browser !');throw new Error('Webrtc is not supported on this browser !');}if(typeof RTCSessionDescription==='function'){myRTCSessionDescription=RTCSessionDescription;}else {console.error('(ReachSDK::webrtc::init)stackId='+stackId+' error2=Webrtc is not supported on this browser !');throw new Error('Webrtc is not supported on this browser !');}if(typeof RTCIceCandidate==='function'){myRTCIceCandidate=RTCIceCandidate;}else {console.error('(ReachSDK::webrtc::init)stackId='+stackId+' error3=Webrtc is not supported on this browser !');throw new Error('Webrtc is not supported on this browser !');}if(p_muteAudio){isAudioMute=true;}if(p_muteVideo){isVideoMute=true;}getIceServersConfigFromServer(function(_config){config=_config;console.log('(ReachSDK::webrtc::) use server config=',(0,_stringify2.default)(config));init_pc();},function(){if(typeof DEFAULT_ICE_CONFIG!=='undefined'){config=DEFAULT_ICE_CONFIG;console.log('(ReachSDK::webrtc::) use DEFAULT_ICE_CONFIG config=',(0,_stringify2.default)(config));}else {console.log('(ReachSDK::webrtc::) no ice  config');}init_pc();});})();return {setOnClose:function setOnClose(cb){onCloseCb=cb;},close:function close(cb){console.debug('(ReachSDK::webrtc::_close)stackId='+stackId+'-close requested');_close(cb);},connectLocalStream:_connectLocalStream,connectRemoteStream:_connectRemoteStream,muteAudio:_muteAudio,unmuteAudio:_unmuteAudio,muteVideo:_muteVideo,unmuteVideo:_unmuteVideo};};exports.default=webrtc;

/***/ }
/******/ ])
});
;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCA5YTRhOGUxNzRlYzcyMDgxYjQzZSIsIndlYnBhY2s6Ly8vLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2suanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2RlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZXhwb3J0LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvcmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGlkZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLW9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Rlc2NyaXB0b3JzLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19mYWlscy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZG9tLWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tcHJpbWl0aXZlLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19wcm9wZXJ0eS1kZXNjLmpzIiwid2VicGFjazovLy8uL3NyYy9hZGFwdGVyLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL3Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3RyaW5nLWF0LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZWZpbmVkLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWRlZmluZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcmVkZWZpbmUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2hhcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlcmF0b3JzLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWNyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWRwcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1rZXlzLWludGVybmFsLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb2YuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FycmF5LWluY2x1ZGVzLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1sZW5ndGguanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWluZGV4LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQta2V5LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zaGFyZWQuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VpZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1idWcta2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faHRtbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXRvLXN0cmluZy10YWcuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3drcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdwby5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8tb2JqZWN0LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hZGQtdG8tdW5zY29wYWJsZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItc3RlcC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYucHJvbWlzZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fY2xhc3NvZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYW4taW5zdGFuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Zvci1vZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1jYWxsLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pcy1hcnJheS1pdGVyLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXByb3RvLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LXBpZS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc3BlY2llcy1jb25zdHJ1Y3Rvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdGFzay5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faW52b2tlLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19taWNyb3Rhc2suanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLWFsbC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fc2V0LXNwZWNpZXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItZGV0ZWN0LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9mbi9qc29uL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9vYmplY3Qva2V5cy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvZm4vb2JqZWN0L2tleXMuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qtc2FwLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wvaXRlcmF0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWV4dC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvY29yZS1qcy9zeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYuc3ltYm9sLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19tZXRhLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL193a3MtZGVmaW5lLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19rZXlvZi5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fZW51bS1rZXlzLmpzIiwid2VicGFjazovLy8uL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wcy5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvci5qcyIsIndlYnBhY2s6Ly8vLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2RhdGFyZWZzLmpzIiwid2VicGFjazovLy8uL3NyYy9yZWFjaC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3Jvb20uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2xvY2Fsc3RyZWFtLmpzIiwid2VicGFjazovLy8uL3NyYy93ZWJydGNtbmdyLmpzIiwid2VicGFjazovLy8uL3NyYy93ZWJydGMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FB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LG9CQUFxQixvQkE3QmYsQ0FpQ04sVUFBVyxVQWpDTCxDQXFDTixZQUFhLFlBckNQLENBeUNOLFVBQVcsVUF6Q0wsQ0E2Q04sWUFBYSxZQTdDUCxDQUFQLENBK0NBLENBbC9CRCxDLGdCQW8vQmUsTSIsImZpbGUiOiJyZWFjaC1kZWJ1Zy5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiB3ZWJwYWNrVW5pdmVyc2FsTW9kdWxlRGVmaW5pdGlvbihyb290LCBmYWN0b3J5KSB7XG5cdGlmKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlID09PSAnb2JqZWN0Jylcblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0ZWxzZSBpZih0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0ZWxzZSBpZih0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpXG5cdFx0ZXhwb3J0c1tcIlJlYWNoXCJdID0gZmFjdG9yeSgpO1xuXHRlbHNlXG5cdFx0cm9vdFtcIlJlYWNoXCJdID0gZmFjdG9yeSgpO1xufSkodGhpcywgZnVuY3Rpb24oKSB7XG5yZXR1cm4gXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogd2VicGFjay91bml2ZXJzYWxNb2R1bGVEZWZpbml0aW9uXG4gKiovIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCA5YTRhOGUxNzRlYzcyMDgxYjQzZVxuICoqLyIsIi8vIFBvbHlmaWxscyBmb3IgV2ViUlRDXG5cblxuLy8gVE9ETyAxOWsgbWluaWZpZWQsIHdlIGNhbiBkbyBsZXNzIG1heWJlXG4vKiBlc2xpbnQgbm8tdW51c2VkLXZhcnM6MCAqL1xuaW1wb3J0IGFkYXB0ZXJqcyBmcm9tICcuL2FkYXB0ZXInO1xuXG5pbXBvcnQgYWN0aW9ucyBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IGRhdGFyZWZzIGZyb20gJy4vZGF0YXJlZnMnO1xuaW1wb3J0IHJlYWNoIGZyb20gJy4vcmVhY2gnO1xuaW1wb3J0IHJvb20gZnJvbSAnLi9yb29tJztcbmltcG9ydCB3ZWJydGNtbmdyIGZyb20gJy4vd2VicnRjbW5ncic7XG5cbmV4cG9ydCBjbGFzcyBSZWFjaCB7XG5cdGNvbnN0cnVjdG9yKHVybD0gJ2h0dHA6Ly93ZWJjb20ub3JhbmdlLmNvbS9iYXNlL3dlYnJ0YycpIHtcblx0XHR0aGlzLmRhdGFyZWZzID0gZGF0YXJlZnModXJsKTtcblx0XHR0aGlzLndlYnJ0Y21uZ3IgPSB3ZWJydGNtbmdyKHRoaXMuZGF0YXJlZnMpO1xuXHRcdHRoaXMud2VicnRjbW5nci5zZXRXZWJydGNNYW5nZXIodGhpcy53ZWJydGNtbmdyKTtcblx0fVxuXG5cdFJvb20oLi4uYXJncykge1xuXHRcdHJldHVybiByb29tKC4uLmFyZ3MsIHRoaXMuZGF0YXJlZnMsIHRoaXMud2VicnRjbW5ncik7XG5cdH1cblxuXHRSZWFjaCguLi5hcmdzKSB7XG5cdFx0cmV0dXJuIHJlYWNoKC4uLmFyZ3MsIHRoaXMuZGF0YXJlZnMpO1xuXHR9XG5cblx0c3RhdGljIGdldCB2ZXJzaW9uKCkge1xuXHRcdHJldHVybiBTREtfVkVSU0lPTjsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby11bmRlZlxuXHR9XG5cdHN0YXRpYyBnZXQgYWN0aW9ucygpIHtcblx0XHRyZXR1cm4gYWN0aW9ucztcblx0fVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWNoO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2luZGV4LmpzXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uIChpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpO1xuICB9XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjay5qc1xuICoqIG1vZHVsZSBpZCA9IDFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuXG52YXIgX2RlZmluZVByb3BlcnR5ID0gcmVxdWlyZShcIi4uL2NvcmUtanMvb2JqZWN0L2RlZmluZS1wcm9wZXJ0eVwiKTtcblxudmFyIF9kZWZpbmVQcm9wZXJ0eTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KF9kZWZpbmVQcm9wZXJ0eSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTtcbiAgICAgIGRlc2NyaXB0b3IuZW51bWVyYWJsZSA9IGRlc2NyaXB0b3IuZW51bWVyYWJsZSB8fCBmYWxzZTtcbiAgICAgIGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTtcbiAgICAgIGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7XG4gICAgICAoMCwgX2RlZmluZVByb3BlcnR5Mi5kZWZhdWx0KSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcy5qc1xuICoqIG1vZHVsZSBpZCA9IDJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9kZWZpbmUtcHJvcGVydHkuanNcbiAqKiBtb2R1bGUgaWQgPSAzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5vYmplY3QuZGVmaW5lLXByb3BlcnR5Jyk7XG52YXIgJE9iamVjdCA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Q7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIGRlc2Mpe1xuICByZXR1cm4gJE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpdCwga2V5LCBkZXNjKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9mbi9vYmplY3QvZGVmaW5lLXByb3BlcnR5LmpzXG4gKiogbW9kdWxlIGlkID0gNFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyICRleHBvcnQgPSByZXF1aXJlKCcuL19leHBvcnQnKTtcclxuLy8gMTkuMS4yLjQgLyAxNS4yLjMuNiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcylcclxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSwgJ09iamVjdCcsIHtkZWZpbmVQcm9wZXJ0eTogcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmRlZmluZS1wcm9wZXJ0eS5qc1xuICoqIG1vZHVsZSBpZCA9IDVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBnbG9iYWwgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGNvcmUgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGN0eCAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgaGlkZSAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgUFJPVE9UWVBFID0gJ3Byb3RvdHlwZSc7XG5cbnZhciAkZXhwb3J0ID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgc291cmNlKXtcbiAgdmFyIElTX0ZPUkNFRCA9IHR5cGUgJiAkZXhwb3J0LkZcbiAgICAsIElTX0dMT0JBTCA9IHR5cGUgJiAkZXhwb3J0LkdcbiAgICAsIElTX1NUQVRJQyA9IHR5cGUgJiAkZXhwb3J0LlNcbiAgICAsIElTX1BST1RPICA9IHR5cGUgJiAkZXhwb3J0LlBcbiAgICAsIElTX0JJTkQgICA9IHR5cGUgJiAkZXhwb3J0LkJcbiAgICAsIElTX1dSQVAgICA9IHR5cGUgJiAkZXhwb3J0LldcbiAgICAsIGV4cG9ydHMgICA9IElTX0dMT0JBTCA/IGNvcmUgOiBjb3JlW25hbWVdIHx8IChjb3JlW25hbWVdID0ge30pXG4gICAgLCBleHBQcm90byAgPSBleHBvcnRzW1BST1RPVFlQRV1cbiAgICAsIHRhcmdldCAgICA9IElTX0dMT0JBTCA/IGdsb2JhbCA6IElTX1NUQVRJQyA/IGdsb2JhbFtuYW1lXSA6IChnbG9iYWxbbmFtZV0gfHwge30pW1BST1RPVFlQRV1cbiAgICAsIGtleSwgb3duLCBvdXQ7XG4gIGlmKElTX0dMT0JBTClzb3VyY2UgPSBuYW1lO1xuICBmb3Ioa2V5IGluIHNvdXJjZSl7XG4gICAgLy8gY29udGFpbnMgaW4gbmF0aXZlXG4gICAgb3duID0gIUlTX0ZPUkNFRCAmJiB0YXJnZXQgJiYgdGFyZ2V0W2tleV0gIT09IHVuZGVmaW5lZDtcbiAgICBpZihvd24gJiYga2V5IGluIGV4cG9ydHMpY29udGludWU7XG4gICAgLy8gZXhwb3J0IG5hdGl2ZSBvciBwYXNzZWRcbiAgICBvdXQgPSBvd24gPyB0YXJnZXRba2V5XSA6IHNvdXJjZVtrZXldO1xuICAgIC8vIHByZXZlbnQgZ2xvYmFsIHBvbGx1dGlvbiBmb3IgbmFtZXNwYWNlc1xuICAgIGV4cG9ydHNba2V5XSA9IElTX0dMT0JBTCAmJiB0eXBlb2YgdGFyZ2V0W2tleV0gIT0gJ2Z1bmN0aW9uJyA/IHNvdXJjZVtrZXldXG4gICAgLy8gYmluZCB0aW1lcnMgdG8gZ2xvYmFsIGZvciBjYWxsIGZyb20gZXhwb3J0IGNvbnRleHRcbiAgICA6IElTX0JJTkQgJiYgb3duID8gY3R4KG91dCwgZ2xvYmFsKVxuICAgIC8vIHdyYXAgZ2xvYmFsIGNvbnN0cnVjdG9ycyBmb3IgcHJldmVudCBjaGFuZ2UgdGhlbSBpbiBsaWJyYXJ5XG4gICAgOiBJU19XUkFQICYmIHRhcmdldFtrZXldID09IG91dCA/IChmdW5jdGlvbihDKXtcbiAgICAgIHZhciBGID0gZnVuY3Rpb24oYSwgYiwgYyl7XG4gICAgICAgIGlmKHRoaXMgaW5zdGFuY2VvZiBDKXtcbiAgICAgICAgICBzd2l0Y2goYXJndW1lbnRzLmxlbmd0aCl7XG4gICAgICAgICAgICBjYXNlIDA6IHJldHVybiBuZXcgQztcbiAgICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDKGEpO1xuICAgICAgICAgICAgY2FzZSAyOiByZXR1cm4gbmV3IEMoYSwgYik7XG4gICAgICAgICAgfSByZXR1cm4gbmV3IEMoYSwgYiwgYyk7XG4gICAgICAgIH0gcmV0dXJuIEMuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH07XG4gICAgICBGW1BST1RPVFlQRV0gPSBDW1BST1RPVFlQRV07XG4gICAgICByZXR1cm4gRjtcbiAgICAvLyBtYWtlIHN0YXRpYyB2ZXJzaW9ucyBmb3IgcHJvdG90eXBlIG1ldGhvZHNcbiAgICB9KShvdXQpIDogSVNfUFJPVE8gJiYgdHlwZW9mIG91dCA9PSAnZnVuY3Rpb24nID8gY3R4KEZ1bmN0aW9uLmNhbGwsIG91dCkgOiBvdXQ7XG4gICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLm1ldGhvZHMuJU5BTUUlXG4gICAgaWYoSVNfUFJPVE8pe1xuICAgICAgKGV4cG9ydHMudmlydHVhbCB8fCAoZXhwb3J0cy52aXJ0dWFsID0ge30pKVtrZXldID0gb3V0O1xuICAgICAgLy8gZXhwb3J0IHByb3RvIG1ldGhvZHMgdG8gY29yZS4lQ09OU1RSVUNUT1IlLnByb3RvdHlwZS4lTkFNRSVcbiAgICAgIGlmKHR5cGUgJiAkZXhwb3J0LlIgJiYgZXhwUHJvdG8gJiYgIWV4cFByb3RvW2tleV0paGlkZShleHBQcm90bywga2V5LCBvdXQpO1xuICAgIH1cbiAgfVxufTtcbi8vIHR5cGUgYml0bWFwXG4kZXhwb3J0LkYgPSAxOyAgIC8vIGZvcmNlZFxuJGV4cG9ydC5HID0gMjsgICAvLyBnbG9iYWxcbiRleHBvcnQuUyA9IDQ7ICAgLy8gc3RhdGljXG4kZXhwb3J0LlAgPSA4OyAgIC8vIHByb3RvXG4kZXhwb3J0LkIgPSAxNjsgIC8vIGJpbmRcbiRleHBvcnQuVyA9IDMyOyAgLy8gd3JhcFxuJGV4cG9ydC5VID0gNjQ7ICAvLyBzYWZlXG4kZXhwb3J0LlIgPSAxMjg7IC8vIHJlYWwgcHJvdG8gbWV0aG9kIGZvciBgbGlicmFyeWAgXG5tb2R1bGUuZXhwb3J0cyA9ICRleHBvcnQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19leHBvcnQuanNcbiAqKiBtb2R1bGUgaWQgPSA2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvODYjaXNzdWVjb21tZW50LTExNTc1OTAyOFxudmFyIGdsb2JhbCA9IG1vZHVsZS5leHBvcnRzID0gdHlwZW9mIHdpbmRvdyAhPSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuTWF0aCA9PSBNYXRoXG4gID8gd2luZG93IDogdHlwZW9mIHNlbGYgIT0gJ3VuZGVmaW5lZCcgJiYgc2VsZi5NYXRoID09IE1hdGggPyBzZWxmIDogRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcbmlmKHR5cGVvZiBfX2cgPT0gJ251bWJlcicpX19nID0gZ2xvYmFsOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19nbG9iYWwuanNcbiAqKiBtb2R1bGUgaWQgPSA3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY29yZSA9IG1vZHVsZS5leHBvcnRzID0ge3ZlcnNpb246ICcyLjQuMCd9O1xuaWYodHlwZW9mIF9fZSA9PSAnbnVtYmVyJylfX2UgPSBjb3JlOyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVuZGVmXG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jb3JlLmpzXG4gKiogbW9kdWxlIGlkID0gOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gb3B0aW9uYWwgLyBzaW1wbGUgY29udGV4dCBiaW5kaW5nXG52YXIgYUZ1bmN0aW9uID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihmbiwgdGhhdCwgbGVuZ3RoKXtcbiAgYUZ1bmN0aW9uKGZuKTtcbiAgaWYodGhhdCA9PT0gdW5kZWZpbmVkKXJldHVybiBmbjtcbiAgc3dpdGNoKGxlbmd0aCl7XG4gICAgY2FzZSAxOiByZXR1cm4gZnVuY3Rpb24oYSl7XG4gICAgICByZXR1cm4gZm4uY2FsbCh0aGF0LCBhKTtcbiAgICB9O1xuICAgIGNhc2UgMjogcmV0dXJuIGZ1bmN0aW9uKGEsIGIpe1xuICAgICAgcmV0dXJuIGZuLmNhbGwodGhhdCwgYSwgYik7XG4gICAgfTtcbiAgICBjYXNlIDM6IHJldHVybiBmdW5jdGlvbihhLCBiLCBjKXtcbiAgICAgIHJldHVybiBmbi5jYWxsKHRoYXQsIGEsIGIsIGMpO1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGZ1bmN0aW9uKC8qIC4uLmFyZ3MgKi8pe1xuICAgIHJldHVybiBmbi5hcHBseSh0aGF0LCBhcmd1bWVudHMpO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2N0eC5qc1xuICoqIG1vZHVsZSBpZCA9IDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICBpZih0eXBlb2YgaXQgIT0gJ2Z1bmN0aW9uJyl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhIGZ1bmN0aW9uIScpO1xuICByZXR1cm4gaXQ7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fYS1mdW5jdGlvbi5qc1xuICoqIG1vZHVsZSBpZCA9IDEwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZFAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgY3JlYXRlRGVzYyA9IHJlcXVpcmUoJy4vX3Byb3BlcnR5LWRlc2MnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fZGVzY3JpcHRvcnMnKSA/IGZ1bmN0aW9uKG9iamVjdCwga2V5LCB2YWx1ZSl7XG4gIHJldHVybiBkUC5mKG9iamVjdCwga2V5LCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG59IDogZnVuY3Rpb24ob2JqZWN0LCBrZXksIHZhbHVlKXtcbiAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgcmV0dXJuIG9iamVjdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19oaWRlLmpzXG4gKiogbW9kdWxlIGlkID0gMTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxuICAsIGRQICAgICAgICAgICAgID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xuXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gT2JqZWN0LmRlZmluZVByb3BlcnR5IDogZnVuY3Rpb24gZGVmaW5lUHJvcGVydHkoTywgUCwgQXR0cmlidXRlcyl7XG4gIGFuT2JqZWN0KE8pO1xuICBQID0gdG9QcmltaXRpdmUoUCwgdHJ1ZSk7XG4gIGFuT2JqZWN0KEF0dHJpYnV0ZXMpO1xuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xuICAgIHJldHVybiBkUChPLCBQLCBBdHRyaWJ1dGVzKTtcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxuICBpZignZ2V0JyBpbiBBdHRyaWJ1dGVzIHx8ICdzZXQnIGluIEF0dHJpYnV0ZXMpdGhyb3cgVHlwZUVycm9yKCdBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZCEnKTtcbiAgaWYoJ3ZhbHVlJyBpbiBBdHRyaWJ1dGVzKU9bUF0gPSBBdHRyaWJ1dGVzLnZhbHVlO1xuICByZXR1cm4gTztcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHAuanNcbiAqKiBtb2R1bGUgaWQgPSAxMlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGlzT2JqZWN0ID0gcmVxdWlyZSgnLi9faXMtb2JqZWN0Jyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoIWlzT2JqZWN0KGl0KSl0aHJvdyBUeXBlRXJyb3IoaXQgKyAnIGlzIG5vdCBhbiBvYmplY3QhJyk7XG4gIHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1vYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSAxM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0eXBlb2YgaXQgPT09ICdvYmplY3QnID8gaXQgIT09IG51bGwgOiB0eXBlb2YgaXQgPT09ICdmdW5jdGlvbic7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtb2JqZWN0LmpzXG4gKiogbW9kdWxlIGlkID0gMTRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gIXJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgJiYgIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcclxuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnZGl2JyksICdhJywge2dldDogZnVuY3Rpb24oKXsgcmV0dXJuIDc7IH19KS5hICE9IDc7XHJcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faWU4LWRvbS1kZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxNVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gVGhhbmsncyBJRTggZm9yIGhpcyBmdW5ueSBkZWZpbmVQcm9wZXJ0eVxubW9kdWxlLmV4cG9ydHMgPSAhcmVxdWlyZSgnLi9fZmFpbHMnKShmdW5jdGlvbigpe1xuICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHt9LCAnYScsIHtnZXQ6IGZ1bmN0aW9uKCl7IHJldHVybiA3OyB9fSkuYSAhPSA3O1xufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19kZXNjcmlwdG9ycy5qc1xuICoqIG1vZHVsZSBpZCA9IDE2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGV4ZWMpe1xuICB0cnkge1xuICAgIHJldHVybiAhIWV4ZWMoKTtcbiAgfSBjYXRjaChlKXtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2ZhaWxzLmpzXG4gKiogbW9kdWxlIGlkID0gMTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgZG9jdW1lbnQgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudFxuICAvLyBpbiBvbGQgSUUgdHlwZW9mIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQgaXMgJ29iamVjdCdcbiAgLCBpcyA9IGlzT2JqZWN0KGRvY3VtZW50KSAmJiBpc09iamVjdChkb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXMgPyBkb2N1bWVudC5jcmVhdGVFbGVtZW50KGl0KSA6IHt9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RvbS1jcmVhdGUuanNcbiAqKiBtb2R1bGUgaWQgPSAxOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gNy4xLjEgVG9QcmltaXRpdmUoaW5wdXQgWywgUHJlZmVycmVkVHlwZV0pXG52YXIgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKTtcbi8vIGluc3RlYWQgb2YgdGhlIEVTNiBzcGVjIHZlcnNpb24sIHdlIGRpZG4ndCBpbXBsZW1lbnQgQEB0b1ByaW1pdGl2ZSBjYXNlXG4vLyBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCAtIGZsYWcgLSBwcmVmZXJyZWQgdHlwZSBpcyBhIHN0cmluZ1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgUyl7XG4gIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIGl0O1xuICB2YXIgZm4sIHZhbDtcbiAgaWYoUyAmJiB0eXBlb2YgKGZuID0gaXQudG9TdHJpbmcpID09ICdmdW5jdGlvbicgJiYgIWlzT2JqZWN0KHZhbCA9IGZuLmNhbGwoaXQpKSlyZXR1cm4gdmFsO1xuICBpZih0eXBlb2YgKGZuID0gaXQudmFsdWVPZikgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIGlmKCFTICYmIHR5cGVvZiAoZm4gPSBpdC50b1N0cmluZykgPT0gJ2Z1bmN0aW9uJyAmJiAhaXNPYmplY3QodmFsID0gZm4uY2FsbChpdCkpKXJldHVybiB2YWw7XG4gIHRocm93IFR5cGVFcnJvcihcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1wcmltaXRpdmUuanNcbiAqKiBtb2R1bGUgaWQgPSAxOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihiaXRtYXAsIHZhbHVlKXtcbiAgcmV0dXJuIHtcbiAgICBlbnVtZXJhYmxlICA6ICEoYml0bWFwICYgMSksXG4gICAgY29uZmlndXJhYmxlOiAhKGJpdG1hcCAmIDIpLFxuICAgIHdyaXRhYmxlICAgIDogIShiaXRtYXAgJiA0KSxcbiAgICB2YWx1ZSAgICAgICA6IHZhbHVlXG4gIH07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fcHJvcGVydHktZGVzYy5qc1xuICoqIG1vZHVsZSBpZCA9IDIwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvKlxuICogIyVMXG4gKiBXZWJjb20gc2VydmljZVxuICpcbiAqIE1vZHVsZSBuYW1lOiBjb20ub3JhbmdlLndlYnJ0Yzp3ZWJjb20tc2VydmljZVxuICogVmVyc2lvbjogICAgIDAuMC4xLVNOQVBTSE9UXG4gKiBDcmVhdGVkOiAgICAgMjAxNC0wNC0wMVxuICpcbiAqIElmIHlvdSBhcmUgT3JhbmdlIGVtcGxveWVlIHlvdSBzaGFsbCB1c2UgdGhpcyBzb2Z0d2FyZSBpbiBhY2NvcmRhbmNlIHdpdGhcbiAqIHRoZSBPcmFuZ2UgU291cmNlIENoYXJ0ZXIgKGh0dHA6Ly9vcGVuc291cmNlLml0bi5mdGdyb3VwL2luZGV4LnBocC9PcmFuZ2VfU291cmNlKS5cbiAqICNMJVxuICovXG5cblxuLypcbiAqICBDb3B5cmlnaHQgKGMpIDIwMTYgVGhlIFdlYlJUQyBwcm9qZWN0IGF1dGhvcnMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXG4gKlxuICogIFVzZSBvZiB0aGlzIHNvdXJjZSBjb2RlIGlzIGdvdmVybmVkIGJ5IGEgQlNELXN0eWxlIGxpY2Vuc2VcbiAqICB0aGF0IGNhbiBiZSBmb3VuZCBpbiB0aGUgTElDRU5TRSBmaWxlIGluIHRoZSByb290IG9mIHRoZSBzb3VyY2VcbiAqICB0cmVlLlxuICovXG5cbi8qIE1vcmUgaW5mb3JtYXRpb24gYWJvdXQgdGhlc2Ugb3B0aW9ucyBhdCBqc2hpbnQuY29tL2RvY3Mvb3B0aW9ucyAqL1xuLyoganNoaW50IGJyb3dzZXI6IHRydWUsIGNhbWVsY2FzZTogdHJ1ZSwgY3VybHk6IHRydWUsIGRldmVsOiB0cnVlLFxuICAgZXFlcWVxOiB0cnVlLCBmb3JpbjogZmFsc2UsIGdsb2JhbHN0cmljdDogdHJ1ZSwgbm9kZTogdHJ1ZSxcbiAgIHF1b3RtYXJrOiBzaW5nbGUsIHVuZGVmOiB0cnVlLCB1bnVzZWQ6IHN0cmljdCAqL1xuLyogZ2xvYmFsIG1velJUQ0ljZUNhbmRpZGF0ZSwgbW96UlRDUGVlckNvbm5lY3Rpb24sIFByb21pc2UsXG5tb3pSVENTZXNzaW9uRGVzY3JpcHRpb24sIHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLCBNZWRpYVN0cmVhbVRyYWNrLFxuTWVkaWFTdHJlYW0sIFJUQ0ljZUdhdGhlcmVyLCBSVENJY2VUcmFuc3BvcnQsIFJUQ0R0bHNUcmFuc3BvcnQsXG5SVENSdHBTZW5kZXIsIFJUQ1J0cFJlY2VpdmVyKi9cbi8qIGV4cG9ydGVkIHRyYWNlLHJlcXVlc3RVc2VyTWVkaWEgKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG53aW5kb3cuZ2V0VXNlck1lZGlhID0gbnVsbDtcbndpbmRvdy5hdHRhY2hNZWRpYVN0cmVhbSA9IG51bGw7XG53aW5kb3cuZGV0YWNoTWVkaWFTdHJlYW0gPSBudWxsO1xud2luZG93LnJlYXR0YWNoTWVkaWFTdHJlYW0gPSBudWxsO1xud2luZG93LndlYnJ0Y0RldGVjdGVkQnJvd3NlciA9IG51bGw7XG52YXIgd2VicnRjRGV0ZWN0ZWRWZXJzaW9uID0gbnVsbDtcbnZhciB3ZWJydGNNaW5pbXVtVmVyc2lvbiA9IG51bGw7XG52YXIgd2VicnRjVXRpbHMgPSB7XG4gIGxvZzogZnVuY3Rpb24oKSB7XG4gICAgLy8gc3VwcHJlc3MgY29uc29sZS5sb2cgb3V0cHV0IHdoZW4gYmVpbmcgaW5jbHVkZWQgYXMgYSBtb2R1bGUuXG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIHR5cGVvZiByZXF1aXJlID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgYXJndW1lbnRzKTtcbiAgfSxcbiAgZXh0cmFjdFZlcnNpb246IGZ1bmN0aW9uKHVhc3RyaW5nLCBleHByLCBwb3MpIHtcbiAgICB2YXIgbWF0Y2ggPSB1YXN0cmluZy5tYXRjaChleHByKTtcbiAgICByZXR1cm4gbWF0Y2ggJiYgbWF0Y2gubGVuZ3RoID49IHBvcyAmJiBwYXJzZUludChtYXRjaFtwb3NdLCAxMCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHRyYWNlKHRleHQpIHtcbiAgLy8gVGhpcyBmdW5jdGlvbiBpcyB1c2VkIGZvciBsb2dnaW5nLlxuICBpZiAodGV4dFt0ZXh0Lmxlbmd0aCAtIDFdID09PSAnXFxuJykge1xuICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygwLCB0ZXh0Lmxlbmd0aCAtIDEpO1xuICB9XG4gIGlmICh3aW5kb3cucGVyZm9ybWFuY2UpIHtcbiAgICB2YXIgbm93ID0gKHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSAvIDEwMDApLnRvRml4ZWQoMyk7XG4gICAgd2VicnRjVXRpbHMubG9nKG5vdyArICc6ICcgKyB0ZXh0KTtcbiAgfSBlbHNlIHtcbiAgICB3ZWJydGNVdGlscy5sb2codGV4dCk7XG4gIH1cbn1cblxuaWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSB7XG4gIGlmICh3aW5kb3cuSFRNTE1lZGlhRWxlbWVudCAmJlxuICAgICEoJ3NyY09iamVjdCcgaW4gd2luZG93LkhUTUxNZWRpYUVsZW1lbnQucHJvdG90eXBlKSkge1xuICAgIC8vIFNoaW0gdGhlIHNyY09iamVjdCBwcm9wZXJ0eSwgb25jZSwgd2hlbiBIVE1MTWVkaWFFbGVtZW50IGlzIGZvdW5kLlxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh3aW5kb3cuSFRNTE1lZGlhRWxlbWVudC5wcm90b3R5cGUsICdzcmNPYmplY3QnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBJZiBwcmVmaXhlZCBzcmNPYmplY3QgcHJvcGVydHkgZXhpc3RzLCByZXR1cm4gaXQuXG4gICAgICAgIC8vIE90aGVyd2lzZSB1c2UgdGhlIHNoaW1tZWQgcHJvcGVydHksIF9zcmNPYmplY3RcbiAgICAgICAgcmV0dXJuICdtb3pTcmNPYmplY3QnIGluIHRoaXMgPyB0aGlzLm1velNyY09iamVjdCA6IHRoaXMuX3NyY09iamVjdDtcbiAgICAgIH0sXG4gICAgICBzZXQ6IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgXG4gICAgICAgIGlmICgnbW96U3JjT2JqZWN0JyBpbiB0aGlzKSB7XG4gICAgICAgICAgaWYgKHN0cmVhbSkge1xuICAgICAgICAgICAgdGhpcy5tb3pTcmNPYmplY3QgPSBzdHJlYW07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubW96U3JjT2JqZWN0ID1cIlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoc3RyZWFtKSB7XG4gICAgICAgICAgICAvLyBVc2UgX3NyY09iamVjdCBhcyBhIHByaXZhdGUgcHJvcGVydHkgZm9yIHRoaXMgc2hpbVxuICAgICAgICAgICAgdGhpcy5fc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgICAgICAgLy8gVE9ETzogcmV2b2tlT2JqZWN0VXJsKHRoaXMuc3JjKSB3aGVuICFzdHJlYW0gdG8gcmVsZWFzZSByZXNvdXJjZXM/XG4gICAgICAgICAgICB0aGlzLnNyYyA9IFVSTC5jcmVhdGVPYmplY3RVUkwoc3RyZWFtKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgIHRoaXMuX3NyY09iamVjdCA9IFwiXCI7XG4gICAgICAgICAgICAgdGhpcy5zcmMgPSBcIlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIC8vIFByb3h5IGV4aXN0aW5nIGdsb2JhbHNcbiAgZ2V0VXNlck1lZGlhID0gd2luZG93Lm5hdmlnYXRvciAmJiB3aW5kb3cubmF2aWdhdG9yLmdldFVzZXJNZWRpYTtcbn1cblxuXG5kZXRhY2hNZWRpYVN0cmVhbSA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgICBpZihlbGVtZW50KXtcbiAgICAgIGlmICh0eXBlb2YgZWxlbWVudC5zcmNPYmplY3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBlbGVtZW50LnNyY09iamVjdCA9IG51bGw7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZWxlbWVudC5tb3pTcmNPYmplY3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBlbGVtZW50Lm1velNyY09iamVjdCA9IFwiXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZWxlbWVudC5zcmMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBlbGVtZW50LnNyYyA9IFwiXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdFcnJvciBhdHRhY2hpbmcgc3RyZWFtIHRvIGVsZW1lbnQuJyk7XG4gICAgfVxuICB9XG5cbn07XG4gIFxuLy8gQXR0YWNoIGEgbWVkaWEgc3RyZWFtIHRvIGFuIGVsZW1lbnQuXG5hdHRhY2hNZWRpYVN0cmVhbSA9IGZ1bmN0aW9uKGVsZW1lbnQsIHN0cmVhbSkge1xuICBjb25zb2xlLmxvZyhcIihSZWFjaFNESzo6YWRhcHQ6OmF0dGFjaE1lZGlhU3RyZWFtMSlcIik7XG4gIGVsZW1lbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuICBlbGVtZW50LmF1dG9wbGF5PXRydWU7XG4gIGlmIChlbGVtZW50LnBsYXkgJiYgdHlwZW9mIGVsZW1lbnQucGxheSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgZWxlbWVudC5wbGF5KCk7XG4gIH1cbn07XG5cbnJlYXR0YWNoTWVkaWFTdHJlYW0gPSBmdW5jdGlvbih0bywgZnJvbSkge1xuICB0by5zcmNPYmplY3QgPSBmcm9tLnNyY09iamVjdDtcbiAgdG8uYXV0b3BsYXk9dHJ1ZTtcbiAgaWYgKHRvLnBsYXkgJiYgdHlwZW9mIHRvLnBsYXkgPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRvLnBsYXkoKTtcbiAgfVxuICBcbn07XG5cbmlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJyB8fCAhd2luZG93Lm5hdmlnYXRvcikge1xuICB3ZWJydGNVdGlscy5sb2coJ1RoaXMgZG9lcyBub3QgYXBwZWFyIHRvIGJlIGEgYnJvd3NlcicpO1xuICB3ZWJydGNEZXRlY3RlZEJyb3dzZXIgPSAnbm90IGEgYnJvd3Nlcic7XG59IGVsc2UgaWYgKG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEpIHtcbiAgd2VicnRjVXRpbHMubG9nKCdUaGlzIGFwcGVhcnMgdG8gYmUgRmlyZWZveCcpO1xuXG4gIHdlYnJ0Y0RldGVjdGVkQnJvd3NlciA9ICdmaXJlZm94JztcblxuICAvLyB0aGUgZGV0ZWN0ZWQgZmlyZWZveCB2ZXJzaW9uLlxuICB3ZWJydGNEZXRlY3RlZFZlcnNpb24gPSB3ZWJydGNVdGlscy5leHRyYWN0VmVyc2lvbihuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgL0ZpcmVmb3hcXC8oWzAtOV0rKVxcLi8sIDEpO1xuXG4gIC8vIHRoZSBtaW5pbXVtIGZpcmVmb3ggdmVyc2lvbiBzdGlsbCBzdXBwb3J0ZWQgYnkgYWRhcHRlci5cbiAgd2VicnRjTWluaW11bVZlcnNpb24gPSAzMTtcblxuICAvLyBTaGltIGZvciBSVENQZWVyQ29ubmVjdGlvbiBvbiBvbGRlciB2ZXJzaW9ucy5cbiAgaWYgKCF3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24pIHtcbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gPSBmdW5jdGlvbihwY0NvbmZpZywgcGNDb25zdHJhaW50cykge1xuICAgICAgaWYgKHdlYnJ0Y0RldGVjdGVkVmVyc2lvbiA8IDM4KSB7XG4gICAgICAgIC8vIC51cmxzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gRkYgPCAzOC5cbiAgICAgICAgLy8gY3JlYXRlIFJUQ0ljZVNlcnZlcnMgd2l0aCBhIHNpbmdsZSB1cmwuXG4gICAgICAgIGlmIChwY0NvbmZpZyAmJiBwY0NvbmZpZy5pY2VTZXJ2ZXJzKSB7XG4gICAgICAgICAgdmFyIG5ld0ljZVNlcnZlcnMgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBjQ29uZmlnLmljZVNlcnZlcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzZXJ2ZXIgPSBwY0NvbmZpZy5pY2VTZXJ2ZXJzW2ldO1xuICAgICAgICAgICAgaWYgKHNlcnZlci5oYXNPd25Qcm9wZXJ0eSgndXJscycpKSB7XG4gICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgc2VydmVyLnVybHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgbmV3U2VydmVyID0ge1xuICAgICAgICAgICAgICAgICAgdXJsOiBzZXJ2ZXIudXJsc1tqXVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHNlcnZlci51cmxzW2pdLmluZGV4T2YoJ3R1cm4nKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgbmV3U2VydmVyLnVzZXJuYW1lID0gc2VydmVyLnVzZXJuYW1lO1xuICAgICAgICAgICAgICAgICAgbmV3U2VydmVyLmNyZWRlbnRpYWwgPSBzZXJ2ZXIuY3JlZGVudGlhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3SWNlU2VydmVycy5wdXNoKG5ld1NlcnZlcik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld0ljZVNlcnZlcnMucHVzaChwY0NvbmZpZy5pY2VTZXJ2ZXJzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcGNDb25maWcuaWNlU2VydmVycyA9IG5ld0ljZVNlcnZlcnM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBuZXcgbW96UlRDUGVlckNvbm5lY3Rpb24ocGNDb25maWcsIHBjQ29uc3RyYWludHMpOyAvLyBqc2NzOmlnbm9yZSByZXF1aXJlQ2FwaXRhbGl6ZWRDb25zdHJ1Y3RvcnNcbiAgICB9O1xuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUgPSBtb3pSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGU7XG5cbiAgICAvLyB3cmFwIHN0YXRpYyBtZXRob2RzLiBDdXJyZW50bHkganVzdCBnZW5lcmF0ZUNlcnRpZmljYXRlLlxuICAgIGlmIChtb3pSVENQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlKSB7XG4gICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLCAnZ2VuZXJhdGVDZXJ0aWZpY2F0ZScsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG1velJUQ1BlZXJDb25uZWN0aW9uLmdlbmVyYXRlQ2VydGlmaWNhdGUuYXBwbHkobnVsbCxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbW96UlRDUGVlckNvbm5lY3Rpb24uZ2VuZXJhdGVDZXJ0aWZpY2F0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24gPSBtb3pSVENTZXNzaW9uRGVzY3JpcHRpb247XG4gICAgd2luZG93LlJUQ0ljZUNhbmRpZGF0ZSA9IG1velJUQ0ljZUNhbmRpZGF0ZTtcbiAgfVxuXG4gIC8vIGdldFVzZXJNZWRpYSBjb25zdHJhaW50cyBzaGltLlxuICBnZXRVc2VyTWVkaWEgPSBmdW5jdGlvbihjb25zdHJhaW50cywgb25TdWNjZXNzLCBvbkVycm9yKSB7XG4gICAgdmFyIGNvbnN0cmFpbnRzVG9GRjM3ID0gZnVuY3Rpb24oYykge1xuICAgICAgaWYgKHR5cGVvZiBjICE9PSAnb2JqZWN0JyB8fCBjLnJlcXVpcmUpIHtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG4gICAgICB2YXIgcmVxdWlyZSA9IFtdO1xuICAgICAgT2JqZWN0LmtleXMoYykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ3JlcXVpcmUnIHx8IGtleSA9PT0gJ2FkdmFuY2VkJyB8fCBrZXkgPT09ICdtZWRpYVNvdXJjZScpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHIgPSBjW2tleV0gPSAodHlwZW9mIGNba2V5XSA9PT0gJ29iamVjdCcpID9cbiAgICAgICAgICAgIGNba2V5XSA6IHtpZGVhbDogY1trZXldfTtcbiAgICAgICAgaWYgKHIubWluICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgIHIubWF4ICE9PSB1bmRlZmluZWQgfHwgci5leGFjdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmVxdWlyZS5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHIuZXhhY3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICh0eXBlb2Ygci5leGFjdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHIubWluID0gci5tYXggPSByLmV4YWN0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjW2tleV0gPSByLmV4YWN0O1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWxldGUgci5leGFjdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoci5pZGVhbCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgYy5hZHZhbmNlZCA9IGMuYWR2YW5jZWQgfHwgW107XG4gICAgICAgICAgdmFyIG9jID0ge307XG4gICAgICAgICAgaWYgKHR5cGVvZiByLmlkZWFsID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgb2Nba2V5XSA9IHttaW46IHIuaWRlYWwsIG1heDogci5pZGVhbH07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9jW2tleV0gPSByLmlkZWFsO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjLmFkdmFuY2VkLnB1c2gob2MpO1xuICAgICAgICAgIGRlbGV0ZSByLmlkZWFsO1xuICAgICAgICAgIGlmICghT2JqZWN0LmtleXMocikubGVuZ3RoKSB7XG4gICAgICAgICAgICBkZWxldGUgY1trZXldO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAocmVxdWlyZS5sZW5ndGgpIHtcbiAgICAgICAgYy5yZXF1aXJlID0gcmVxdWlyZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjO1xuICAgIH07XG4gICAgaWYgKHdlYnJ0Y0RldGVjdGVkVmVyc2lvbiA8IDM4KSB7XG4gICAgICB3ZWJydGNVdGlscy5sb2coJ3NwZWM6ICcgKyBKU09OLnN0cmluZ2lmeShjb25zdHJhaW50cykpO1xuICAgICAgaWYgKGNvbnN0cmFpbnRzLmF1ZGlvKSB7XG4gICAgICAgIGNvbnN0cmFpbnRzLmF1ZGlvID0gY29uc3RyYWludHNUb0ZGMzcoY29uc3RyYWludHMuYXVkaW8pO1xuICAgICAgfVxuICAgICAgaWYgKGNvbnN0cmFpbnRzLnZpZGVvKSB7XG4gICAgICAgIGNvbnN0cmFpbnRzLnZpZGVvID0gY29uc3RyYWludHNUb0ZGMzcoY29uc3RyYWludHMudmlkZW8pO1xuICAgICAgfVxuICAgICAgd2VicnRjVXRpbHMubG9nKCdmZjM3OiAnICsgSlNPTi5zdHJpbmdpZnkoY29uc3RyYWludHMpKTtcbiAgICB9XG4gICAgcmV0dXJuIG5hdmlnYXRvci5tb3pHZXRVc2VyTWVkaWEoY29uc3RyYWludHMsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gIH07XG5cbiAgbmF2aWdhdG9yLmdldFVzZXJNZWRpYSA9IGdldFVzZXJNZWRpYTtcblxuICAvLyBTaGltIGZvciBtZWRpYURldmljZXMgb24gb2xkZXIgdmVyc2lvbnMuXG4gIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcykge1xuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMgPSB7Z2V0VXNlck1lZGlhOiByZXF1ZXN0VXNlck1lZGlhLFxuICAgICAgYWRkRXZlbnRMaXN0ZW5lcjogZnVuY3Rpb24oKSB7IH0sXG4gICAgICByZW1vdmVFdmVudExpc3RlbmVyOiBmdW5jdGlvbigpIHsgfVxuICAgIH07XG4gIH1cbiAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzID1cbiAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcyB8fCBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSkge1xuICAgICAgdmFyIGluZm9zID0gW1xuICAgICAgICB7a2luZDogJ2F1ZGlvaW5wdXQnLCBkZXZpY2VJZDogJ2RlZmF1bHQnLCBsYWJlbDogJycsIGdyb3VwSWQ6ICcnfSxcbiAgICAgICAge2tpbmQ6ICd2aWRlb2lucHV0JywgZGV2aWNlSWQ6ICdkZWZhdWx0JywgbGFiZWw6ICcnLCBncm91cElkOiAnJ31cbiAgICAgIF07XG4gICAgICByZXNvbHZlKGluZm9zKTtcbiAgICB9KTtcbiAgfTtcblxuICBpZiAod2VicnRjRGV0ZWN0ZWRWZXJzaW9uIDwgNDEpIHtcbiAgICAvLyBXb3JrIGFyb3VuZCBodHRwOi8vYnVnemlsLmxhLzExNjk2NjVcbiAgICB2YXIgb3JnRW51bWVyYXRlRGV2aWNlcyA9XG4gICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcy5iaW5kKG5hdmlnYXRvci5tZWRpYURldmljZXMpO1xuICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIG9yZ0VudW1lcmF0ZURldmljZXMoKS50aGVuKHVuZGVmaW5lZCwgZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAoZS5uYW1lID09PSAnTm90Rm91bmRFcnJvcicpIHtcbiAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbn0gZWxzZSBpZiAobmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSAmJiB3aW5kb3cud2Via2l0UlRDUGVlckNvbm5lY3Rpb24pIHtcbiAgd2VicnRjVXRpbHMubG9nKCdUaGlzIGFwcGVhcnMgdG8gYmUgQ2hyb21lJyk7XG5cbiAgd2VicnRjRGV0ZWN0ZWRCcm93c2VyID0gJ2Nocm9tZSc7XG5cbiAgLy8gdGhlIGRldGVjdGVkIGNocm9tZSB2ZXJzaW9uLlxuICB3ZWJydGNEZXRlY3RlZFZlcnNpb24gPSB3ZWJydGNVdGlscy5leHRyYWN0VmVyc2lvbihuYXZpZ2F0b3IudXNlckFnZW50LFxuICAgICAgL0Nocm9tKGV8aXVtKVxcLyhbMC05XSspXFwuLywgMik7XG5cbiAgLy8gdGhlIG1pbmltdW0gY2hyb21lIHZlcnNpb24gc3RpbGwgc3VwcG9ydGVkIGJ5IGFkYXB0ZXIuXG4gIHdlYnJ0Y01pbmltdW1WZXJzaW9uID0gMzg7XG5cbiAgLy8gVGhlIFJUQ1BlZXJDb25uZWN0aW9uIG9iamVjdC5cbiAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uID0gZnVuY3Rpb24ocGNDb25maWcsIHBjQ29uc3RyYWludHMpIHtcbiAgICAvLyBUcmFuc2xhdGUgaWNlVHJhbnNwb3J0UG9saWN5IHRvIGljZVRyYW5zcG9ydHMsXG4gICAgLy8gc2VlIGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3Avd2VicnRjL2lzc3Vlcy9kZXRhaWw/aWQ9NDg2OVxuICAgIGlmIChwY0NvbmZpZyAmJiBwY0NvbmZpZy5pY2VUcmFuc3BvcnRQb2xpY3kpIHtcbiAgICAgIHBjQ29uZmlnLmljZVRyYW5zcG9ydHMgPSBwY0NvbmZpZy5pY2VUcmFuc3BvcnRQb2xpY3k7XG4gICAgfVxuXG4gICAgdmFyIHBjID0gbmV3IHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uKHBjQ29uZmlnLCBwY0NvbnN0cmFpbnRzKTsgLy8ganNjczppZ25vcmUgcmVxdWlyZUNhcGl0YWxpemVkQ29uc3RydWN0b3JzXG4gICAgdmFyIG9yaWdHZXRTdGF0cyA9IHBjLmdldFN0YXRzLmJpbmQocGMpO1xuICAgIHBjLmdldFN0YXRzID0gZnVuY3Rpb24oc2VsZWN0b3IsIHN1Y2Nlc3NDYWxsYmFjaywgZXJyb3JDYWxsYmFjaykgeyAvLyBqc2hpbnQgaWdub3JlOiBsaW5lXG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcblxuICAgICAgLy8gSWYgc2VsZWN0b3IgaXMgYSBmdW5jdGlvbiB0aGVuIHdlIGFyZSBpbiB0aGUgb2xkIHN0eWxlIHN0YXRzIHNvIGp1c3RcbiAgICAgIC8vIHBhc3MgYmFjayB0aGUgb3JpZ2luYWwgZ2V0U3RhdHMgZm9ybWF0IHRvIGF2b2lkIGJyZWFraW5nIG9sZCB1c2Vycy5cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMCAmJiB0eXBlb2Ygc2VsZWN0b3IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIG9yaWdHZXRTdGF0cyhzZWxlY3Rvciwgc3VjY2Vzc0NhbGxiYWNrKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZpeENocm9tZVN0YXRzID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIHN0YW5kYXJkUmVwb3J0ID0ge307XG4gICAgICAgIHZhciByZXBvcnRzID0gcmVzcG9uc2UucmVzdWx0KCk7XG4gICAgICAgIHJlcG9ydHMuZm9yRWFjaChmdW5jdGlvbihyZXBvcnQpIHtcbiAgICAgICAgICB2YXIgc3RhbmRhcmRTdGF0cyA9IHtcbiAgICAgICAgICAgIGlkOiByZXBvcnQuaWQsXG4gICAgICAgICAgICB0aW1lc3RhbXA6IHJlcG9ydC50aW1lc3RhbXAsXG4gICAgICAgICAgICB0eXBlOiByZXBvcnQudHlwZVxuICAgICAgICAgIH07XG4gICAgICAgICAgcmVwb3J0Lm5hbWVzKCkuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICAgICAgICBzdGFuZGFyZFN0YXRzW25hbWVdID0gcmVwb3J0LnN0YXQobmFtZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc3RhbmRhcmRSZXBvcnRbc3RhbmRhcmRTdGF0cy5pZF0gPSBzdGFuZGFyZFN0YXRzO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gc3RhbmRhcmRSZXBvcnQ7XG4gICAgICB9O1xuXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSAyKSB7XG4gICAgICAgIHZhciBzdWNjZXNzQ2FsbGJhY2tXcmFwcGVyID0gZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICBhcmdzWzFdKGZpeENocm9tZVN0YXRzKHJlc3BvbnNlKSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIG9yaWdHZXRTdGF0cy5hcHBseSh0aGlzLCBbc3VjY2Vzc0NhbGxiYWNrV3JhcHBlciwgYXJndW1lbnRzWzBdXSk7XG4gICAgICB9XG5cbiAgICAgIC8vIHByb21pc2Utc3VwcG9ydFxuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEgJiYgc2VsZWN0b3IgPT09IG51bGwpIHtcbiAgICAgICAgICBvcmlnR2V0U3RhdHMuYXBwbHkoc2VsZiwgW1xuICAgICAgICAgICAgICBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmUuYXBwbHkobnVsbCwgW2ZpeENocm9tZVN0YXRzKHJlc3BvbnNlKV0pO1xuICAgICAgICAgICAgICB9LCByZWplY3RdKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBvcmlnR2V0U3RhdHMuYXBwbHkoc2VsZiwgW3Jlc29sdmUsIHJlamVjdF0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHBjO1xuICB9O1xuICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlID0gd2Via2l0UlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlO1xuXG4gIC8vIHdyYXAgc3RhdGljIG1ldGhvZHMuIEN1cnJlbnRseSBqdXN0IGdlbmVyYXRlQ2VydGlmaWNhdGUuXG4gIGlmICh3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbiwgJ2dlbmVyYXRlQ2VydGlmaWNhdGUnLCB7XG4gICAgICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCkge1xuICAgICAgICAgIHJldHVybiB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5nZW5lcmF0ZUNlcnRpZmljYXRlLmFwcGx5KG51bGwsXG4gICAgICAgICAgICAgIGFyZ3VtZW50cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLmdlbmVyYXRlQ2VydGlmaWNhdGU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIGFkZCBwcm9taXNlIHN1cHBvcnRcbiAgWydjcmVhdGVPZmZlcicsICdjcmVhdGVBbnN3ZXInXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgIHZhciBuYXRpdmVNZXRob2QgPSB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXTtcbiAgICB3ZWJraXRSVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAxIHx8IChhcmd1bWVudHMubGVuZ3RoID09PSAxICYmXG4gICAgICAgICAgdHlwZW9mKGFyZ3VtZW50c1swXSkgPT09ICdvYmplY3QnKSkge1xuICAgICAgICB2YXIgb3B0cyA9IGFyZ3VtZW50cy5sZW5ndGggPT09IDEgPyBhcmd1bWVudHNbMF0gOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICBuYXRpdmVNZXRob2QuYXBwbHkoc2VsZiwgW3Jlc29sdmUsIHJlamVjdCwgb3B0c10pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVNZXRob2QuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcblxuICBbJ3NldExvY2FsRGVzY3JpcHRpb24nLCAnc2V0UmVtb3RlRGVzY3JpcHRpb24nLFxuICAgICAgJ2FkZEljZUNhbmRpZGF0ZSddLmZvckVhY2goZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgdmFyIG5hdGl2ZU1ldGhvZCA9IHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVttZXRob2RdO1xuICAgIHdlYmtpdFJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVttZXRob2RdID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgbmF0aXZlTWV0aG9kLmFwcGx5KHNlbGYsIFthcmdzWzBdLFxuICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID49IDIpIHtcbiAgICAgICAgICAgICAgICBhcmdzWzFdLmFwcGx5KG51bGwsIFtdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID49IDMpIHtcbiAgICAgICAgICAgICAgICBhcmdzWzJdLmFwcGx5KG51bGwsIFtlcnJdKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfV1cbiAgICAgICAgICApO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfSk7XG5cbiAgLy8gZ2V0VXNlck1lZGlhIGNvbnN0cmFpbnRzIHNoaW0uXG4gIHZhciBjb25zdHJhaW50c1RvQ2hyb21lID0gZnVuY3Rpb24oYykge1xuICAgIGlmICh0eXBlb2YgYyAhPT0gJ29iamVjdCcgfHwgYy5tYW5kYXRvcnkgfHwgYy5vcHRpb25hbCkge1xuICAgICAgcmV0dXJuIGM7XG4gICAgfVxuICAgIHZhciBjYyA9IHt9O1xuICAgIE9iamVjdC5rZXlzKGMpLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICBpZiAoa2V5ID09PSAncmVxdWlyZScgfHwga2V5ID09PSAnYWR2YW5jZWQnIHx8IGtleSA9PT0gJ21lZGlhU291cmNlJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgciA9ICh0eXBlb2YgY1trZXldID09PSAnb2JqZWN0JykgPyBjW2tleV0gOiB7aWRlYWw6IGNba2V5XX07XG4gICAgICBpZiAoci5leGFjdCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiByLmV4YWN0ID09PSAnbnVtYmVyJykge1xuICAgICAgICByLm1pbiA9IHIubWF4ID0gci5leGFjdDtcbiAgICAgIH1cbiAgICAgIHZhciBvbGRuYW1lID0gZnVuY3Rpb24ocHJlZml4LCBuYW1lKSB7XG4gICAgICAgIGlmIChwcmVmaXgpIHtcbiAgICAgICAgICByZXR1cm4gcHJlZml4ICsgbmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG5hbWUuc2xpY2UoMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChuYW1lID09PSAnZGV2aWNlSWQnKSA/ICdzb3VyY2VJZCcgOiBuYW1lO1xuICAgICAgfTtcbiAgICAgIGlmIChyLmlkZWFsICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY2Mub3B0aW9uYWwgPSBjYy5vcHRpb25hbCB8fCBbXTtcbiAgICAgICAgdmFyIG9jID0ge307XG4gICAgICAgIGlmICh0eXBlb2Ygci5pZGVhbCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBvY1tvbGRuYW1lKCdtaW4nLCBrZXkpXSA9IHIuaWRlYWw7XG4gICAgICAgICAgY2Mub3B0aW9uYWwucHVzaChvYyk7XG4gICAgICAgICAgb2MgPSB7fTtcbiAgICAgICAgICBvY1tvbGRuYW1lKCdtYXgnLCBrZXkpXSA9IHIuaWRlYWw7XG4gICAgICAgICAgY2Mub3B0aW9uYWwucHVzaChvYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2Nbb2xkbmFtZSgnJywga2V5KV0gPSByLmlkZWFsO1xuICAgICAgICAgIGNjLm9wdGlvbmFsLnB1c2gob2MpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoci5leGFjdCAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiByLmV4YWN0ICE9PSAnbnVtYmVyJykge1xuICAgICAgICBjYy5tYW5kYXRvcnkgPSBjYy5tYW5kYXRvcnkgfHwge307XG4gICAgICAgIGNjLm1hbmRhdG9yeVtvbGRuYW1lKCcnLCBrZXkpXSA9IHIuZXhhY3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBbJ21pbicsICdtYXgnXS5mb3JFYWNoKGZ1bmN0aW9uKG1peCkge1xuICAgICAgICAgIGlmIChyW21peF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY2MubWFuZGF0b3J5ID0gY2MubWFuZGF0b3J5IHx8IHt9O1xuICAgICAgICAgICAgY2MubWFuZGF0b3J5W29sZG5hbWUobWl4LCBrZXkpXSA9IHJbbWl4XTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChjLmFkdmFuY2VkKSB7XG4gICAgICBjYy5vcHRpb25hbCA9IChjYy5vcHRpb25hbCB8fCBbXSkuY29uY2F0KGMuYWR2YW5jZWQpO1xuICAgIH1cbiAgICByZXR1cm4gY2M7XG4gIH07XG5cbiAgZ2V0VXNlck1lZGlhID0gZnVuY3Rpb24oY29uc3RyYWludHMsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIGlmIChjb25zdHJhaW50cy5hdWRpbykge1xuICAgICAgY29uc3RyYWludHMuYXVkaW8gPSBjb25zdHJhaW50c1RvQ2hyb21lKGNvbnN0cmFpbnRzLmF1ZGlvKTtcbiAgICB9XG4gICAgaWYgKGNvbnN0cmFpbnRzLnZpZGVvKSB7XG4gICAgICBjb25zdHJhaW50cy52aWRlbyA9IGNvbnN0cmFpbnRzVG9DaHJvbWUoY29uc3RyYWludHMudmlkZW8pO1xuICAgIH1cbiAgICB3ZWJydGNVdGlscy5sb2coJ2Nocm9tZTogJyArIEpTT04uc3RyaW5naWZ5KGNvbnN0cmFpbnRzKSk7XG4gICAgcmV0dXJuIG5hdmlnYXRvci53ZWJraXRHZXRVc2VyTWVkaWEoY29uc3RyYWludHMsIG9uU3VjY2Vzcywgb25FcnJvcik7XG4gIH07XG4gIG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgPSBnZXRVc2VyTWVkaWE7XG5cbiAgaWYgKCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKSB7XG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyA9IHtnZXRVc2VyTWVkaWE6IHJlcXVlc3RVc2VyTWVkaWEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnVtZXJhdGVEZXZpY2VzOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgIHZhciBraW5kcyA9IHthdWRpbzogJ2F1ZGlvaW5wdXQnLCB2aWRlbzogJ3ZpZGVvaW5wdXQnfTtcbiAgICAgICAgcmV0dXJuIE1lZGlhU3RyZWFtVHJhY2suZ2V0U291cmNlcyhmdW5jdGlvbihkZXZpY2VzKSB7XG4gICAgICAgICAgcmVzb2x2ZShkZXZpY2VzLm1hcChmdW5jdGlvbihkZXZpY2UpIHtcbiAgICAgICAgICAgIHJldHVybiB7bGFiZWw6IGRldmljZS5sYWJlbCxcbiAgICAgICAgICAgICAgICAgICAga2luZDoga2luZHNbZGV2aWNlLmtpbmRdLFxuICAgICAgICAgICAgICAgICAgICBkZXZpY2VJZDogZGV2aWNlLmlkLFxuICAgICAgICAgICAgICAgICAgICBncm91cElkOiAnJ307XG4gICAgICAgICAgfSkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH19O1xuICB9XG5cbiAgLy8gQSBzaGltIGZvciBnZXRVc2VyTWVkaWEgbWV0aG9kIG9uIHRoZSBtZWRpYURldmljZXMgb2JqZWN0LlxuICAvLyBUT0RPKEthcHRlbkphbnNzb24pIHJlbW92ZSBvbmNlIGltcGxlbWVudGVkIGluIENocm9tZSBzdGFibGUuXG4gIGlmICghbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpIHtcbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGNvbnN0cmFpbnRzKSB7XG4gICAgICByZXR1cm4gcmVxdWVzdFVzZXJNZWRpYShjb25zdHJhaW50cyk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICAvLyBFdmVuIHRob3VnaCBDaHJvbWUgNDUgaGFzIG5hdmlnYXRvci5tZWRpYURldmljZXMgYW5kIGEgZ2V0VXNlck1lZGlhXG4gICAgLy8gZnVuY3Rpb24gd2hpY2ggcmV0dXJucyBhIFByb21pc2UsIGl0IGRvZXMgbm90IGFjY2VwdCBzcGVjLXN0eWxlXG4gICAgLy8gY29uc3RyYWludHMuXG4gICAgdmFyIG9yaWdHZXRVc2VyTWVkaWEgPSBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5cbiAgICAgICAgYmluZChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzKTtcbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSA9IGZ1bmN0aW9uKGMpIHtcbiAgICAgIHdlYnJ0Y1V0aWxzLmxvZygnc3BlYzogICAnICsgSlNPTi5zdHJpbmdpZnkoYykpOyAvLyB3aGl0ZXNwYWNlIGZvciBhbGlnbm1lbnRcbiAgICAgIGMuYXVkaW8gPSBjb25zdHJhaW50c1RvQ2hyb21lKGMuYXVkaW8pO1xuICAgICAgYy52aWRlbyA9IGNvbnN0cmFpbnRzVG9DaHJvbWUoYy52aWRlbyk7XG4gICAgICB3ZWJydGNVdGlscy5sb2coJ2Nocm9tZTogJyArIEpTT04uc3RyaW5naWZ5KGMpKTtcbiAgICAgIHJldHVybiBvcmlnR2V0VXNlck1lZGlhKGMpO1xuICAgIH07XG4gIH1cblxuICAvLyBEdW1teSBkZXZpY2VjaGFuZ2UgZXZlbnQgbWV0aG9kcy5cbiAgLy8gVE9ETyhLYXB0ZW5KYW5zc29uKSByZW1vdmUgb25jZSBpbXBsZW1lbnRlZCBpbiBDaHJvbWUgc3RhYmxlLlxuICBpZiAodHlwZW9mIG5hdmlnYXRvci5tZWRpYURldmljZXMuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHdlYnJ0Y1V0aWxzLmxvZygnRHVtbXkgbWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIgY2FsbGVkLicpO1xuICAgIH07XG4gIH1cbiAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICB3ZWJydGNVdGlscy5sb2coJ0R1bW15IG1lZGlhRGV2aWNlcy5yZW1vdmVFdmVudExpc3RlbmVyIGNhbGxlZC4nKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gQXR0YWNoIGEgbWVkaWEgc3RyZWFtIHRvIGFuIGVsZW1lbnQuXG4gIGF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24oZWxlbWVudCwgc3RyZWFtKSB7XG4gICAgY29uc29sZS5sb2coXCIoUmVhY2hTREs6OmFkYXB0OjphdHRhY2hNZWRpYVN0cmVhbTIpXCIpO1xuICAgIGlmICh3ZWJydGNEZXRlY3RlZFZlcnNpb24gPj0gNDMpIHtcbiAgICAgIGVsZW1lbnQuc3JjT2JqZWN0ID0gc3RyZWFtO1xuICAgICAgZWxlbWVudC5hdXRvcGxheT10cnVlO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW1lbnQuc3JjICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgZWxlbWVudC5zcmMgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKHN0cmVhbSk7XG4gICAgICBlbGVtZW50LmF1dG9wbGF5PXRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHdlYnJ0Y1V0aWxzLmxvZygnRXJyb3IgYXR0YWNoaW5nIHN0cmVhbSB0byBlbGVtZW50LicpO1xuICAgIH1cbiAgICAvLyBpZiAoZWxlbWVudC5wbGF5ICYmIHR5cGVvZiBlbGVtZW50LnBsYXkgPT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vICAgZWxlbWVudC5wbGF5KCk7XG4gICAgLy8gfVxuICB9O1xuICByZWF0dGFjaE1lZGlhU3RyZWFtID0gZnVuY3Rpb24odG8sIGZyb20pIHtcbiAgICBpZiAod2VicnRjRGV0ZWN0ZWRWZXJzaW9uID49IDQzKSB7XG4gICAgICB0by5zcmNPYmplY3QgPSBmcm9tLnNyY09iamVjdDtcbiAgICB9IGVsc2Uge1xuICAgICAgdG8uc3JjID0gZnJvbS5zcmM7XG4gICAgfVxuICAgIHRvLmF1dG9wbGF5PXRydWU7XG4gICAgaWYgKHRvLnBsYXkgJiYgdHlwZW9mIHRvLnBsYXkgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdG8ucGxheSgpO1xuICAgIH1cbiAgfTtcblxufSBlbHNlIGlmIChuYXZpZ2F0b3IubWVkaWFEZXZpY2VzICYmIG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goXG4gICAgL0VkZ2VcXC8oXFxkKykuKFxcZCspJC8pKSB7XG4gIHdlYnJ0Y1V0aWxzLmxvZygnVGhpcyBhcHBlYXJzIHRvIGJlIEVkZ2UnKTtcbiAgd2VicnRjRGV0ZWN0ZWRCcm93c2VyID0gJ2VkZ2UnO1xuXG4gIHdlYnJ0Y0RldGVjdGVkVmVyc2lvbiA9IHdlYnJ0Y1V0aWxzLmV4dHJhY3RWZXJzaW9uKG5hdmlnYXRvci51c2VyQWdlbnQsXG4gICAgICAvRWRnZVxcLyhcXGQrKS4oXFxkKykkLywgMik7XG5cbiAgLy8gVGhlIG1pbmltdW0gdmVyc2lvbiBzdGlsbCBzdXBwb3J0ZWQgYnkgYWRhcHRlci5cbiAgLy8gVGhpcyBpcyB0aGUgYnVpbGQgbnVtYmVyIGZvciBFZGdlLlxuICB3ZWJydGNNaW5pbXVtVmVyc2lvbiA9IDEwNTQ3O1xuXG4gIGlmICh3aW5kb3cuUlRDSWNlR2F0aGVyZXIpIHtcbiAgICAvLyBHZW5lcmF0ZSBhbiBhbHBoYW51bWVyaWMgaWRlbnRpZmllciBmb3IgY25hbWUgb3IgbWlkcy5cbiAgICAvLyBUT0RPOiB1c2UgVVVJRHMgaW5zdGVhZD8gaHR0cHM6Ly9naXN0LmdpdGh1Yi5jb20vamVkLzk4Mjg4M1xuICAgIHZhciBnZW5lcmF0ZUlkZW50aWZpZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgMTApO1xuICAgIH07XG5cbiAgICAvLyBUaGUgUlRDUCBDTkFNRSB1c2VkIGJ5IGFsbCBwZWVyY29ubmVjdGlvbnMgZnJvbSB0aGUgc2FtZSBKUy5cbiAgICB2YXIgbG9jYWxDTmFtZSA9IGdlbmVyYXRlSWRlbnRpZmllcigpO1xuXG4gICAgLy8gU0RQIGhlbHBlcnMgLSB0byBiZSBtb3ZlZCBpbnRvIHNlcGFyYXRlIG1vZHVsZS5cbiAgICB2YXIgU0RQVXRpbHMgPSB7fTtcblxuICAgIC8vIFNwbGl0cyBTRFAgaW50byBsaW5lcywgZGVhbGluZyB3aXRoIGJvdGggQ1JMRiBhbmQgTEYuXG4gICAgU0RQVXRpbHMuc3BsaXRMaW5lcyA9IGZ1bmN0aW9uKGJsb2IpIHtcbiAgICAgIHJldHVybiBibG9iLnRyaW0oKS5zcGxpdCgnXFxuJykubWFwKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIGxpbmUudHJpbSgpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIFNwbGl0cyBTRFAgaW50byBzZXNzaW9ucGFydCBhbmQgbWVkaWFzZWN0aW9ucy4gRW5zdXJlcyBDUkxGLlxuICAgIFNEUFV0aWxzLnNwbGl0U2VjdGlvbnMgPSBmdW5jdGlvbihibG9iKSB7XG4gICAgICB2YXIgcGFydHMgPSBibG9iLnNwbGl0KCdcXHJcXG5tPScpO1xuICAgICAgcmV0dXJuIHBhcnRzLm1hcChmdW5jdGlvbihwYXJ0LCBpbmRleCkge1xuICAgICAgICByZXR1cm4gKGluZGV4ID4gMCA/ICdtPScgKyBwYXJ0IDogcGFydCkudHJpbSgpICsgJ1xcclxcbic7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgLy8gUmV0dXJucyBsaW5lcyB0aGF0IHN0YXJ0IHdpdGggYSBjZXJ0YWluIHByZWZpeC5cbiAgICBTRFBVdGlscy5tYXRjaFByZWZpeCA9IGZ1bmN0aW9uKGJsb2IsIHByZWZpeCkge1xuICAgICAgcmV0dXJuIFNEUFV0aWxzLnNwbGl0TGluZXMoYmxvYikuZmlsdGVyKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIGxpbmUuaW5kZXhPZihwcmVmaXgpID09PSAwO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8vIFBhcnNlcyBhbiBJQ0UgY2FuZGlkYXRlIGxpbmUuIFNhbXBsZSBpbnB1dDpcbiAgICAvLyBjYW5kaWRhdGU6NzAyNzg2MzUwIDIgdWRwIDQxODE5OTAyIDguOC44LjggNjA3NjkgdHlwIHJlbGF5IHJhZGRyIDguOC44LjggcnBvcnQgNTU5OTZcIlxuICAgIFNEUFV0aWxzLnBhcnNlQ2FuZGlkYXRlID0gZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzO1xuICAgICAgLy8gUGFyc2UgYm90aCB2YXJpYW50cy5cbiAgICAgIGlmIChsaW5lLmluZGV4T2YoJ2E9Y2FuZGlkYXRlOicpID09PSAwKSB7XG4gICAgICAgIHBhcnRzID0gbGluZS5zdWJzdHJpbmcoMTIpLnNwbGl0KCcgJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJ0cyA9IGxpbmUuc3Vic3RyaW5nKDEwKS5zcGxpdCgnICcpO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2FuZGlkYXRlID0ge1xuICAgICAgICBmb3VuZGF0aW9uOiBwYXJ0c1swXSxcbiAgICAgICAgY29tcG9uZW50OiBwYXJ0c1sxXSxcbiAgICAgICAgcHJvdG9jb2w6IHBhcnRzWzJdLnRvTG93ZXJDYXNlKCksXG4gICAgICAgIHByaW9yaXR5OiBwYXJzZUludChwYXJ0c1szXSwgMTApLFxuICAgICAgICBpcDogcGFydHNbNF0sXG4gICAgICAgIHBvcnQ6IHBhcnNlSW50KHBhcnRzWzVdLCAxMCksXG4gICAgICAgIC8vIHNraXAgcGFydHNbNl0gPT0gJ3R5cCdcbiAgICAgICAgdHlwZTogcGFydHNbN11cbiAgICAgIH07XG5cbiAgICAgIGZvciAodmFyIGkgPSA4OyBpIDwgcGFydHMubGVuZ3RoOyBpICs9IDIpIHtcbiAgICAgICAgc3dpdGNoIChwYXJ0c1tpXSkge1xuICAgICAgICAgIGNhc2UgJ3JhZGRyJzpcbiAgICAgICAgICAgIGNhbmRpZGF0ZS5yZWxhdGVkQWRkcmVzcyA9IHBhcnRzW2kgKyAxXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Jwb3J0JzpcbiAgICAgICAgICAgIGNhbmRpZGF0ZS5yZWxhdGVkUG9ydCA9IHBhcnNlSW50KHBhcnRzW2kgKyAxXSwgMTApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSAndGNwdHlwZSc6XG4gICAgICAgICAgICBjYW5kaWRhdGUudGNwVHlwZSA9IHBhcnRzW2kgKyAxXTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6IC8vIFVua25vd24gZXh0ZW5zaW9ucyBhcmUgc2lsZW50bHkgaWdub3JlZC5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gY2FuZGlkYXRlO1xuICAgIH07XG5cbiAgICAvLyBUcmFuc2xhdGVzIGEgY2FuZGlkYXRlIG9iamVjdCBpbnRvIFNEUCBjYW5kaWRhdGUgYXR0cmlidXRlLlxuICAgIFNEUFV0aWxzLndyaXRlQ2FuZGlkYXRlID0gZnVuY3Rpb24oY2FuZGlkYXRlKSB7XG4gICAgICB2YXIgc2RwID0gW107XG4gICAgICBzZHAucHVzaChjYW5kaWRhdGUuZm91bmRhdGlvbik7XG4gICAgICBzZHAucHVzaChjYW5kaWRhdGUuY29tcG9uZW50KTtcbiAgICAgIHNkcC5wdXNoKGNhbmRpZGF0ZS5wcm90b2NvbC50b1VwcGVyQ2FzZSgpKTtcbiAgICAgIHNkcC5wdXNoKGNhbmRpZGF0ZS5wcmlvcml0eSk7XG4gICAgICBzZHAucHVzaChjYW5kaWRhdGUuaXApO1xuICAgICAgc2RwLnB1c2goY2FuZGlkYXRlLnBvcnQpO1xuXG4gICAgICB2YXIgdHlwZSA9IGNhbmRpZGF0ZS50eXBlO1xuICAgICAgc2RwLnB1c2goJ3R5cCcpO1xuICAgICAgc2RwLnB1c2godHlwZSk7XG4gICAgICBpZiAodHlwZSAhPT0gJ2hvc3QnICYmIGNhbmRpZGF0ZS5yZWxhdGVkQWRkcmVzcyAmJlxuICAgICAgICAgIGNhbmRpZGF0ZS5yZWxhdGVkUG9ydCkge1xuICAgICAgICBzZHAucHVzaCgncmFkZHInKTtcbiAgICAgICAgc2RwLnB1c2goY2FuZGlkYXRlLnJlbGF0ZWRBZGRyZXNzKTsgLy8gd2FzOiByZWxBZGRyXG4gICAgICAgIHNkcC5wdXNoKCdycG9ydCcpO1xuICAgICAgICBzZHAucHVzaChjYW5kaWRhdGUucmVsYXRlZFBvcnQpOyAvLyB3YXM6IHJlbFBvcnRcbiAgICAgIH1cbiAgICAgIGlmIChjYW5kaWRhdGUudGNwVHlwZSAmJiBjYW5kaWRhdGUucHJvdG9jb2wudG9Mb3dlckNhc2UoKSA9PT0gJ3RjcCcpIHtcbiAgICAgICAgc2RwLnB1c2goJ3RjcHR5cGUnKTtcbiAgICAgICAgc2RwLnB1c2goY2FuZGlkYXRlLnRjcFR5cGUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdjYW5kaWRhdGU6JyArIHNkcC5qb2luKCcgJyk7XG4gICAgfTtcblxuICAgIC8vIFBhcnNlcyBhbiBydHBtYXAgbGluZSwgcmV0dXJucyBSVENSdHBDb2RkZWNQYXJhbWV0ZXJzLiBTYW1wbGUgaW5wdXQ6XG4gICAgLy8gYT1ydHBtYXA6MTExIG9wdXMvNDgwMDAvMlxuICAgIFNEUFV0aWxzLnBhcnNlUnRwTWFwID0gZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHBhcnRzID0gbGluZS5zdWJzdHIoOSkuc3BsaXQoJyAnKTtcbiAgICAgIHZhciBwYXJzZWQgPSB7XG4gICAgICAgIHBheWxvYWRUeXBlOiBwYXJzZUludChwYXJ0cy5zaGlmdCgpLCAxMCkgLy8gd2FzOiBpZFxuICAgICAgfTtcblxuICAgICAgcGFydHMgPSBwYXJ0c1swXS5zcGxpdCgnLycpO1xuXG4gICAgICBwYXJzZWQubmFtZSA9IHBhcnRzWzBdO1xuICAgICAgcGFyc2VkLmNsb2NrUmF0ZSA9IHBhcnNlSW50KHBhcnRzWzFdLCAxMCk7IC8vIHdhczogY2xvY2tyYXRlXG4gICAgICBwYXJzZWQubnVtQ2hhbm5lbHMgPSBwYXJ0cy5sZW5ndGggPT09IDMgPyBwYXJzZUludChwYXJ0c1syXSwgMTApIDogMTsgLy8gd2FzOiBjaGFubmVsc1xuICAgICAgcmV0dXJuIHBhcnNlZDtcbiAgICB9O1xuXG4gICAgLy8gR2VuZXJhdGUgYW4gYT1ydHBtYXAgbGluZSBmcm9tIFJUQ1J0cENvZGVjQ2FwYWJpbGl0eSBvciBSVENSdHBDb2RlY1BhcmFtZXRlcnMuXG4gICAgU0RQVXRpbHMud3JpdGVSdHBNYXAgPSBmdW5jdGlvbihjb2RlYykge1xuICAgICAgdmFyIHB0ID0gY29kZWMucGF5bG9hZFR5cGU7XG4gICAgICBpZiAoY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwdCA9IGNvZGVjLnByZWZlcnJlZFBheWxvYWRUeXBlO1xuICAgICAgfVxuICAgICAgcmV0dXJuICdhPXJ0cG1hcDonICsgcHQgKyAnICcgKyBjb2RlYy5uYW1lICsgJy8nICsgY29kZWMuY2xvY2tSYXRlICtcbiAgICAgICAgICAoY29kZWMubnVtQ2hhbm5lbHMgIT09IDEgPyAnLycgKyBjb2RlYy5udW1DaGFubmVscyA6ICcnKSArICdcXHJcXG4nO1xuICAgIH07XG5cbiAgICAvLyBQYXJzZXMgYW4gZnRtcCBsaW5lLCByZXR1cm5zIGRpY3Rpb25hcnkuIFNhbXBsZSBpbnB1dDpcbiAgICAvLyBhPWZtdHA6OTYgdmJyPW9uO2NuZz1vblxuICAgIC8vIEFsc28gZGVhbHMgd2l0aCB2YnI9b247IGNuZz1vblxuICAgIFNEUFV0aWxzLnBhcnNlRm10cCA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBwYXJzZWQgPSB7fTtcbiAgICAgIHZhciBrdjtcbiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3Vic3RyKGxpbmUuaW5kZXhPZignICcpICsgMSkuc3BsaXQoJzsnKTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAga3YgPSBwYXJ0c1tqXS50cmltKCkuc3BsaXQoJz0nKTtcbiAgICAgICAgcGFyc2VkW2t2WzBdLnRyaW0oKV0gPSBrdlsxXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXJzZWQ7XG4gICAgfTtcblxuICAgIC8vIEdlbmVyYXRlcyBhbiBhPWZ0bXAgbGluZSBmcm9tIFJUQ1J0cENvZGVjQ2FwYWJpbGl0eSBvciBSVENSdHBDb2RlY1BhcmFtZXRlcnMuXG4gICAgU0RQVXRpbHMud3JpdGVGdG1wID0gZnVuY3Rpb24oY29kZWMpIHtcbiAgICAgIHZhciBsaW5lID0gJyc7XG4gICAgICB2YXIgcHQgPSBjb2RlYy5wYXlsb2FkVHlwZTtcbiAgICAgIGlmIChjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHB0ID0gY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGU7XG4gICAgICB9XG4gICAgICBpZiAoY29kZWMucGFyYW1ldGVycyAmJiBjb2RlYy5wYXJhbWV0ZXJzLmxlbmd0aCkge1xuICAgICAgICB2YXIgcGFyYW1zID0gW107XG4gICAgICAgIE9iamVjdC5rZXlzKGNvZGVjLnBhcmFtZXRlcnMpLmZvckVhY2goZnVuY3Rpb24ocGFyYW0pIHtcbiAgICAgICAgICBwYXJhbXMucHVzaChwYXJhbSArICc9JyArIGNvZGVjLnBhcmFtZXRlcnNbcGFyYW1dKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxpbmUgKz0gJ2E9Zm10cDonICsgcHQgKyAnICcgKyBwYXJhbXMuam9pbignOycpICsgJ1xcclxcbic7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGluZTtcbiAgICB9O1xuXG4gICAgLy8gUGFyc2VzIGFuIHJ0Y3AtZmIgbGluZSwgcmV0dXJucyBSVENQUnRjcEZlZWRiYWNrIG9iamVjdC4gU2FtcGxlIGlucHV0OlxuICAgIC8vIGE9cnRjcC1mYjo5OCBuYWNrIHJwc2lcbiAgICBTRFBVdGlscy5wYXJzZVJ0Y3BGYiA9IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBwYXJ0cyA9IGxpbmUuc3Vic3RyKGxpbmUuaW5kZXhPZignICcpICsgMSkuc3BsaXQoJyAnKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHBhcnRzLnNoaWZ0KCksXG4gICAgICAgIHBhcmFtZXRlcjogcGFydHMuam9pbignICcpXG4gICAgICB9O1xuICAgIH07XG4gICAgLy8gR2VuZXJhdGUgYT1ydGNwLWZiIGxpbmVzIGZyb20gUlRDUnRwQ29kZWNDYXBhYmlsaXR5IG9yIFJUQ1J0cENvZGVjUGFyYW1ldGVycy5cbiAgICBTRFBVdGlscy53cml0ZVJ0Y3BGYiA9IGZ1bmN0aW9uKGNvZGVjKSB7XG4gICAgICB2YXIgbGluZXMgPSAnJztcbiAgICAgIHZhciBwdCA9IGNvZGVjLnBheWxvYWRUeXBlO1xuICAgICAgaWYgKGNvZGVjLnByZWZlcnJlZFBheWxvYWRUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcHQgPSBjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZTtcbiAgICAgIH1cbiAgICAgIGlmIChjb2RlYy5ydGNwRmVlZGJhY2sgJiYgY29kZWMucnRjcEZlZWRiYWNrLmxlbmd0aCkge1xuICAgICAgICAvLyBGSVhNRTogc3BlY2lhbCBoYW5kbGluZyBmb3IgdHJyLWludD9cbiAgICAgICAgY29kZWMucnRjcEZlZWRiYWNrLmZvckVhY2goZnVuY3Rpb24oZmIpIHtcbiAgICAgICAgICBsaW5lcyArPSAnYT1ydGNwLWZiOicgKyBwdCArICcgJyArIGZiLnR5cGUgKyAnICcgKyBmYi5wYXJhbWV0ZXIgK1xuICAgICAgICAgICAgICAnXFxyXFxuJztcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbGluZXM7XG4gICAgfTtcblxuICAgIC8vIFBhcnNlcyBhbiBSRkMgNTU3NiBzc3JjIG1lZGlhIGF0dHJpYnV0ZS4gU2FtcGxlIGlucHV0OlxuICAgIC8vIGE9c3NyYzozNzM1OTI4NTU5IGNuYW1lOnNvbWV0aGluZ1xuICAgIFNEUFV0aWxzLnBhcnNlU3NyY01lZGlhID0gZnVuY3Rpb24obGluZSkge1xuICAgICAgdmFyIHNwID0gbGluZS5pbmRleE9mKCcgJyk7XG4gICAgICB2YXIgcGFydHMgPSB7XG4gICAgICAgIHNzcmM6IGxpbmUuc3Vic3RyKDcsIHNwIC0gNyksXG4gICAgICB9O1xuICAgICAgdmFyIGNvbG9uID0gbGluZS5pbmRleE9mKCc6Jywgc3ApO1xuICAgICAgaWYgKGNvbG9uID4gLTEpIHtcbiAgICAgICAgcGFydHMuYXR0cmlidXRlID0gbGluZS5zdWJzdHIoc3AgKyAxLCBjb2xvbiAtIHNwIC0gMSk7XG4gICAgICAgIHBhcnRzLnZhbHVlID0gbGluZS5zdWJzdHIoY29sb24gKyAxKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcnRzLmF0dHJpYnV0ZSA9IGxpbmUuc3Vic3RyKHNwICsgMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGFydHM7XG4gICAgfTtcblxuICAgIC8vIEV4dHJhY3RzIERUTFMgcGFyYW1ldGVycyBmcm9tIFNEUCBtZWRpYSBzZWN0aW9uIG9yIHNlc3Npb25wYXJ0LlxuICAgIC8vIEZJWE1FOiBmb3IgY29uc2lzdGVuY3kgd2l0aCBvdGhlciBmdW5jdGlvbnMgdGhpcyBzaG91bGQgb25seVxuICAgIC8vICAgZ2V0IHRoZSBmaW5nZXJwcmludCBsaW5lIGFzIGlucHV0LiBTZWUgYWxzbyBnZXRJY2VQYXJhbWV0ZXJzLlxuICAgIFNEUFV0aWxzLmdldER0bHNQYXJhbWV0ZXJzID0gZnVuY3Rpb24obWVkaWFTZWN0aW9uLCBzZXNzaW9ucGFydCkge1xuICAgICAgdmFyIGxpbmVzID0gU0RQVXRpbHMuc3BsaXRMaW5lcyhtZWRpYVNlY3Rpb24pO1xuICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoU0RQVXRpbHMuc3BsaXRMaW5lcyhzZXNzaW9ucGFydCkpOyAvLyBTZWFyY2ggaW4gc2Vzc2lvbiBwYXJ0LCB0b28uXG4gICAgICB2YXIgZnBMaW5lID0gbGluZXMuZmlsdGVyKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgcmV0dXJuIGxpbmUuaW5kZXhPZignYT1maW5nZXJwcmludDonKSA9PT0gMDtcbiAgICAgIH0pWzBdLnN1YnN0cigxNCk7XG4gICAgICAvLyBOb3RlOiBhPXNldHVwIGxpbmUgaXMgaWdub3JlZCBzaW5jZSB3ZSB1c2UgdGhlICdhdXRvJyByb2xlLlxuICAgICAgdmFyIGR0bHNQYXJhbWV0ZXJzID0ge1xuICAgICAgICByb2xlOiAnYXV0bycsXG4gICAgICAgIGZpbmdlcnByaW50czogW3tcbiAgICAgICAgICBhbGdvcml0aG06IGZwTGluZS5zcGxpdCgnICcpWzBdLFxuICAgICAgICAgIHZhbHVlOiBmcExpbmUuc3BsaXQoJyAnKVsxXVxuICAgICAgICB9XVxuICAgICAgfTtcbiAgICAgIHJldHVybiBkdGxzUGFyYW1ldGVycztcbiAgICB9O1xuXG4gICAgLy8gU2VyaWFsaXplcyBEVExTIHBhcmFtZXRlcnMgdG8gU0RQLlxuICAgIFNEUFV0aWxzLndyaXRlRHRsc1BhcmFtZXRlcnMgPSBmdW5jdGlvbihwYXJhbXMsIHNldHVwVHlwZSkge1xuICAgICAgdmFyIHNkcCA9ICdhPXNldHVwOicgKyBzZXR1cFR5cGUgKyAnXFxyXFxuJztcbiAgICAgIHBhcmFtcy5maW5nZXJwcmludHMuZm9yRWFjaChmdW5jdGlvbihmcCkge1xuICAgICAgICBzZHAgKz0gJ2E9ZmluZ2VycHJpbnQ6JyArIGZwLmFsZ29yaXRobSArICcgJyArIGZwLnZhbHVlICsgJ1xcclxcbic7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBzZHA7XG4gICAgfTtcbiAgICAvLyBQYXJzZXMgSUNFIGluZm9ybWF0aW9uIGZyb20gU0RQIG1lZGlhIHNlY3Rpb24gb3Igc2Vzc2lvbnBhcnQuXG4gICAgLy8gRklYTUU6IGZvciBjb25zaXN0ZW5jeSB3aXRoIG90aGVyIGZ1bmN0aW9ucyB0aGlzIHNob3VsZCBvbmx5XG4gICAgLy8gICBnZXQgdGhlIGljZS11ZnJhZyBhbmQgaWNlLXB3ZCBsaW5lcyBhcyBpbnB1dC5cbiAgICBTRFBVdGlscy5nZXRJY2VQYXJhbWV0ZXJzID0gZnVuY3Rpb24obWVkaWFTZWN0aW9uLCBzZXNzaW9ucGFydCkge1xuICAgICAgdmFyIGxpbmVzID0gU0RQVXRpbHMuc3BsaXRMaW5lcyhtZWRpYVNlY3Rpb24pO1xuICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoU0RQVXRpbHMuc3BsaXRMaW5lcyhzZXNzaW9ucGFydCkpOyAvLyBTZWFyY2ggaW4gc2Vzc2lvbiBwYXJ0LCB0b28uXG4gICAgICB2YXIgaWNlUGFyYW1ldGVycyA9IHtcbiAgICAgICAgdXNlcm5hbWVGcmFnbWVudDogbGluZXMuZmlsdGVyKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgICAgICByZXR1cm4gbGluZS5pbmRleE9mKCdhPWljZS11ZnJhZzonKSA9PT0gMDtcbiAgICAgICAgfSlbMF0uc3Vic3RyKDEyKSxcbiAgICAgICAgcGFzc3dvcmQ6IGxpbmVzLmZpbHRlcihmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgcmV0dXJuIGxpbmUuaW5kZXhPZignYT1pY2UtcHdkOicpID09PSAwO1xuICAgICAgICB9KVswXS5zdWJzdHIoMTApXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGljZVBhcmFtZXRlcnM7XG4gICAgfTtcblxuICAgIC8vIFNlcmlhbGl6ZXMgSUNFIHBhcmFtZXRlcnMgdG8gU0RQLlxuICAgIFNEUFV0aWxzLndyaXRlSWNlUGFyYW1ldGVycyA9IGZ1bmN0aW9uKHBhcmFtcykge1xuICAgICAgcmV0dXJuICdhPWljZS11ZnJhZzonICsgcGFyYW1zLnVzZXJuYW1lRnJhZ21lbnQgKyAnXFxyXFxuJyArXG4gICAgICAgICAgJ2E9aWNlLXB3ZDonICsgcGFyYW1zLnBhc3N3b3JkICsgJ1xcclxcbic7XG4gICAgfTtcblxuICAgIC8vIFBhcnNlcyB0aGUgU0RQIG1lZGlhIHNlY3Rpb24gYW5kIHJldHVybnMgUlRDUnRwUGFyYW1ldGVycy5cbiAgICBTRFBVdGlscy5wYXJzZVJ0cFBhcmFtZXRlcnMgPSBmdW5jdGlvbihtZWRpYVNlY3Rpb24pIHtcbiAgICAgIHZhciBkZXNjcmlwdGlvbiA9IHtcbiAgICAgICAgY29kZWNzOiBbXSxcbiAgICAgICAgaGVhZGVyRXh0ZW5zaW9uczogW10sXG4gICAgICAgIGZlY01lY2hhbmlzbXM6IFtdLFxuICAgICAgICBydGNwOiBbXVxuICAgICAgfTtcbiAgICAgIHZhciBsaW5lcyA9IFNEUFV0aWxzLnNwbGl0TGluZXMobWVkaWFTZWN0aW9uKTtcbiAgICAgIHZhciBtbGluZSA9IGxpbmVzWzBdLnNwbGl0KCcgJyk7XG4gICAgICBmb3IgKHZhciBpID0gMzsgaSA8IG1saW5lLmxlbmd0aDsgaSsrKSB7IC8vIGZpbmQgYWxsIGNvZGVjcyBmcm9tIG1saW5lWzMuLl1cbiAgICAgICAgdmFyIHB0ID0gbWxpbmVbaV07XG4gICAgICAgIHZhciBydHBtYXBsaW5lID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgoXG4gICAgICAgICAgICBtZWRpYVNlY3Rpb24sICdhPXJ0cG1hcDonICsgcHQgKyAnICcpWzBdO1xuICAgICAgICBpZiAocnRwbWFwbGluZSkge1xuICAgICAgICAgIHZhciBjb2RlYyA9IFNEUFV0aWxzLnBhcnNlUnRwTWFwKHJ0cG1hcGxpbmUpO1xuICAgICAgICAgIHZhciBmbXRwcyA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KFxuICAgICAgICAgICAgICBtZWRpYVNlY3Rpb24sICdhPWZtdHA6JyArIHB0ICsgJyAnKTtcbiAgICAgICAgICAvLyBPbmx5IHRoZSBmaXJzdCBhPWZtdHA6PHB0PiBpcyBjb25zaWRlcmVkLlxuICAgICAgICAgIGNvZGVjLnBhcmFtZXRlcnMgPSBmbXRwcy5sZW5ndGggPyBTRFBVdGlscy5wYXJzZUZtdHAoZm10cHNbMF0pIDoge307XG4gICAgICAgICAgY29kZWMucnRjcEZlZWRiYWNrID0gU0RQVXRpbHMubWF0Y2hQcmVmaXgoXG4gICAgICAgICAgICAgIG1lZGlhU2VjdGlvbiwgJ2E9cnRjcC1mYjonICsgcHQgKyAnICcpXG4gICAgICAgICAgICAubWFwKFNEUFV0aWxzLnBhcnNlUnRjcEZiKTtcbiAgICAgICAgICBkZXNjcmlwdGlvbi5jb2RlY3MucHVzaChjb2RlYyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEZJWE1FOiBwYXJzZSBoZWFkZXJFeHRlbnNpb25zLCBmZWNNZWNoYW5pc21zIGFuZCBydGNwLlxuICAgICAgcmV0dXJuIGRlc2NyaXB0aW9uO1xuICAgIH07XG5cbiAgICAvLyBHZW5lcmF0ZXMgcGFydHMgb2YgdGhlIFNEUCBtZWRpYSBzZWN0aW9uIGRlc2NyaWJpbmcgdGhlIGNhcGFiaWxpdGllcyAvIHBhcmFtZXRlcnMuXG4gICAgU0RQVXRpbHMud3JpdGVSdHBEZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKGtpbmQsIGNhcHMpIHtcbiAgICAgIHZhciBzZHAgPSAnJztcblxuICAgICAgLy8gQnVpbGQgdGhlIG1saW5lLlxuICAgICAgc2RwICs9ICdtPScgKyBraW5kICsgJyAnO1xuICAgICAgc2RwICs9IGNhcHMuY29kZWNzLmxlbmd0aCA+IDAgPyAnOScgOiAnMCc7IC8vIHJlamVjdCBpZiBubyBjb2RlY3MuXG4gICAgICBzZHAgKz0gJyBVRFAvVExTL1JUUC9TQVZQRiAnO1xuICAgICAgc2RwICs9IGNhcHMuY29kZWNzLm1hcChmdW5jdGlvbihjb2RlYykge1xuICAgICAgICBpZiAoY29kZWMucHJlZmVycmVkUGF5bG9hZFR5cGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJldHVybiBjb2RlYy5wcmVmZXJyZWRQYXlsb2FkVHlwZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29kZWMucGF5bG9hZFR5cGU7XG4gICAgICB9KS5qb2luKCcgJykgKyAnXFxyXFxuJztcblxuICAgICAgc2RwICs9ICdjPUlOIElQNCAwLjAuMC4wXFxyXFxuJztcbiAgICAgIHNkcCArPSAnYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXHJcXG4nO1xuXG4gICAgICAvLyBBZGQgYT1ydHBtYXAgbGluZXMgZm9yIGVhY2ggY29kZWMuIEFsc28gZm10cCBhbmQgcnRjcC1mYi5cbiAgICAgIGNhcHMuY29kZWNzLmZvckVhY2goZnVuY3Rpb24oY29kZWMpIHtcbiAgICAgICAgc2RwICs9IFNEUFV0aWxzLndyaXRlUnRwTWFwKGNvZGVjKTtcbiAgICAgICAgc2RwICs9IFNEUFV0aWxzLndyaXRlRnRtcChjb2RlYyk7XG4gICAgICAgIHNkcCArPSBTRFBVdGlscy53cml0ZVJ0Y3BGYihjb2RlYyk7XG4gICAgICB9KTtcbiAgICAgIC8vIEZJWE1FOiBhZGQgaGVhZGVyRXh0ZW5zaW9ucywgZmVjTWVjaGFuaXNtcyBhbmQgcnRjcC5cbiAgICAgIHNkcCArPSAnYT1ydGNwLW11eFxcclxcbic7XG4gICAgICByZXR1cm4gc2RwO1xuICAgIH07XG5cbiAgICBTRFBVdGlscy53cml0ZVNlc3Npb25Cb2lsZXJwbGF0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgLy8gRklYTUU6IHNlc3MtaWQgc2hvdWxkIGJlIGFuIE5UUCB0aW1lc3RhbXAuXG4gICAgICByZXR1cm4gJ3Y9MFxcclxcbicgK1xuICAgICAgICAgICdvPXRoaXNpc2FkYXB0ZXJvcnRjIDgxNjk2Mzk5MTU2NDY5NDMxMzcgMiBJTiBJUDQgMTI3LjAuMC4xXFxyXFxuJyArXG4gICAgICAgICAgJ3M9LVxcclxcbicgK1xuICAgICAgICAgICd0PTAgMFxcclxcbic7XG4gICAgfTtcblxuICAgIFNEUFV0aWxzLndyaXRlTWVkaWFTZWN0aW9uID0gZnVuY3Rpb24odHJhbnNjZWl2ZXIsIGNhcHMsIHR5cGUsIHN0cmVhbSkge1xuICAgICAgdmFyIHNkcCA9IFNEUFV0aWxzLndyaXRlUnRwRGVzY3JpcHRpb24odHJhbnNjZWl2ZXIua2luZCwgY2Fwcyk7XG5cbiAgICAgIC8vIE1hcCBJQ0UgcGFyYW1ldGVycyAodWZyYWcsIHB3ZCkgdG8gU0RQLlxuICAgICAgc2RwICs9IFNEUFV0aWxzLndyaXRlSWNlUGFyYW1ldGVycyhcbiAgICAgICAgICB0cmFuc2NlaXZlci5pY2VHYXRoZXJlci5nZXRMb2NhbFBhcmFtZXRlcnMoKSk7XG5cbiAgICAgIC8vIE1hcCBEVExTIHBhcmFtZXRlcnMgdG8gU0RQLlxuICAgICAgc2RwICs9IFNEUFV0aWxzLndyaXRlRHRsc1BhcmFtZXRlcnMoXG4gICAgICAgICAgdHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydC5nZXRMb2NhbFBhcmFtZXRlcnMoKSxcbiAgICAgICAgICB0eXBlID09PSAnb2ZmZXInID8gJ2FjdHBhc3MnIDogJ2FjdGl2ZScpO1xuXG4gICAgICBzZHAgKz0gJ2E9bWlkOicgKyB0cmFuc2NlaXZlci5taWQgKyAnXFxyXFxuJztcblxuICAgICAgaWYgKHRyYW5zY2VpdmVyLnJ0cFNlbmRlciAmJiB0cmFuc2NlaXZlci5ydHBSZWNlaXZlcikge1xuICAgICAgICBzZHAgKz0gJ2E9c2VuZHJlY3ZcXHJcXG4nO1xuICAgICAgfSBlbHNlIGlmICh0cmFuc2NlaXZlci5ydHBTZW5kZXIpIHtcbiAgICAgICAgc2RwICs9ICdhPXNlbmRvbmx5XFxyXFxuJztcbiAgICAgIH0gZWxzZSBpZiAodHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXIpIHtcbiAgICAgICAgc2RwICs9ICdhPXJlY3Zvbmx5XFxyXFxuJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNkcCArPSAnYT1pbmFjdGl2ZVxcclxcbic7XG4gICAgICB9XG5cbiAgICAgIC8vIEZJWE1FOiBmb3IgUlRYIHRoZXJlIG1pZ2h0IGJlIG11bHRpcGxlIFNTUkNzLiBOb3QgaW1wbGVtZW50ZWQgaW4gRWRnZSB5ZXQuXG4gICAgICBpZiAodHJhbnNjZWl2ZXIucnRwU2VuZGVyKSB7XG4gICAgICAgIHZhciBtc2lkID0gJ21zaWQ6JyArIHN0cmVhbS5pZCArICcgJyArXG4gICAgICAgICAgICB0cmFuc2NlaXZlci5ydHBTZW5kZXIudHJhY2suaWQgKyAnXFxyXFxuJztcbiAgICAgICAgc2RwICs9ICdhPScgKyBtc2lkO1xuICAgICAgICBzZHAgKz0gJ2E9c3NyYzonICsgdHJhbnNjZWl2ZXIuc2VuZFNzcmMgKyAnICcgKyBtc2lkO1xuICAgICAgfVxuICAgICAgLy8gRklYTUU6IHRoaXMgc2hvdWxkIGJlIHdyaXR0ZW4gYnkgd3JpdGVSdHBEZXNjcmlwdGlvbi5cbiAgICAgIHNkcCArPSAnYT1zc3JjOicgKyB0cmFuc2NlaXZlci5zZW5kU3NyYyArICcgY25hbWU6JyArXG4gICAgICAgICAgbG9jYWxDTmFtZSArICdcXHJcXG4nO1xuICAgICAgcmV0dXJuIHNkcDtcbiAgICB9O1xuXG4gICAgLy8gR2V0cyB0aGUgZGlyZWN0aW9uIGZyb20gdGhlIG1lZGlhU2VjdGlvbiBvciB0aGUgc2Vzc2lvbnBhcnQuXG4gICAgU0RQVXRpbHMuZ2V0RGlyZWN0aW9uID0gZnVuY3Rpb24obWVkaWFTZWN0aW9uLCBzZXNzaW9ucGFydCkge1xuICAgICAgLy8gTG9vayBmb3Igc2VuZHJlY3YsIHNlbmRvbmx5LCByZWN2b25seSwgaW5hY3RpdmUsIGRlZmF1bHQgdG8gc2VuZHJlY3YuXG4gICAgICB2YXIgbGluZXMgPSBTRFBVdGlscy5zcGxpdExpbmVzKG1lZGlhU2VjdGlvbik7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN3aXRjaCAobGluZXNbaV0pIHtcbiAgICAgICAgICBjYXNlICdhPXNlbmRyZWN2JzpcbiAgICAgICAgICBjYXNlICdhPXNlbmRvbmx5JzpcbiAgICAgICAgICBjYXNlICdhPXJlY3Zvbmx5JzpcbiAgICAgICAgICBjYXNlICdhPWluYWN0aXZlJzpcbiAgICAgICAgICAgIHJldHVybiBsaW5lc1tpXS5zdWJzdHIoMik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzZXNzaW9ucGFydCkge1xuICAgICAgICByZXR1cm4gU0RQVXRpbHMuZ2V0RGlyZWN0aW9uKHNlc3Npb25wYXJ0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAnc2VuZHJlY3YnO1xuICAgIH07XG5cbiAgICAvLyBPUlRDIGRlZmluZXMgYW4gUlRDSWNlQ2FuZGlkYXRlIG9iamVjdCBidXQgbm8gY29uc3RydWN0b3IuXG4gICAgLy8gTm90IGltcGxlbWVudGVkIGluIEVkZ2UuXG4gICAgaWYgKCF3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlKSB7XG4gICAgICB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlID0gZnVuY3Rpb24oYXJncykge1xuICAgICAgICByZXR1cm4gYXJncztcbiAgICAgIH07XG4gICAgfVxuICAgIC8vIE9SVEMgZG9lcyBub3QgaGF2ZSBhIHNlc3Npb24gZGVzY3JpcHRpb24gb2JqZWN0IGJ1dFxuICAgIC8vIG90aGVyIGJyb3dzZXJzIChpLmUuIENocm9tZSkgdGhhdCB3aWxsIHN1cHBvcnQgYm90aCBQQyBhbmQgT1JUQ1xuICAgIC8vIGluIHRoZSBmdXR1cmUgbWlnaHQgaGF2ZSB0aGlzIGRlZmluZWQgYWxyZWFkeS5cbiAgICBpZiAoIXdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24pIHtcbiAgICAgIHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb24gPSBmdW5jdGlvbihhcmdzKSB7XG4gICAgICAgIHJldHVybiBhcmdzO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24gPSBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgICAgdGhpcy5vbmljZWNhbmRpZGF0ZSA9IG51bGw7XG4gICAgICB0aGlzLm9uYWRkc3RyZWFtID0gbnVsbDtcbiAgICAgIHRoaXMub25yZW1vdmVzdHJlYW0gPSBudWxsO1xuICAgICAgdGhpcy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgIHRoaXMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgdGhpcy5vbm5lZ290aWF0aW9ubmVlZGVkID0gbnVsbDtcbiAgICAgIHRoaXMub25kYXRhY2hhbm5lbCA9IG51bGw7XG5cbiAgICAgIHRoaXMubG9jYWxTdHJlYW1zID0gW107XG4gICAgICB0aGlzLnJlbW90ZVN0cmVhbXMgPSBbXTtcbiAgICAgIHRoaXMuZ2V0TG9jYWxTdHJlYW1zID0gZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLmxvY2FsU3RyZWFtczsgfTtcbiAgICAgIHRoaXMuZ2V0UmVtb3RlU3RyZWFtcyA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5yZW1vdGVTdHJlYW1zOyB9O1xuXG4gICAgICB0aGlzLmxvY2FsRGVzY3JpcHRpb24gPSBuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHtcbiAgICAgICAgdHlwZTogJycsXG4gICAgICAgIHNkcDogJydcbiAgICAgIH0pO1xuICAgICAgdGhpcy5yZW1vdGVEZXNjcmlwdGlvbiA9IG5ldyBSVENTZXNzaW9uRGVzY3JpcHRpb24oe1xuICAgICAgICB0eXBlOiAnJyxcbiAgICAgICAgc2RwOiAnJ1xuICAgICAgfSk7XG4gICAgICB0aGlzLnNpZ25hbGluZ1N0YXRlID0gJ3N0YWJsZSc7XG4gICAgICB0aGlzLmljZUNvbm5lY3Rpb25TdGF0ZSA9ICduZXcnO1xuXG4gICAgICB0aGlzLmljZU9wdGlvbnMgPSB7XG4gICAgICAgIGdhdGhlclBvbGljeTogJ2FsbCcsXG4gICAgICAgIGljZVNlcnZlcnM6IFtdXG4gICAgICB9O1xuICAgICAgaWYgKGNvbmZpZyAmJiBjb25maWcuaWNlVHJhbnNwb3J0UG9saWN5KSB7XG4gICAgICAgIHN3aXRjaCAoY29uZmlnLmljZVRyYW5zcG9ydFBvbGljeSkge1xuICAgICAgICAgIGNhc2UgJ2FsbCc6XG4gICAgICAgICAgY2FzZSAncmVsYXknOlxuICAgICAgICAgICAgdGhpcy5pY2VPcHRpb25zLmdhdGhlclBvbGljeSA9IGNvbmZpZy5pY2VUcmFuc3BvcnRQb2xpY3k7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlICdub25lJzpcbiAgICAgICAgICAgIC8vIEZJWE1FOiByZW1vdmUgb25jZSBpbXBsZW1lbnRhdGlvbiBhbmQgc3BlYyBoYXZlIGFkZGVkIHRoaXMuXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdpY2VUcmFuc3BvcnRQb2xpY3kgXCJub25lXCIgbm90IHN1cHBvcnRlZCcpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnICYmIGNvbmZpZy5pY2VTZXJ2ZXJzKSB7XG4gICAgICAgIC8vIEVkZ2UgZG9lcyBub3QgbGlrZVxuICAgICAgICAvLyAxKSBzdHVuOlxuICAgICAgICAvLyAyKSB0dXJuOiB0aGF0IGRvZXMgbm90IGhhdmUgYWxsIG9mIHR1cm46aG9zdDpwb3J0P3RyYW5zcG9ydD11ZHBcbiAgICAgICAgLy8gMykgYW4gYXJyYXkgb2YgdXJsc1xuICAgICAgICBjb25maWcuaWNlU2VydmVycy5mb3JFYWNoKGZ1bmN0aW9uKHNlcnZlcikge1xuICAgICAgICAgIGlmIChzZXJ2ZXIudXJscykge1xuICAgICAgICAgICAgdmFyIHVybDtcbiAgICAgICAgICAgIGlmICh0eXBlb2Yoc2VydmVyLnVybHMpID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICB1cmwgPSBzZXJ2ZXIudXJscztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHVybCA9IHNlcnZlci51cmxzWzBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHVybC5pbmRleE9mKCd0cmFuc3BvcnQ9dWRwJykgIT09IC0xKSB7XG4gICAgICAgICAgICAgIHNlbGYuaWNlU2VydmVycy5wdXNoKHtcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogc2VydmVyLnVzZXJuYW1lLFxuICAgICAgICAgICAgICAgIGNyZWRlbnRpYWw6IHNlcnZlci5jcmVkZW50aWFsLFxuICAgICAgICAgICAgICAgIHVybHM6IHVybFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICAvLyBwZXItdHJhY2sgaWNlR2F0aGVycywgaWNlVHJhbnNwb3J0cywgZHRsc1RyYW5zcG9ydHMsIHJ0cFNlbmRlcnMsIC4uLlxuICAgICAgLy8gZXZlcnl0aGluZyB0aGF0IGlzIG5lZWRlZCB0byBkZXNjcmliZSBhIFNEUCBtLWxpbmUuXG4gICAgICB0aGlzLnRyYW5zY2VpdmVycyA9IFtdO1xuXG4gICAgICAvLyBzaW5jZSB0aGUgaWNlR2F0aGVyZXIgaXMgY3VycmVudGx5IGNyZWF0ZWQgaW4gY3JlYXRlT2ZmZXIgYnV0IHdlXG4gICAgICAvLyBtdXN0IG5vdCBlbWl0IGNhbmRpZGF0ZXMgdW50aWwgYWZ0ZXIgc2V0TG9jYWxEZXNjcmlwdGlvbiB3ZSBidWZmZXJcbiAgICAgIC8vIHRoZW0gaW4gdGhpcyBhcnJheS5cbiAgICAgIHRoaXMuX2xvY2FsSWNlQ2FuZGlkYXRlc0J1ZmZlciA9IFtdO1xuICAgIH07XG5cbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl9lbWl0QnVmZmVyZWRDYW5kaWRhdGVzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAvLyBGSVhNRTogbmVlZCB0byBhcHBseSBpY2UgY2FuZGlkYXRlcyBpbiBhIHdheSB3aGljaCBpcyBhc3luYyBidXQgaW4tb3JkZXJcbiAgICAgIHRoaXMuX2xvY2FsSWNlQ2FuZGlkYXRlc0J1ZmZlci5mb3JFYWNoKGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGlmIChzZWxmLm9uaWNlY2FuZGlkYXRlICE9PSBudWxsKSB7XG4gICAgICAgICAgc2VsZi5vbmljZWNhbmRpZGF0ZShldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5fbG9jYWxJY2VDYW5kaWRhdGVzQnVmZmVyID0gW107XG4gICAgfTtcblxuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtID0gZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAvLyBDbG9uZSBpcyBuZWNlc3NhcnkgZm9yIGxvY2FsIGRlbW9zIG1vc3RseSwgYXR0YWNoaW5nIGRpcmVjdGx5XG4gICAgICAvLyB0byB0d28gZGlmZmVyZW50IHNlbmRlcnMgZG9lcyBub3Qgd29yayAoYnVpbGQgMTA1NDcpLlxuICAgICAgdGhpcy5sb2NhbFN0cmVhbXMucHVzaChzdHJlYW0uY2xvbmUoKSk7XG4gICAgICB0aGlzLl9tYXliZUZpcmVOZWdvdGlhdGlvbk5lZWRlZCgpO1xuICAgIH07XG5cbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbSA9IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgdmFyIGlkeCA9IHRoaXMubG9jYWxTdHJlYW1zLmluZGV4T2Yoc3RyZWFtKTtcbiAgICAgIGlmIChpZHggPiAtMSkge1xuICAgICAgICB0aGlzLmxvY2FsU3RyZWFtcy5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgdGhpcy5fbWF5YmVGaXJlTmVnb3RpYXRpb25OZWVkZWQoKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRGV0ZXJtaW5lcyB0aGUgaW50ZXJzZWN0aW9uIG9mIGxvY2FsIGFuZCByZW1vdGUgY2FwYWJpbGl0aWVzLlxuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuX2dldENvbW1vbkNhcGFiaWxpdGllcyA9XG4gICAgICAgIGZ1bmN0aW9uKGxvY2FsQ2FwYWJpbGl0aWVzLCByZW1vdGVDYXBhYmlsaXRpZXMpIHtcbiAgICAgIHZhciBjb21tb25DYXBhYmlsaXRpZXMgPSB7XG4gICAgICAgIGNvZGVjczogW10sXG4gICAgICAgIGhlYWRlckV4dGVuc2lvbnM6IFtdLFxuICAgICAgICBmZWNNZWNoYW5pc21zOiBbXVxuICAgICAgfTtcbiAgICAgIGxvY2FsQ2FwYWJpbGl0aWVzLmNvZGVjcy5mb3JFYWNoKGZ1bmN0aW9uKGxDb2RlYykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW90ZUNhcGFiaWxpdGllcy5jb2RlY3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgckNvZGVjID0gcmVtb3RlQ2FwYWJpbGl0aWVzLmNvZGVjc1tpXTtcbiAgICAgICAgICBpZiAobENvZGVjLm5hbWUudG9Mb3dlckNhc2UoKSA9PT0gckNvZGVjLm5hbWUudG9Mb3dlckNhc2UoKSAmJlxuICAgICAgICAgICAgICBsQ29kZWMuY2xvY2tSYXRlID09PSByQ29kZWMuY2xvY2tSYXRlICYmXG4gICAgICAgICAgICAgIGxDb2RlYy5udW1DaGFubmVscyA9PT0gckNvZGVjLm51bUNoYW5uZWxzKSB7XG4gICAgICAgICAgICAvLyBwdXNoIHJDb2RlYyBzbyB3ZSByZXBseSB3aXRoIG9mZmVyZXIgcGF5bG9hZCB0eXBlXG4gICAgICAgICAgICBjb21tb25DYXBhYmlsaXRpZXMuY29kZWNzLnB1c2gockNvZGVjKTtcblxuICAgICAgICAgICAgLy8gRklYTUU6IGFsc28gbmVlZCB0byBkZXRlcm1pbmUgaW50ZXJzZWN0aW9uIGJldHdlZW5cbiAgICAgICAgICAgIC8vIC5ydGNwRmVlZGJhY2sgYW5kIC5wYXJhbWV0ZXJzXG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBsb2NhbENhcGFiaWxpdGllcy5oZWFkZXJFeHRlbnNpb25zLmZvckVhY2goZnVuY3Rpb24obEhlYWRlckV4dGVuc2lvbikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlbW90ZUNhcGFiaWxpdGllcy5oZWFkZXJFeHRlbnNpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIHJIZWFkZXJFeHRlbnNpb24gPSByZW1vdGVDYXBhYmlsaXRpZXMuaGVhZGVyRXh0ZW5zaW9uc1tpXTtcbiAgICAgICAgICBpZiAobEhlYWRlckV4dGVuc2lvbi51cmkgPT09IHJIZWFkZXJFeHRlbnNpb24udXJpKSB7XG4gICAgICAgICAgICBjb21tb25DYXBhYmlsaXRpZXMuaGVhZGVyRXh0ZW5zaW9ucy5wdXNoKHJIZWFkZXJFeHRlbnNpb24pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgLy8gRklYTUU6IGZlY01lY2hhbmlzbXNcbiAgICAgIHJldHVybiBjb21tb25DYXBhYmlsaXRpZXM7XG4gICAgfTtcblxuICAgIC8vIENyZWF0ZSBJQ0UgZ2F0aGVyZXIsIElDRSB0cmFuc3BvcnQgYW5kIERUTFMgdHJhbnNwb3J0LlxuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuX2NyZWF0ZUljZUFuZER0bHNUcmFuc3BvcnRzID1cbiAgICAgICAgZnVuY3Rpb24obWlkLCBzZHBNTGluZUluZGV4KSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICB2YXIgaWNlR2F0aGVyZXIgPSBuZXcgUlRDSWNlR2F0aGVyZXIoc2VsZi5pY2VPcHRpb25zKTtcbiAgICAgIHZhciBpY2VUcmFuc3BvcnQgPSBuZXcgUlRDSWNlVHJhbnNwb3J0KGljZUdhdGhlcmVyKTtcbiAgICAgIGljZUdhdGhlcmVyLm9ubG9jYWxjYW5kaWRhdGUgPSBmdW5jdGlvbihldnQpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0ge307XG4gICAgICAgIGV2ZW50LmNhbmRpZGF0ZSA9IHtzZHBNaWQ6IG1pZCwgc2RwTUxpbmVJbmRleDogc2RwTUxpbmVJbmRleH07XG5cbiAgICAgICAgdmFyIGNhbmQgPSBldnQuY2FuZGlkYXRlO1xuICAgICAgICAvLyBFZGdlIGVtaXRzIGFuIGVtcHR5IG9iamVjdCBmb3IgUlRDSWNlQ2FuZGlkYXRlQ29tcGxldGU/XG4gICAgICAgIGlmICghY2FuZCB8fCBPYmplY3Qua2V5cyhjYW5kKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAvLyBwb2x5ZmlsbCBzaW5jZSBSVENJY2VHYXRoZXJlci5zdGF0ZSBpcyBub3QgaW1wbGVtZW50ZWQgaW4gRWRnZSAxMDU0NyB5ZXQuXG4gICAgICAgICAgaWYgKGljZUdhdGhlcmVyLnN0YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGljZUdhdGhlcmVyLnN0YXRlID0gJ2NvbXBsZXRlZCc7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgLy8gRW1pdCBhIGNhbmRpZGF0ZSB3aXRoIHR5cGUgZW5kT2ZDYW5kaWRhdGVzIHRvIG1ha2UgdGhlIHNhbXBsZXMgd29yay5cbiAgICAgICAgICAvLyBFZGdlIHJlcXVpcmVzIGFkZEljZUNhbmRpZGF0ZSB3aXRoIHRoaXMgZW1wdHkgY2FuZGlkYXRlIHRvIHN0YXJ0IGNoZWNraW5nLlxuICAgICAgICAgIC8vIFRoZSByZWFsIHNvbHV0aW9uIGlzIHRvIHNpZ25hbCBlbmQtb2YtY2FuZGlkYXRlcyB0byB0aGUgb3RoZXIgc2lkZSB3aGVuXG4gICAgICAgICAgLy8gZ2V0dGluZyB0aGUgbnVsbCBjYW5kaWRhdGUgYnV0IHNvbWUgYXBwcyAobGlrZSB0aGUgc2FtcGxlcykgZG9uJ3QgZG8gdGhhdC5cbiAgICAgICAgICBldmVudC5jYW5kaWRhdGUuY2FuZGlkYXRlID1cbiAgICAgICAgICAgICAgJ2NhbmRpZGF0ZToxIDEgdWRwIDEgMC4wLjAuMCA5IHR5cCBlbmRPZkNhbmRpZGF0ZXMnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIFJUQ0ljZUNhbmRpZGF0ZSBkb2Vzbid0IGhhdmUgYSBjb21wb25lbnQsIG5lZWRzIHRvIGJlIGFkZGVkXG4gICAgICAgICAgY2FuZC5jb21wb25lbnQgPSBpY2VUcmFuc3BvcnQuY29tcG9uZW50ID09PSAnUlRDUCcgPyAyIDogMTtcbiAgICAgICAgICBldmVudC5jYW5kaWRhdGUuY2FuZGlkYXRlID0gU0RQVXRpbHMud3JpdGVDYW5kaWRhdGUoY2FuZCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29tcGxldGUgPSBzZWxmLnRyYW5zY2VpdmVycy5ldmVyeShmdW5jdGlvbih0cmFuc2NlaXZlcikge1xuICAgICAgICAgIHJldHVybiB0cmFuc2NlaXZlci5pY2VHYXRoZXJlciAmJlxuICAgICAgICAgICAgICB0cmFuc2NlaXZlci5pY2VHYXRoZXJlci5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCc7XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBGSVhNRTogdXBkYXRlIC5sb2NhbERlc2NyaXB0aW9uIHdpdGggY2FuZGlkYXRlIGFuZCAocG90ZW50aWFsbHkpIGVuZC1vZi1jYW5kaWRhdGVzLlxuICAgICAgICAvLyAgICAgVG8gbWFrZSB0aGlzIGhhcmRlciwgdGhlIGdhdGhlcmVyIG1pZ2h0IGVtaXQgY2FuZGlkYXRlcyBiZWZvcmUgbG9jYWxkZXNjcmlwdGlvblxuICAgICAgICAvLyAgICAgaXMgc2V0LiBUbyBtYWtlIHRoaW5ncyB3b3JzZSwgZ2F0aGVyLmdldExvY2FsQ2FuZGlkYXRlcyBzdGlsbCBlcnJvcnMgaW5cbiAgICAgICAgLy8gICAgIEVkZ2UgMTA1NDcgd2hlbiBubyBjYW5kaWRhdGVzIGhhdmUgYmVlbiBnYXRoZXJlZCB5ZXQuXG5cbiAgICAgICAgaWYgKHNlbGYub25pY2VjYW5kaWRhdGUgIT09IG51bGwpIHtcbiAgICAgICAgICAvLyBFbWl0IGNhbmRpZGF0ZSBpZiBsb2NhbERlc2NyaXB0aW9uIGlzIHNldC5cbiAgICAgICAgICAvLyBBbHNvIGVtaXRzIG51bGwgY2FuZGlkYXRlIHdoZW4gYWxsIGdhdGhlcmVycyBhcmUgY29tcGxldGUuXG4gICAgICAgICAgaWYgKHNlbGYubG9jYWxEZXNjcmlwdGlvbiAmJiBzZWxmLmxvY2FsRGVzY3JpcHRpb24udHlwZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHNlbGYuX2xvY2FsSWNlQ2FuZGlkYXRlc0J1ZmZlci5wdXNoKGV2ZW50KTtcbiAgICAgICAgICAgIGlmIChjb21wbGV0ZSkge1xuICAgICAgICAgICAgICBzZWxmLl9sb2NhbEljZUNhbmRpZGF0ZXNCdWZmZXIucHVzaCh7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYub25pY2VjYW5kaWRhdGUoZXZlbnQpO1xuICAgICAgICAgICAgaWYgKGNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgIHNlbGYub25pY2VjYW5kaWRhdGUoe30pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGljZVRyYW5zcG9ydC5vbmljZXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHNlbGYuX3VwZGF0ZUNvbm5lY3Rpb25TdGF0ZSgpO1xuICAgICAgfTtcblxuICAgICAgdmFyIGR0bHNUcmFuc3BvcnQgPSBuZXcgUlRDRHRsc1RyYW5zcG9ydChpY2VUcmFuc3BvcnQpO1xuICAgICAgZHRsc1RyYW5zcG9ydC5vbmR0bHNzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBzZWxmLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoKTtcbiAgICAgIH07XG4gICAgICBkdGxzVHJhbnNwb3J0Lm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gb25lcnJvciBkb2VzIG5vdCBzZXQgc3RhdGUgdG8gZmFpbGVkIGJ5IGl0c2VsZi5cbiAgICAgICAgZHRsc1RyYW5zcG9ydC5zdGF0ZSA9ICdmYWlsZWQnO1xuICAgICAgICBzZWxmLl91cGRhdGVDb25uZWN0aW9uU3RhdGUoKTtcbiAgICAgIH07XG5cbiAgICAgIHJldHVybiB7XG4gICAgICAgIGljZUdhdGhlcmVyOiBpY2VHYXRoZXJlcixcbiAgICAgICAgaWNlVHJhbnNwb3J0OiBpY2VUcmFuc3BvcnQsXG4gICAgICAgIGR0bHNUcmFuc3BvcnQ6IGR0bHNUcmFuc3BvcnRcbiAgICAgIH07XG4gICAgfTtcblxuICAgIC8vIFN0YXJ0IHRoZSBSVFAgU2VuZGVyIGFuZCBSZWNlaXZlciBmb3IgYSB0cmFuc2NlaXZlci5cbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl90cmFuc2NlaXZlID0gZnVuY3Rpb24odHJhbnNjZWl2ZXIsXG4gICAgICAgIHNlbmQsIHJlY3YpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB0aGlzLl9nZXRDb21tb25DYXBhYmlsaXRpZXModHJhbnNjZWl2ZXIubG9jYWxDYXBhYmlsaXRpZXMsXG4gICAgICAgICAgdHJhbnNjZWl2ZXIucmVtb3RlQ2FwYWJpbGl0aWVzKTtcbiAgICAgIGlmIChzZW5kICYmIHRyYW5zY2VpdmVyLnJ0cFNlbmRlcikge1xuICAgICAgICBwYXJhbXMuZW5jb2RpbmdzID0gW3tcbiAgICAgICAgICBzc3JjOiB0cmFuc2NlaXZlci5zZW5kU3NyY1xuICAgICAgICB9XTtcbiAgICAgICAgcGFyYW1zLnJ0Y3AgPSB7XG4gICAgICAgICAgY25hbWU6IGxvY2FsQ05hbWUsXG4gICAgICAgICAgc3NyYzogdHJhbnNjZWl2ZXIucmVjdlNzcmNcbiAgICAgICAgfTtcbiAgICAgICAgdHJhbnNjZWl2ZXIucnRwU2VuZGVyLnNlbmQocGFyYW1zKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZWN2ICYmIHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyKSB7XG4gICAgICAgIHBhcmFtcy5lbmNvZGluZ3MgPSBbe1xuICAgICAgICAgIHNzcmM6IHRyYW5zY2VpdmVyLnJlY3ZTc3JjXG4gICAgICAgIH1dO1xuICAgICAgICBwYXJhbXMucnRjcCA9IHtcbiAgICAgICAgICBjbmFtZTogdHJhbnNjZWl2ZXIuY25hbWUsXG4gICAgICAgICAgc3NyYzogdHJhbnNjZWl2ZXIuc2VuZFNzcmNcbiAgICAgICAgfTtcbiAgICAgICAgdHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXIucmVjZWl2ZShwYXJhbXMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb24gPVxuICAgICAgICBmdW5jdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgaWYgKGRlc2NyaXB0aW9uLnR5cGUgPT09ICdvZmZlcicpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9wZW5kaW5nT2ZmZXIpIHtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnRyYW5zY2VpdmVycyA9IHRoaXMuX3BlbmRpbmdPZmZlcjtcbiAgICAgICAgICBkZWxldGUgdGhpcy5fcGVuZGluZ09mZmVyO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGRlc2NyaXB0aW9uLnR5cGUgPT09ICdhbnN3ZXInKSB7XG4gICAgICAgIHZhciBzZWN0aW9ucyA9IFNEUFV0aWxzLnNwbGl0U2VjdGlvbnMoc2VsZi5yZW1vdGVEZXNjcmlwdGlvbi5zZHApO1xuICAgICAgICB2YXIgc2Vzc2lvbnBhcnQgPSBzZWN0aW9ucy5zaGlmdCgpO1xuICAgICAgICBzZWN0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKG1lZGlhU2VjdGlvbiwgc2RwTUxpbmVJbmRleCkge1xuICAgICAgICAgIHZhciB0cmFuc2NlaXZlciA9IHNlbGYudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdO1xuICAgICAgICAgIHZhciBpY2VHYXRoZXJlciA9IHRyYW5zY2VpdmVyLmljZUdhdGhlcmVyO1xuICAgICAgICAgIHZhciBpY2VUcmFuc3BvcnQgPSB0cmFuc2NlaXZlci5pY2VUcmFuc3BvcnQ7XG4gICAgICAgICAgdmFyIGR0bHNUcmFuc3BvcnQgPSB0cmFuc2NlaXZlci5kdGxzVHJhbnNwb3J0O1xuICAgICAgICAgIHZhciBsb2NhbENhcGFiaWxpdGllcyA9IHRyYW5zY2VpdmVyLmxvY2FsQ2FwYWJpbGl0aWVzO1xuICAgICAgICAgIHZhciByZW1vdGVDYXBhYmlsaXRpZXMgPSB0cmFuc2NlaXZlci5yZW1vdGVDYXBhYmlsaXRpZXM7XG4gICAgICAgICAgdmFyIHJlamVjdGVkID0gbWVkaWFTZWN0aW9uLnNwbGl0KCdcXG4nLCAxKVswXVxuICAgICAgICAgICAgICAuc3BsaXQoJyAnLCAyKVsxXSA9PT0gJzAnO1xuXG4gICAgICAgICAgaWYgKCFyZWplY3RlZCkge1xuICAgICAgICAgICAgdmFyIHJlbW90ZUljZVBhcmFtZXRlcnMgPSBTRFBVdGlscy5nZXRJY2VQYXJhbWV0ZXJzKG1lZGlhU2VjdGlvbixcbiAgICAgICAgICAgICAgICBzZXNzaW9ucGFydCk7XG4gICAgICAgICAgICBpY2VUcmFuc3BvcnQuc3RhcnQoaWNlR2F0aGVyZXIsIHJlbW90ZUljZVBhcmFtZXRlcnMsICdjb250cm9sbGVkJyk7XG5cbiAgICAgICAgICAgIHZhciByZW1vdGVEdGxzUGFyYW1ldGVycyA9IFNEUFV0aWxzLmdldER0bHNQYXJhbWV0ZXJzKG1lZGlhU2VjdGlvbixcbiAgICAgICAgICAgICAgc2Vzc2lvbnBhcnQpO1xuICAgICAgICAgICAgZHRsc1RyYW5zcG9ydC5zdGFydChyZW1vdGVEdGxzUGFyYW1ldGVycyk7XG5cbiAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBpbnRlcnNlY3Rpb24gb2YgY2FwYWJpbGl0aWVzLlxuICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHNlbGYuX2dldENvbW1vbkNhcGFiaWxpdGllcyhsb2NhbENhcGFiaWxpdGllcyxcbiAgICAgICAgICAgICAgICByZW1vdGVDYXBhYmlsaXRpZXMpO1xuXG4gICAgICAgICAgICAvLyBTdGFydCB0aGUgUlRDUnRwU2VuZGVyLiBUaGUgUlRDUnRwUmVjZWl2ZXIgZm9yIHRoaXMgdHJhbnNjZWl2ZXJcbiAgICAgICAgICAgIC8vIGhhcyBhbHJlYWR5IGJlZW4gc3RhcnRlZCBpbiBzZXRSZW1vdGVEZXNjcmlwdGlvbi5cbiAgICAgICAgICAgIHNlbGYuX3RyYW5zY2VpdmUodHJhbnNjZWl2ZXIsXG4gICAgICAgICAgICAgICAgcGFyYW1zLmNvZGVjcy5sZW5ndGggPiAwLFxuICAgICAgICAgICAgICAgIGZhbHNlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB0aGlzLmxvY2FsRGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcbiAgICAgIHN3aXRjaCAoZGVzY3JpcHRpb24udHlwZSkge1xuICAgICAgICBjYXNlICdvZmZlcic6XG4gICAgICAgICAgdGhpcy5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoJ2hhdmUtbG9jYWwtb2ZmZXInKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnYW5zd2VyJzpcbiAgICAgICAgICB0aGlzLl91cGRhdGVTaWduYWxpbmdTdGF0ZSgnc3RhYmxlJyk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcigndW5zdXBwb3J0ZWQgdHlwZSBcIicgKyBkZXNjcmlwdGlvbi50eXBlICsgJ1wiJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIElmIGEgc3VjY2VzcyBjYWxsYmFjayB3YXMgcHJvdmlkZWQsIGVtaXQgSUNFIGNhbmRpZGF0ZXMgYWZ0ZXIgaXQgaGFzIGJlZW5cbiAgICAgIC8vIGV4ZWN1dGVkLiBPdGhlcndpc2UsIGVtaXQgY2FsbGJhY2sgYWZ0ZXIgdGhlIFByb21pc2UgaXMgcmVzb2x2ZWQuXG4gICAgICB2YXIgaGFzQ2FsbGJhY2sgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJlxuICAgICAgICB0eXBlb2YgYXJndW1lbnRzWzFdID09PSAnZnVuY3Rpb24nO1xuICAgICAgaWYgKGhhc0NhbGxiYWNrKSB7XG4gICAgICAgIHZhciBjYiA9IGFyZ3VtZW50c1sxXTtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgY2IoKTtcbiAgICAgICAgICBzZWxmLl9lbWl0QnVmZmVyZWRDYW5kaWRhdGVzKCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgICAgdmFyIHAgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIHAudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKCFoYXNDYWxsYmFjaykge1xuICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KHNlbGYuX2VtaXRCdWZmZXJlZENhbmRpZGF0ZXMuYmluZChzZWxmKSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHA7XG4gICAgfTtcblxuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb24gPVxuICAgICAgICBmdW5jdGlvbihkZXNjcmlwdGlvbikge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgdmFyIHN0cmVhbSA9IG5ldyBNZWRpYVN0cmVhbSgpO1xuICAgICAgdmFyIHNlY3Rpb25zID0gU0RQVXRpbHMuc3BsaXRTZWN0aW9ucyhkZXNjcmlwdGlvbi5zZHApO1xuICAgICAgdmFyIHNlc3Npb25wYXJ0ID0gc2VjdGlvbnMuc2hpZnQoKTtcbiAgICAgIHNlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24obWVkaWFTZWN0aW9uLCBzZHBNTGluZUluZGV4KSB7XG4gICAgICAgIHZhciBsaW5lcyA9IFNEUFV0aWxzLnNwbGl0TGluZXMobWVkaWFTZWN0aW9uKTtcbiAgICAgICAgdmFyIG1saW5lID0gbGluZXNbMF0uc3Vic3RyKDIpLnNwbGl0KCcgJyk7XG4gICAgICAgIHZhciBraW5kID0gbWxpbmVbMF07XG4gICAgICAgIHZhciByZWplY3RlZCA9IG1saW5lWzFdID09PSAnMCc7XG4gICAgICAgIHZhciBkaXJlY3Rpb24gPSBTRFBVdGlscy5nZXREaXJlY3Rpb24obWVkaWFTZWN0aW9uLCBzZXNzaW9ucGFydCk7XG5cbiAgICAgICAgdmFyIHRyYW5zY2VpdmVyO1xuICAgICAgICB2YXIgaWNlR2F0aGVyZXI7XG4gICAgICAgIHZhciBpY2VUcmFuc3BvcnQ7XG4gICAgICAgIHZhciBkdGxzVHJhbnNwb3J0O1xuICAgICAgICB2YXIgcnRwU2VuZGVyO1xuICAgICAgICB2YXIgcnRwUmVjZWl2ZXI7XG4gICAgICAgIHZhciBzZW5kU3NyYztcbiAgICAgICAgdmFyIHJlY3ZTc3JjO1xuICAgICAgICB2YXIgbG9jYWxDYXBhYmlsaXRpZXM7XG5cbiAgICAgICAgLy8gRklYTUU6IGVuc3VyZSB0aGUgbWVkaWFTZWN0aW9uIGhhcyBydGNwLW11eCBzZXQuXG4gICAgICAgIHZhciByZW1vdGVDYXBhYmlsaXRpZXMgPSBTRFBVdGlscy5wYXJzZVJ0cFBhcmFtZXRlcnMobWVkaWFTZWN0aW9uKTtcbiAgICAgICAgdmFyIHJlbW90ZUljZVBhcmFtZXRlcnM7XG4gICAgICAgIHZhciByZW1vdGVEdGxzUGFyYW1ldGVycztcbiAgICAgICAgaWYgKCFyZWplY3RlZCkge1xuICAgICAgICAgIHJlbW90ZUljZVBhcmFtZXRlcnMgPSBTRFBVdGlscy5nZXRJY2VQYXJhbWV0ZXJzKG1lZGlhU2VjdGlvbixcbiAgICAgICAgICAgICAgc2Vzc2lvbnBhcnQpO1xuICAgICAgICAgIHJlbW90ZUR0bHNQYXJhbWV0ZXJzID0gU0RQVXRpbHMuZ2V0RHRsc1BhcmFtZXRlcnMobWVkaWFTZWN0aW9uLFxuICAgICAgICAgICAgICBzZXNzaW9ucGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1pZCA9IFNEUFV0aWxzLm1hdGNoUHJlZml4KG1lZGlhU2VjdGlvbiwgJ2E9bWlkOicpWzBdLnN1YnN0cig2KTtcblxuICAgICAgICB2YXIgY25hbWU7XG4gICAgICAgIC8vIEdldHMgdGhlIGZpcnN0IFNTUkMuIE5vdGUgdGhhdCB3aXRoIFJUWCB0aGVyZSBtaWdodCBiZSBtdWx0aXBsZSBTU1JDcy5cbiAgICAgICAgdmFyIHJlbW90ZVNzcmMgPSBTRFBVdGlscy5tYXRjaFByZWZpeChtZWRpYVNlY3Rpb24sICdhPXNzcmM6JylcbiAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgICByZXR1cm4gU0RQVXRpbHMucGFyc2VTc3JjTWVkaWEobGluZSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbihvYmopIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG9iai5hdHRyaWJ1dGUgPT09ICdjbmFtZSc7XG4gICAgICAgICAgICB9KVswXTtcbiAgICAgICAgaWYgKHJlbW90ZVNzcmMpIHtcbiAgICAgICAgICByZWN2U3NyYyA9IHBhcnNlSW50KHJlbW90ZVNzcmMuc3NyYywgMTApO1xuICAgICAgICAgIGNuYW1lID0gcmVtb3RlU3NyYy52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAnb2ZmZXInKSB7XG4gICAgICAgICAgdmFyIHRyYW5zcG9ydHMgPSBzZWxmLl9jcmVhdGVJY2VBbmREdGxzVHJhbnNwb3J0cyhtaWQsIHNkcE1MaW5lSW5kZXgpO1xuXG4gICAgICAgICAgbG9jYWxDYXBhYmlsaXRpZXMgPSBSVENSdHBSZWNlaXZlci5nZXRDYXBhYmlsaXRpZXMoa2luZCk7XG4gICAgICAgICAgc2VuZFNzcmMgPSAoMiAqIHNkcE1MaW5lSW5kZXggKyAyKSAqIDEwMDE7XG5cbiAgICAgICAgICBydHBSZWNlaXZlciA9IG5ldyBSVENSdHBSZWNlaXZlcih0cmFuc3BvcnRzLmR0bHNUcmFuc3BvcnQsIGtpbmQpO1xuXG4gICAgICAgICAgLy8gRklYTUU6IG5vdCBjb3JyZWN0IHdoZW4gdGhlcmUgYXJlIG11bHRpcGxlIHN0cmVhbXMgYnV0IHRoYXQgaXNcbiAgICAgICAgICAvLyBub3QgY3VycmVudGx5IHN1cHBvcnRlZCBpbiB0aGlzIHNoaW0uXG4gICAgICAgICAgc3RyZWFtLmFkZFRyYWNrKHJ0cFJlY2VpdmVyLnRyYWNrKTtcblxuICAgICAgICAgIC8vIEZJWE1FOiBsb29rIGF0IGRpcmVjdGlvbi5cbiAgICAgICAgICBpZiAoc2VsZi5sb2NhbFN0cmVhbXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICBzZWxmLmxvY2FsU3RyZWFtc1swXS5nZXRUcmFja3MoKS5sZW5ndGggPj0gc2RwTUxpbmVJbmRleCkge1xuICAgICAgICAgICAgLy8gRklYTUU6IGFjdHVhbGx5IG1vcmUgY29tcGxpY2F0ZWQsIG5lZWRzIHRvIG1hdGNoIHR5cGVzIGV0Y1xuICAgICAgICAgICAgdmFyIGxvY2FsdHJhY2sgPSBzZWxmLmxvY2FsU3RyZWFtc1swXS5nZXRUcmFja3MoKVtzZHBNTGluZUluZGV4XTtcbiAgICAgICAgICAgIHJ0cFNlbmRlciA9IG5ldyBSVENSdHBTZW5kZXIobG9jYWx0cmFjaywgdHJhbnNwb3J0cy5kdGxzVHJhbnNwb3J0KTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBzZWxmLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XSA9IHtcbiAgICAgICAgICAgIGljZUdhdGhlcmVyOiB0cmFuc3BvcnRzLmljZUdhdGhlcmVyLFxuICAgICAgICAgICAgaWNlVHJhbnNwb3J0OiB0cmFuc3BvcnRzLmljZVRyYW5zcG9ydCxcbiAgICAgICAgICAgIGR0bHNUcmFuc3BvcnQ6IHRyYW5zcG9ydHMuZHRsc1RyYW5zcG9ydCxcbiAgICAgICAgICAgIGxvY2FsQ2FwYWJpbGl0aWVzOiBsb2NhbENhcGFiaWxpdGllcyxcbiAgICAgICAgICAgIHJlbW90ZUNhcGFiaWxpdGllczogcmVtb3RlQ2FwYWJpbGl0aWVzLFxuICAgICAgICAgICAgcnRwU2VuZGVyOiBydHBTZW5kZXIsXG4gICAgICAgICAgICBydHBSZWNlaXZlcjogcnRwUmVjZWl2ZXIsXG4gICAgICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICAgICAgbWlkOiBtaWQsXG4gICAgICAgICAgICBjbmFtZTogY25hbWUsXG4gICAgICAgICAgICBzZW5kU3NyYzogc2VuZFNzcmMsXG4gICAgICAgICAgICByZWN2U3NyYzogcmVjdlNzcmNcbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIFN0YXJ0IHRoZSBSVENSdHBSZWNlaXZlciBub3cuIFRoZSBSVFBTZW5kZXIgaXMgc3RhcnRlZCBpbiBzZXRMb2NhbERlc2NyaXB0aW9uLlxuICAgICAgICAgIHNlbGYuX3RyYW5zY2VpdmUoc2VsZi50cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF0sXG4gICAgICAgICAgICAgIGZhbHNlLFxuICAgICAgICAgICAgICBkaXJlY3Rpb24gPT09ICdzZW5kcmVjdicgfHwgZGlyZWN0aW9uID09PSAnc2VuZG9ubHknKTtcbiAgICAgICAgfSBlbHNlIGlmIChkZXNjcmlwdGlvbi50eXBlID09PSAnYW5zd2VyJyAmJiAhcmVqZWN0ZWQpIHtcbiAgICAgICAgICB0cmFuc2NlaXZlciA9IHNlbGYudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdO1xuICAgICAgICAgIGljZUdhdGhlcmVyID0gdHJhbnNjZWl2ZXIuaWNlR2F0aGVyZXI7XG4gICAgICAgICAgaWNlVHJhbnNwb3J0ID0gdHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0O1xuICAgICAgICAgIGR0bHNUcmFuc3BvcnQgPSB0cmFuc2NlaXZlci5kdGxzVHJhbnNwb3J0O1xuICAgICAgICAgIHJ0cFNlbmRlciA9IHRyYW5zY2VpdmVyLnJ0cFNlbmRlcjtcbiAgICAgICAgICBydHBSZWNlaXZlciA9IHRyYW5zY2VpdmVyLnJ0cFJlY2VpdmVyO1xuICAgICAgICAgIHNlbmRTc3JjID0gdHJhbnNjZWl2ZXIuc2VuZFNzcmM7XG4gICAgICAgICAgLy9yZWN2U3NyYyA9IHRyYW5zY2VpdmVyLnJlY3ZTc3JjO1xuICAgICAgICAgIGxvY2FsQ2FwYWJpbGl0aWVzID0gdHJhbnNjZWl2ZXIubG9jYWxDYXBhYmlsaXRpZXM7XG5cbiAgICAgICAgICBzZWxmLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5yZWN2U3NyYyA9IHJlY3ZTc3JjO1xuICAgICAgICAgIHNlbGYudHJhbnNjZWl2ZXJzW3NkcE1MaW5lSW5kZXhdLnJlbW90ZUNhcGFiaWxpdGllcyA9XG4gICAgICAgICAgICAgIHJlbW90ZUNhcGFiaWxpdGllcztcbiAgICAgICAgICBzZWxmLnRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XS5jbmFtZSA9IGNuYW1lO1xuXG4gICAgICAgICAgaWNlVHJhbnNwb3J0LnN0YXJ0KGljZUdhdGhlcmVyLCByZW1vdGVJY2VQYXJhbWV0ZXJzLCAnY29udHJvbGxpbmcnKTtcbiAgICAgICAgICBkdGxzVHJhbnNwb3J0LnN0YXJ0KHJlbW90ZUR0bHNQYXJhbWV0ZXJzKTtcblxuICAgICAgICAgIHNlbGYuX3RyYW5zY2VpdmUodHJhbnNjZWl2ZXIsXG4gICAgICAgICAgICAgIGRpcmVjdGlvbiA9PT0gJ3NlbmRyZWN2JyB8fCBkaXJlY3Rpb24gPT09ICdyZWN2b25seScsXG4gICAgICAgICAgICAgIGRpcmVjdGlvbiA9PT0gJ3NlbmRyZWN2JyB8fCBkaXJlY3Rpb24gPT09ICdzZW5kb25seScpO1xuXG4gICAgICAgICAgaWYgKHJ0cFJlY2VpdmVyICYmXG4gICAgICAgICAgICAgIChkaXJlY3Rpb24gPT09ICdzZW5kcmVjdicgfHwgZGlyZWN0aW9uID09PSAnc2VuZG9ubHknKSkge1xuICAgICAgICAgICAgc3RyZWFtLmFkZFRyYWNrKHJ0cFJlY2VpdmVyLnRyYWNrKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gRklYTUU6IGFjdHVhbGx5IHRoZSByZWNlaXZlciBzaG91bGQgYmUgY3JlYXRlZCBsYXRlci5cbiAgICAgICAgICAgIGRlbGV0ZSB0cmFuc2NlaXZlci5ydHBSZWNlaXZlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB0aGlzLnJlbW90ZURlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XG4gICAgICBzd2l0Y2ggKGRlc2NyaXB0aW9uLnR5cGUpIHtcbiAgICAgICAgY2FzZSAnb2ZmZXInOlxuICAgICAgICAgIHRoaXMuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlKCdoYXZlLXJlbW90ZS1vZmZlcicpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdhbnN3ZXInOlxuICAgICAgICAgIHRoaXMuX3VwZGF0ZVNpZ25hbGluZ1N0YXRlKCdzdGFibGUnKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCd1bnN1cHBvcnRlZCB0eXBlIFwiJyArIGRlc2NyaXB0aW9uLnR5cGUgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoc2VsZi5vbmFkZHN0cmVhbSAhPT0gbnVsbCAmJiBzdHJlYW0uZ2V0VHJhY2tzKCkubGVuZ3RoKSB7XG4gICAgICAgICAgc2VsZi5yZW1vdGVTdHJlYW1zLnB1c2goc3RyZWFtKTtcbiAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYub25hZGRzdHJlYW0oe3N0cmVhbTogc3RyZWFtfSk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICAgIH0sIDApO1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIHR5cGVvZiBhcmd1bWVudHNbMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoYXJndW1lbnRzWzFdLCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9O1xuXG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jbG9zZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbih0cmFuc2NlaXZlcikge1xuICAgICAgICAvKiBub3QgeWV0XG4gICAgICAgIGlmICh0cmFuc2NlaXZlci5pY2VHYXRoZXJlcikge1xuICAgICAgICAgIHRyYW5zY2VpdmVyLmljZUdhdGhlcmVyLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgICAgKi9cbiAgICAgICAgaWYgKHRyYW5zY2VpdmVyLmljZVRyYW5zcG9ydCkge1xuICAgICAgICAgIHRyYW5zY2VpdmVyLmljZVRyYW5zcG9ydC5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRyYW5zY2VpdmVyLmR0bHNUcmFuc3BvcnQpIHtcbiAgICAgICAgICB0cmFuc2NlaXZlci5kdGxzVHJhbnNwb3J0LnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhbnNjZWl2ZXIucnRwU2VuZGVyKSB7XG4gICAgICAgICAgdHJhbnNjZWl2ZXIucnRwU2VuZGVyLnN0b3AoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHJhbnNjZWl2ZXIucnRwUmVjZWl2ZXIpIHtcbiAgICAgICAgICB0cmFuc2NlaXZlci5ydHBSZWNlaXZlci5zdG9wKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgLy8gRklYTUU6IGNsZWFuIHVwIHRyYWNrcywgbG9jYWwgc3RyZWFtcywgcmVtb3RlIHN0cmVhbXMsIGV0Y1xuICAgICAgdGhpcy5fdXBkYXRlU2lnbmFsaW5nU3RhdGUoJ2Nsb3NlZCcpO1xuICAgIH07XG5cbiAgICAvLyBVcGRhdGUgdGhlIHNpZ25hbGluZyBzdGF0ZS5cbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl91cGRhdGVTaWduYWxpbmdTdGF0ZSA9XG4gICAgICAgIGZ1bmN0aW9uKG5ld1N0YXRlKSB7XG4gICAgICB0aGlzLnNpZ25hbGluZ1N0YXRlID0gbmV3U3RhdGU7XG4gICAgICBpZiAodGhpcy5vbnNpZ25hbGluZ3N0YXRlY2hhbmdlICE9PSBudWxsKSB7XG4gICAgICAgIHRoaXMub25zaWduYWxpbmdzdGF0ZWNoYW5nZSgpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICAvLyBEZXRlcm1pbmUgd2hldGhlciB0byBmaXJlIHRoZSBuZWdvdGlhdGlvbm5lZWRlZCBldmVudC5cbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl9tYXliZUZpcmVOZWdvdGlhdGlvbk5lZWRlZCA9XG4gICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgLy8gRmlyZSBhd2F5IChmb3Igbm93KS5cbiAgICAgIGlmICh0aGlzLm9ubmVnb3RpYXRpb25uZWVkZWQgIT09IG51bGwpIHtcbiAgICAgICAgdGhpcy5vbm5lZ290aWF0aW9ubmVlZGVkKCk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIC8vIFVwZGF0ZSB0aGUgY29ubmVjdGlvbiBzdGF0ZS5cbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLl91cGRhdGVDb25uZWN0aW9uU3RhdGUgPVxuICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBuZXdTdGF0ZTtcbiAgICAgIHZhciBzdGF0ZXMgPSB7XG4gICAgICAgICduZXcnOiAwLFxuICAgICAgICBjbG9zZWQ6IDAsXG4gICAgICAgIGNvbm5lY3Rpbmc6IDAsXG4gICAgICAgIGNoZWNraW5nOiAwLFxuICAgICAgICBjb25uZWN0ZWQ6IDAsXG4gICAgICAgIGNvbXBsZXRlZDogMCxcbiAgICAgICAgZmFpbGVkOiAwXG4gICAgICB9O1xuICAgICAgdGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbih0cmFuc2NlaXZlcikge1xuICAgICAgICBzdGF0ZXNbdHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0LnN0YXRlXSsrO1xuICAgICAgICBzdGF0ZXNbdHJhbnNjZWl2ZXIuZHRsc1RyYW5zcG9ydC5zdGF0ZV0rKztcbiAgICAgIH0pO1xuICAgICAgLy8gSUNFVHJhbnNwb3J0LmNvbXBsZXRlZCBhbmQgY29ubmVjdGVkIGFyZSB0aGUgc2FtZSBmb3IgdGhpcyBwdXJwb3NlLlxuICAgICAgc3RhdGVzLmNvbm5lY3RlZCArPSBzdGF0ZXMuY29tcGxldGVkO1xuXG4gICAgICBuZXdTdGF0ZSA9ICduZXcnO1xuICAgICAgaWYgKHN0YXRlcy5mYWlsZWQgPiAwKSB7XG4gICAgICAgIG5ld1N0YXRlID0gJ2ZhaWxlZCc7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlcy5jb25uZWN0aW5nID4gMCB8fCBzdGF0ZXMuY2hlY2tpbmcgPiAwKSB7XG4gICAgICAgIG5ld1N0YXRlID0gJ2Nvbm5lY3RpbmcnO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZXMuZGlzY29ubmVjdGVkID4gMCkge1xuICAgICAgICBuZXdTdGF0ZSA9ICdkaXNjb25uZWN0ZWQnO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZXMubmV3ID4gMCkge1xuICAgICAgICBuZXdTdGF0ZSA9ICduZXcnO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZXMuY29ubmVjdGluZyA+IDAgfHwgc3RhdGVzLmNvbXBsZXRlZCA+IDApIHtcbiAgICAgICAgbmV3U3RhdGUgPSAnY29ubmVjdGVkJztcbiAgICAgIH1cblxuICAgICAgaWYgKG5ld1N0YXRlICE9PSBzZWxmLmljZUNvbm5lY3Rpb25TdGF0ZSkge1xuICAgICAgICBzZWxmLmljZUNvbm5lY3Rpb25TdGF0ZSA9IG5ld1N0YXRlO1xuICAgICAgICBpZiAodGhpcy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSAhPT0gbnVsbCkge1xuICAgICAgICAgIHRoaXMub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2UoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG5cbiAgICB3aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZU9mZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBpZiAodGhpcy5fcGVuZGluZ09mZmVyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY3JlYXRlT2ZmZXIgY2FsbGVkIHdoaWxlIHRoZXJlIGlzIGEgcGVuZGluZyBvZmZlci4nKTtcbiAgICAgIH1cbiAgICAgIHZhciBvZmZlck9wdGlvbnM7XG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYXJndW1lbnRzWzBdICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9mZmVyT3B0aW9ucyA9IGFyZ3VtZW50c1swXTtcbiAgICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMykge1xuICAgICAgICBvZmZlck9wdGlvbnMgPSBhcmd1bWVudHNbMl07XG4gICAgICB9XG5cbiAgICAgIHZhciB0cmFja3MgPSBbXTtcbiAgICAgIHZhciBudW1BdWRpb1RyYWNrcyA9IDA7XG4gICAgICB2YXIgbnVtVmlkZW9UcmFja3MgPSAwO1xuICAgICAgLy8gRGVmYXVsdCB0byBzZW5kcmVjdi5cbiAgICAgIGlmICh0aGlzLmxvY2FsU3RyZWFtcy5sZW5ndGgpIHtcbiAgICAgICAgbnVtQXVkaW9UcmFja3MgPSB0aGlzLmxvY2FsU3RyZWFtc1swXS5nZXRBdWRpb1RyYWNrcygpLmxlbmd0aDtcbiAgICAgICAgbnVtVmlkZW9UcmFja3MgPSB0aGlzLmxvY2FsU3RyZWFtc1swXS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIC8vIERldGVybWluZSBudW1iZXIgb2YgYXVkaW8gYW5kIHZpZGVvIHRyYWNrcyB3ZSBuZWVkIHRvIHNlbmQvcmVjdi5cbiAgICAgIGlmIChvZmZlck9wdGlvbnMpIHtcbiAgICAgICAgLy8gUmVqZWN0IENocm9tZSBsZWdhY3kgY29uc3RyYWludHMuXG4gICAgICAgIGlmIChvZmZlck9wdGlvbnMubWFuZGF0b3J5IHx8IG9mZmVyT3B0aW9ucy5vcHRpb25hbCkge1xuICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICAgICAgICAgICdMZWdhY3kgbWFuZGF0b3J5L29wdGlvbmFsIGNvbnN0cmFpbnRzIG5vdCBzdXBwb3J0ZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9mZmVyT3B0aW9ucy5vZmZlclRvUmVjZWl2ZUF1ZGlvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1BdWRpb1RyYWNrcyA9IG9mZmVyT3B0aW9ucy5vZmZlclRvUmVjZWl2ZUF1ZGlvO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVWaWRlbyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgbnVtVmlkZW9UcmFja3MgPSBvZmZlck9wdGlvbnMub2ZmZXJUb1JlY2VpdmVWaWRlbztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHRoaXMubG9jYWxTdHJlYW1zLmxlbmd0aCkge1xuICAgICAgICAvLyBQdXNoIGxvY2FsIHN0cmVhbXMuXG4gICAgICAgIHRoaXMubG9jYWxTdHJlYW1zWzBdLmdldFRyYWNrcygpLmZvckVhY2goZnVuY3Rpb24odHJhY2spIHtcbiAgICAgICAgICB0cmFja3MucHVzaCh7XG4gICAgICAgICAgICBraW5kOiB0cmFjay5raW5kLFxuICAgICAgICAgICAgdHJhY2s6IHRyYWNrLFxuICAgICAgICAgICAgd2FudFJlY2VpdmU6IHRyYWNrLmtpbmQgPT09ICdhdWRpbycgP1xuICAgICAgICAgICAgICAgIG51bUF1ZGlvVHJhY2tzID4gMCA6IG51bVZpZGVvVHJhY2tzID4gMFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmICh0cmFjay5raW5kID09PSAnYXVkaW8nKSB7XG4gICAgICAgICAgICBudW1BdWRpb1RyYWNrcy0tO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHJhY2sua2luZCA9PT0gJ3ZpZGVvJykge1xuICAgICAgICAgICAgbnVtVmlkZW9UcmFja3MtLTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gQ3JlYXRlIE0tbGluZXMgZm9yIHJlY3Zvbmx5IHN0cmVhbXMuXG4gICAgICB3aGlsZSAobnVtQXVkaW9UcmFja3MgPiAwIHx8IG51bVZpZGVvVHJhY2tzID4gMCkge1xuICAgICAgICBpZiAobnVtQXVkaW9UcmFja3MgPiAwKSB7XG4gICAgICAgICAgdHJhY2tzLnB1c2goe1xuICAgICAgICAgICAga2luZDogJ2F1ZGlvJyxcbiAgICAgICAgICAgIHdhbnRSZWNlaXZlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbnVtQXVkaW9UcmFja3MtLTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobnVtVmlkZW9UcmFja3MgPiAwKSB7XG4gICAgICAgICAgdHJhY2tzLnB1c2goe1xuICAgICAgICAgICAga2luZDogJ3ZpZGVvJyxcbiAgICAgICAgICAgIHdhbnRSZWNlaXZlOiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbnVtVmlkZW9UcmFja3MtLTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgc2RwID0gU0RQVXRpbHMud3JpdGVTZXNzaW9uQm9pbGVycGxhdGUoKTtcbiAgICAgIHZhciB0cmFuc2NlaXZlcnMgPSBbXTtcbiAgICAgIHRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uKG1saW5lLCBzZHBNTGluZUluZGV4KSB7XG4gICAgICAgIC8vIEZvciBlYWNoIHRyYWNrLCBjcmVhdGUgYW4gaWNlIGdhdGhlcmVyLCBpY2UgdHJhbnNwb3J0LCBkdGxzIHRyYW5zcG9ydCxcbiAgICAgICAgLy8gcG90ZW50aWFsbHkgcnRwc2VuZGVyIGFuZCBydHByZWNlaXZlci5cbiAgICAgICAgdmFyIHRyYWNrID0gbWxpbmUudHJhY2s7XG4gICAgICAgIHZhciBraW5kID0gbWxpbmUua2luZDtcbiAgICAgICAgdmFyIG1pZCA9IGdlbmVyYXRlSWRlbnRpZmllcigpO1xuXG4gICAgICAgIHZhciB0cmFuc3BvcnRzID0gc2VsZi5fY3JlYXRlSWNlQW5kRHRsc1RyYW5zcG9ydHMobWlkLCBzZHBNTGluZUluZGV4KTtcblxuICAgICAgICB2YXIgbG9jYWxDYXBhYmlsaXRpZXMgPSBSVENSdHBTZW5kZXIuZ2V0Q2FwYWJpbGl0aWVzKGtpbmQpO1xuICAgICAgICB2YXIgcnRwU2VuZGVyO1xuICAgICAgICB2YXIgcnRwUmVjZWl2ZXI7XG5cbiAgICAgICAgLy8gZ2VuZXJhdGUgYW4gc3NyYyBub3csIHRvIGJlIHVzZWQgbGF0ZXIgaW4gcnRwU2VuZGVyLnNlbmRcbiAgICAgICAgdmFyIHNlbmRTc3JjID0gKDIgKiBzZHBNTGluZUluZGV4ICsgMSkgKiAxMDAxO1xuICAgICAgICBpZiAodHJhY2spIHtcbiAgICAgICAgICBydHBTZW5kZXIgPSBuZXcgUlRDUnRwU2VuZGVyKHRyYWNrLCB0cmFuc3BvcnRzLmR0bHNUcmFuc3BvcnQpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG1saW5lLndhbnRSZWNlaXZlKSB7XG4gICAgICAgICAgcnRwUmVjZWl2ZXIgPSBuZXcgUlRDUnRwUmVjZWl2ZXIodHJhbnNwb3J0cy5kdGxzVHJhbnNwb3J0LCBraW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRyYW5zY2VpdmVyc1tzZHBNTGluZUluZGV4XSA9IHtcbiAgICAgICAgICBpY2VHYXRoZXJlcjogdHJhbnNwb3J0cy5pY2VHYXRoZXJlcixcbiAgICAgICAgICBpY2VUcmFuc3BvcnQ6IHRyYW5zcG9ydHMuaWNlVHJhbnNwb3J0LFxuICAgICAgICAgIGR0bHNUcmFuc3BvcnQ6IHRyYW5zcG9ydHMuZHRsc1RyYW5zcG9ydCxcbiAgICAgICAgICBsb2NhbENhcGFiaWxpdGllczogbG9jYWxDYXBhYmlsaXRpZXMsXG4gICAgICAgICAgcmVtb3RlQ2FwYWJpbGl0aWVzOiBudWxsLFxuICAgICAgICAgIHJ0cFNlbmRlcjogcnRwU2VuZGVyLFxuICAgICAgICAgIHJ0cFJlY2VpdmVyOiBydHBSZWNlaXZlcixcbiAgICAgICAgICBraW5kOiBraW5kLFxuICAgICAgICAgIG1pZDogbWlkLFxuICAgICAgICAgIHNlbmRTc3JjOiBzZW5kU3NyYyxcbiAgICAgICAgICByZWN2U3NyYzogbnVsbFxuICAgICAgICB9O1xuICAgICAgICB2YXIgdHJhbnNjZWl2ZXIgPSB0cmFuc2NlaXZlcnNbc2RwTUxpbmVJbmRleF07XG4gICAgICAgIHNkcCArPSBTRFBVdGlscy53cml0ZU1lZGlhU2VjdGlvbih0cmFuc2NlaXZlcixcbiAgICAgICAgICAgIHRyYW5zY2VpdmVyLmxvY2FsQ2FwYWJpbGl0aWVzLCAnb2ZmZXInLCBzZWxmLmxvY2FsU3RyZWFtc1swXSk7XG4gICAgICB9KTtcblxuICAgICAgdGhpcy5fcGVuZGluZ09mZmVyID0gdHJhbnNjZWl2ZXJzO1xuICAgICAgdmFyIGRlc2MgPSBuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHtcbiAgICAgICAgdHlwZTogJ29mZmVyJyxcbiAgICAgICAgc2RwOiBzZHBcbiAgICAgIH0pO1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggJiYgdHlwZW9mIGFyZ3VtZW50c1swXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChhcmd1bWVudHNbMF0sIDAsIGRlc2MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkZXNjKTtcbiAgICB9O1xuXG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVBbnN3ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIHZhciBhbnN3ZXJPcHRpb25zO1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDEgJiYgdHlwZW9mIGFyZ3VtZW50c1swXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBhbnN3ZXJPcHRpb25zID0gYXJndW1lbnRzWzBdO1xuICAgICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAzKSB7XG4gICAgICAgIGFuc3dlck9wdGlvbnMgPSBhcmd1bWVudHNbMl07XG4gICAgICB9XG5cbiAgICAgIHZhciBzZHAgPSBTRFBVdGlscy53cml0ZVNlc3Npb25Cb2lsZXJwbGF0ZSgpO1xuICAgICAgdGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbih0cmFuc2NlaXZlcikge1xuICAgICAgICAvLyBDYWxjdWxhdGUgaW50ZXJzZWN0aW9uIG9mIGNhcGFiaWxpdGllcy5cbiAgICAgICAgdmFyIGNvbW1vbkNhcGFiaWxpdGllcyA9IHNlbGYuX2dldENvbW1vbkNhcGFiaWxpdGllcyhcbiAgICAgICAgICAgIHRyYW5zY2VpdmVyLmxvY2FsQ2FwYWJpbGl0aWVzLFxuICAgICAgICAgICAgdHJhbnNjZWl2ZXIucmVtb3RlQ2FwYWJpbGl0aWVzKTtcblxuICAgICAgICBzZHAgKz0gU0RQVXRpbHMud3JpdGVNZWRpYVNlY3Rpb24odHJhbnNjZWl2ZXIsIGNvbW1vbkNhcGFiaWxpdGllcyxcbiAgICAgICAgICAgICdhbnN3ZXInLCBzZWxmLmxvY2FsU3RyZWFtc1swXSk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGRlc2MgPSBuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHtcbiAgICAgICAgdHlwZTogJ2Fuc3dlcicsXG4gICAgICAgIHNkcDogc2RwXG4gICAgICB9KTtcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoICYmIHR5cGVvZiBhcmd1bWVudHNbMF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgd2luZG93LnNldFRpbWVvdXQoYXJndW1lbnRzWzBdLCAwLCBkZXNjKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVzYyk7XG4gICAgfTtcblxuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlID0gZnVuY3Rpb24oY2FuZGlkYXRlKSB7XG4gICAgICB2YXIgbUxpbmVJbmRleCA9IGNhbmRpZGF0ZS5zZHBNTGluZUluZGV4O1xuICAgICAgaWYgKGNhbmRpZGF0ZS5zZHBNaWQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnRyYW5zY2VpdmVycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGlmICh0aGlzLnRyYW5zY2VpdmVyc1tpXS5taWQgPT09IGNhbmRpZGF0ZS5zZHBNaWQpIHtcbiAgICAgICAgICAgIG1MaW5lSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgdHJhbnNjZWl2ZXIgPSB0aGlzLnRyYW5zY2VpdmVyc1ttTGluZUluZGV4XTtcbiAgICAgIGlmICh0cmFuc2NlaXZlcikge1xuICAgICAgICB2YXIgY2FuZCA9IE9iamVjdC5rZXlzKGNhbmRpZGF0ZS5jYW5kaWRhdGUpLmxlbmd0aCA+IDAgP1xuICAgICAgICAgICAgU0RQVXRpbHMucGFyc2VDYW5kaWRhdGUoY2FuZGlkYXRlLmNhbmRpZGF0ZSkgOiB7fTtcbiAgICAgICAgLy8gSWdub3JlIENocm9tZSdzIGludmFsaWQgY2FuZGlkYXRlcyBzaW5jZSBFZGdlIGRvZXMgbm90IGxpa2UgdGhlbS5cbiAgICAgICAgaWYgKGNhbmQucHJvdG9jb2wgPT09ICd0Y3AnICYmIGNhbmQucG9ydCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJZ25vcmUgUlRDUCBjYW5kaWRhdGVzLCB3ZSBhc3N1bWUgUlRDUC1NVVguXG4gICAgICAgIGlmIChjYW5kLmNvbXBvbmVudCAhPT0gJzEnKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEEgZGlydHkgaGFjayB0byBtYWtlIHNhbXBsZXMgd29yay5cbiAgICAgICAgaWYgKGNhbmQudHlwZSA9PT0gJ2VuZE9mQ2FuZGlkYXRlcycpIHtcbiAgICAgICAgICBjYW5kID0ge307XG4gICAgICAgIH1cbiAgICAgICAgdHJhbnNjZWl2ZXIuaWNlVHJhbnNwb3J0LmFkZFJlbW90ZUNhbmRpZGF0ZShjYW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSAmJiB0eXBlb2YgYXJndW1lbnRzWzFdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGFyZ3VtZW50c1sxXSwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfTtcblxuICAgIHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHMgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBwcm9taXNlcyA9IFtdO1xuICAgICAgdGhpcy50cmFuc2NlaXZlcnMuZm9yRWFjaChmdW5jdGlvbih0cmFuc2NlaXZlcikge1xuICAgICAgICBbJ3J0cFNlbmRlcicsICdydHBSZWNlaXZlcicsICdpY2VHYXRoZXJlcicsICdpY2VUcmFuc3BvcnQnLFxuICAgICAgICAgICAgJ2R0bHNUcmFuc3BvcnQnXS5mb3JFYWNoKGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgICAgICAgIGlmICh0cmFuc2NlaXZlclttZXRob2RdKSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKHRyYW5zY2VpdmVyW21ldGhvZF0uZ2V0U3RhdHMoKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgdmFyIGNiID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgdHlwZW9mIGFyZ3VtZW50c1sxXSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgICAgICAgIGFyZ3VtZW50c1sxXTtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKSB7XG4gICAgICAgIHZhciByZXN1bHRzID0ge307XG4gICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uKHJlcykge1xuICAgICAgICAgIHJlcy5mb3JFYWNoKGZ1bmN0aW9uKHJlc3VsdCkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMocmVzdWx0KS5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHNbaWRdID0gcmVzdWx0W2lkXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoY2IsIDAsIHJlc3VsdHMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXNvbHZlKHJlc3VsdHMpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH1cbn0gZWxzZSB7XG4gIHdlYnJ0Y1V0aWxzLmxvZygnQnJvd3NlciBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgV2ViUlRDLWNhcGFibGUnKTtcbn1cblxuLy8gUG9seWZpbGwgb250cmFjayBvbiBicm93c2VycyB0aGF0IGRvbid0IHlldCBoYXZlIGl0XG5pZiAodHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uICYmICEoJ29udHJhY2snIGluXG4gICAgd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpIHtcbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsICdvbnRyYWNrJywge1xuICAgIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLl9vbnRyYWNrOyB9LFxuICAgIHNldDogZnVuY3Rpb24oZikge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgaWYgKHRoaXMuX29udHJhY2spIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKCd0cmFjaycsIHRoaXMuX29udHJhY2spO1xuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2FkZHN0cmVhbScsIHRoaXMuX29udHJhY2twb2x5KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lcigndHJhY2snLCB0aGlzLl9vbnRyYWNrID0gZik7XG4gICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoJ2FkZHN0cmVhbScsIHRoaXMuX29udHJhY2twb2x5ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICBpZiAod2VicnRjRGV0ZWN0ZWRCcm93c2VyID09PSAnY2hyb21lJykge1xuICAgICAgICAgIC8vIG9uYWRkc3RyZWFtIGRvZXMgbm90IGZpcmUgd2hlbiBhIHRyYWNrIGlzIGFkZGVkIHRvIGFuIGV4aXN0aW5nIHN0cmVhbS5cbiAgICAgICAgICAvLyBidXQgc3RyZWFtLm9uYWRkdHJhY2sgaXMgaW1wbGVtZW50ZWQgc28gd2UgdXNlIHRoP3RcbiAgICAgICAgICBlLnN0cmVhbS5hZGRFdmVudExpc3RlbmVyKCdhZGR0cmFjaycsIGZ1bmN0aW9uKHRlKSB7XG4gICAgICAgICAgICB2YXIgZXZlbnQgPSBuZXcgRXZlbnQoJ3RyYWNrJyk7XG4gICAgICAgICAgICBldmVudC50cmFjayA9IHRlLnRyYWNrO1xuICAgICAgICAgICAgZXZlbnQucmVjZWl2ZXIgPSB7dHJhY2s6IHRlLnRyYWNrfTtcbiAgICAgICAgICAgIGV2ZW50LnN0cmVhbXMgPSBbZS5zdHJlYW1dO1xuICAgICAgICAgICAgc2VsZi5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlLnN0cmVhbS5nZXRUcmFja3MoKS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNrKSB7XG4gICAgICAgICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KCd0cmFjaycpO1xuICAgICAgICAgIGV2ZW50LnRyYWNrID0gdHJhY2s7XG4gICAgICAgICAgZXZlbnQucmVjZWl2ZXIgPSB7dHJhY2s6IHRyYWNrfTtcbiAgICAgICAgICBldmVudC5zdHJlYW1zID0gW2Uuc3RyZWFtXTtcbiAgICAgICAgICB0aGlzLmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBSZXR1cm5zIHRoZSByZXN1bHQgb2YgZ2V0VXNlck1lZGlhIGFzIGEgUHJvbWlzZS5cbmZ1bmN0aW9uIHJlcXVlc3RVc2VyTWVkaWEoY29uc3RyYWludHMpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGdldFVzZXJNZWRpYShjb25zdHJhaW50cywgcmVzb2x2ZSwgcmVqZWN0KTtcbiAgfSk7XG59XG5cbnZhciB3ZWJydGNUZXN0aW5nID0ge307XG50cnkge1xuICBPYmplY3QuZGVmaW5lUHJvcGVydHkod2VicnRjVGVzdGluZywgJ3ZlcnNpb24nLCB7XG4gICAgc2V0OiBmdW5jdGlvbih2ZXJzaW9uKSB7XG4gICAgICB3ZWJydGNEZXRlY3RlZFZlcnNpb24gPSB2ZXJzaW9uO1xuICAgIH1cbiAgfSk7XG59IGNhdGNoIChlKSB7fVxuXG5pZiAodHlwZW9mIG1vZHVsZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgdmFyIFJUQ1BlZXJDb25uZWN0aW9uO1xuICB2YXIgUlRDSWNlQ2FuZGlkYXRlO1xuICB2YXIgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uO1xuICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBSVENQZWVyQ29ubmVjdGlvbiA9IHdpbmRvdy5SVENQZWVyQ29ubmVjdGlvbjtcbiAgICBSVENJY2VDYW5kaWRhdGUgPSB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlO1xuICAgIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbiA9IHdpbmRvdy5SVENTZXNzaW9uRGVzY3JpcHRpb247XG4gIH1cbiAgbW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgUlRDUGVlckNvbm5lY3Rpb246IFJUQ1BlZXJDb25uZWN0aW9uLFxuICAgIFJUQ0ljZUNhbmRpZGF0ZTogUlRDSWNlQ2FuZGlkYXRlLFxuICAgIFJUQ1Nlc3Npb25EZXNjcmlwdGlvbjogUlRDU2Vzc2lvbkRlc2NyaXB0aW9uLFxuICAgIGdldFVzZXJNZWRpYTogZ2V0VXNlck1lZGlhLFxuICAgIGF0dGFjaE1lZGlhU3RyZWFtOiBhdHRhY2hNZWRpYVN0cmVhbSxcbiAgICByZWF0dGFjaE1lZGlhU3RyZWFtOiByZWF0dGFjaE1lZGlhU3RyZWFtLFxuICAgIHdlYnJ0Y0RldGVjdGVkQnJvd3Nlcjogd2VicnRjRGV0ZWN0ZWRCcm93c2VyLFxuICAgIHdlYnJ0Y0RldGVjdGVkVmVyc2lvbjogd2VicnRjRGV0ZWN0ZWRWZXJzaW9uLFxuICAgIHdlYnJ0Y01pbmltdW1WZXJzaW9uOiB3ZWJydGNNaW5pbXVtVmVyc2lvbixcbiAgICB3ZWJydGNUZXN0aW5nOiB3ZWJydGNUZXN0aW5nLFxuICAgIHdlYnJ0Y1V0aWxzOiB3ZWJydGNVdGlsc1xuICAgIC8vcmVxdWVzdFVzZXJNZWRpYTogbm90IGV4cG9zZWQgb24gcHVycG9zZS5cbiAgICAvL3RyYWNlOiBub3QgZXhwb3NlZCBvbiBwdXJwb3NlLlxuICB9O1xufSBlbHNlIGlmICgodHlwZW9mIHJlcXVpcmUgPT09ICdmdW5jdGlvbicpICYmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nKSkge1xuICAvLyBFeHBvc2Ugb2JqZWN0cyBhbmQgZnVuY3Rpb25zIHdoZW4gUmVxdWlyZUpTIGlzIGRvaW5nIHRoZSBsb2FkaW5nLlxuICBkZWZpbmUoW10sIGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB7XG4gICAgICBSVENQZWVyQ29ubmVjdGlvbjogd2luZG93LlJUQ1BlZXJDb25uZWN0aW9uLFxuICAgICAgUlRDSWNlQ2FuZGlkYXRlOiB3aW5kb3cuUlRDSWNlQ2FuZGlkYXRlLFxuICAgICAgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uOiB3aW5kb3cuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uLFxuICAgICAgZ2V0VXNlck1lZGlhOiBnZXRVc2VyTWVkaWEsXG4gICAgICBkZXRhY2hNZWRpYVN0cmVhbTogZGV0YWNoTWVkaWFTdHJlYW0sXG4gICAgICBhdHRhY2hNZWRpYVN0cmVhbTogYXR0YWNoTWVkaWFTdHJlYW0sXG4gICAgICByZWF0dGFjaE1lZGlhU3RyZWFtOiByZWF0dGFjaE1lZGlhU3RyZWFtLFxuICAgICAgd2VicnRjRGV0ZWN0ZWRCcm93c2VyOiB3ZWJydGNEZXRlY3RlZEJyb3dzZXIsXG4gICAgICB3ZWJydGNEZXRlY3RlZFZlcnNpb246IHdlYnJ0Y0RldGVjdGVkVmVyc2lvbixcbiAgICAgIHdlYnJ0Y01pbmltdW1WZXJzaW9uOiB3ZWJydGNNaW5pbXVtVmVyc2lvbixcbiAgICAgIHdlYnJ0Y1Rlc3Rpbmc6IHdlYnJ0Y1Rlc3RpbmcsXG4gICAgICB3ZWJydGNVdGlsczogd2VicnRjVXRpbHNcbiAgICAgIC8vcmVxdWVzdFVzZXJNZWRpYTogbm90IGV4cG9zZWQgb24gcHVycG9zZS5cbiAgICAgIC8vdHJhY2U6IG5vdCBleHBvc2VkIG9uIHB1cnBvc2UuXG4gICAgfTtcbiAgfSk7XG59XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9hZGFwdGVyLmpzXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2VcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvcHJvbWlzZS5qc1xuICoqIG1vZHVsZSBpZCA9IDIyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5vYmplY3QudG8tc3RyaW5nJyk7XG5yZXF1aXJlKCcuLi9tb2R1bGVzL2VzNi5zdHJpbmcuaXRlcmF0b3InKTtcbnJlcXVpcmUoJy4uL21vZHVsZXMvd2ViLmRvbS5pdGVyYWJsZScpO1xucmVxdWlyZSgnLi4vbW9kdWxlcy9lczYucHJvbWlzZScpO1xubW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuLi9tb2R1bGVzL19jb3JlJykuUHJvbWlzZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L2ZuL3Byb21pc2UuanNcbiAqKiBtb2R1bGUgaWQgPSAyM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyICRhdCAgPSByZXF1aXJlKCcuL19zdHJpbmctYXQnKSh0cnVlKTtcblxuLy8gMjEuMS4zLjI3IFN0cmluZy5wcm90b3R5cGVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShTdHJpbmcsICdTdHJpbmcnLCBmdW5jdGlvbihpdGVyYXRlZCl7XG4gIHRoaXMuX3QgPSBTdHJpbmcoaXRlcmF0ZWQpOyAvLyB0YXJnZXRcbiAgdGhpcy5faSA9IDA7ICAgICAgICAgICAgICAgIC8vIG5leHQgaW5kZXhcbi8vIDIxLjEuNS4yLjEgJVN0cmluZ0l0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBPICAgICA9IHRoaXMuX3RcbiAgICAsIGluZGV4ID0gdGhpcy5faVxuICAgICwgcG9pbnQ7XG4gIGlmKGluZGV4ID49IE8ubGVuZ3RoKXJldHVybiB7dmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZX07XG4gIHBvaW50ID0gJGF0KE8sIGluZGV4KTtcbiAgdGhpcy5faSArPSBwb2ludC5sZW5ndGg7XG4gIHJldHVybiB7dmFsdWU6IHBvaW50LCBkb25lOiBmYWxzZX07XG59KTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvci5qc1xuICoqIG1vZHVsZSBpZCA9IDI1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgZGVmaW5lZCAgID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xuLy8gdHJ1ZSAgLT4gU3RyaW5nI2F0XG4vLyBmYWxzZSAtPiBTdHJpbmcjY29kZVBvaW50QXRcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oVE9fU1RSSU5HKXtcbiAgcmV0dXJuIGZ1bmN0aW9uKHRoYXQsIHBvcyl7XG4gICAgdmFyIHMgPSBTdHJpbmcoZGVmaW5lZCh0aGF0KSlcbiAgICAgICwgaSA9IHRvSW50ZWdlcihwb3MpXG4gICAgICAsIGwgPSBzLmxlbmd0aFxuICAgICAgLCBhLCBiO1xuICAgIGlmKGkgPCAwIHx8IGkgPj0gbClyZXR1cm4gVE9fU1RSSU5HID8gJycgOiB1bmRlZmluZWQ7XG4gICAgYSA9IHMuY2hhckNvZGVBdChpKTtcbiAgICByZXR1cm4gYSA8IDB4ZDgwMCB8fCBhID4gMHhkYmZmIHx8IGkgKyAxID09PSBsIHx8IChiID0gcy5jaGFyQ29kZUF0KGkgKyAxKSkgPCAweGRjMDAgfHwgYiA+IDB4ZGZmZlxuICAgICAgPyBUT19TVFJJTkcgPyBzLmNoYXJBdChpKSA6IGFcbiAgICAgIDogVE9fU1RSSU5HID8gcy5zbGljZShpLCBpICsgMikgOiAoYSAtIDB4ZDgwMCA8PCAxMCkgKyAoYiAtIDB4ZGMwMCkgKyAweDEwMDAwO1xuICB9O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3N0cmluZy1hdC5qc1xuICoqIG1vZHVsZSBpZCA9IDI2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjEuNCBUb0ludGVnZXJcbnZhciBjZWlsICA9IE1hdGguY2VpbFxuICAsIGZsb29yID0gTWF0aC5mbG9vcjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXNOYU4oaXQgPSAraXQpID8gMCA6IChpdCA+IDAgPyBmbG9vciA6IGNlaWwpKGl0KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL190by1pbnRlZ2VyLmpzXG4gKiogbW9kdWxlIGlkID0gMjdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMi4xIFJlcXVpcmVPYmplY3RDb2VyY2libGUoYXJndW1lbnQpXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgaWYoaXQgPT0gdW5kZWZpbmVkKXRocm93IFR5cGVFcnJvcihcIkNhbid0IGNhbGwgbWV0aG9kIG9uICBcIiArIGl0KTtcbiAgcmV0dXJuIGl0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2RlZmluZWQuanNcbiAqKiBtb2R1bGUgaWQgPSAyOFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyIExJQlJBUlkgICAgICAgID0gcmVxdWlyZSgnLi9fbGlicmFyeScpXG4gICwgJGV4cG9ydCAgICAgICAgPSByZXF1aXJlKCcuL19leHBvcnQnKVxuICAsIHJlZGVmaW5lICAgICAgID0gcmVxdWlyZSgnLi9fcmVkZWZpbmUnKVxuICAsIGhpZGUgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGlkZScpXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxuICAsIEl0ZXJhdG9ycyAgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCAkaXRlckNyZWF0ZSAgICA9IHJlcXVpcmUoJy4vX2l0ZXItY3JlYXRlJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBnZXRQcm90b3R5cGVPZiA9IHJlcXVpcmUoJy4vX29iamVjdC1ncG8nKVxuICAsIElURVJBVE9SICAgICAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBCVUdHWSAgICAgICAgICA9ICEoW10ua2V5cyAmJiAnbmV4dCcgaW4gW10ua2V5cygpKSAvLyBTYWZhcmkgaGFzIGJ1Z2d5IGl0ZXJhdG9ycyB3L28gYG5leHRgXG4gICwgRkZfSVRFUkFUT1IgICAgPSAnQEBpdGVyYXRvcidcbiAgLCBLRVlTICAgICAgICAgICA9ICdrZXlzJ1xuICAsIFZBTFVFUyAgICAgICAgID0gJ3ZhbHVlcyc7XG5cbnZhciByZXR1cm5UaGlzID0gZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oQmFzZSwgTkFNRSwgQ29uc3RydWN0b3IsIG5leHQsIERFRkFVTFQsIElTX1NFVCwgRk9SQ0VEKXtcbiAgJGl0ZXJDcmVhdGUoQ29uc3RydWN0b3IsIE5BTUUsIG5leHQpO1xuICB2YXIgZ2V0TWV0aG9kID0gZnVuY3Rpb24oa2luZCl7XG4gICAgaWYoIUJVR0dZICYmIGtpbmQgaW4gcHJvdG8pcmV0dXJuIHByb3RvW2tpbmRdO1xuICAgIHN3aXRjaChraW5kKXtcbiAgICAgIGNhc2UgS0VZUzogcmV0dXJuIGZ1bmN0aW9uIGtleXMoKXsgcmV0dXJuIG5ldyBDb25zdHJ1Y3Rvcih0aGlzLCBraW5kKTsgfTtcbiAgICAgIGNhc2UgVkFMVUVTOiByZXR1cm4gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiBuZXcgQ29uc3RydWN0b3IodGhpcywga2luZCk7IH07XG4gICAgfSByZXR1cm4gZnVuY3Rpb24gZW50cmllcygpeyByZXR1cm4gbmV3IENvbnN0cnVjdG9yKHRoaXMsIGtpbmQpOyB9O1xuICB9O1xuICB2YXIgVEFHICAgICAgICA9IE5BTUUgKyAnIEl0ZXJhdG9yJ1xuICAgICwgREVGX1ZBTFVFUyA9IERFRkFVTFQgPT0gVkFMVUVTXG4gICAgLCBWQUxVRVNfQlVHID0gZmFsc2VcbiAgICAsIHByb3RvICAgICAgPSBCYXNlLnByb3RvdHlwZVxuICAgICwgJG5hdGl2ZSAgICA9IHByb3RvW0lURVJBVE9SXSB8fCBwcm90b1tGRl9JVEVSQVRPUl0gfHwgREVGQVVMVCAmJiBwcm90b1tERUZBVUxUXVxuICAgICwgJGRlZmF1bHQgICA9ICRuYXRpdmUgfHwgZ2V0TWV0aG9kKERFRkFVTFQpXG4gICAgLCAkZW50cmllcyAgID0gREVGQVVMVCA/ICFERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoJ2VudHJpZXMnKSA6IHVuZGVmaW5lZFxuICAgICwgJGFueU5hdGl2ZSA9IE5BTUUgPT0gJ0FycmF5JyA/IHByb3RvLmVudHJpZXMgfHwgJG5hdGl2ZSA6ICRuYXRpdmVcbiAgICAsIG1ldGhvZHMsIGtleSwgSXRlcmF0b3JQcm90b3R5cGU7XG4gIC8vIEZpeCBuYXRpdmVcbiAgaWYoJGFueU5hdGl2ZSl7XG4gICAgSXRlcmF0b3JQcm90b3R5cGUgPSBnZXRQcm90b3R5cGVPZigkYW55TmF0aXZlLmNhbGwobmV3IEJhc2UpKTtcbiAgICBpZihJdGVyYXRvclByb3RvdHlwZSAhPT0gT2JqZWN0LnByb3RvdHlwZSl7XG4gICAgICAvLyBTZXQgQEB0b1N0cmluZ1RhZyB0byBuYXRpdmUgaXRlcmF0b3JzXG4gICAgICBzZXRUb1N0cmluZ1RhZyhJdGVyYXRvclByb3RvdHlwZSwgVEFHLCB0cnVlKTtcbiAgICAgIC8vIGZpeCBmb3Igc29tZSBvbGQgZW5naW5lc1xuICAgICAgaWYoIUxJQlJBUlkgJiYgIWhhcyhJdGVyYXRvclByb3RvdHlwZSwgSVRFUkFUT1IpKWhpZGUoSXRlcmF0b3JQcm90b3R5cGUsIElURVJBVE9SLCByZXR1cm5UaGlzKTtcbiAgICB9XG4gIH1cbiAgLy8gZml4IEFycmF5I3t2YWx1ZXMsIEBAaXRlcmF0b3J9Lm5hbWUgaW4gVjggLyBGRlxuICBpZihERUZfVkFMVUVTICYmICRuYXRpdmUgJiYgJG5hdGl2ZS5uYW1lICE9PSBWQUxVRVMpe1xuICAgIFZBTFVFU19CVUcgPSB0cnVlO1xuICAgICRkZWZhdWx0ID0gZnVuY3Rpb24gdmFsdWVzKCl7IHJldHVybiAkbmF0aXZlLmNhbGwodGhpcyk7IH07XG4gIH1cbiAgLy8gRGVmaW5lIGl0ZXJhdG9yXG4gIGlmKCghTElCUkFSWSB8fCBGT1JDRUQpICYmIChCVUdHWSB8fCBWQUxVRVNfQlVHIHx8ICFwcm90b1tJVEVSQVRPUl0pKXtcbiAgICBoaWRlKHByb3RvLCBJVEVSQVRPUiwgJGRlZmF1bHQpO1xuICB9XG4gIC8vIFBsdWcgZm9yIGxpYnJhcnlcbiAgSXRlcmF0b3JzW05BTUVdID0gJGRlZmF1bHQ7XG4gIEl0ZXJhdG9yc1tUQUddICA9IHJldHVyblRoaXM7XG4gIGlmKERFRkFVTFQpe1xuICAgIG1ldGhvZHMgPSB7XG4gICAgICB2YWx1ZXM6ICBERUZfVkFMVUVTID8gJGRlZmF1bHQgOiBnZXRNZXRob2QoVkFMVUVTKSxcbiAgICAgIGtleXM6ICAgIElTX1NFVCAgICAgPyAkZGVmYXVsdCA6IGdldE1ldGhvZChLRVlTKSxcbiAgICAgIGVudHJpZXM6ICRlbnRyaWVzXG4gICAgfTtcbiAgICBpZihGT1JDRUQpZm9yKGtleSBpbiBtZXRob2RzKXtcbiAgICAgIGlmKCEoa2V5IGluIHByb3RvKSlyZWRlZmluZShwcm90bywga2V5LCBtZXRob2RzW2tleV0pO1xuICAgIH0gZWxzZSAkZXhwb3J0KCRleHBvcnQuUCArICRleHBvcnQuRiAqIChCVUdHWSB8fCBWQUxVRVNfQlVHKSwgTkFNRSwgbWV0aG9kcyk7XG4gIH1cbiAgcmV0dXJuIG1ldGhvZHM7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZWZpbmUuanNcbiAqKiBtb2R1bGUgaWQgPSAyOVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB0cnVlO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fbGlicmFyeS5qc1xuICoqIG1vZHVsZSBpZCA9IDMwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2hpZGUnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3JlZGVmaW5lLmpzXG4gKiogbW9kdWxlIGlkID0gMzFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBoYXNPd25Qcm9wZXJ0eSA9IHt9Lmhhc093blByb3BlcnR5O1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwga2V5KXtcbiAgcmV0dXJuIGhhc093blByb3BlcnR5LmNhbGwoaXQsIGtleSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faGFzLmpzXG4gKiogbW9kdWxlIGlkID0gMzJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0ge307XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyYXRvcnMuanNcbiAqKiBtb2R1bGUgaWQgPSAzM1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGNyZWF0ZSAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWNyZWF0ZScpXG4gICwgZGVzY3JpcHRvciAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCBzZXRUb1N0cmluZ1RhZyA9IHJlcXVpcmUoJy4vX3NldC10by1zdHJpbmctdGFnJylcbiAgLCBJdGVyYXRvclByb3RvdHlwZSA9IHt9O1xuXG4vLyAyNS4xLjIuMS4xICVJdGVyYXRvclByb3RvdHlwZSVbQEBpdGVyYXRvcl0oKVxucmVxdWlyZSgnLi9faGlkZScpKEl0ZXJhdG9yUHJvdG90eXBlLCByZXF1aXJlKCcuL193a3MnKSgnaXRlcmF0b3InKSwgZnVuY3Rpb24oKXsgcmV0dXJuIHRoaXM7IH0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBOQU1FLCBuZXh0KXtcbiAgQ29uc3RydWN0b3IucHJvdG90eXBlID0gY3JlYXRlKEl0ZXJhdG9yUHJvdG90eXBlLCB7bmV4dDogZGVzY3JpcHRvcigxLCBuZXh0KX0pO1xuICBzZXRUb1N0cmluZ1RhZyhDb25zdHJ1Y3RvciwgTkFNRSArICcgSXRlcmF0b3InKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pdGVyLWNyZWF0ZS5qc1xuICoqIG1vZHVsZSBpZCA9IDM0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjIuMiAvIDE1LjIuMy41IE9iamVjdC5jcmVhdGUoTyBbLCBQcm9wZXJ0aWVzXSlcclxudmFyIGFuT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcclxuICAsIGRQcyAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwcycpXHJcbiAgLCBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKVxyXG4gICwgSUVfUFJPVE8gICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJylcclxuICAsIEVtcHR5ICAgICAgID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfVxyXG4gICwgUFJPVE9UWVBFICAgPSAncHJvdG90eXBlJztcclxuXHJcbi8vIENyZWF0ZSBvYmplY3Qgd2l0aCBmYWtlIGBudWxsYCBwcm90b3R5cGU6IHVzZSBpZnJhbWUgT2JqZWN0IHdpdGggY2xlYXJlZCBwcm90b3R5cGVcclxudmFyIGNyZWF0ZURpY3QgPSBmdW5jdGlvbigpe1xyXG4gIC8vIFRocmFzaCwgd2FzdGUgYW5kIHNvZG9teTogSUUgR0MgYnVnXHJcbiAgdmFyIGlmcmFtZSA9IHJlcXVpcmUoJy4vX2RvbS1jcmVhdGUnKSgnaWZyYW1lJylcclxuICAgICwgaSAgICAgID0gZW51bUJ1Z0tleXMubGVuZ3RoXHJcbiAgICAsIGd0ICAgICA9ICc+J1xyXG4gICAgLCBpZnJhbWVEb2N1bWVudDtcclxuICBpZnJhbWUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcclxuICByZXF1aXJlKCcuL19odG1sJykuYXBwZW5kQ2hpbGQoaWZyYW1lKTtcclxuICBpZnJhbWUuc3JjID0gJ2phdmFzY3JpcHQ6JzsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1zY3JpcHQtdXJsXHJcbiAgLy8gY3JlYXRlRGljdCA9IGlmcmFtZS5jb250ZW50V2luZG93Lk9iamVjdDtcclxuICAvLyBodG1sLnJlbW92ZUNoaWxkKGlmcmFtZSk7XHJcbiAgaWZyYW1lRG9jdW1lbnQgPSBpZnJhbWUuY29udGVudFdpbmRvdy5kb2N1bWVudDtcclxuICBpZnJhbWVEb2N1bWVudC5vcGVuKCk7XHJcbiAgaWZyYW1lRG9jdW1lbnQud3JpdGUoJzxzY3JpcHQ+ZG9jdW1lbnQuRj1PYmplY3Q8L3NjcmlwdCcgKyBndCk7XHJcbiAgaWZyYW1lRG9jdW1lbnQuY2xvc2UoKTtcclxuICBjcmVhdGVEaWN0ID0gaWZyYW1lRG9jdW1lbnQuRjtcclxuICB3aGlsZShpLS0pZGVsZXRlIGNyZWF0ZURpY3RbUFJPVE9UWVBFXVtlbnVtQnVnS2V5c1tpXV07XHJcbiAgcmV0dXJuIGNyZWF0ZURpY3QoKTtcclxufTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmNyZWF0ZSB8fCBmdW5jdGlvbiBjcmVhdGUoTywgUHJvcGVydGllcyl7XHJcbiAgdmFyIHJlc3VsdDtcclxuICBpZihPICE9PSBudWxsKXtcclxuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBhbk9iamVjdChPKTtcclxuICAgIHJlc3VsdCA9IG5ldyBFbXB0eTtcclxuICAgIEVtcHR5W1BST1RPVFlQRV0gPSBudWxsO1xyXG4gICAgLy8gYWRkIFwiX19wcm90b19fXCIgZm9yIE9iamVjdC5nZXRQcm90b3R5cGVPZiBwb2x5ZmlsbFxyXG4gICAgcmVzdWx0W0lFX1BST1RPXSA9IE87XHJcbiAgfSBlbHNlIHJlc3VsdCA9IGNyZWF0ZURpY3QoKTtcclxuICByZXR1cm4gUHJvcGVydGllcyA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogZFBzKHJlc3VsdCwgUHJvcGVydGllcyk7XHJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtY3JlYXRlLmpzXG4gKiogbW9kdWxlIGlkID0gMzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBkUCAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXHJcbiAgLCBhbk9iamVjdCA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXHJcbiAgLCBnZXRLZXlzICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJykgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyA6IGZ1bmN0aW9uIGRlZmluZVByb3BlcnRpZXMoTywgUHJvcGVydGllcyl7XHJcbiAgYW5PYmplY3QoTyk7XHJcbiAgdmFyIGtleXMgICA9IGdldEtleXMoUHJvcGVydGllcylcclxuICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcclxuICAgICwgaSA9IDBcclxuICAgICwgUDtcclxuICB3aGlsZShsZW5ndGggPiBpKWRQLmYoTywgUCA9IGtleXNbaSsrXSwgUHJvcGVydGllc1tQXSk7XHJcbiAgcmV0dXJuIE87XHJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZHBzLmpzXG4gKiogbW9kdWxlIGlkID0gMzZcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMi4xNCAvIDE1LjIuMy4xNCBPYmplY3Qua2V5cyhPKVxyXG52YXIgJGtleXMgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cy1pbnRlcm5hbCcpXHJcbiAgLCBlbnVtQnVnS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gT2JqZWN0LmtleXMgfHwgZnVuY3Rpb24ga2V5cyhPKXtcclxuICByZXR1cm4gJGtleXMoTywgZW51bUJ1Z0tleXMpO1xyXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWtleXMuanNcbiAqKiBtb2R1bGUgaWQgPSAzN1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGhhcyAgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXHJcbiAgLCB0b0lPYmplY3QgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcclxuICAsIGFycmF5SW5kZXhPZiA9IHJlcXVpcmUoJy4vX2FycmF5LWluY2x1ZGVzJykoZmFsc2UpXHJcbiAgLCBJRV9QUk9UTyAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQta2V5JykoJ0lFX1BST1RPJyk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iamVjdCwgbmFtZXMpe1xyXG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxyXG4gICAgLCBpICAgICAgPSAwXHJcbiAgICAsIHJlc3VsdCA9IFtdXHJcbiAgICAsIGtleTtcclxuICBmb3Ioa2V5IGluIE8paWYoa2V5ICE9IElFX1BST1RPKWhhcyhPLCBrZXkpICYmIHJlc3VsdC5wdXNoKGtleSk7XHJcbiAgLy8gRG9uJ3QgZW51bSBidWcgJiBoaWRkZW4ga2V5c1xyXG4gIHdoaWxlKG5hbWVzLmxlbmd0aCA+IGkpaWYoaGFzKE8sIGtleSA9IG5hbWVzW2krK10pKXtcclxuICAgIH5hcnJheUluZGV4T2YocmVzdWx0LCBrZXkpIHx8IHJlc3VsdC5wdXNoKGtleSk7XHJcbiAgfVxyXG4gIHJldHVybiByZXN1bHQ7XHJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3Qta2V5cy1pbnRlcm5hbC5qc1xuICoqIG1vZHVsZSBpZCA9IDM4XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyB0byBpbmRleGVkIG9iamVjdCwgdG9PYmplY3Qgd2l0aCBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIHN0cmluZ3NcbnZhciBJT2JqZWN0ID0gcmVxdWlyZSgnLi9faW9iamVjdCcpXG4gICwgZGVmaW5lZCA9IHJlcXVpcmUoJy4vX2RlZmluZWQnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gSU9iamVjdChkZWZpbmVkKGl0KSk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDM5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBmYWxsYmFjayBmb3Igbm9uLWFycmF5LWxpa2UgRVMzIGFuZCBub24tZW51bWVyYWJsZSBvbGQgVjggc3RyaW5nc1xudmFyIGNvZiA9IHJlcXVpcmUoJy4vX2NvZicpO1xubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QoJ3onKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKSA/IE9iamVjdCA6IGZ1bmN0aW9uKGl0KXtcbiAgcmV0dXJuIGNvZihpdCkgPT0gJ1N0cmluZycgPyBpdC5zcGxpdCgnJykgOiBPYmplY3QoaXQpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lvYmplY3QuanNcbiAqKiBtb2R1bGUgaWQgPSA0MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHRvU3RyaW5nID0ge30udG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbChpdCkuc2xpY2UoOCwgLTEpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2NvZi5qc1xuICoqIG1vZHVsZSBpZCA9IDQxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBmYWxzZSAtPiBBcnJheSNpbmRleE9mXG4vLyB0cnVlICAtPiBBcnJheSNpbmNsdWRlc1xudmFyIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxuICAsIHRvTGVuZ3RoICA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpXG4gICwgdG9JbmRleCAgID0gcmVxdWlyZSgnLi9fdG8taW5kZXgnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oSVNfSU5DTFVERVMpe1xuICByZXR1cm4gZnVuY3Rpb24oJHRoaXMsIGVsLCBmcm9tSW5kZXgpe1xuICAgIHZhciBPICAgICAgPSB0b0lPYmplY3QoJHRoaXMpXG4gICAgICAsIGxlbmd0aCA9IHRvTGVuZ3RoKE8ubGVuZ3RoKVxuICAgICAgLCBpbmRleCAgPSB0b0luZGV4KGZyb21JbmRleCwgbGVuZ3RoKVxuICAgICAgLCB2YWx1ZTtcbiAgICAvLyBBcnJheSNpbmNsdWRlcyB1c2VzIFNhbWVWYWx1ZVplcm8gZXF1YWxpdHkgYWxnb3JpdGhtXG4gICAgaWYoSVNfSU5DTFVERVMgJiYgZWwgIT0gZWwpd2hpbGUobGVuZ3RoID4gaW5kZXgpe1xuICAgICAgdmFsdWUgPSBPW2luZGV4KytdO1xuICAgICAgaWYodmFsdWUgIT0gdmFsdWUpcmV0dXJuIHRydWU7XG4gICAgLy8gQXJyYXkjdG9JbmRleCBpZ25vcmVzIGhvbGVzLCBBcnJheSNpbmNsdWRlcyAtIG5vdFxuICAgIH0gZWxzZSBmb3IoO2xlbmd0aCA+IGluZGV4OyBpbmRleCsrKWlmKElTX0lOQ0xVREVTIHx8IGluZGV4IGluIE8pe1xuICAgICAgaWYoT1tpbmRleF0gPT09IGVsKXJldHVybiBJU19JTkNMVURFUyB8fCBpbmRleCB8fCAwO1xuICAgIH0gcmV0dXJuICFJU19JTkNMVURFUyAmJiAtMTtcbiAgfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hcnJheS1pbmNsdWRlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDQyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyA3LjEuMTUgVG9MZW5ndGhcbnZhciB0b0ludGVnZXIgPSByZXF1aXJlKCcuL190by1pbnRlZ2VyJylcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgPiAwID8gbWluKHRvSW50ZWdlcihpdCksIDB4MWZmZmZmZmZmZmZmZmYpIDogMDsgLy8gcG93KDIsIDUzKSAtIDEgPT0gOTAwNzE5OTI1NDc0MDk5MVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLWxlbmd0aC5qc1xuICoqIG1vZHVsZSBpZCA9IDQzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgdG9JbnRlZ2VyID0gcmVxdWlyZSgnLi9fdG8taW50ZWdlcicpXG4gICwgbWF4ICAgICAgID0gTWF0aC5tYXhcbiAgLCBtaW4gICAgICAgPSBNYXRoLm1pbjtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5kZXgsIGxlbmd0aCl7XG4gIGluZGV4ID0gdG9JbnRlZ2VyKGluZGV4KTtcbiAgcmV0dXJuIGluZGV4IDwgMCA/IG1heChpbmRleCArIGxlbmd0aCwgMCkgOiBtaW4oaW5kZXgsIGxlbmd0aCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdG8taW5kZXguanNcbiAqKiBtb2R1bGUgaWQgPSA0NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIHNoYXJlZCA9IHJlcXVpcmUoJy4vX3NoYXJlZCcpKCdrZXlzJylcclxuICAsIHVpZCAgICA9IHJlcXVpcmUoJy4vX3VpZCcpO1xyXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XHJcbiAgcmV0dXJuIHNoYXJlZFtrZXldIHx8IChzaGFyZWRba2V5XSA9IHVpZChrZXkpKTtcclxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC1rZXkuanNcbiAqKiBtb2R1bGUgaWQgPSA0NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGdsb2JhbCA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgU0hBUkVEID0gJ19fY29yZS1qc19zaGFyZWRfXydcbiAgLCBzdG9yZSAgPSBnbG9iYWxbU0hBUkVEXSB8fCAoZ2xvYmFsW1NIQVJFRF0gPSB7fSk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGtleSl7XG4gIHJldHVybiBzdG9yZVtrZXldIHx8IChzdG9yZVtrZXldID0ge30pO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NoYXJlZC5qc1xuICoqIG1vZHVsZSBpZCA9IDQ2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgaWQgPSAwXG4gICwgcHggPSBNYXRoLnJhbmRvbSgpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihrZXkpe1xuICByZXR1cm4gJ1N5bWJvbCgnLmNvbmNhdChrZXkgPT09IHVuZGVmaW5lZCA/ICcnIDoga2V5LCAnKV8nLCAoKytpZCArIHB4KS50b1N0cmluZygzNikpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3VpZC5qc1xuICoqIG1vZHVsZSBpZCA9IDQ3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBJRSA4LSBkb24ndCBlbnVtIGJ1ZyBrZXlzXHJcbm1vZHVsZS5leHBvcnRzID0gKFxyXG4gICdjb25zdHJ1Y3RvcixoYXNPd25Qcm9wZXJ0eSxpc1Byb3RvdHlwZU9mLHByb3BlcnR5SXNFbnVtZXJhYmxlLHRvTG9jYWxlU3RyaW5nLHRvU3RyaW5nLHZhbHVlT2YnXHJcbikuc3BsaXQoJywnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0tYnVnLWtleXMuanNcbiAqKiBtb2R1bGUgaWQgPSA0OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSByZXF1aXJlKCcuL19nbG9iYWwnKS5kb2N1bWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19odG1sLmpzXG4gKiogbW9kdWxlIGlkID0gNDlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBkZWYgPSByZXF1aXJlKCcuL19vYmplY3QtZHAnKS5mXG4gICwgaGFzID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCwgdGFnLCBzdGF0KXtcbiAgaWYoaXQgJiYgIWhhcyhpdCA9IHN0YXQgPyBpdCA6IGl0LnByb3RvdHlwZSwgVEFHKSlkZWYoaXQsIFRBRywge2NvbmZpZ3VyYWJsZTogdHJ1ZSwgdmFsdWU6IHRhZ30pO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC10by1zdHJpbmctdGFnLmpzXG4gKiogbW9kdWxlIGlkID0gNTBcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBzdG9yZSAgICAgID0gcmVxdWlyZSgnLi9fc2hhcmVkJykoJ3drcycpXG4gICwgdWlkICAgICAgICA9IHJlcXVpcmUoJy4vX3VpZCcpXG4gICwgU3ltYm9sICAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpLlN5bWJvbFxuICAsIFVTRV9TWU1CT0wgPSB0eXBlb2YgU3ltYm9sID09ICdmdW5jdGlvbic7XG5cbnZhciAkZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obmFtZSl7XG4gIHJldHVybiBzdG9yZVtuYW1lXSB8fCAoc3RvcmVbbmFtZV0gPVxuICAgIFVTRV9TWU1CT0wgJiYgU3ltYm9sW25hbWVdIHx8IChVU0VfU1lNQk9MID8gU3ltYm9sIDogdWlkKSgnU3ltYm9sLicgKyBuYW1lKSk7XG59O1xuXG4kZXhwb3J0cy5zdG9yZSA9IHN0b3JlO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLmpzXG4gKiogbW9kdWxlIGlkID0gNTFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMi45IC8gMTUuMi4zLjIgT2JqZWN0LmdldFByb3RvdHlwZU9mKE8pXHJcbnZhciBoYXMgICAgICAgICA9IHJlcXVpcmUoJy4vX2hhcycpXHJcbiAgLCB0b09iamVjdCAgICA9IHJlcXVpcmUoJy4vX3RvLW9iamVjdCcpXHJcbiAgLCBJRV9QUk9UTyAgICA9IHJlcXVpcmUoJy4vX3NoYXJlZC1rZXknKSgnSUVfUFJPVE8nKVxyXG4gICwgT2JqZWN0UHJvdG8gPSBPYmplY3QucHJvdG90eXBlO1xyXG5cclxubW9kdWxlLmV4cG9ydHMgPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24oTyl7XHJcbiAgTyA9IHRvT2JqZWN0KE8pO1xyXG4gIGlmKGhhcyhPLCBJRV9QUk9UTykpcmV0dXJuIE9bSUVfUFJPVE9dO1xyXG4gIGlmKHR5cGVvZiBPLmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgTyBpbnN0YW5jZW9mIE8uY29uc3RydWN0b3Ipe1xyXG4gICAgcmV0dXJuIE8uY29uc3RydWN0b3IucHJvdG90eXBlO1xyXG4gIH0gcmV0dXJuIE8gaW5zdGFuY2VvZiBPYmplY3QgPyBPYmplY3RQcm90byA6IG51bGw7XHJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ3BvLmpzXG4gKiogbW9kdWxlIGlkID0gNTJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDcuMS4xMyBUb09iamVjdChhcmd1bWVudClcbnZhciBkZWZpbmVkID0gcmVxdWlyZSgnLi9fZGVmaW5lZCcpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBPYmplY3QoZGVmaW5lZChpdCkpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3RvLW9iamVjdC5qc1xuICoqIG1vZHVsZSBpZCA9IDUzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuL2VzNi5hcnJheS5pdGVyYXRvcicpO1xudmFyIGdsb2JhbCAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGhpZGUgICAgICAgICAgPSByZXF1aXJlKCcuL19oaWRlJylcbiAgLCBJdGVyYXRvcnMgICAgID0gcmVxdWlyZSgnLi9faXRlcmF0b3JzJylcbiAgLCBUT19TVFJJTkdfVEFHID0gcmVxdWlyZSgnLi9fd2tzJykoJ3RvU3RyaW5nVGFnJyk7XG5cbmZvcih2YXIgY29sbGVjdGlvbnMgPSBbJ05vZGVMaXN0JywgJ0RPTVRva2VuTGlzdCcsICdNZWRpYUxpc3QnLCAnU3R5bGVTaGVldExpc3QnLCAnQ1NTUnVsZUxpc3QnXSwgaSA9IDA7IGkgPCA1OyBpKyspe1xuICB2YXIgTkFNRSAgICAgICA9IGNvbGxlY3Rpb25zW2ldXG4gICAgLCBDb2xsZWN0aW9uID0gZ2xvYmFsW05BTUVdXG4gICAgLCBwcm90byAgICAgID0gQ29sbGVjdGlvbiAmJiBDb2xsZWN0aW9uLnByb3RvdHlwZTtcbiAgaWYocHJvdG8gJiYgIXByb3RvW1RPX1NUUklOR19UQUddKWhpZGUocHJvdG8sIFRPX1NUUklOR19UQUcsIE5BTUUpO1xuICBJdGVyYXRvcnNbTkFNRV0gPSBJdGVyYXRvcnMuQXJyYXk7XG59XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL3dlYi5kb20uaXRlcmFibGUuanNcbiAqKiBtb2R1bGUgaWQgPSA1NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGFkZFRvVW5zY29wYWJsZXMgPSByZXF1aXJlKCcuL19hZGQtdG8tdW5zY29wYWJsZXMnKVxuICAsIHN0ZXAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyLXN0ZXAnKVxuICAsIEl0ZXJhdG9ycyAgICAgICAgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKVxuICAsIHRvSU9iamVjdCAgICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0Jyk7XG5cbi8vIDIyLjEuMy40IEFycmF5LnByb3RvdHlwZS5lbnRyaWVzKClcbi8vIDIyLjEuMy4xMyBBcnJheS5wcm90b3R5cGUua2V5cygpXG4vLyAyMi4xLjMuMjkgQXJyYXkucHJvdG90eXBlLnZhbHVlcygpXG4vLyAyMi4xLjMuMzAgQXJyYXkucHJvdG90eXBlW0BAaXRlcmF0b3JdKClcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9faXRlci1kZWZpbmUnKShBcnJheSwgJ0FycmF5JywgZnVuY3Rpb24oaXRlcmF0ZWQsIGtpbmQpe1xuICB0aGlzLl90ID0gdG9JT2JqZWN0KGl0ZXJhdGVkKTsgLy8gdGFyZ2V0XG4gIHRoaXMuX2kgPSAwOyAgICAgICAgICAgICAgICAgICAvLyBuZXh0IGluZGV4XG4gIHRoaXMuX2sgPSBraW5kOyAgICAgICAgICAgICAgICAvLyBraW5kXG4vLyAyMi4xLjUuMi4xICVBcnJheUl0ZXJhdG9yUHJvdG90eXBlJS5uZXh0KClcbn0sIGZ1bmN0aW9uKCl7XG4gIHZhciBPICAgICA9IHRoaXMuX3RcbiAgICAsIGtpbmQgID0gdGhpcy5fa1xuICAgICwgaW5kZXggPSB0aGlzLl9pKys7XG4gIGlmKCFPIHx8IGluZGV4ID49IE8ubGVuZ3RoKXtcbiAgICB0aGlzLl90ID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBzdGVwKDEpO1xuICB9XG4gIGlmKGtpbmQgPT0gJ2tleXMnICApcmV0dXJuIHN0ZXAoMCwgaW5kZXgpO1xuICBpZihraW5kID09ICd2YWx1ZXMnKXJldHVybiBzdGVwKDAsIE9baW5kZXhdKTtcbiAgcmV0dXJuIHN0ZXAoMCwgW2luZGV4LCBPW2luZGV4XV0pO1xufSwgJ3ZhbHVlcycpO1xuXG4vLyBhcmd1bWVudHNMaXN0W0BAaXRlcmF0b3JdIGlzICVBcnJheVByb3RvX3ZhbHVlcyUgKDkuNC40LjYsIDkuNC40LjcpXG5JdGVyYXRvcnMuQXJndW1lbnRzID0gSXRlcmF0b3JzLkFycmF5O1xuXG5hZGRUb1Vuc2NvcGFibGVzKCdrZXlzJyk7XG5hZGRUb1Vuc2NvcGFibGVzKCd2YWx1ZXMnKTtcbmFkZFRvVW5zY29wYWJsZXMoJ2VudHJpZXMnKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LmFycmF5Lml0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gNTVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2FkZC10by11bnNjb3BhYmxlcy5qc1xuICoqIG1vZHVsZSBpZCA9IDU2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGRvbmUsIHZhbHVlKXtcbiAgcmV0dXJuIHt2YWx1ZTogdmFsdWUsIGRvbmU6ICEhZG9uZX07XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1zdGVwLmpzXG4gKiogbW9kdWxlIGlkID0gNTdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnZhciBMSUJSQVJZICAgICAgICAgICAgPSByZXF1aXJlKCcuL19saWJyYXJ5JylcbiAgLCBnbG9iYWwgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGN0eCAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgY2xhc3NvZiAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpXG4gICwgJGV4cG9ydCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fZXhwb3J0JylcbiAgLCBpc09iamVjdCAgICAgICAgICAgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGFuT2JqZWN0ICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgYUZ1bmN0aW9uICAgICAgICAgID0gcmVxdWlyZSgnLi9fYS1mdW5jdGlvbicpXG4gICwgYW5JbnN0YW5jZSAgICAgICAgID0gcmVxdWlyZSgnLi9fYW4taW5zdGFuY2UnKVxuICAsIGZvck9mICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2Zvci1vZicpXG4gICwgc2V0UHJvdG8gICAgICAgICAgID0gcmVxdWlyZSgnLi9fc2V0LXByb3RvJykuc2V0XG4gICwgc3BlY2llc0NvbnN0cnVjdG9yID0gcmVxdWlyZSgnLi9fc3BlY2llcy1jb25zdHJ1Y3RvcicpXG4gICwgdGFzayAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fdGFzaycpLnNldFxuICAsIG1pY3JvdGFzayAgICAgICAgICA9IHJlcXVpcmUoJy4vX21pY3JvdGFzaycpKClcbiAgLCBQUk9NSVNFICAgICAgICAgICAgPSAnUHJvbWlzZSdcbiAgLCBUeXBlRXJyb3IgICAgICAgICAgPSBnbG9iYWwuVHlwZUVycm9yXG4gICwgcHJvY2VzcyAgICAgICAgICAgID0gZ2xvYmFsLnByb2Nlc3NcbiAgLCAkUHJvbWlzZSAgICAgICAgICAgPSBnbG9iYWxbUFJPTUlTRV1cbiAgLCBwcm9jZXNzICAgICAgICAgICAgPSBnbG9iYWwucHJvY2Vzc1xuICAsIGlzTm9kZSAgICAgICAgICAgICA9IGNsYXNzb2YocHJvY2VzcykgPT0gJ3Byb2Nlc3MnXG4gICwgZW1wdHkgICAgICAgICAgICAgID0gZnVuY3Rpb24oKXsgLyogZW1wdHkgKi8gfVxuICAsIEludGVybmFsLCBHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHksIFdyYXBwZXI7XG5cbnZhciBVU0VfTkFUSVZFID0gISFmdW5jdGlvbigpe1xuICB0cnkge1xuICAgIC8vIGNvcnJlY3Qgc3ViY2xhc3Npbmcgd2l0aCBAQHNwZWNpZXMgc3VwcG9ydFxuICAgIHZhciBwcm9taXNlICAgICA9ICRQcm9taXNlLnJlc29sdmUoMSlcbiAgICAgICwgRmFrZVByb21pc2UgPSAocHJvbWlzZS5jb25zdHJ1Y3RvciA9IHt9KVtyZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpXSA9IGZ1bmN0aW9uKGV4ZWMpeyBleGVjKGVtcHR5LCBlbXB0eSk7IH07XG4gICAgLy8gdW5oYW5kbGVkIHJlamVjdGlvbnMgdHJhY2tpbmcgc3VwcG9ydCwgTm9kZUpTIFByb21pc2Ugd2l0aG91dCBpdCBmYWlscyBAQHNwZWNpZXMgdGVzdFxuICAgIHJldHVybiAoaXNOb2RlIHx8IHR5cGVvZiBQcm9taXNlUmVqZWN0aW9uRXZlbnQgPT0gJ2Z1bmN0aW9uJykgJiYgcHJvbWlzZS50aGVuKGVtcHR5KSBpbnN0YW5jZW9mIEZha2VQcm9taXNlO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG59KCk7XG5cbi8vIGhlbHBlcnNcbnZhciBzYW1lQ29uc3RydWN0b3IgPSBmdW5jdGlvbihhLCBiKXtcbiAgLy8gd2l0aCBsaWJyYXJ5IHdyYXBwZXIgc3BlY2lhbCBjYXNlXG4gIHJldHVybiBhID09PSBiIHx8IGEgPT09ICRQcm9taXNlICYmIGIgPT09IFdyYXBwZXI7XG59O1xudmFyIGlzVGhlbmFibGUgPSBmdW5jdGlvbihpdCl7XG4gIHZhciB0aGVuO1xuICByZXR1cm4gaXNPYmplY3QoaXQpICYmIHR5cGVvZiAodGhlbiA9IGl0LnRoZW4pID09ICdmdW5jdGlvbicgPyB0aGVuIDogZmFsc2U7XG59O1xudmFyIG5ld1Byb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24oQyl7XG4gIHJldHVybiBzYW1lQ29uc3RydWN0b3IoJFByb21pc2UsIEMpXG4gICAgPyBuZXcgUHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICA6IG5ldyBHZW5lcmljUHJvbWlzZUNhcGFiaWxpdHkoQyk7XG59O1xudmFyIFByb21pc2VDYXBhYmlsaXR5ID0gR2VuZXJpY1Byb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24oQyl7XG4gIHZhciByZXNvbHZlLCByZWplY3Q7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBDKGZ1bmN0aW9uKCQkcmVzb2x2ZSwgJCRyZWplY3Qpe1xuICAgIGlmKHJlc29sdmUgIT09IHVuZGVmaW5lZCB8fCByZWplY3QgIT09IHVuZGVmaW5lZCl0aHJvdyBUeXBlRXJyb3IoJ0JhZCBQcm9taXNlIGNvbnN0cnVjdG9yJyk7XG4gICAgcmVzb2x2ZSA9ICQkcmVzb2x2ZTtcbiAgICByZWplY3QgID0gJCRyZWplY3Q7XG4gIH0pO1xuICB0aGlzLnJlc29sdmUgPSBhRnVuY3Rpb24ocmVzb2x2ZSk7XG4gIHRoaXMucmVqZWN0ICA9IGFGdW5jdGlvbihyZWplY3QpO1xufTtcbnZhciBwZXJmb3JtID0gZnVuY3Rpb24oZXhlYyl7XG4gIHRyeSB7XG4gICAgZXhlYygpO1xuICB9IGNhdGNoKGUpe1xuICAgIHJldHVybiB7ZXJyb3I6IGV9O1xuICB9XG59O1xudmFyIG5vdGlmeSA9IGZ1bmN0aW9uKHByb21pc2UsIGlzUmVqZWN0KXtcbiAgaWYocHJvbWlzZS5fbilyZXR1cm47XG4gIHByb21pc2UuX24gPSB0cnVlO1xuICB2YXIgY2hhaW4gPSBwcm9taXNlLl9jO1xuICBtaWNyb3Rhc2soZnVuY3Rpb24oKXtcbiAgICB2YXIgdmFsdWUgPSBwcm9taXNlLl92XG4gICAgICAsIG9rICAgID0gcHJvbWlzZS5fcyA9PSAxXG4gICAgICAsIGkgICAgID0gMDtcbiAgICB2YXIgcnVuID0gZnVuY3Rpb24ocmVhY3Rpb24pe1xuICAgICAgdmFyIGhhbmRsZXIgPSBvayA/IHJlYWN0aW9uLm9rIDogcmVhY3Rpb24uZmFpbFxuICAgICAgICAsIHJlc29sdmUgPSByZWFjdGlvbi5yZXNvbHZlXG4gICAgICAgICwgcmVqZWN0ICA9IHJlYWN0aW9uLnJlamVjdFxuICAgICAgICAsIGRvbWFpbiAgPSByZWFjdGlvbi5kb21haW5cbiAgICAgICAgLCByZXN1bHQsIHRoZW47XG4gICAgICB0cnkge1xuICAgICAgICBpZihoYW5kbGVyKXtcbiAgICAgICAgICBpZighb2spe1xuICAgICAgICAgICAgaWYocHJvbWlzZS5faCA9PSAyKW9uSGFuZGxlVW5oYW5kbGVkKHByb21pc2UpO1xuICAgICAgICAgICAgcHJvbWlzZS5faCA9IDE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmKGhhbmRsZXIgPT09IHRydWUpcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZihkb21haW4pZG9tYWluLmVudGVyKCk7XG4gICAgICAgICAgICByZXN1bHQgPSBoYW5kbGVyKHZhbHVlKTtcbiAgICAgICAgICAgIGlmKGRvbWFpbilkb21haW4uZXhpdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZihyZXN1bHQgPT09IHJlYWN0aW9uLnByb21pc2Upe1xuICAgICAgICAgICAgcmVqZWN0KFR5cGVFcnJvcignUHJvbWlzZS1jaGFpbiBjeWNsZScpKTtcbiAgICAgICAgICB9IGVsc2UgaWYodGhlbiA9IGlzVGhlbmFibGUocmVzdWx0KSl7XG4gICAgICAgICAgICB0aGVuLmNhbGwocmVzdWx0LCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH0gZWxzZSByZXNvbHZlKHJlc3VsdCk7XG4gICAgICAgIH0gZWxzZSByZWplY3QodmFsdWUpO1xuICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgd2hpbGUoY2hhaW4ubGVuZ3RoID4gaSlydW4oY2hhaW5baSsrXSk7IC8vIHZhcmlhYmxlIGxlbmd0aCAtIGNhbid0IHVzZSBmb3JFYWNoXG4gICAgcHJvbWlzZS5fYyA9IFtdO1xuICAgIHByb21pc2UuX24gPSBmYWxzZTtcbiAgICBpZihpc1JlamVjdCAmJiAhcHJvbWlzZS5faClvblVuaGFuZGxlZChwcm9taXNlKTtcbiAgfSk7XG59O1xudmFyIG9uVW5oYW5kbGVkID0gZnVuY3Rpb24ocHJvbWlzZSl7XG4gIHRhc2suY2FsbChnbG9iYWwsIGZ1bmN0aW9uKCl7XG4gICAgdmFyIHZhbHVlID0gcHJvbWlzZS5fdlxuICAgICAgLCBhYnJ1cHQsIGhhbmRsZXIsIGNvbnNvbGU7XG4gICAgaWYoaXNVbmhhbmRsZWQocHJvbWlzZSkpe1xuICAgICAgYWJydXB0ID0gcGVyZm9ybShmdW5jdGlvbigpe1xuICAgICAgICBpZihpc05vZGUpe1xuICAgICAgICAgIHByb2Nlc3MuZW1pdCgndW5oYW5kbGVkUmVqZWN0aW9uJywgdmFsdWUsIHByb21pc2UpO1xuICAgICAgICB9IGVsc2UgaWYoaGFuZGxlciA9IGdsb2JhbC5vbnVuaGFuZGxlZHJlamVjdGlvbil7XG4gICAgICAgICAgaGFuZGxlcih7cHJvbWlzZTogcHJvbWlzZSwgcmVhc29uOiB2YWx1ZX0pO1xuICAgICAgICB9IGVsc2UgaWYoKGNvbnNvbGUgPSBnbG9iYWwuY29uc29sZSkgJiYgY29uc29sZS5lcnJvcil7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignVW5oYW5kbGVkIHByb21pc2UgcmVqZWN0aW9uJywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIC8vIEJyb3dzZXJzIHNob3VsZCBub3QgdHJpZ2dlciBgcmVqZWN0aW9uSGFuZGxlZGAgZXZlbnQgaWYgaXQgd2FzIGhhbmRsZWQgaGVyZSwgTm9kZUpTIC0gc2hvdWxkXG4gICAgICBwcm9taXNlLl9oID0gaXNOb2RlIHx8IGlzVW5oYW5kbGVkKHByb21pc2UpID8gMiA6IDE7XG4gICAgfSBwcm9taXNlLl9hID0gdW5kZWZpbmVkO1xuICAgIGlmKGFicnVwdCl0aHJvdyBhYnJ1cHQuZXJyb3I7XG4gIH0pO1xufTtcbnZhciBpc1VuaGFuZGxlZCA9IGZ1bmN0aW9uKHByb21pc2Upe1xuICBpZihwcm9taXNlLl9oID09IDEpcmV0dXJuIGZhbHNlO1xuICB2YXIgY2hhaW4gPSBwcm9taXNlLl9hIHx8IHByb21pc2UuX2NcbiAgICAsIGkgICAgID0gMFxuICAgICwgcmVhY3Rpb247XG4gIHdoaWxlKGNoYWluLmxlbmd0aCA+IGkpe1xuICAgIHJlYWN0aW9uID0gY2hhaW5baSsrXTtcbiAgICBpZihyZWFjdGlvbi5mYWlsIHx8ICFpc1VuaGFuZGxlZChyZWFjdGlvbi5wcm9taXNlKSlyZXR1cm4gZmFsc2U7XG4gIH0gcmV0dXJuIHRydWU7XG59O1xudmFyIG9uSGFuZGxlVW5oYW5kbGVkID0gZnVuY3Rpb24ocHJvbWlzZSl7XG4gIHRhc2suY2FsbChnbG9iYWwsIGZ1bmN0aW9uKCl7XG4gICAgdmFyIGhhbmRsZXI7XG4gICAgaWYoaXNOb2RlKXtcbiAgICAgIHByb2Nlc3MuZW1pdCgncmVqZWN0aW9uSGFuZGxlZCcsIHByb21pc2UpO1xuICAgIH0gZWxzZSBpZihoYW5kbGVyID0gZ2xvYmFsLm9ucmVqZWN0aW9uaGFuZGxlZCl7XG4gICAgICBoYW5kbGVyKHtwcm9taXNlOiBwcm9taXNlLCByZWFzb246IHByb21pc2UuX3Z9KTtcbiAgICB9XG4gIH0pO1xufTtcbnZhciAkcmVqZWN0ID0gZnVuY3Rpb24odmFsdWUpe1xuICB2YXIgcHJvbWlzZSA9IHRoaXM7XG4gIGlmKHByb21pc2UuX2QpcmV0dXJuO1xuICBwcm9taXNlLl9kID0gdHJ1ZTtcbiAgcHJvbWlzZSA9IHByb21pc2UuX3cgfHwgcHJvbWlzZTsgLy8gdW53cmFwXG4gIHByb21pc2UuX3YgPSB2YWx1ZTtcbiAgcHJvbWlzZS5fcyA9IDI7XG4gIGlmKCFwcm9taXNlLl9hKXByb21pc2UuX2EgPSBwcm9taXNlLl9jLnNsaWNlKCk7XG4gIG5vdGlmeShwcm9taXNlLCB0cnVlKTtcbn07XG52YXIgJHJlc29sdmUgPSBmdW5jdGlvbih2YWx1ZSl7XG4gIHZhciBwcm9taXNlID0gdGhpc1xuICAgICwgdGhlbjtcbiAgaWYocHJvbWlzZS5fZClyZXR1cm47XG4gIHByb21pc2UuX2QgPSB0cnVlO1xuICBwcm9taXNlID0gcHJvbWlzZS5fdyB8fCBwcm9taXNlOyAvLyB1bndyYXBcbiAgdHJ5IHtcbiAgICBpZihwcm9taXNlID09PSB2YWx1ZSl0aHJvdyBUeXBlRXJyb3IoXCJQcm9taXNlIGNhbid0IGJlIHJlc29sdmVkIGl0c2VsZlwiKTtcbiAgICBpZih0aGVuID0gaXNUaGVuYWJsZSh2YWx1ZSkpe1xuICAgICAgbWljcm90YXNrKGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciB3cmFwcGVyID0ge193OiBwcm9taXNlLCBfZDogZmFsc2V9OyAvLyB3cmFwXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgdGhlbi5jYWxsKHZhbHVlLCBjdHgoJHJlc29sdmUsIHdyYXBwZXIsIDEpLCBjdHgoJHJlamVjdCwgd3JhcHBlciwgMSkpO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICRyZWplY3QuY2FsbCh3cmFwcGVyLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21pc2UuX3YgPSB2YWx1ZTtcbiAgICAgIHByb21pc2UuX3MgPSAxO1xuICAgICAgbm90aWZ5KHByb21pc2UsIGZhbHNlKTtcbiAgICB9XG4gIH0gY2F0Y2goZSl7XG4gICAgJHJlamVjdC5jYWxsKHtfdzogcHJvbWlzZSwgX2Q6IGZhbHNlfSwgZSk7IC8vIHdyYXBcbiAgfVxufTtcblxuLy8gY29uc3RydWN0b3IgcG9seWZpbGxcbmlmKCFVU0VfTkFUSVZFKXtcbiAgLy8gMjUuNC4zLjEgUHJvbWlzZShleGVjdXRvcilcbiAgJFByb21pc2UgPSBmdW5jdGlvbiBQcm9taXNlKGV4ZWN1dG9yKXtcbiAgICBhbkluc3RhbmNlKHRoaXMsICRQcm9taXNlLCBQUk9NSVNFLCAnX2gnKTtcbiAgICBhRnVuY3Rpb24oZXhlY3V0b3IpO1xuICAgIEludGVybmFsLmNhbGwodGhpcyk7XG4gICAgdHJ5IHtcbiAgICAgIGV4ZWN1dG9yKGN0eCgkcmVzb2x2ZSwgdGhpcywgMSksIGN0eCgkcmVqZWN0LCB0aGlzLCAxKSk7XG4gICAgfSBjYXRjaChlcnIpe1xuICAgICAgJHJlamVjdC5jYWxsKHRoaXMsIGVycik7XG4gICAgfVxuICB9O1xuICBJbnRlcm5hbCA9IGZ1bmN0aW9uIFByb21pc2UoZXhlY3V0b3Ipe1xuICAgIHRoaXMuX2MgPSBbXTsgICAgICAgICAgICAgLy8gPC0gYXdhaXRpbmcgcmVhY3Rpb25zXG4gICAgdGhpcy5fYSA9IHVuZGVmaW5lZDsgICAgICAvLyA8LSBjaGVja2VkIGluIGlzVW5oYW5kbGVkIHJlYWN0aW9uc1xuICAgIHRoaXMuX3MgPSAwOyAgICAgICAgICAgICAgLy8gPC0gc3RhdGVcbiAgICB0aGlzLl9kID0gZmFsc2U7ICAgICAgICAgIC8vIDwtIGRvbmVcbiAgICB0aGlzLl92ID0gdW5kZWZpbmVkOyAgICAgIC8vIDwtIHZhbHVlXG4gICAgdGhpcy5faCA9IDA7ICAgICAgICAgICAgICAvLyA8LSByZWplY3Rpb24gc3RhdGUsIDAgLSBkZWZhdWx0LCAxIC0gaGFuZGxlZCwgMiAtIHVuaGFuZGxlZFxuICAgIHRoaXMuX24gPSBmYWxzZTsgICAgICAgICAgLy8gPC0gbm90aWZ5XG4gIH07XG4gIEludGVybmFsLnByb3RvdHlwZSA9IHJlcXVpcmUoJy4vX3JlZGVmaW5lLWFsbCcpKCRQcm9taXNlLnByb3RvdHlwZSwge1xuICAgIC8vIDI1LjQuNS4zIFByb21pc2UucHJvdG90eXBlLnRoZW4ob25GdWxmaWxsZWQsIG9uUmVqZWN0ZWQpXG4gICAgdGhlbjogZnVuY3Rpb24gdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCl7XG4gICAgICB2YXIgcmVhY3Rpb24gICAgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eShzcGVjaWVzQ29uc3RydWN0b3IodGhpcywgJFByb21pc2UpKTtcbiAgICAgIHJlYWN0aW9uLm9rICAgICA9IHR5cGVvZiBvbkZ1bGZpbGxlZCA9PSAnZnVuY3Rpb24nID8gb25GdWxmaWxsZWQgOiB0cnVlO1xuICAgICAgcmVhY3Rpb24uZmFpbCAgID0gdHlwZW9mIG9uUmVqZWN0ZWQgPT0gJ2Z1bmN0aW9uJyAmJiBvblJlamVjdGVkO1xuICAgICAgcmVhY3Rpb24uZG9tYWluID0gaXNOb2RlID8gcHJvY2Vzcy5kb21haW4gOiB1bmRlZmluZWQ7XG4gICAgICB0aGlzLl9jLnB1c2gocmVhY3Rpb24pO1xuICAgICAgaWYodGhpcy5fYSl0aGlzLl9hLnB1c2gocmVhY3Rpb24pO1xuICAgICAgaWYodGhpcy5fcylub3RpZnkodGhpcywgZmFsc2UpO1xuICAgICAgcmV0dXJuIHJlYWN0aW9uLnByb21pc2U7XG4gICAgfSxcbiAgICAvLyAyNS40LjUuMSBQcm9taXNlLnByb3RvdHlwZS5jYXRjaChvblJlamVjdGVkKVxuICAgICdjYXRjaCc6IGZ1bmN0aW9uKG9uUmVqZWN0ZWQpe1xuICAgICAgcmV0dXJuIHRoaXMudGhlbih1bmRlZmluZWQsIG9uUmVqZWN0ZWQpO1xuICAgIH1cbiAgfSk7XG4gIFByb21pc2VDYXBhYmlsaXR5ID0gZnVuY3Rpb24oKXtcbiAgICB2YXIgcHJvbWlzZSAgPSBuZXcgSW50ZXJuYWw7XG4gICAgdGhpcy5wcm9taXNlID0gcHJvbWlzZTtcbiAgICB0aGlzLnJlc29sdmUgPSBjdHgoJHJlc29sdmUsIHByb21pc2UsIDEpO1xuICAgIHRoaXMucmVqZWN0ICA9IGN0eCgkcmVqZWN0LCBwcm9taXNlLCAxKTtcbiAgfTtcbn1cblxuJGV4cG9ydCgkZXhwb3J0LkcgKyAkZXhwb3J0LlcgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwge1Byb21pc2U6ICRQcm9taXNlfSk7XG5yZXF1aXJlKCcuL19zZXQtdG8tc3RyaW5nLXRhZycpKCRQcm9taXNlLCBQUk9NSVNFKTtcbnJlcXVpcmUoJy4vX3NldC1zcGVjaWVzJykoUFJPTUlTRSk7XG5XcmFwcGVyID0gcmVxdWlyZSgnLi9fY29yZScpW1BST01JU0VdO1xuXG4vLyBzdGF0aWNzXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCBQUk9NSVNFLCB7XG4gIC8vIDI1LjQuNC41IFByb21pc2UucmVqZWN0KHIpXG4gIHJlamVjdDogZnVuY3Rpb24gcmVqZWN0KHIpe1xuICAgIHZhciBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkodGhpcylcbiAgICAgICwgJCRyZWplY3QgICA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgICQkcmVqZWN0KHIpO1xuICAgIHJldHVybiBjYXBhYmlsaXR5LnByb21pc2U7XG4gIH1cbn0pO1xuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoTElCUkFSWSB8fCAhVVNFX05BVElWRSksIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjYgUHJvbWlzZS5yZXNvbHZlKHgpXG4gIHJlc29sdmU6IGZ1bmN0aW9uIHJlc29sdmUoeCl7XG4gICAgLy8gaW5zdGFuY2VvZiBpbnN0ZWFkIG9mIGludGVybmFsIHNsb3QgY2hlY2sgYmVjYXVzZSB3ZSBzaG91bGQgZml4IGl0IHdpdGhvdXQgcmVwbGFjZW1lbnQgbmF0aXZlIFByb21pc2UgY29yZVxuICAgIGlmKHggaW5zdGFuY2VvZiAkUHJvbWlzZSAmJiBzYW1lQ29uc3RydWN0b3IoeC5jb25zdHJ1Y3RvciwgdGhpcykpcmV0dXJuIHg7XG4gICAgdmFyIGNhcGFiaWxpdHkgPSBuZXdQcm9taXNlQ2FwYWJpbGl0eSh0aGlzKVxuICAgICAgLCAkJHJlc29sdmUgID0gY2FwYWJpbGl0eS5yZXNvbHZlO1xuICAgICQkcmVzb2x2ZSh4KTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9XG59KTtcbiRleHBvcnQoJGV4cG9ydC5TICsgJGV4cG9ydC5GICogIShVU0VfTkFUSVZFICYmIHJlcXVpcmUoJy4vX2l0ZXItZGV0ZWN0JykoZnVuY3Rpb24oaXRlcil7XG4gICRQcm9taXNlLmFsbChpdGVyKVsnY2F0Y2gnXShlbXB0eSk7XG59KSksIFBST01JU0UsIHtcbiAgLy8gMjUuNC40LjEgUHJvbWlzZS5hbGwoaXRlcmFibGUpXG4gIGFsbDogZnVuY3Rpb24gYWxsKGl0ZXJhYmxlKXtcbiAgICB2YXIgQyAgICAgICAgICA9IHRoaXNcbiAgICAgICwgY2FwYWJpbGl0eSA9IG5ld1Byb21pc2VDYXBhYmlsaXR5KEMpXG4gICAgICAsIHJlc29sdmUgICAgPSBjYXBhYmlsaXR5LnJlc29sdmVcbiAgICAgICwgcmVqZWN0ICAgICA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgIHZhciBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCl7XG4gICAgICB2YXIgdmFsdWVzICAgID0gW11cbiAgICAgICAgLCBpbmRleCAgICAgPSAwXG4gICAgICAgICwgcmVtYWluaW5nID0gMTtcbiAgICAgIGZvck9mKGl0ZXJhYmxlLCBmYWxzZSwgZnVuY3Rpb24ocHJvbWlzZSl7XG4gICAgICAgIHZhciAkaW5kZXggICAgICAgID0gaW5kZXgrK1xuICAgICAgICAgICwgYWxyZWFkeUNhbGxlZCA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICByZW1haW5pbmcrKztcbiAgICAgICAgQy5yZXNvbHZlKHByb21pc2UpLnRoZW4oZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICAgIGlmKGFscmVhZHlDYWxsZWQpcmV0dXJuO1xuICAgICAgICAgIGFscmVhZHlDYWxsZWQgID0gdHJ1ZTtcbiAgICAgICAgICB2YWx1ZXNbJGluZGV4XSA9IHZhbHVlO1xuICAgICAgICAgIC0tcmVtYWluaW5nIHx8IHJlc29sdmUodmFsdWVzKTtcbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgICAgIH0pO1xuICAgICAgLS1yZW1haW5pbmcgfHwgcmVzb2x2ZSh2YWx1ZXMpO1xuICAgIH0pO1xuICAgIGlmKGFicnVwdClyZWplY3QoYWJydXB0LmVycm9yKTtcbiAgICByZXR1cm4gY2FwYWJpbGl0eS5wcm9taXNlO1xuICB9LFxuICAvLyAyNS40LjQuNCBQcm9taXNlLnJhY2UoaXRlcmFibGUpXG4gIHJhY2U6IGZ1bmN0aW9uIHJhY2UoaXRlcmFibGUpe1xuICAgIHZhciBDICAgICAgICAgID0gdGhpc1xuICAgICAgLCBjYXBhYmlsaXR5ID0gbmV3UHJvbWlzZUNhcGFiaWxpdHkoQylcbiAgICAgICwgcmVqZWN0ICAgICA9IGNhcGFiaWxpdHkucmVqZWN0O1xuICAgIHZhciBhYnJ1cHQgPSBwZXJmb3JtKGZ1bmN0aW9uKCl7XG4gICAgICBmb3JPZihpdGVyYWJsZSwgZmFsc2UsIGZ1bmN0aW9uKHByb21pc2Upe1xuICAgICAgICBDLnJlc29sdmUocHJvbWlzZSkudGhlbihjYXBhYmlsaXR5LnJlc29sdmUsIHJlamVjdCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBpZihhYnJ1cHQpcmVqZWN0KGFicnVwdC5lcnJvcik7XG4gICAgcmV0dXJuIGNhcGFiaWxpdHkucHJvbWlzZTtcbiAgfVxufSk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNi5wcm9taXNlLmpzXG4gKiogbW9kdWxlIGlkID0gNThcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGdldHRpbmcgdGFnIGZyb20gMTkuMS4zLjYgT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZygpXG52YXIgY29mID0gcmVxdWlyZSgnLi9fY29mJylcbiAgLCBUQUcgPSByZXF1aXJlKCcuL193a3MnKSgndG9TdHJpbmdUYWcnKVxuICAvLyBFUzMgd3JvbmcgaGVyZVxuICAsIEFSRyA9IGNvZihmdW5jdGlvbigpeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpID09ICdBcmd1bWVudHMnO1xuXG4vLyBmYWxsYmFjayBmb3IgSUUxMSBTY3JpcHQgQWNjZXNzIERlbmllZCBlcnJvclxudmFyIHRyeUdldCA9IGZ1bmN0aW9uKGl0LCBrZXkpe1xuICB0cnkge1xuICAgIHJldHVybiBpdFtrZXldO1xuICB9IGNhdGNoKGUpeyAvKiBlbXB0eSAqLyB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGl0KXtcbiAgdmFyIE8sIFQsIEI7XG4gIHJldHVybiBpdCA9PT0gdW5kZWZpbmVkID8gJ1VuZGVmaW5lZCcgOiBpdCA9PT0gbnVsbCA/ICdOdWxsJ1xuICAgIC8vIEBAdG9TdHJpbmdUYWcgY2FzZVxuICAgIDogdHlwZW9mIChUID0gdHJ5R2V0KE8gPSBPYmplY3QoaXQpLCBUQUcpKSA9PSAnc3RyaW5nJyA/IFRcbiAgICAvLyBidWlsdGluVGFnIGNhc2VcbiAgICA6IEFSRyA/IGNvZihPKVxuICAgIC8vIEVTMyBhcmd1bWVudHMgZmFsbGJhY2tcbiAgICA6IChCID0gY29mKE8pKSA9PSAnT2JqZWN0JyAmJiB0eXBlb2YgTy5jYWxsZWUgPT0gJ2Z1bmN0aW9uJyA/ICdBcmd1bWVudHMnIDogQjtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19jbGFzc29mLmpzXG4gKiogbW9kdWxlIGlkID0gNTlcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXQsIENvbnN0cnVjdG9yLCBuYW1lLCBmb3JiaWRkZW5GaWVsZCl7XG4gIGlmKCEoaXQgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikgfHwgKGZvcmJpZGRlbkZpZWxkICE9PSB1bmRlZmluZWQgJiYgZm9yYmlkZGVuRmllbGQgaW4gaXQpKXtcbiAgICB0aHJvdyBUeXBlRXJyb3IobmFtZSArICc6IGluY29ycmVjdCBpbnZvY2F0aW9uIScpO1xuICB9IHJldHVybiBpdDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19hbi1pbnN0YW5jZS5qc1xuICoqIG1vZHVsZSBpZCA9IDYwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY3R4ICAgICAgICAgPSByZXF1aXJlKCcuL19jdHgnKVxuICAsIGNhbGwgICAgICAgID0gcmVxdWlyZSgnLi9faXRlci1jYWxsJylcbiAgLCBpc0FycmF5SXRlciA9IHJlcXVpcmUoJy4vX2lzLWFycmF5LWl0ZXInKVxuICAsIGFuT2JqZWN0ICAgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCB0b0xlbmd0aCAgICA9IHJlcXVpcmUoJy4vX3RvLWxlbmd0aCcpXG4gICwgZ2V0SXRlckZuICAgPSByZXF1aXJlKCcuL2NvcmUuZ2V0LWl0ZXJhdG9yLW1ldGhvZCcpXG4gICwgQlJFQUsgICAgICAgPSB7fVxuICAsIFJFVFVSTiAgICAgID0ge307XG52YXIgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmFibGUsIGVudHJpZXMsIGZuLCB0aGF0LCBJVEVSQVRPUil7XG4gIHZhciBpdGVyRm4gPSBJVEVSQVRPUiA/IGZ1bmN0aW9uKCl7IHJldHVybiBpdGVyYWJsZTsgfSA6IGdldEl0ZXJGbihpdGVyYWJsZSlcbiAgICAsIGYgICAgICA9IGN0eChmbiwgdGhhdCwgZW50cmllcyA/IDIgOiAxKVxuICAgICwgaW5kZXggID0gMFxuICAgICwgbGVuZ3RoLCBzdGVwLCBpdGVyYXRvciwgcmVzdWx0O1xuICBpZih0eXBlb2YgaXRlckZuICE9ICdmdW5jdGlvbicpdGhyb3cgVHlwZUVycm9yKGl0ZXJhYmxlICsgJyBpcyBub3QgaXRlcmFibGUhJyk7XG4gIC8vIGZhc3QgY2FzZSBmb3IgYXJyYXlzIHdpdGggZGVmYXVsdCBpdGVyYXRvclxuICBpZihpc0FycmF5SXRlcihpdGVyRm4pKWZvcihsZW5ndGggPSB0b0xlbmd0aChpdGVyYWJsZS5sZW5ndGgpOyBsZW5ndGggPiBpbmRleDsgaW5kZXgrKyl7XG4gICAgcmVzdWx0ID0gZW50cmllcyA/IGYoYW5PYmplY3Qoc3RlcCA9IGl0ZXJhYmxlW2luZGV4XSlbMF0sIHN0ZXBbMV0pIDogZihpdGVyYWJsZVtpbmRleF0pO1xuICAgIGlmKHJlc3VsdCA9PT0gQlJFQUsgfHwgcmVzdWx0ID09PSBSRVRVUk4pcmV0dXJuIHJlc3VsdDtcbiAgfSBlbHNlIGZvcihpdGVyYXRvciA9IGl0ZXJGbi5jYWxsKGl0ZXJhYmxlKTsgIShzdGVwID0gaXRlcmF0b3IubmV4dCgpKS5kb25lOyApe1xuICAgIHJlc3VsdCA9IGNhbGwoaXRlcmF0b3IsIGYsIHN0ZXAudmFsdWUsIGVudHJpZXMpO1xuICAgIGlmKHJlc3VsdCA9PT0gQlJFQUsgfHwgcmVzdWx0ID09PSBSRVRVUk4pcmV0dXJuIHJlc3VsdDtcbiAgfVxufTtcbmV4cG9ydHMuQlJFQUsgID0gQlJFQUs7XG5leHBvcnRzLlJFVFVSTiA9IFJFVFVSTjtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2Zvci1vZi5qc1xuICoqIG1vZHVsZSBpZCA9IDYxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBjYWxsIHNvbWV0aGluZyBvbiBpdGVyYXRvciBzdGVwIHdpdGggc2FmZSBjbG9zaW5nIG9uIGVycm9yXG52YXIgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaXRlcmF0b3IsIGZuLCB2YWx1ZSwgZW50cmllcyl7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGVudHJpZXMgPyBmbihhbk9iamVjdCh2YWx1ZSlbMF0sIHZhbHVlWzFdKSA6IGZuKHZhbHVlKTtcbiAgLy8gNy40LjYgSXRlcmF0b3JDbG9zZShpdGVyYXRvciwgY29tcGxldGlvbilcbiAgfSBjYXRjaChlKXtcbiAgICB2YXIgcmV0ID0gaXRlcmF0b3JbJ3JldHVybiddO1xuICAgIGlmKHJldCAhPT0gdW5kZWZpbmVkKWFuT2JqZWN0KHJldC5jYWxsKGl0ZXJhdG9yKSk7XG4gICAgdGhyb3cgZTtcbiAgfVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2l0ZXItY2FsbC5qc1xuICoqIG1vZHVsZSBpZCA9IDYyXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBjaGVjayBvbiBkZWZhdWx0IEFycmF5IGl0ZXJhdG9yXG52YXIgSXRlcmF0b3JzICA9IHJlcXVpcmUoJy4vX2l0ZXJhdG9ycycpXG4gICwgSVRFUkFUT1IgICA9IHJlcXVpcmUoJy4vX3drcycpKCdpdGVyYXRvcicpXG4gICwgQXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHJldHVybiBpdCAhPT0gdW5kZWZpbmVkICYmIChJdGVyYXRvcnMuQXJyYXkgPT09IGl0IHx8IEFycmF5UHJvdG9bSVRFUkFUT1JdID09PSBpdCk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXMtYXJyYXktaXRlci5qc1xuICoqIG1vZHVsZSBpZCA9IDYzXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgY2xhc3NvZiAgID0gcmVxdWlyZSgnLi9fY2xhc3NvZicpXG4gICwgSVRFUkFUT1IgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBJdGVyYXRvcnMgPSByZXF1aXJlKCcuL19pdGVyYXRvcnMnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9fY29yZScpLmdldEl0ZXJhdG9yTWV0aG9kID0gZnVuY3Rpb24oaXQpe1xuICBpZihpdCAhPSB1bmRlZmluZWQpcmV0dXJuIGl0W0lURVJBVE9SXVxuICAgIHx8IGl0WydAQGl0ZXJhdG9yJ11cbiAgICB8fCBJdGVyYXRvcnNbY2xhc3NvZihpdCldO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvY29yZS5nZXQtaXRlcmF0b3ItbWV0aG9kLmpzXG4gKiogbW9kdWxlIGlkID0gNjRcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIFdvcmtzIHdpdGggX19wcm90b19fIG9ubHkuIE9sZCB2OCBjYW4ndCB3b3JrIHdpdGggbnVsbCBwcm90byBvYmplY3RzLlxuLyogZXNsaW50LWRpc2FibGUgbm8tcHJvdG8gKi9cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJy4vX2lzLW9iamVjdCcpXG4gICwgYW5PYmplY3QgPSByZXF1aXJlKCcuL19hbi1vYmplY3QnKTtcbnZhciBjaGVjayA9IGZ1bmN0aW9uKE8sIHByb3RvKXtcbiAgYW5PYmplY3QoTyk7XG4gIGlmKCFpc09iamVjdChwcm90bykgJiYgcHJvdG8gIT09IG51bGwpdGhyb3cgVHlwZUVycm9yKHByb3RvICsgXCI6IGNhbid0IHNldCBhcyBwcm90b3R5cGUhXCIpO1xufTtcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzZXQ6IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCAoJ19fcHJvdG9fXycgaW4ge30gPyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lXG4gICAgZnVuY3Rpb24odGVzdCwgYnVnZ3ksIHNldCl7XG4gICAgICB0cnkge1xuICAgICAgICBzZXQgPSByZXF1aXJlKCcuL19jdHgnKShGdW5jdGlvbi5jYWxsLCByZXF1aXJlKCcuL19vYmplY3QtZ29wZCcpLmYoT2JqZWN0LnByb3RvdHlwZSwgJ19fcHJvdG9fXycpLnNldCwgMik7XG4gICAgICAgIHNldCh0ZXN0LCBbXSk7XG4gICAgICAgIGJ1Z2d5ID0gISh0ZXN0IGluc3RhbmNlb2YgQXJyYXkpO1xuICAgICAgfSBjYXRjaChlKXsgYnVnZ3kgPSB0cnVlOyB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24gc2V0UHJvdG90eXBlT2YoTywgcHJvdG8pe1xuICAgICAgICBjaGVjayhPLCBwcm90byk7XG4gICAgICAgIGlmKGJ1Z2d5KU8uX19wcm90b19fID0gcHJvdG87XG4gICAgICAgIGVsc2Ugc2V0KE8sIHByb3RvKTtcbiAgICAgICAgcmV0dXJuIE87XG4gICAgICB9O1xuICAgIH0oe30sIGZhbHNlKSA6IHVuZGVmaW5lZCksXG4gIGNoZWNrOiBjaGVja1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NldC1wcm90by5qc1xuICoqIG1vZHVsZSBpZCA9IDY1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgcElFICAgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtcGllJylcclxuICAsIGNyZWF0ZURlc2MgICAgID0gcmVxdWlyZSgnLi9fcHJvcGVydHktZGVzYycpXHJcbiAgLCB0b0lPYmplY3QgICAgICA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKVxyXG4gICwgdG9QcmltaXRpdmUgICAgPSByZXF1aXJlKCcuL190by1wcmltaXRpdmUnKVxyXG4gICwgaGFzICAgICAgICAgICAgPSByZXF1aXJlKCcuL19oYXMnKVxyXG4gICwgSUU4X0RPTV9ERUZJTkUgPSByZXF1aXJlKCcuL19pZTgtZG9tLWRlZmluZScpXHJcbiAgLCBnT1BEICAgICAgICAgICA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7XHJcblxyXG5leHBvcnRzLmYgPSByZXF1aXJlKCcuL19kZXNjcmlwdG9ycycpID8gZ09QRCA6IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKXtcclxuICBPID0gdG9JT2JqZWN0KE8pO1xyXG4gIFAgPSB0b1ByaW1pdGl2ZShQLCB0cnVlKTtcclxuICBpZihJRThfRE9NX0RFRklORSl0cnkge1xyXG4gICAgcmV0dXJuIGdPUEQoTywgUCk7XHJcbiAgfSBjYXRjaChlKXsgLyogZW1wdHkgKi8gfVxyXG4gIGlmKGhhcyhPLCBQKSlyZXR1cm4gY3JlYXRlRGVzYyghcElFLmYuY2FsbChPLCBQKSwgT1tQXSk7XHJcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19vYmplY3QtZ29wZC5qc1xuICoqIG1vZHVsZSBpZCA9IDY2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzLmYgPSB7fS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1waWUuanNcbiAqKiBtb2R1bGUgaWQgPSA2N1xuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gNy4zLjIwIFNwZWNpZXNDb25zdHJ1Y3RvcihPLCBkZWZhdWx0Q29uc3RydWN0b3IpXG52YXIgYW5PYmplY3QgID0gcmVxdWlyZSgnLi9fYW4tb2JqZWN0JylcbiAgLCBhRnVuY3Rpb24gPSByZXF1aXJlKCcuL19hLWZ1bmN0aW9uJylcbiAgLCBTUEVDSUVTICAgPSByZXF1aXJlKCcuL193a3MnKSgnc3BlY2llcycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihPLCBEKXtcbiAgdmFyIEMgPSBhbk9iamVjdChPKS5jb25zdHJ1Y3RvciwgUztcbiAgcmV0dXJuIEMgPT09IHVuZGVmaW5lZCB8fCAoUyA9IGFuT2JqZWN0KEMpW1NQRUNJRVNdKSA9PSB1bmRlZmluZWQgPyBEIDogYUZ1bmN0aW9uKFMpO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX3NwZWNpZXMtY29uc3RydWN0b3IuanNcbiAqKiBtb2R1bGUgaWQgPSA2OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGN0eCAgICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX2N0eCcpXG4gICwgaW52b2tlICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faW52b2tlJylcbiAgLCBodG1sICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19odG1sJylcbiAgLCBjZWwgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19kb20tY3JlYXRlJylcbiAgLCBnbG9iYWwgICAgICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIHByb2Nlc3MgICAgICAgICAgICA9IGdsb2JhbC5wcm9jZXNzXG4gICwgc2V0VGFzayAgICAgICAgICAgID0gZ2xvYmFsLnNldEltbWVkaWF0ZVxuICAsIGNsZWFyVGFzayAgICAgICAgICA9IGdsb2JhbC5jbGVhckltbWVkaWF0ZVxuICAsIE1lc3NhZ2VDaGFubmVsICAgICA9IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbFxuICAsIGNvdW50ZXIgICAgICAgICAgICA9IDBcbiAgLCBxdWV1ZSAgICAgICAgICAgICAgPSB7fVxuICAsIE9OUkVBRFlTVEFURUNIQU5HRSA9ICdvbnJlYWR5c3RhdGVjaGFuZ2UnXG4gICwgZGVmZXIsIGNoYW5uZWwsIHBvcnQ7XG52YXIgcnVuID0gZnVuY3Rpb24oKXtcbiAgdmFyIGlkID0gK3RoaXM7XG4gIGlmKHF1ZXVlLmhhc093blByb3BlcnR5KGlkKSl7XG4gICAgdmFyIGZuID0gcXVldWVbaWRdO1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gICAgZm4oKTtcbiAgfVxufTtcbnZhciBsaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50KXtcbiAgcnVuLmNhbGwoZXZlbnQuZGF0YSk7XG59O1xuLy8gTm9kZS5qcyAwLjkrICYgSUUxMCsgaGFzIHNldEltbWVkaWF0ZSwgb3RoZXJ3aXNlOlxuaWYoIXNldFRhc2sgfHwgIWNsZWFyVGFzayl7XG4gIHNldFRhc2sgPSBmdW5jdGlvbiBzZXRJbW1lZGlhdGUoZm4pe1xuICAgIHZhciBhcmdzID0gW10sIGkgPSAxO1xuICAgIHdoaWxlKGFyZ3VtZW50cy5sZW5ndGggPiBpKWFyZ3MucHVzaChhcmd1bWVudHNbaSsrXSk7XG4gICAgcXVldWVbKytjb3VudGVyXSA9IGZ1bmN0aW9uKCl7XG4gICAgICBpbnZva2UodHlwZW9mIGZuID09ICdmdW5jdGlvbicgPyBmbiA6IEZ1bmN0aW9uKGZuKSwgYXJncyk7XG4gICAgfTtcbiAgICBkZWZlcihjb3VudGVyKTtcbiAgICByZXR1cm4gY291bnRlcjtcbiAgfTtcbiAgY2xlYXJUYXNrID0gZnVuY3Rpb24gY2xlYXJJbW1lZGlhdGUoaWQpe1xuICAgIGRlbGV0ZSBxdWV1ZVtpZF07XG4gIH07XG4gIC8vIE5vZGUuanMgMC44LVxuICBpZihyZXF1aXJlKCcuL19jb2YnKShwcm9jZXNzKSA9PSAncHJvY2Vzcycpe1xuICAgIGRlZmVyID0gZnVuY3Rpb24oaWQpe1xuICAgICAgcHJvY2Vzcy5uZXh0VGljayhjdHgocnVuLCBpZCwgMSkpO1xuICAgIH07XG4gIC8vIEJyb3dzZXJzIHdpdGggTWVzc2FnZUNoYW5uZWwsIGluY2x1ZGVzIFdlYldvcmtlcnNcbiAgfSBlbHNlIGlmKE1lc3NhZ2VDaGFubmVsKXtcbiAgICBjaGFubmVsID0gbmV3IE1lc3NhZ2VDaGFubmVsO1xuICAgIHBvcnQgICAgPSBjaGFubmVsLnBvcnQyO1xuICAgIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gbGlzdGVuZXI7XG4gICAgZGVmZXIgPSBjdHgocG9ydC5wb3N0TWVzc2FnZSwgcG9ydCwgMSk7XG4gIC8vIEJyb3dzZXJzIHdpdGggcG9zdE1lc3NhZ2UsIHNraXAgV2ViV29ya2Vyc1xuICAvLyBJRTggaGFzIHBvc3RNZXNzYWdlLCBidXQgaXQncyBzeW5jICYgdHlwZW9mIGl0cyBwb3N0TWVzc2FnZSBpcyAnb2JqZWN0J1xuICB9IGVsc2UgaWYoZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIgJiYgdHlwZW9mIHBvc3RNZXNzYWdlID09ICdmdW5jdGlvbicgJiYgIWdsb2JhbC5pbXBvcnRTY3JpcHRzKXtcbiAgICBkZWZlciA9IGZ1bmN0aW9uKGlkKXtcbiAgICAgIGdsb2JhbC5wb3N0TWVzc2FnZShpZCArICcnLCAnKicpO1xuICAgIH07XG4gICAgZ2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBsaXN0ZW5lciwgZmFsc2UpO1xuICAvLyBJRTgtXG4gIH0gZWxzZSBpZihPTlJFQURZU1RBVEVDSEFOR0UgaW4gY2VsKCdzY3JpcHQnKSl7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBodG1sLmFwcGVuZENoaWxkKGNlbCgnc2NyaXB0JykpW09OUkVBRFlTVEFURUNIQU5HRV0gPSBmdW5jdGlvbigpe1xuICAgICAgICBodG1sLnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICBydW4uY2FsbChpZCk7XG4gICAgICB9O1xuICAgIH07XG4gIC8vIFJlc3Qgb2xkIGJyb3dzZXJzXG4gIH0gZWxzZSB7XG4gICAgZGVmZXIgPSBmdW5jdGlvbihpZCl7XG4gICAgICBzZXRUaW1lb3V0KGN0eChydW4sIGlkLCAxKSwgMCk7XG4gICAgfTtcbiAgfVxufVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNldDogICBzZXRUYXNrLFxuICBjbGVhcjogY2xlYXJUYXNrXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fdGFzay5qc1xuICoqIG1vZHVsZSBpZCA9IDY5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBmYXN0IGFwcGx5LCBodHRwOi8vanNwZXJmLmxua2l0LmNvbS9mYXN0LWFwcGx5LzVcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZm4sIGFyZ3MsIHRoYXQpe1xuICB2YXIgdW4gPSB0aGF0ID09PSB1bmRlZmluZWQ7XG4gIHN3aXRjaChhcmdzLmxlbmd0aCl7XG4gICAgY2FzZSAwOiByZXR1cm4gdW4gPyBmbigpXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQpO1xuICAgIGNhc2UgMTogcmV0dXJuIHVuID8gZm4oYXJnc1swXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSk7XG4gICAgY2FzZSAyOiByZXR1cm4gdW4gPyBmbihhcmdzWzBdLCBhcmdzWzFdKVxuICAgICAgICAgICAgICAgICAgICAgIDogZm4uY2FsbCh0aGF0LCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICBjYXNlIDM6IHJldHVybiB1biA/IGZuKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pXG4gICAgICAgICAgICAgICAgICAgICAgOiBmbi5jYWxsKHRoYXQsIGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIGNhc2UgNDogcmV0dXJuIHVuID8gZm4oYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSlcbiAgICAgICAgICAgICAgICAgICAgICA6IGZuLmNhbGwodGhhdCwgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSwgYXJnc1szXSk7XG4gIH0gcmV0dXJuICAgICAgICAgICAgICBmbi5hcHBseSh0aGF0LCBhcmdzKTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19pbnZva2UuanNcbiAqKiBtb2R1bGUgaWQgPSA3MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGdsb2JhbCAgICA9IHJlcXVpcmUoJy4vX2dsb2JhbCcpXG4gICwgbWFjcm90YXNrID0gcmVxdWlyZSgnLi9fdGFzaycpLnNldFxuICAsIE9ic2VydmVyICA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyXG4gICwgcHJvY2VzcyAgID0gZ2xvYmFsLnByb2Nlc3NcbiAgLCBQcm9taXNlICAgPSBnbG9iYWwuUHJvbWlzZVxuICAsIGlzTm9kZSAgICA9IHJlcXVpcmUoJy4vX2NvZicpKHByb2Nlc3MpID09ICdwcm9jZXNzJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbigpe1xuICB2YXIgaGVhZCwgbGFzdCwgbm90aWZ5O1xuXG4gIHZhciBmbHVzaCA9IGZ1bmN0aW9uKCl7XG4gICAgdmFyIHBhcmVudCwgZm47XG4gICAgaWYoaXNOb2RlICYmIChwYXJlbnQgPSBwcm9jZXNzLmRvbWFpbikpcGFyZW50LmV4aXQoKTtcbiAgICB3aGlsZShoZWFkKXtcbiAgICAgIGZuICAgPSBoZWFkLmZuO1xuICAgICAgaGVhZCA9IGhlYWQubmV4dDtcbiAgICAgIHRyeSB7XG4gICAgICAgIGZuKCk7XG4gICAgICB9IGNhdGNoKGUpe1xuICAgICAgICBpZihoZWFkKW5vdGlmeSgpO1xuICAgICAgICBlbHNlIGxhc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRocm93IGU7XG4gICAgICB9XG4gICAgfSBsYXN0ID0gdW5kZWZpbmVkO1xuICAgIGlmKHBhcmVudClwYXJlbnQuZW50ZXIoKTtcbiAgfTtcblxuICAvLyBOb2RlLmpzXG4gIGlmKGlzTm9kZSl7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcbiAgICAgIHByb2Nlc3MubmV4dFRpY2soZmx1c2gpO1xuICAgIH07XG4gIC8vIGJyb3dzZXJzIHdpdGggTXV0YXRpb25PYnNlcnZlclxuICB9IGVsc2UgaWYoT2JzZXJ2ZXIpe1xuICAgIHZhciB0b2dnbGUgPSB0cnVlXG4gICAgICAsIG5vZGUgICA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgICBuZXcgT2JzZXJ2ZXIoZmx1c2gpLm9ic2VydmUobm9kZSwge2NoYXJhY3RlckRhdGE6IHRydWV9KTsgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1uZXdcbiAgICBub3RpZnkgPSBmdW5jdGlvbigpe1xuICAgICAgbm9kZS5kYXRhID0gdG9nZ2xlID0gIXRvZ2dsZTtcbiAgICB9O1xuICAvLyBlbnZpcm9ubWVudHMgd2l0aCBtYXliZSBub24tY29tcGxldGVseSBjb3JyZWN0LCBidXQgZXhpc3RlbnQgUHJvbWlzZVxuICB9IGVsc2UgaWYoUHJvbWlzZSAmJiBQcm9taXNlLnJlc29sdmUpe1xuICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgbm90aWZ5ID0gZnVuY3Rpb24oKXtcbiAgICAgIHByb21pc2UudGhlbihmbHVzaCk7XG4gICAgfTtcbiAgLy8gZm9yIG90aGVyIGVudmlyb25tZW50cyAtIG1hY3JvdGFzayBiYXNlZCBvbjpcbiAgLy8gLSBzZXRJbW1lZGlhdGVcbiAgLy8gLSBNZXNzYWdlQ2hhbm5lbFxuICAvLyAtIHdpbmRvdy5wb3N0TWVzc2FnXG4gIC8vIC0gb25yZWFkeXN0YXRlY2hhbmdlXG4gIC8vIC0gc2V0VGltZW91dFxuICB9IGVsc2Uge1xuICAgIG5vdGlmeSA9IGZ1bmN0aW9uKCl7XG4gICAgICAvLyBzdHJhbmdlIElFICsgd2VicGFjayBkZXYgc2VydmVyIGJ1ZyAtIHVzZSAuY2FsbChnbG9iYWwpXG4gICAgICBtYWNyb3Rhc2suY2FsbChnbG9iYWwsIGZsdXNoKTtcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uKGZuKXtcbiAgICB2YXIgdGFzayA9IHtmbjogZm4sIG5leHQ6IHVuZGVmaW5lZH07XG4gICAgaWYobGFzdClsYXN0Lm5leHQgPSB0YXNrO1xuICAgIGlmKCFoZWFkKXtcbiAgICAgIGhlYWQgPSB0YXNrO1xuICAgICAgbm90aWZ5KCk7XG4gICAgfSBsYXN0ID0gdGFzaztcbiAgfTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19taWNyb3Rhc2suanNcbiAqKiBtb2R1bGUgaWQgPSA3MVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGhpZGUgPSByZXF1aXJlKCcuL19oaWRlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHRhcmdldCwgc3JjLCBzYWZlKXtcbiAgZm9yKHZhciBrZXkgaW4gc3JjKXtcbiAgICBpZihzYWZlICYmIHRhcmdldFtrZXldKXRhcmdldFtrZXldID0gc3JjW2tleV07XG4gICAgZWxzZSBoaWRlKHRhcmdldCwga2V5LCBzcmNba2V5XSk7XG4gIH0gcmV0dXJuIHRhcmdldDtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19yZWRlZmluZS1hbGwuanNcbiAqKiBtb2R1bGUgaWQgPSA3MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiJ3VzZSBzdHJpY3QnO1xudmFyIGdsb2JhbCAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcbiAgLCBjb3JlICAgICAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGRQICAgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJylcbiAgLCBERVNDUklQVE9SUyA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJylcbiAgLCBTUEVDSUVTICAgICA9IHJlcXVpcmUoJy4vX3drcycpKCdzcGVjaWVzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oS0VZKXtcbiAgdmFyIEMgPSB0eXBlb2YgY29yZVtLRVldID09ICdmdW5jdGlvbicgPyBjb3JlW0tFWV0gOiBnbG9iYWxbS0VZXTtcbiAgaWYoREVTQ1JJUFRPUlMgJiYgQyAmJiAhQ1tTUEVDSUVTXSlkUC5mKEMsIFNQRUNJRVMsIHtcbiAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gdGhpczsgfVxuICB9KTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19zZXQtc3BlY2llcy5qc1xuICoqIG1vZHVsZSBpZCA9IDczXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgSVRFUkFUT1IgICAgID0gcmVxdWlyZSgnLi9fd2tzJykoJ2l0ZXJhdG9yJylcbiAgLCBTQUZFX0NMT1NJTkcgPSBmYWxzZTtcblxudHJ5IHtcbiAgdmFyIHJpdGVyID0gWzddW0lURVJBVE9SXSgpO1xuICByaXRlclsncmV0dXJuJ10gPSBmdW5jdGlvbigpeyBTQUZFX0NMT1NJTkcgPSB0cnVlOyB9O1xuICBBcnJheS5mcm9tKHJpdGVyLCBmdW5jdGlvbigpeyB0aHJvdyAyOyB9KTtcbn0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihleGVjLCBza2lwQ2xvc2luZyl7XG4gIGlmKCFza2lwQ2xvc2luZyAmJiAhU0FGRV9DTE9TSU5HKXJldHVybiBmYWxzZTtcbiAgdmFyIHNhZmUgPSBmYWxzZTtcbiAgdHJ5IHtcbiAgICB2YXIgYXJyICA9IFs3XVxuICAgICAgLCBpdGVyID0gYXJyW0lURVJBVE9SXSgpO1xuICAgIGl0ZXIubmV4dCA9IGZ1bmN0aW9uKCl7IHJldHVybiB7ZG9uZTogc2FmZSA9IHRydWV9OyB9O1xuICAgIGFycltJVEVSQVRPUl0gPSBmdW5jdGlvbigpeyByZXR1cm4gaXRlcjsgfTtcbiAgICBleGVjKGFycik7XG4gIH0gY2F0Y2goZSl7IC8qIGVtcHR5ICovIH1cbiAgcmV0dXJuIHNhZmU7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9faXRlci1kZXRlY3QuanNcbiAqKiBtb2R1bGUgaWQgPSA3NFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL2pzb24vc3RyaW5naWZ5XCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL2pzb24vc3RyaW5naWZ5LmpzXG4gKiogbW9kdWxlIGlkID0gNzVcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInZhciBjb3JlICA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKVxuICAsICRKU09OID0gY29yZS5KU09OIHx8IChjb3JlLkpTT04gPSB7c3RyaW5naWZ5OiBKU09OLnN0cmluZ2lmeX0pO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaXQpeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXVudXNlZC12YXJzXG4gIHJldHVybiAkSlNPTi5zdHJpbmdpZnkuYXBwbHkoJEpTT04sIGFyZ3VtZW50cyk7XG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvZm4vanNvbi9zdHJpbmdpZnkuanNcbiAqKiBtb2R1bGUgaWQgPSA3NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwibW9kdWxlLmV4cG9ydHMgPSB7IFwiZGVmYXVsdFwiOiByZXF1aXJlKFwiY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL29iamVjdC9rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gNzdcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC5rZXlzJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX2NvcmUnKS5PYmplY3Qua2V5cztcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L2ZuL29iamVjdC9rZXlzLmpzXG4gKiogbW9kdWxlIGlkID0gNzhcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIDE5LjEuMi4xNCBPYmplY3Qua2V5cyhPKVxudmFyIHRvT2JqZWN0ID0gcmVxdWlyZSgnLi9fdG8tb2JqZWN0JylcbiAgLCAka2V5cyAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1rZXlzJyk7XG5cbnJlcXVpcmUoJy4vX29iamVjdC1zYXAnKSgna2V5cycsIGZ1bmN0aW9uKCl7XG4gIHJldHVybiBmdW5jdGlvbiBrZXlzKGl0KXtcbiAgICByZXR1cm4gJGtleXModG9PYmplY3QoaXQpKTtcbiAgfTtcbn0pO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9lczYub2JqZWN0LmtleXMuanNcbiAqKiBtb2R1bGUgaWQgPSA3OVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gbW9zdCBPYmplY3QgbWV0aG9kcyBieSBFUzYgc2hvdWxkIGFjY2VwdCBwcmltaXRpdmVzXG52YXIgJGV4cG9ydCA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgY29yZSAgICA9IHJlcXVpcmUoJy4vX2NvcmUnKVxuICAsIGZhaWxzICAgPSByZXF1aXJlKCcuL19mYWlscycpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihLRVksIGV4ZWMpe1xuICB2YXIgZm4gID0gKGNvcmUuT2JqZWN0IHx8IHt9KVtLRVldIHx8IE9iamVjdFtLRVldXG4gICAgLCBleHAgPSB7fTtcbiAgZXhwW0tFWV0gPSBleGVjKGZuKTtcbiAgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiBmYWlscyhmdW5jdGlvbigpeyBmbigxKTsgfSksICdPYmplY3QnLCBleHApO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1zYXAuanNcbiAqKiBtb2R1bGUgaWQgPSA4MFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5cbnZhciBfaXRlcmF0b3IgPSByZXF1aXJlKFwiLi4vY29yZS1qcy9zeW1ib2wvaXRlcmF0b3JcIik7XG5cbnZhciBfaXRlcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfaXRlcmF0b3IpO1xuXG52YXIgX3N5bWJvbCA9IHJlcXVpcmUoXCIuLi9jb3JlLWpzL3N5bWJvbFwiKTtcblxudmFyIF9zeW1ib2wyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChfc3ltYm9sKTtcblxudmFyIF90eXBlb2YgPSB0eXBlb2YgX3N5bWJvbDIuZGVmYXVsdCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBfaXRlcmF0b3IyLmRlZmF1bHQgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmV4cG9ydHMuZGVmYXVsdCA9IHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgX3R5cGVvZihfaXRlcmF0b3IyLmRlZmF1bHQpID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iaik7XG59IDogZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gb2JqICYmIHR5cGVvZiBfc3ltYm9sMi5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBfc3ltYm9sMi5kZWZhdWx0ID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmogPT09IFwidW5kZWZpbmVkXCIgPyBcInVuZGVmaW5lZFwiIDogX3R5cGVvZihvYmopO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mLmpzXG4gKiogbW9kdWxlIGlkID0gODFcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIm1vZHVsZS5leHBvcnRzID0geyBcImRlZmF1bHRcIjogcmVxdWlyZShcImNvcmUtanMvbGlicmFyeS9mbi9zeW1ib2wvaXRlcmF0b3JcIiksIF9fZXNNb2R1bGU6IHRydWUgfTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL2NvcmUtanMvc3ltYm9sL2l0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gODJcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsInJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2LnN0cmluZy5pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy93ZWIuZG9tLml0ZXJhYmxlJyk7XG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4uLy4uL21vZHVsZXMvX3drcy1leHQnKS5mKCdpdGVyYXRvcicpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sL2l0ZXJhdG9yLmpzXG4gKiogbW9kdWxlIGlkID0gODNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsImV4cG9ydHMuZiA9IHJlcXVpcmUoJy4vX3drcycpO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWV4dC5qc1xuICoqIG1vZHVsZSBpZCA9IDg0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJtb2R1bGUuZXhwb3J0cyA9IHsgXCJkZWZhdWx0XCI6IHJlcXVpcmUoXCJjb3JlLWpzL2xpYnJhcnkvZm4vc3ltYm9sXCIpLCBfX2VzTW9kdWxlOiB0cnVlIH07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9jb3JlLWpzL3N5bWJvbC5qc1xuICoqIG1vZHVsZSBpZCA9IDg1XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJyZXF1aXJlKCcuLi8uLi9tb2R1bGVzL2VzNi5zeW1ib2wnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM2Lm9iamVjdC50by1zdHJpbmcnKTtcbnJlcXVpcmUoJy4uLy4uL21vZHVsZXMvZXM3LnN5bWJvbC5hc3luYy1pdGVyYXRvcicpO1xucmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9lczcuc3ltYm9sLm9ic2VydmFibGUnKTtcbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi4vLi4vbW9kdWxlcy9fY29yZScpLlN5bWJvbDtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L2ZuL3N5bWJvbC9pbmRleC5qc1xuICoqIG1vZHVsZSBpZCA9IDg2XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIndXNlIHN0cmljdCc7XG4vLyBFQ01BU2NyaXB0IDYgc3ltYm9scyBzaGltXG52YXIgZ2xvYmFsICAgICAgICAgPSByZXF1aXJlKCcuL19nbG9iYWwnKVxuICAsIGhhcyAgICAgICAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBERVNDUklQVE9SUyAgICA9IHJlcXVpcmUoJy4vX2Rlc2NyaXB0b3JzJylcbiAgLCAkZXhwb3J0ICAgICAgICA9IHJlcXVpcmUoJy4vX2V4cG9ydCcpXG4gICwgcmVkZWZpbmUgICAgICAgPSByZXF1aXJlKCcuL19yZWRlZmluZScpXG4gICwgTUVUQSAgICAgICAgICAgPSByZXF1aXJlKCcuL19tZXRhJykuS0VZXG4gICwgJGZhaWxzICAgICAgICAgPSByZXF1aXJlKCcuL19mYWlscycpXG4gICwgc2hhcmVkICAgICAgICAgPSByZXF1aXJlKCcuL19zaGFyZWQnKVxuICAsIHNldFRvU3RyaW5nVGFnID0gcmVxdWlyZSgnLi9fc2V0LXRvLXN0cmluZy10YWcnKVxuICAsIHVpZCAgICAgICAgICAgID0gcmVxdWlyZSgnLi9fdWlkJylcbiAgLCB3a3MgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX3drcycpXG4gICwgd2tzRXh0ICAgICAgICAgPSByZXF1aXJlKCcuL193a3MtZXh0JylcbiAgLCB3a3NEZWZpbmUgICAgICA9IHJlcXVpcmUoJy4vX3drcy1kZWZpbmUnKVxuICAsIGtleU9mICAgICAgICAgID0gcmVxdWlyZSgnLi9fa2V5b2YnKVxuICAsIGVudW1LZXlzICAgICAgID0gcmVxdWlyZSgnLi9fZW51bS1rZXlzJylcbiAgLCBpc0FycmF5ICAgICAgICA9IHJlcXVpcmUoJy4vX2lzLWFycmF5JylcbiAgLCBhbk9iamVjdCAgICAgICA9IHJlcXVpcmUoJy4vX2FuLW9iamVjdCcpXG4gICwgdG9JT2JqZWN0ICAgICAgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCB0b1ByaW1pdGl2ZSAgICA9IHJlcXVpcmUoJy4vX3RvLXByaW1pdGl2ZScpXG4gICwgY3JlYXRlRGVzYyAgICAgPSByZXF1aXJlKCcuL19wcm9wZXJ0eS1kZXNjJylcbiAgLCBfY3JlYXRlICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1jcmVhdGUnKVxuICAsIGdPUE5FeHQgICAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWdvcG4tZXh0JylcbiAgLCAkR09QRCAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BkJylcbiAgLCAkRFAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpXG4gICwgJGtleXMgICAgICAgICAgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgZ09QRCAgICAgICAgICAgPSAkR09QRC5mXG4gICwgZFAgICAgICAgICAgICAgPSAkRFAuZlxuICAsIGdPUE4gICAgICAgICAgID0gZ09QTkV4dC5mXG4gICwgJFN5bWJvbCAgICAgICAgPSBnbG9iYWwuU3ltYm9sXG4gICwgJEpTT04gICAgICAgICAgPSBnbG9iYWwuSlNPTlxuICAsIF9zdHJpbmdpZnkgICAgID0gJEpTT04gJiYgJEpTT04uc3RyaW5naWZ5XG4gICwgUFJPVE9UWVBFICAgICAgPSAncHJvdG90eXBlJ1xuICAsIEhJRERFTiAgICAgICAgID0gd2tzKCdfaGlkZGVuJylcbiAgLCBUT19QUklNSVRJVkUgICA9IHdrcygndG9QcmltaXRpdmUnKVxuICAsIGlzRW51bSAgICAgICAgID0ge30ucHJvcGVydHlJc0VudW1lcmFibGVcbiAgLCBTeW1ib2xSZWdpc3RyeSA9IHNoYXJlZCgnc3ltYm9sLXJlZ2lzdHJ5JylcbiAgLCBBbGxTeW1ib2xzICAgICA9IHNoYXJlZCgnc3ltYm9scycpXG4gICwgT1BTeW1ib2xzICAgICAgPSBzaGFyZWQoJ29wLXN5bWJvbHMnKVxuICAsIE9iamVjdFByb3RvICAgID0gT2JqZWN0W1BST1RPVFlQRV1cbiAgLCBVU0VfTkFUSVZFICAgICA9IHR5cGVvZiAkU3ltYm9sID09ICdmdW5jdGlvbidcbiAgLCBRT2JqZWN0ICAgICAgICA9IGdsb2JhbC5RT2JqZWN0O1xuLy8gRG9uJ3QgdXNlIHNldHRlcnMgaW4gUXQgU2NyaXB0LCBodHRwczovL2dpdGh1Yi5jb20vemxvaXJvY2svY29yZS1qcy9pc3N1ZXMvMTczXG52YXIgc2V0dGVyID0gIVFPYmplY3QgfHwgIVFPYmplY3RbUFJPVE9UWVBFXSB8fCAhUU9iamVjdFtQUk9UT1RZUEVdLmZpbmRDaGlsZDtcblxuLy8gZmFsbGJhY2sgZm9yIG9sZCBBbmRyb2lkLCBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9Njg3XG52YXIgc2V0U3ltYm9sRGVzYyA9IERFU0NSSVBUT1JTICYmICRmYWlscyhmdW5jdGlvbigpe1xuICByZXR1cm4gX2NyZWF0ZShkUCh7fSwgJ2EnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbigpeyByZXR1cm4gZFAodGhpcywgJ2EnLCB7dmFsdWU6IDd9KS5hOyB9XG4gIH0pKS5hICE9IDc7XG59KSA/IGZ1bmN0aW9uKGl0LCBrZXksIEQpe1xuICB2YXIgcHJvdG9EZXNjID0gZ09QRChPYmplY3RQcm90bywga2V5KTtcbiAgaWYocHJvdG9EZXNjKWRlbGV0ZSBPYmplY3RQcm90b1trZXldO1xuICBkUChpdCwga2V5LCBEKTtcbiAgaWYocHJvdG9EZXNjICYmIGl0ICE9PSBPYmplY3RQcm90bylkUChPYmplY3RQcm90bywga2V5LCBwcm90b0Rlc2MpO1xufSA6IGRQO1xuXG52YXIgd3JhcCA9IGZ1bmN0aW9uKHRhZyl7XG4gIHZhciBzeW0gPSBBbGxTeW1ib2xzW3RhZ10gPSBfY3JlYXRlKCRTeW1ib2xbUFJPVE9UWVBFXSk7XG4gIHN5bS5fayA9IHRhZztcbiAgcmV0dXJuIHN5bTtcbn07XG5cbnZhciBpc1N5bWJvbCA9IFVTRV9OQVRJVkUgJiYgdHlwZW9mICRTeW1ib2wuaXRlcmF0b3IgPT0gJ3N5bWJvbCcgPyBmdW5jdGlvbihpdCl7XG4gIHJldHVybiB0eXBlb2YgaXQgPT0gJ3N5bWJvbCc7XG59IDogZnVuY3Rpb24oaXQpe1xuICByZXR1cm4gaXQgaW5zdGFuY2VvZiAkU3ltYm9sO1xufTtcblxudmFyICRkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIGRlZmluZVByb3BlcnR5KGl0LCBrZXksIEQpe1xuICBpZihpdCA9PT0gT2JqZWN0UHJvdG8pJGRlZmluZVByb3BlcnR5KE9QU3ltYm9scywga2V5LCBEKTtcbiAgYW5PYmplY3QoaXQpO1xuICBrZXkgPSB0b1ByaW1pdGl2ZShrZXksIHRydWUpO1xuICBhbk9iamVjdChEKTtcbiAgaWYoaGFzKEFsbFN5bWJvbHMsIGtleSkpe1xuICAgIGlmKCFELmVudW1lcmFibGUpe1xuICAgICAgaWYoIWhhcyhpdCwgSElEREVOKSlkUChpdCwgSElEREVOLCBjcmVhdGVEZXNjKDEsIHt9KSk7XG4gICAgICBpdFtISURERU5dW2tleV0gPSB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZihoYXMoaXQsIEhJRERFTikgJiYgaXRbSElEREVOXVtrZXldKWl0W0hJRERFTl1ba2V5XSA9IGZhbHNlO1xuICAgICAgRCA9IF9jcmVhdGUoRCwge2VudW1lcmFibGU6IGNyZWF0ZURlc2MoMCwgZmFsc2UpfSk7XG4gICAgfSByZXR1cm4gc2V0U3ltYm9sRGVzYyhpdCwga2V5LCBEKTtcbiAgfSByZXR1cm4gZFAoaXQsIGtleSwgRCk7XG59O1xudmFyICRkZWZpbmVQcm9wZXJ0aWVzID0gZnVuY3Rpb24gZGVmaW5lUHJvcGVydGllcyhpdCwgUCl7XG4gIGFuT2JqZWN0KGl0KTtcbiAgdmFyIGtleXMgPSBlbnVtS2V5cyhQID0gdG9JT2JqZWN0KFApKVxuICAgICwgaSAgICA9IDBcbiAgICAsIGwgPSBrZXlzLmxlbmd0aFxuICAgICwga2V5O1xuICB3aGlsZShsID4gaSkkZGVmaW5lUHJvcGVydHkoaXQsIGtleSA9IGtleXNbaSsrXSwgUFtrZXldKTtcbiAgcmV0dXJuIGl0O1xufTtcbnZhciAkY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlKGl0LCBQKXtcbiAgcmV0dXJuIFAgPT09IHVuZGVmaW5lZCA/IF9jcmVhdGUoaXQpIDogJGRlZmluZVByb3BlcnRpZXMoX2NyZWF0ZShpdCksIFApO1xufTtcbnZhciAkcHJvcGVydHlJc0VudW1lcmFibGUgPSBmdW5jdGlvbiBwcm9wZXJ0eUlzRW51bWVyYWJsZShrZXkpe1xuICB2YXIgRSA9IGlzRW51bS5jYWxsKHRoaXMsIGtleSA9IHRvUHJpbWl0aXZlKGtleSwgdHJ1ZSkpO1xuICBpZih0aGlzID09PSBPYmplY3RQcm90byAmJiBoYXMoQWxsU3ltYm9scywga2V5KSAmJiAhaGFzKE9QU3ltYm9scywga2V5KSlyZXR1cm4gZmFsc2U7XG4gIHJldHVybiBFIHx8ICFoYXModGhpcywga2V5KSB8fCAhaGFzKEFsbFN5bWJvbHMsIGtleSkgfHwgaGFzKHRoaXMsIEhJRERFTikgJiYgdGhpc1tISURERU5dW2tleV0gPyBFIDogdHJ1ZTtcbn07XG52YXIgJGdldE93blByb3BlcnR5RGVzY3JpcHRvciA9IGZ1bmN0aW9uIGdldE93blByb3BlcnR5RGVzY3JpcHRvcihpdCwga2V5KXtcbiAgaXQgID0gdG9JT2JqZWN0KGl0KTtcbiAga2V5ID0gdG9QcmltaXRpdmUoa2V5LCB0cnVlKTtcbiAgaWYoaXQgPT09IE9iamVjdFByb3RvICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICFoYXMoT1BTeW1ib2xzLCBrZXkpKXJldHVybjtcbiAgdmFyIEQgPSBnT1BEKGl0LCBrZXkpO1xuICBpZihEICYmIGhhcyhBbGxTeW1ib2xzLCBrZXkpICYmICEoaGFzKGl0LCBISURERU4pICYmIGl0W0hJRERFTl1ba2V5XSkpRC5lbnVtZXJhYmxlID0gdHJ1ZTtcbiAgcmV0dXJuIEQ7XG59O1xudmFyICRnZXRPd25Qcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlOYW1lcyhpdCl7XG4gIHZhciBuYW1lcyAgPSBnT1BOKHRvSU9iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcbiAgICBpZighaGFzKEFsbFN5bWJvbHMsIGtleSA9IG5hbWVzW2krK10pICYmIGtleSAhPSBISURERU4gJiYga2V5ICE9IE1FVEEpcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcbnZhciAkZ2V0T3duUHJvcGVydHlTeW1ib2xzID0gZnVuY3Rpb24gZ2V0T3duUHJvcGVydHlTeW1ib2xzKGl0KXtcbiAgdmFyIElTX09QICA9IGl0ID09PSBPYmplY3RQcm90b1xuICAgICwgbmFtZXMgID0gZ09QTihJU19PUCA/IE9QU3ltYm9scyA6IHRvSU9iamVjdChpdCkpXG4gICAgLCByZXN1bHQgPSBbXVxuICAgICwgaSAgICAgID0gMFxuICAgICwga2V5O1xuICB3aGlsZShuYW1lcy5sZW5ndGggPiBpKXtcbiAgICBpZihoYXMoQWxsU3ltYm9scywga2V5ID0gbmFtZXNbaSsrXSkgJiYgKElTX09QID8gaGFzKE9iamVjdFByb3RvLCBrZXkpIDogdHJ1ZSkpcmVzdWx0LnB1c2goQWxsU3ltYm9sc1trZXldKTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuLy8gMTkuNC4xLjEgU3ltYm9sKFtkZXNjcmlwdGlvbl0pXG5pZighVVNFX05BVElWRSl7XG4gICRTeW1ib2wgPSBmdW5jdGlvbiBTeW1ib2woKXtcbiAgICBpZih0aGlzIGluc3RhbmNlb2YgJFN5bWJvbCl0aHJvdyBUeXBlRXJyb3IoJ1N5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvciEnKTtcbiAgICB2YXIgdGFnID0gdWlkKGFyZ3VtZW50cy5sZW5ndGggPiAwID8gYXJndW1lbnRzWzBdIDogdW5kZWZpbmVkKTtcbiAgICB2YXIgJHNldCA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgIGlmKHRoaXMgPT09IE9iamVjdFByb3RvKSRzZXQuY2FsbChPUFN5bWJvbHMsIHZhbHVlKTtcbiAgICAgIGlmKGhhcyh0aGlzLCBISURERU4pICYmIGhhcyh0aGlzW0hJRERFTl0sIHRhZykpdGhpc1tISURERU5dW3RhZ10gPSBmYWxzZTtcbiAgICAgIHNldFN5bWJvbERlc2ModGhpcywgdGFnLCBjcmVhdGVEZXNjKDEsIHZhbHVlKSk7XG4gICAgfTtcbiAgICBpZihERVNDUklQVE9SUyAmJiBzZXR0ZXIpc2V0U3ltYm9sRGVzYyhPYmplY3RQcm90bywgdGFnLCB7Y29uZmlndXJhYmxlOiB0cnVlLCBzZXQ6ICRzZXR9KTtcbiAgICByZXR1cm4gd3JhcCh0YWcpO1xuICB9O1xuICByZWRlZmluZSgkU3ltYm9sW1BST1RPVFlQRV0sICd0b1N0cmluZycsIGZ1bmN0aW9uIHRvU3RyaW5nKCl7XG4gICAgcmV0dXJuIHRoaXMuX2s7XG4gIH0pO1xuXG4gICRHT1BELmYgPSAkZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO1xuICAkRFAuZiAgID0gJGRlZmluZVByb3BlcnR5O1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmYgPSBnT1BORXh0LmYgPSAkZ2V0T3duUHJvcGVydHlOYW1lcztcbiAgcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpLmYgID0gJHByb3BlcnR5SXNFbnVtZXJhYmxlO1xuICByZXF1aXJlKCcuL19vYmplY3QtZ29wcycpLmYgPSAkZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG4gIGlmKERFU0NSSVBUT1JTICYmICFyZXF1aXJlKCcuL19saWJyYXJ5Jykpe1xuICAgIHJlZGVmaW5lKE9iamVjdFByb3RvLCAncHJvcGVydHlJc0VudW1lcmFibGUnLCAkcHJvcGVydHlJc0VudW1lcmFibGUsIHRydWUpO1xuICB9XG5cbiAgd2tzRXh0LmYgPSBmdW5jdGlvbihuYW1lKXtcbiAgICByZXR1cm4gd3JhcCh3a3MobmFtZSkpO1xuICB9XG59XG5cbiRleHBvcnQoJGV4cG9ydC5HICsgJGV4cG9ydC5XICsgJGV4cG9ydC5GICogIVVTRV9OQVRJVkUsIHtTeW1ib2w6ICRTeW1ib2x9KTtcblxuZm9yKHZhciBzeW1ib2xzID0gKFxuICAvLyAxOS40LjIuMiwgMTkuNC4yLjMsIDE5LjQuMi40LCAxOS40LjIuNiwgMTkuNC4yLjgsIDE5LjQuMi45LCAxOS40LjIuMTAsIDE5LjQuMi4xMSwgMTkuNC4yLjEyLCAxOS40LjIuMTMsIDE5LjQuMi4xNFxuICAnaGFzSW5zdGFuY2UsaXNDb25jYXRTcHJlYWRhYmxlLGl0ZXJhdG9yLG1hdGNoLHJlcGxhY2Usc2VhcmNoLHNwZWNpZXMsc3BsaXQsdG9QcmltaXRpdmUsdG9TdHJpbmdUYWcsdW5zY29wYWJsZXMnXG4pLnNwbGl0KCcsJyksIGkgPSAwOyBzeW1ib2xzLmxlbmd0aCA+IGk7ICl3a3Moc3ltYm9sc1tpKytdKTtcblxuZm9yKHZhciBzeW1ib2xzID0gJGtleXMod2tzLnN0b3JlKSwgaSA9IDA7IHN5bWJvbHMubGVuZ3RoID4gaTsgKXdrc0RlZmluZShzeW1ib2xzW2krK10pO1xuXG4kZXhwb3J0KCRleHBvcnQuUyArICRleHBvcnQuRiAqICFVU0VfTkFUSVZFLCAnU3ltYm9sJywge1xuICAvLyAxOS40LjIuMSBTeW1ib2wuZm9yKGtleSlcbiAgJ2Zvcic6IGZ1bmN0aW9uKGtleSl7XG4gICAgcmV0dXJuIGhhcyhTeW1ib2xSZWdpc3RyeSwga2V5ICs9ICcnKVxuICAgICAgPyBTeW1ib2xSZWdpc3RyeVtrZXldXG4gICAgICA6IFN5bWJvbFJlZ2lzdHJ5W2tleV0gPSAkU3ltYm9sKGtleSk7XG4gIH0sXG4gIC8vIDE5LjQuMi41IFN5bWJvbC5rZXlGb3Ioc3ltKVxuICBrZXlGb3I6IGZ1bmN0aW9uIGtleUZvcihrZXkpe1xuICAgIGlmKGlzU3ltYm9sKGtleSkpcmV0dXJuIGtleU9mKFN5bWJvbFJlZ2lzdHJ5LCBrZXkpO1xuICAgIHRocm93IFR5cGVFcnJvcihrZXkgKyAnIGlzIG5vdCBhIHN5bWJvbCEnKTtcbiAgfSxcbiAgdXNlU2V0dGVyOiBmdW5jdGlvbigpeyBzZXR0ZXIgPSB0cnVlOyB9LFxuICB1c2VTaW1wbGU6IGZ1bmN0aW9uKCl7IHNldHRlciA9IGZhbHNlOyB9XG59KTtcblxuJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAhVVNFX05BVElWRSwgJ09iamVjdCcsIHtcbiAgLy8gMTkuMS4yLjIgT2JqZWN0LmNyZWF0ZShPIFssIFByb3BlcnRpZXNdKVxuICBjcmVhdGU6ICRjcmVhdGUsXG4gIC8vIDE5LjEuMi40IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShPLCBQLCBBdHRyaWJ1dGVzKVxuICBkZWZpbmVQcm9wZXJ0eTogJGRlZmluZVByb3BlcnR5LFxuICAvLyAxOS4xLjIuMyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhPLCBQcm9wZXJ0aWVzKVxuICBkZWZpbmVQcm9wZXJ0aWVzOiAkZGVmaW5lUHJvcGVydGllcyxcbiAgLy8gMTkuMS4yLjYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihPLCBQKVxuICBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6ICRnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gIC8vIDE5LjEuMi43IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXG4gIGdldE93blByb3BlcnR5TmFtZXM6ICRnZXRPd25Qcm9wZXJ0eU5hbWVzLFxuICAvLyAxOS4xLjIuOCBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKE8pXG4gIGdldE93blByb3BlcnR5U3ltYm9sczogJGdldE93blByb3BlcnR5U3ltYm9sc1xufSk7XG5cbi8vIDI0LjMuMiBKU09OLnN0cmluZ2lmeSh2YWx1ZSBbLCByZXBsYWNlciBbLCBzcGFjZV1dKVxuJEpTT04gJiYgJGV4cG9ydCgkZXhwb3J0LlMgKyAkZXhwb3J0LkYgKiAoIVVTRV9OQVRJVkUgfHwgJGZhaWxzKGZ1bmN0aW9uKCl7XG4gIHZhciBTID0gJFN5bWJvbCgpO1xuICAvLyBNUyBFZGdlIGNvbnZlcnRzIHN5bWJvbCB2YWx1ZXMgdG8gSlNPTiBhcyB7fVxuICAvLyBXZWJLaXQgY29udmVydHMgc3ltYm9sIHZhbHVlcyB0byBKU09OIGFzIG51bGxcbiAgLy8gVjggdGhyb3dzIG9uIGJveGVkIHN5bWJvbHNcbiAgcmV0dXJuIF9zdHJpbmdpZnkoW1NdKSAhPSAnW251bGxdJyB8fCBfc3RyaW5naWZ5KHthOiBTfSkgIT0gJ3t9JyB8fCBfc3RyaW5naWZ5KE9iamVjdChTKSkgIT0gJ3t9Jztcbn0pKSwgJ0pTT04nLCB7XG4gIHN0cmluZ2lmeTogZnVuY3Rpb24gc3RyaW5naWZ5KGl0KXtcbiAgICBpZihpdCA9PT0gdW5kZWZpbmVkIHx8IGlzU3ltYm9sKGl0KSlyZXR1cm47IC8vIElFOCByZXR1cm5zIHN0cmluZyBvbiB1bmRlZmluZWRcbiAgICB2YXIgYXJncyA9IFtpdF1cbiAgICAgICwgaSAgICA9IDFcbiAgICAgICwgcmVwbGFjZXIsICRyZXBsYWNlcjtcbiAgICB3aGlsZShhcmd1bWVudHMubGVuZ3RoID4gaSlhcmdzLnB1c2goYXJndW1lbnRzW2krK10pO1xuICAgIHJlcGxhY2VyID0gYXJnc1sxXTtcbiAgICBpZih0eXBlb2YgcmVwbGFjZXIgPT0gJ2Z1bmN0aW9uJykkcmVwbGFjZXIgPSByZXBsYWNlcjtcbiAgICBpZigkcmVwbGFjZXIgfHwgIWlzQXJyYXkocmVwbGFjZXIpKXJlcGxhY2VyID0gZnVuY3Rpb24oa2V5LCB2YWx1ZSl7XG4gICAgICBpZigkcmVwbGFjZXIpdmFsdWUgPSAkcmVwbGFjZXIuY2FsbCh0aGlzLCBrZXksIHZhbHVlKTtcbiAgICAgIGlmKCFpc1N5bWJvbCh2YWx1ZSkpcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgYXJnc1sxXSA9IHJlcGxhY2VyO1xuICAgIHJldHVybiBfc3RyaW5naWZ5LmFwcGx5KCRKU09OLCBhcmdzKTtcbiAgfVxufSk7XG5cbi8vIDE5LjQuMy40IFN5bWJvbC5wcm90b3R5cGVbQEB0b1ByaW1pdGl2ZV0oaGludClcbiRTeW1ib2xbUFJPVE9UWVBFXVtUT19QUklNSVRJVkVdIHx8IHJlcXVpcmUoJy4vX2hpZGUnKSgkU3ltYm9sW1BST1RPVFlQRV0sIFRPX1BSSU1JVElWRSwgJFN5bWJvbFtQUk9UT1RZUEVdLnZhbHVlT2YpO1xuLy8gMTkuNC4zLjUgU3ltYm9sLnByb3RvdHlwZVtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoJFN5bWJvbCwgJ1N5bWJvbCcpO1xuLy8gMjAuMi4xLjkgTWF0aFtAQHRvU3RyaW5nVGFnXVxuc2V0VG9TdHJpbmdUYWcoTWF0aCwgJ01hdGgnLCB0cnVlKTtcbi8vIDI0LjMuMyBKU09OW0BAdG9TdHJpbmdUYWddXG5zZXRUb1N0cmluZ1RhZyhnbG9iYWwuSlNPTiwgJ0pTT04nLCB0cnVlKTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvZXM2LnN5bWJvbC5qc1xuICoqIG1vZHVsZSBpZCA9IDg3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgTUVUQSAgICAgPSByZXF1aXJlKCcuL191aWQnKSgnbWV0YScpXG4gICwgaXNPYmplY3QgPSByZXF1aXJlKCcuL19pcy1vYmplY3QnKVxuICAsIGhhcyAgICAgID0gcmVxdWlyZSgnLi9faGFzJylcbiAgLCBzZXREZXNjICA9IHJlcXVpcmUoJy4vX29iamVjdC1kcCcpLmZcbiAgLCBpZCAgICAgICA9IDA7XG52YXIgaXNFeHRlbnNpYmxlID0gT2JqZWN0LmlzRXh0ZW5zaWJsZSB8fCBmdW5jdGlvbigpe1xuICByZXR1cm4gdHJ1ZTtcbn07XG52YXIgRlJFRVpFID0gIXJlcXVpcmUoJy4vX2ZhaWxzJykoZnVuY3Rpb24oKXtcbiAgcmV0dXJuIGlzRXh0ZW5zaWJsZShPYmplY3QucHJldmVudEV4dGVuc2lvbnMoe30pKTtcbn0pO1xudmFyIHNldE1ldGEgPSBmdW5jdGlvbihpdCl7XG4gIHNldERlc2MoaXQsIE1FVEEsIHt2YWx1ZToge1xuICAgIGk6ICdPJyArICsraWQsIC8vIG9iamVjdCBJRFxuICAgIHc6IHt9ICAgICAgICAgIC8vIHdlYWsgY29sbGVjdGlvbnMgSURzXG4gIH19KTtcbn07XG52YXIgZmFzdEtleSA9IGZ1bmN0aW9uKGl0LCBjcmVhdGUpe1xuICAvLyByZXR1cm4gcHJpbWl0aXZlIHdpdGggcHJlZml4XG4gIGlmKCFpc09iamVjdChpdCkpcmV0dXJuIHR5cGVvZiBpdCA9PSAnc3ltYm9sJyA/IGl0IDogKHR5cGVvZiBpdCA9PSAnc3RyaW5nJyA/ICdTJyA6ICdQJykgKyBpdDtcbiAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYoIWlzRXh0ZW5zaWJsZShpdCkpcmV0dXJuICdGJztcbiAgICAvLyBub3QgbmVjZXNzYXJ5IHRvIGFkZCBtZXRhZGF0YVxuICAgIGlmKCFjcmVhdGUpcmV0dXJuICdFJztcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gb2JqZWN0IElEXG4gIH0gcmV0dXJuIGl0W01FVEFdLmk7XG59O1xudmFyIGdldFdlYWsgPSBmdW5jdGlvbihpdCwgY3JlYXRlKXtcbiAgaWYoIWhhcyhpdCwgTUVUQSkpe1xuICAgIC8vIGNhbid0IHNldCBtZXRhZGF0YSB0byB1bmNhdWdodCBmcm96ZW4gb2JqZWN0XG4gICAgaWYoIWlzRXh0ZW5zaWJsZShpdCkpcmV0dXJuIHRydWU7XG4gICAgLy8gbm90IG5lY2Vzc2FyeSB0byBhZGQgbWV0YWRhdGFcbiAgICBpZighY3JlYXRlKXJldHVybiBmYWxzZTtcbiAgICAvLyBhZGQgbWlzc2luZyBtZXRhZGF0YVxuICAgIHNldE1ldGEoaXQpO1xuICAvLyByZXR1cm4gaGFzaCB3ZWFrIGNvbGxlY3Rpb25zIElEc1xuICB9IHJldHVybiBpdFtNRVRBXS53O1xufTtcbi8vIGFkZCBtZXRhZGF0YSBvbiBmcmVlemUtZmFtaWx5IG1ldGhvZHMgY2FsbGluZ1xudmFyIG9uRnJlZXplID0gZnVuY3Rpb24oaXQpe1xuICBpZihGUkVFWkUgJiYgbWV0YS5ORUVEICYmIGlzRXh0ZW5zaWJsZShpdCkgJiYgIWhhcyhpdCwgTUVUQSkpc2V0TWV0YShpdCk7XG4gIHJldHVybiBpdDtcbn07XG52YXIgbWV0YSA9IG1vZHVsZS5leHBvcnRzID0ge1xuICBLRVk6ICAgICAgTUVUQSxcbiAgTkVFRDogICAgIGZhbHNlLFxuICBmYXN0S2V5OiAgZmFzdEtleSxcbiAgZ2V0V2VhazogIGdldFdlYWssXG4gIG9uRnJlZXplOiBvbkZyZWV6ZVxufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX21ldGEuanNcbiAqKiBtb2R1bGUgaWQgPSA4OFxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwidmFyIGdsb2JhbCAgICAgICAgID0gcmVxdWlyZSgnLi9fZ2xvYmFsJylcclxuICAsIGNvcmUgICAgICAgICAgID0gcmVxdWlyZSgnLi9fY29yZScpXHJcbiAgLCBMSUJSQVJZICAgICAgICA9IHJlcXVpcmUoJy4vX2xpYnJhcnknKVxyXG4gICwgd2tzRXh0ICAgICAgICAgPSByZXF1aXJlKCcuL193a3MtZXh0JylcclxuICAsIGRlZmluZVByb3BlcnR5ID0gcmVxdWlyZSgnLi9fb2JqZWN0LWRwJykuZjtcclxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lKXtcclxuICB2YXIgJFN5bWJvbCA9IGNvcmUuU3ltYm9sIHx8IChjb3JlLlN5bWJvbCA9IExJQlJBUlkgPyB7fSA6IGdsb2JhbC5TeW1ib2wgfHwge30pO1xyXG4gIGlmKG5hbWUuY2hhckF0KDApICE9ICdfJyAmJiAhKG5hbWUgaW4gJFN5bWJvbCkpZGVmaW5lUHJvcGVydHkoJFN5bWJvbCwgbmFtZSwge3ZhbHVlOiB3a3NFeHQuZihuYW1lKX0pO1xyXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fd2tzLWRlZmluZS5qc1xuICoqIG1vZHVsZSBpZCA9IDg5XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJ2YXIgZ2V0S2V5cyAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMnKVxuICAsIHRvSU9iamVjdCA9IHJlcXVpcmUoJy4vX3RvLWlvYmplY3QnKTtcbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob2JqZWN0LCBlbCl7XG4gIHZhciBPICAgICAgPSB0b0lPYmplY3Qob2JqZWN0KVxuICAgICwga2V5cyAgID0gZ2V0S2V5cyhPKVxuICAgICwgbGVuZ3RoID0ga2V5cy5sZW5ndGhcbiAgICAsIGluZGV4ICA9IDBcbiAgICAsIGtleTtcbiAgd2hpbGUobGVuZ3RoID4gaW5kZXgpaWYoT1trZXkgPSBrZXlzW2luZGV4KytdXSA9PT0gZWwpcmV0dXJuIGtleTtcbn07XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL19rZXlvZi5qc1xuICoqIG1vZHVsZSBpZCA9IDkwXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyBhbGwgZW51bWVyYWJsZSBvYmplY3Qga2V5cywgaW5jbHVkZXMgc3ltYm9sc1xudmFyIGdldEtleXMgPSByZXF1aXJlKCcuL19vYmplY3Qta2V5cycpXG4gICwgZ09QUyAgICA9IHJlcXVpcmUoJy4vX29iamVjdC1nb3BzJylcbiAgLCBwSUUgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LXBpZScpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihpdCl7XG4gIHZhciByZXN1bHQgICAgID0gZ2V0S2V5cyhpdClcbiAgICAsIGdldFN5bWJvbHMgPSBnT1BTLmY7XG4gIGlmKGdldFN5bWJvbHMpe1xuICAgIHZhciBzeW1ib2xzID0gZ2V0U3ltYm9scyhpdClcbiAgICAgICwgaXNFbnVtICA9IHBJRS5mXG4gICAgICAsIGkgICAgICAgPSAwXG4gICAgICAsIGtleTtcbiAgICB3aGlsZShzeW1ib2xzLmxlbmd0aCA+IGkpaWYoaXNFbnVtLmNhbGwoaXQsIGtleSA9IHN5bWJvbHNbaSsrXSkpcmVzdWx0LnB1c2goa2V5KTtcbiAgfSByZXR1cm4gcmVzdWx0O1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2VudW0ta2V5cy5qc1xuICoqIG1vZHVsZSBpZCA9IDkxXG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnRzLmYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzO1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcHMuanNcbiAqKiBtb2R1bGUgaWQgPSA5MlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwiLy8gNy4yLjIgSXNBcnJheShhcmd1bWVudClcbnZhciBjb2YgPSByZXF1aXJlKCcuL19jb2YnKTtcbm1vZHVsZS5leHBvcnRzID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiBpc0FycmF5KGFyZyl7XG4gIHJldHVybiBjb2YoYXJnKSA9PSAnQXJyYXknO1xufTtcblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX2lzLWFycmF5LmpzXG4gKiogbW9kdWxlIGlkID0gOTNcbiAqKiBtb2R1bGUgY2h1bmtzID0gMFxuICoqLyIsIi8vIGZhbGxiYWNrIGZvciBJRTExIGJ1Z2d5IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHdpdGggaWZyYW1lIGFuZCB3aW5kb3dcbnZhciB0b0lPYmplY3QgPSByZXF1aXJlKCcuL190by1pb2JqZWN0JylcbiAgLCBnT1BOICAgICAgPSByZXF1aXJlKCcuL19vYmplY3QtZ29wbicpLmZcbiAgLCB0b1N0cmluZyAgPSB7fS50b1N0cmluZztcblxudmFyIHdpbmRvd05hbWVzID0gdHlwZW9mIHdpbmRvdyA9PSAnb2JqZWN0JyAmJiB3aW5kb3cgJiYgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXNcbiAgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh3aW5kb3cpIDogW107XG5cbnZhciBnZXRXaW5kb3dOYW1lcyA9IGZ1bmN0aW9uKGl0KXtcbiAgdHJ5IHtcbiAgICByZXR1cm4gZ09QTihpdCk7XG4gIH0gY2F0Y2goZSl7XG4gICAgcmV0dXJuIHdpbmRvd05hbWVzLnNsaWNlKCk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzLmYgPSBmdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eU5hbWVzKGl0KXtcbiAgcmV0dXJuIHdpbmRvd05hbWVzICYmIHRvU3RyaW5nLmNhbGwoaXQpID09ICdbb2JqZWN0IFdpbmRvd10nID8gZ2V0V2luZG93TmFtZXMoaXQpIDogZ09QTih0b0lPYmplY3QoaXQpKTtcbn07XG5cblxuXG4vKioqKioqKioqKioqKioqKipcbiAqKiBXRUJQQUNLIEZPT1RFUlxuICoqIC4vfi9iYWJlbC1ydW50aW1lL34vY29yZS1qcy9saWJyYXJ5L21vZHVsZXMvX29iamVjdC1nb3BuLWV4dC5qc1xuICoqIG1vZHVsZSBpZCA9IDk0XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCIvLyAxOS4xLjIuNyAvIDE1LjIuMy40IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE8pXHJcbnZhciAka2V5cyAgICAgID0gcmVxdWlyZSgnLi9fb2JqZWN0LWtleXMtaW50ZXJuYWwnKVxyXG4gICwgaGlkZGVuS2V5cyA9IHJlcXVpcmUoJy4vX2VudW0tYnVnLWtleXMnKS5jb25jYXQoJ2xlbmd0aCcsICdwcm90b3R5cGUnKTtcclxuXHJcbmV4cG9ydHMuZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzIHx8IGZ1bmN0aW9uIGdldE93blByb3BlcnR5TmFtZXMoTyl7XHJcbiAgcmV0dXJuICRrZXlzKE8sIGhpZGRlbktleXMpO1xyXG59O1xuXG5cbi8qKioqKioqKioqKioqKioqKlxuICoqIFdFQlBBQ0sgRk9PVEVSXG4gKiogLi9+L2JhYmVsLXJ1bnRpbWUvfi9jb3JlLWpzL2xpYnJhcnkvbW9kdWxlcy9fb2JqZWN0LWdvcG4uanNcbiAqKiBtb2R1bGUgaWQgPSA5NVxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdhc3luY0l0ZXJhdG9yJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wuYXN5bmMtaXRlcmF0b3IuanNcbiAqKiBtb2R1bGUgaWQgPSA5NlxuICoqIG1vZHVsZSBjaHVua3MgPSAwXG4gKiovIiwicmVxdWlyZSgnLi9fd2tzLWRlZmluZScpKCdvYnNlcnZhYmxlJyk7XG5cblxuLyoqKioqKioqKioqKioqKioqXG4gKiogV0VCUEFDSyBGT09URVJcbiAqKiAuL34vYmFiZWwtcnVudGltZS9+L2NvcmUtanMvbGlicmFyeS9tb2R1bGVzL2VzNy5zeW1ib2wub2JzZXJ2YWJsZS5qc1xuICoqIG1vZHVsZSBpZCA9IDk3XG4gKiogbW9kdWxlIGNodW5rcyA9IDBcbiAqKi8iLCJleHBvcnQgZGVmYXVsdCB7XG5cblx0LyoqXG5cdCAqIEF1ZGlvIGNvbW11bmljYXRpb24gc2VydmljZVxuXHQgKiBAY29uc3RhbnRcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICovXG5cdEFDVElPTl9UWVBFX0FVRElPOiAnYXVkaW8nLFxuXHQvKipcblx0ICogVmlkZW8gY29tbXVuaWNhdGlvbiBzZXJ2aWNlXG5cdCAqIEBjb25zdGFudFxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKi9cblx0QUNUSU9OX1RZUEVfVklERU86ICd2aWRlbycsXG5cdC8qKlxuXHQgKiBDaGF0IGNvbW11bmljYXRpb24gc2VydmljZVxuXHQgKiBAY29uc3RhbnRcblx0ICogQHR5cGUge3N0cmluZ31cblx0ICovXG5cdEFDVElPTl9UWVBFX0NIQVQ6ICdjaGF0Jyxcblx0LyoqXG5cdCAqIEF1ZGlvIGFuZCB2aWRlbyBjb21tdW5pY2F0aW9uIHNlcnZpY2Vcblx0ICogQGNvbnN0YW50XG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqL1xuXHRBQ1RJT05fVFlQRV9BVURJT19WSURFTzogJ2F1ZGlvLXZpZGVvJyxcblx0LyoqXG5cdCAqIFNjcmVlbi1zaGFyaW5nIHNlcnZpY2Vcblx0ICogQGNvbnN0YW50XG5cdCAqIEB0eXBlIHtzdHJpbmd9XG5cdCAqL1xuXHRBQ1RJT05fVFlQRV9TQ1JFRU5fU0hBUklORzogJ3NjcmVlbi1zaGFyaW5nJyxcblx0LyoqXG5cdCAqIENhbGwgY29tbXVuaWNhdGlvbiBzZXJ2aWNlXG5cdCAqIEBjb25zdGFudFxuXHQgKiBAdHlwZSB7c3RyaW5nfVxuXHQgKi9cblx0QUNUSU9OX1RZUEVfQ0FMTDogJ2NhbGwnXG59O1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2FjdGlvbnMuanNcbiAqKi8iLCIvKipcbiAqIEBmaWxlIGRhdGFyZWZzLmpzIC0gSlMgZmlsZSBtb2RlbGl6aW5nIGEgZGF0YXJlZiwgaS5lLiBhIHBvaW50ZXIgdG8gdGhlIFdlYmNvbSB4d2l0aCBkZWRpY2F0ZWQgbm9kZXMgZm9yIHJvb21zLCByZWFjaCBzZXJ2aWNlIGFuZCBXZWJSVEMgY29tbXVuaWNhdGlvbnMuXG4gKiBAYXV0aG9yIFdlYmNvbVxuICovXG5cbi8qZXNsaW50IGNvbXBsZXhpdHk6MSwgbWF4LXN0YXRlbWVudHM6IDEsIG1heC1sZW46IDEqL1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBkYXRhcmVmIHdpdGggc2V2ZXJhbCBub2RlcyBpbiBpdCB3aGljaCBhcmUgcG9pbnRpbmcgdG8gc29tZSBsb2NhdGlvbnMgaW4gdGhlIGRhdGFiYXNlLlxuICogVGhlIGRhdGFyZWZzIGNhbiBiZSBjb25zaWRlcmVkIGFzIGEgV2ViY29tIG9iamVjdCBwb2ludGluZyB0byBhIGJhc2UgVVJMLiBUaGlzIG5vZGUgY29udGFpbnMgY2hpbGRyZW4gbm9kZXMgZm9yXG4gKiByZWFjaCBzZXJ2aWNlLCByb29tcyBhbmQgV2ViUlRDIGNvbW11bmljYXRpb25zLlxuICpcbiAqIFdhcm5pbmcgOiB3aGVuIHVzZWQgd2l0aCBkZW1vIFVJLCB0aGlzIGZpbGUgaXMgbm90IGltcG9ydGVkOiAgZGVtbyBVSSBoYXNlIGl0cyBvd24gY29uZmlndXJhdGlvbiBzeXN0ZW0gKGltcG9ydCBqc29uIGNvbmZpZyB3aXRoIGEgcGhwIHNlcnZlciBtb2R1bGUpXG4gKiBUaGVzZSBub2RlcyBhcmUgOlxuICogICAgICAgLSByb29tc1xuICogICAgICAgLSByZWFjaFxuICogICAgICAgLSB3ZWJydGNcbiAqICAgICAgIC0gc2lwUGhvbmVOdW1iZXJzXG4gKiAgICAgICAtIGRhdGFzdG9yZSwgaS5lLiB0aGUgV2ViY29tIG9iamVjdFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKFdFQkNPTUJBU0VfVVJMKSB7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgZGF0YXN0b3JlIGluIHRoZSBtYWluIG9iamVjdCB3aGljaCBjYW4gYmUgY29uc2lkZXJlZCBoYXMgdGhlIHJvb3Qgbm9kZSBvZiB0aGUgYmFzZS5cblx0ICogSXQgY29udGFpbnMgdGhlIGluc3RhbmNpYXRlZCBXZWJjb20gZGVmaW5lZCBieSBhIFdFQkNPTUJBU0VfVVJMXG5cdCAqIFRoZSBtYWluIG5vZGVzIGNvbnRhaW5pbmcgdGhlIHJvb21zLCB0aGUgU0lQIHBob25lIG51bWJlcnMgYW5kIHRoZSByZWFjaCBhbmQgV2ViUlRDIGRhdGEgYXJlIGNoaWxkcmVuIG9mIHRoaXMgbm9kZS5cblx0ICovXG5cdGxldCBfZGF0YXN0b3JlID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIHJvb21zIG9mIHRoZSBjb21tdW5pY2F0aW9uIHN5c3RlbS5cblx0ICogRWFjaCBcInJvb21cIiBub2RlIHBvc3Nlc3NlcyB0aGUgcGFydGljaXBhbnRzIGFuZCB0aGUgZXhjaGFuZ2VkIGluc3RhbnQgbWVzc2FnZXMgZm9yIGV4YW1wbGUuXG5cdCAqIEluIHRoZSBkYXRhYmFzZSwgdGhpcyBub2RlIGlzIGlkZW50aWZpZWQgYnkgXCJyb29tc0xpc3RcIi5cblx0ICovXG5cdGxldCBfcm9vbXMgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgZGF0YSBhYm91dCB0aGUgcmVhY2ggc2VydmljZSB1c2VkIHRvIHB1dCBpbiByZWxhdGlvbiB1c2Vycy5cblx0ICogSW4gdGhlIGRhdGFiYXNlLCB0aGlzIG5vZGUgaXMgaWRlbnRpZmllZCBieSBcInJlYWNoXCIuXG5cdCAqL1xuXHRsZXQgX3JlYWNoID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIGRhdGEgYWJvdXQgdGhlIFdlYlJUQyBmZWF0dXJlLlxuXHQgKiBJbiB0aGUgZGF0YWJhc2UsIHRoaXMgbm9kZSBpcyBpZGVudGlmaWVkIGJ5IFwid2VicnRjXCIuXG5cdCAqL1xuXHRsZXQgX3dlYnJ0YyA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBkYXRhIGFib3V0IHRoZSBTSVAgcGhvbmUgbnVtYmVycy5cblx0ICogSW4gdGhlIGRhdGFiYXNlLCB0aGlzIG5vZGUgaXMgaWRlbnRpZmllZCBieSBcInNpcFBob25lTnVtYmVyc1wiLlxuXHQgKi9cblx0bGV0IF9zaXBQaG9uZU51bWJlcnMgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIHRoZSBjaGlsZHJlbiBub2RlcywgaS5lLiBjcmVhdGVzIGZvciBlYWNoIG9mIHRoZW0gYSBkZWRpY2F0ZWQgbm9kZSBpbiB0aGUgZGF0YWJhc2Vcblx0ICogdW5kZXIgdGhlIG1haW4gbm9kZSAoZGF0YSBzdG9yZSkuIENyZWF0ZWQgbm9kZXMgYXJlIFwicm9vbXNMaXN0XCIsIFwicmVhY2hcIiwgXCJ3ZWJydGNcIiwgXCJzaXBQaG9uZU51bWJlcnNcIi5cblx0ICovXG5cdGZ1bmN0aW9uIF9pbml0Q2hpbGRyZW4oKSB7XG5cdFx0X3Jvb21zID0gX2RhdGFzdG9yZS5jaGlsZCgncm9vbXNMaXN0Jyk7XG5cdFx0X3JlYWNoID0gX2RhdGFzdG9yZS5jaGlsZCgncmVhY2gnKTtcblx0XHRfd2VicnRjID0gX2RhdGFzdG9yZS5jaGlsZCgnd2VicnRjJyk7XG5cdFx0X3NpcFBob25lTnVtYmVycyA9IF9kYXRhc3RvcmUuY2hpbGQoJ3NpcFBob25lTnVtYmVycycpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFRoZSBpbml0aWFsaXphdGlvbiBmdW5jdGlvbiB3aGljaCBpbnN0YW50aWF0ZXMgdGhlIFdlYmNvbSBzdG9yZWQgaW4gdGhlIGRhdGEgc3RvcmUuXG5cdCAqIEFsbCB0aGUgY2hpbGRyZW4gbm9kZXNuYXJlIGRlZmluZXMgaGVyZS5cblx0ICovXG5cdGZ1bmN0aW9uIF9pbml0KCkge1xuXHRcdF9kYXRhc3RvcmUgPSBuZXcgV2ViY29tKFdFQkNPTUJBU0VfVVJMKTtcblx0XHRfaW5pdENoaWxkcmVuKCk7XG5cdH1cblxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgV2ViY29tIFVSTCBhbmQgcmVpbml0IHRoZSBjaGlsZHJlbi5cblx0ICogQHBhcmFtIHtzdHJpbmd9IHBfd2ViY29tYmFzZV91cmwgLSBUaGUgVVJMIG9mIHRoZSBXZWJjb21cblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRXZWJjb21CYXNlVXJsKHBfd2ViY29tYmFzZV91cmwpIHtcblx0XHRfZGF0YXN0b3JlID0gbmV3IFdlYmNvbShwX3dlYmNvbWJhc2VfdXJsKTtcblx0XHRfaW5pdENoaWxkcmVuKCk7XG5cdH1cblxuXHQvKipcblx0ICogcmV0dXJuIHRoZSBXZWJjb20gVVJMLlxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldFdlYmNvbUJhc2VVcmwoKSB7XG5cdFx0aWYgKF9kYXRhc3RvcmUpIHtcblx0XHRcdHJldHVybiBfZGF0YXN0b3JlLnRvU3RyaW5nKCk7XG5cdFx0fVxuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH1cblxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgZGF0YXN0b3JlIGFuZCByZWluaXQgdGhlIGNoaWxkcmVuLlxuXHQgKiBAcGFyYW0ge1dlYmNvbX0gcF9kYXRhc3RvcmUgLSBBIFdlYmNvbSBvYmplY3Qgd2hpY2ggaXMgdGhlIG5ldyBkYXRhIHN0b3JlXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0RGF0YXN0b3JlKHBfZGF0YXN0b3JlKSB7XG5cdFx0X2RhdGFzdG9yZT1wX2RhdGFzdG9yZTtcblx0XHRfaW5pdENoaWxkcmVuKCk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgZGF0YXN0b3JlXG5cdCAqIEByZXR1cm4ge1dlYmNvbX0gLSBUaGUgZGF0YSBzdG9yZSBhcyBhIFdlYmNvbVxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldERhdGFzdG9yZSgpIHtcblx0XHRyZXR1cm4gX2RhdGFzdG9yZTtcblx0fVxuXG5cblx0LyoqXG5cdCAqIERlZmluZXMgYSBuZXcgcm9vbXMgbm9kZVxuXHQgKiBAcGFyYW0gcF9yb29tcyAtIEEgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgcm9vbXNcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRSb29tcyhwX3Jvb21zKSB7XG5cdFx0X3Jvb21zPXBfcm9vbXM7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgcm9vdCBub2RlIG9mIHRoZSByb29tcy5cblx0ICogQHJldHVybiAtIFRoZSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSByb29tcyBsaXN0XG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0Um9vbXMoKSB7XG5cdFx0cmV0dXJuIF9yb29tcztcblx0fVxuXG5cdC8qKlxuXHQgKiBEZWZpbmVzIGEgbmV3IHJlYWNoIG5vZGVcblx0ICogQHBhcmFtIHBfcmVhY2ggLSBBIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIGRhdGEgYWJvdXQgdGhlIHJlYWNoIHNlcnZpY2Vcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRSZWFjaChwX3JlYWNoKSB7XG5cdFx0X3JlYWNoPXBfcmVhY2g7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgcmVhY2ggbm9kZSBvZiB0aGUgcm9vbXMuXG5cdCAqIEByZXR1cm4gLSBUaGUgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJlYWNoIHNlcnZpY2Vcblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRSZWFjaCgpIHtcblx0XHRyZXR1cm4gX3JlYWNoO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZXMgYSBuZXcgd2VicnRjIG5vZGVcblx0ICogQHBhcmFtIHBfd2VicnRjIC0gQSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBkYXRhIGFib3V0IHRoZSBXZWJSVEMgZmVhdHVyZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldFdlYnJ0YyhwX3dlYnJ0Yykge1xuXHRcdF93ZWJydGM9cF93ZWJydGM7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJucyB0aGUgV2ViUlRDIG5vZGVcblx0ICogQHJldHVybiAtIFRoZSBub2RlIGNvbnRhaW5pZyBhbGwgdGhlIGRhdGEgYWJvdXQgdGhlIFdlYlJUQyBmZWF0dXJlXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0V2VicnRjKCkge1xuXHRcdHJldHVybiBfd2VicnRjO1xuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZXMgYSBub2RlIGNvbnRhaW5pbmcgdGhlIFNJUCBwaG9uZSBudW1iZXJzXG5cdCAqIEBwYXJhbSBwX3NpcFBob25lTnVtYmVycyAtIFRoZSByb290IG5vZGUgY29udGFpbmluZyB0aGUgU0lQIHBob25lIG51bWJlcnNcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRTaXBQaG9uZU51bWJlcnMocF9zaXBQaG9uZU51bWJlcnMpIHtcblx0XHRfc2lwUGhvbmVOdW1iZXJzPXBfc2lwUGhvbmVOdW1iZXJzO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgdGhlIHJvb3Qgbm9kZSBjb250YWluaW5nIHRoZSBTSVAgcGhvbmUgbnVtYmVyc1xuXHQgKiBAcmV0dXJuIC0gVGhlIHJvb3Qgbm9kZSB3aXRoIHRoZSBTSVAgbnVtYmVyc1xuXHQgKi9cblx0ZnVuY3Rpb24gX2dldFNpcFBob25lTnVtYmVycygpIHtcblx0XHRyZXR1cm4gX3NpcFBob25lTnVtYmVycztcblx0fVxuXG5cdF9pbml0KCk7XG5cblx0cmV0dXJuIHtcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBXZWJjb20gVVJMIGFuZCByZWluaXQgdGhlIGNoaWxkcmVuLlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3dlYmNvbWJhc2VfdXJsIC0gVGhlIFVSTCBvZiB0aGUgV2ViY29tXG5cdFx0ICovXG5cdFx0c2V0V2ViY29tQmFzZVVybCA6IF9zZXRXZWJjb21CYXNlVXJsLFxuXHRcdC8qKlxuXHRcdCAqIHJldHVybiB0aGUgV2ViY29tIFVSTC5cblxuXHRcdCAqL1xuXHRcdGdldFdlYmNvbUJhc2VVcmwgOiBfZ2V0V2ViY29tQmFzZVVybCxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBkYXRhc3RvcmUgYW5kIHJlaW5pdCB0aGUgY2hpbGRyZW4uXG5cdFx0ICogQHBhcmFtIHtXZWJjb219IHBfZGF0YXN0b3JlIC0gQSBXZWJjb20gb2JqZWN0IHdoaWNoIGlzIHRoZSBuZXcgZGF0YSBzdG9yZVxuXHRcdCAqL1xuXHRcdHNldERhdGFzdG9yZSA6IF9zZXREYXRhc3RvcmUsXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgZGF0YXN0b3JlXG5cdFx0ICogQHJldHVybiB7V2ViY29tfSAtIFRoZSBkYXRhIHN0b3JlIGFzIGEgV2ViY29tXG5cdFx0ICovXG5cdFx0Z2V0RGF0YXN0b3JlIDogX2dldERhdGFzdG9yZSxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIGEgbmV3IHJvb21zIG5vZGVcblx0XHQgKiBAcGFyYW0gcF9yb29tcyAtIEEgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgcm9vbXNcblx0XHQgKi9cblx0XHRzZXRSb29tcyA6IF9zZXRSb29tcyxcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSByb290IG5vZGUgb2YgdGhlIHJvb21zLlxuXHRcdCAqIEByZXR1cm4gLSBUaGUgbm9kZSBjb250YWluaW5nIGFsbCB0aGUgcm9vbXMgbGlzdFxuXHRcdCAqL1xuXHRcdGdldFJvb21zIDogX2dldFJvb21zLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgYSBuZXcgcmVhY2ggbm9kZVxuXHRcdCAqIEBwYXJhbSBwX3JlYWNoIC0gQSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBkYXRhIGFib3V0IHRoZSByZWFjaCBzZXJ2aWNlXG5cdFx0ICovXG5cdFx0c2V0UmVhY2ggOiBfc2V0UmVhY2gsXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgcmVhY2ggbm9kZSBvZiB0aGUgcm9vbXMuXG5cdFx0ICogQHJldHVybiAtIFRoZSBub2RlIGNvbnRhaW5pbmcgYWxsIHRoZSBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcmVhY2ggc2VydmljZVxuXHRcdCAqL1xuXHRcdGdldFJlYWNoIDogX2dldFJlYWNoLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgYSBuZXcgd2VicnRjIG5vZGVcblx0XHQgKiBAcGFyYW0gcF93ZWJydGMgLSBBIG5vZGUgY29udGFpbmluZyBhbGwgdGhlIGRhdGEgYWJvdXQgdGhlIFdlYlJUQyBmZWF0dXJlXG5cdFx0ICovXG5cdFx0c2V0V2VicnRjIDogX3NldFdlYnJ0Yyxcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSBXZWJSVEMgbm9kZVxuXHRcdCAqIEByZXR1cm4gLSBUaGUgbm9kZSBjb250YWluaWcgYWxsIHRoZSBkYXRhIGFib3V0IHRoZSBXZWJSVEMgZmVhdHVyZVxuXHRcdCAqL1xuXHRcdGdldFdlYnJ0YyA6IF9nZXRXZWJydGMsXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyBhIG5vZGUgY29udGFpbmluZyB0aGUgU0lQIHBob25lIG51bWJlcnNcblx0XHQgKiBAcGFyYW0gcF9zaXBQaG9uZU51bWJlcnMgLSBUaGUgcm9vdCBub2RlIGNvbnRhaW5pbmcgdGhlIFNJUCBwaG9uZSBudW1iZXJzXG5cdFx0ICovXG5cdFx0c2V0U2lwUGhvbmVOdW1iZXJzIDogX3NldFNpcFBob25lTnVtYmVycyxcblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSByb290IG5vZGUgY29udGFpbmluZyB0aGUgU0lQIHBob25lIG51bWJlcnNcblx0XHQgKiBAcmV0dXJuIC0gVGhlIHJvb3Qgbm9kZSB3aXRoIHRoZSBTSVAgbnVtYmVyc1xuXHRcdCAqL1xuXHRcdGdldFNpcFBob25lTnVtYmVycyA6IF9nZXRTaXBQaG9uZU51bWJlcnNcblx0fTtcbn1cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL3NyYy9kYXRhcmVmcy5qc1xuICoqLyIsIi8qKlxuICogQGZpbGUgcmVhY2guanMgLSBKUyBmaWxlIHRvIHVzZSBmb3IgdGhlIHJlYWNoIHNlcnZpY2UuIFRoaXMgc2VydmljZSBhbGxvd3MgdG8gY3JlYXRlIGEgZGVkaWNhdGVkIHJvb20gZm9yIHVzZXJzIHNvIGFzIHRvIHByb3ZpZGUgdGhlbSBhIGNvbW11bmljYXRpb24gc3VpdGUuXG4gKiBAYXV0aG9yIFdlYmNvbVxuICovXG5cbi8qZXNsaW50IGNvbXBsZXhpdHk6MSwgbWF4LXN0YXRlbWVudHM6IDEsIG1heC1sZW46IDEqL1xuXG5pbXBvcnQgdXRpbHMgZnJvbSAnLi91dGlscyc7XG5cbi8qKlxuICogSU5WSVRFIHN0YXR1cyA6IG9uZ29pbmcgc3RhdHVzXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IElOVklUQVRJT05fT05HT0lORyA9ICdPTkdPSU5HJztcblxuLyoqXG4gKiBJTlZJVEUgc3RhdHVzIDogYWNjZXB0ZWQgc3RhdHVzXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IElOVklUQVRJT05fQUNDRVBURUQgPSAnQUNDRVBURUQnO1xuXG4vKipcbiAqIElOVklURSBzdGF0dXMgOiByZWZ1c2VkIHN0YXR1c1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJTlZJVEFUSU9OX1JFSkVDVEVEID0gJ1JFSkVDVEVEJztcblxuLyoqXG4gKiBJTlZJVEUgc3RhdHVzIDogY2FuY2VsZWQgc3RhdHVzXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IElOVklUQVRJT05fQ0FOQ0VMRUQgPSAnQ0FOQ0VMRUQnO1xuXG4vKipcbiAqIERFVklDRV9TVEFUVVNfQ09OTkVURUQgc3RhdHVzIDogY29ubmVjdGVkIHN0YXR1c1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBERVZJQ0VfU1RBVFVTX0NPTk5FQ1RFRCA9ICdDT05ORUNURUQnO1xuXG4vKipcbiAqIFJPT01fU1RBVFVTX09QRU4gc3RhdHVzIDogcm9vbSBpcyBvcGVuIC8gYWN0aXZlXG4gKiBAY29uc3RhbnRcbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmNvbnN0IFJPT01fU1RBVFVTX09QRU4gPSAnT1BFTic7XG5cblxuXG4vKipcbiAqIEBjb25zdHJ1Y3RvclxuICogQGRlc2NyaXB0aW9uIFRoZSByZWFjaCBvYmplY3Qgd2l0aCBpdHMgc3RyZWFtcywgZmxhZ3MgYW5kIGNhbGxiYWNrcy5cbiAqIFRoaXMgb2JqZWN0IGlzIHVzZWQgc28gYXMgdG8gbWFrZSBpbiBjb25uZWN0aW9uIHNldmVyYWwgdXNlcnMuIFRoZSByb29tIEludml0ZXMgbWFuYWdlbWVudCAoYWNjZXB0IC8gcmVmdXNlIC8gY2FuY2VsKSwgdGhlIHVzZXIgbWFuYWdlbWVudCAoYWRkIC8gcmVtb3ZlKSBhbmRcbiAqIHRoZSBJbnZpdGUgYXJlIGhhbmRsZWQgaGVyZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBwX21lIC0gVGhlIHVzZXIgaWRlbnRpZmllclxuICovXG5jb25zdCByZWFjaCA9IGZ1bmN0aW9uIChwX21lLCBkYXRhcmVmcykge1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHVzZXIgaWRlbnRpZmllci4gVGhpcyBpZGVudGlmaWVyIHdpbGwgYmUgdXNlIHRvIGNyZWF0ZSBhIGRlZGljYXRlZCBub2RlIGluIHRoZSBkYXRhYmFzZSBmb3IgdGhpcyB1c2VyLlxuXHQgKi9cblx0Y29uc3QgbWUgPSBwX21lO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBkYXRhIHJlZiBwb2ludGVyIGZvciB0aGUgcmVhY2ggcGFydC4gSXQgY2FuIGJlIGNvbnNpZGVyZWQgYXMgYSBwb2ludGVyIHRvIHRoZSBkYXRhYmFzZSB0byB1c2UgdG8gbmF2aWdhdGUgaW50byBpdCBhbmQgbW9kaWZ5IGl0cyBjb250ZW50LlxuXHQgKi9cblx0Y29uc3QgZGF0YXJlZiA9IGRhdGFyZWZzLmdldFJlYWNoKCk7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQ2FsbGJhY2sgaGFuZGxpbmcgdGhlIHVzZXIgYWRkaW5nXG5cdCAqL1xuXHRsZXQgb25Vc2VyQWRkZWRDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQ2FsbGJhY2sgaGFuZGxpbmcgdGhlIHVzZXIgY2hhbmdlc1xuXHQgKi9cblx0bGV0IG9uVXNlckNoYW5nZWRDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQ2FsbGJhY2sgaGFuZGxpbmcgdGhlIHVzZXIgcmVtb3ZhbFxuXHQgKi9cblx0bGV0IG9uVXNlclJlbW92ZWRDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQ2FsbGJhY2sgZm9yIG5ldyBJbnZpdGUgcmVjZWl2ZWRcblx0ICovXG5cdGxldCBuZXdJbnZpdGVDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQ2FsbGJhY2sgZm9yIEludml0ZSByZWNlaXZlZCBjaGFuZ2VzXG5cdCAqL1xuXHRsZXQgb25Sb29tSW52aXRlQ2hhbmdlZENiID0gbnVsbDtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIGFycmF5IGNvbnRhaW5pbmcgYWxsIG91dGdvaW5nIEludml0ZVxuXHQgKi9cblx0bGV0IG1PdXRnb2luZ0ludml0ZXMgPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIGFsbCBpbmNvbWluZyBJbnZpdGF0aW9uXG5cdCAqL1xuXHRsZXQgbUluY29taW5nSW52aXRhdGlvbiA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIHRoZSB0aW1lb3V0IHRvIHJlamVjdCBhdXRvbWF0aWNhbGx5IHRoZSBJbnZpdGVcblx0ICovXG5cdGxldCBhdXRvbWF0aWNSZWplY3RUaW1lT3V0ID0gbnVsbDtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIHRoZSByZWFzb24gdG8gcmVqZWN0IGF1dG9tYXRpY2FsbHkgdGhlIEludml0ZVxuXHQgKi9cblx0bGV0IGF1dG9tYXRpY1JlamVjdFJlYXNvbiA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiB0aGUgY3VycmVudCBkZXZpY2UgSWRcblx0ICovXG5cdGxldCBtRGV2aWNlSWQgPSBudWxsO1xuXG5cdC8qKlxuXHQqIEluaXRpYWxpc2F0aW9uIGZ1bmN0aW9uLiBVcGRhdGVzIHRoZSBkYXRhcmVmIGFib3V0IHRoZSB1c2VyIGlkZW50aWZpZXIgaW4gdGhlIHVzZXIgbGlzdCA6XG5cdCogaXQgd2lsbCBkaXNjb25uZWN0IGFuZCByZWNvbm5lY3QgaXQuXG5cdCovXG5cdGZ1bmN0aW9uIGluaXQoKSB7XG5cdFx0bURldmljZUlkID0gZGF0YXJlZi5jaGlsZChgdXNlckxpc3QvJHttZX0vY29ubmVjdGVkTGlzdC8ke3V0aWxzLmFwcEluc3RhbmNlSWR9YCk7XG5cdFx0bURldmljZUlkLm9uRGlzY29ubmVjdCgpLnJlbW92ZSgpO1xuXHRcdG1EZXZpY2VJZC5jaGlsZCgnc3RhdHVzJykuc2V0KERFVklDRV9TVEFUVVNfQ09OTkVDVEVEKTtcblx0XHR0cnkge1xuXHRcdFx0Y29uc3QgZGVzY3JpcHRpb24gPSBtRGV2aWNlSWQuY2hpbGQoJ2Rlc2NyaXB0aW9uJyk7XG5cdFx0XHRpZiAodXRpbHMuYXBwSW5zdGFuY2VJZCkge1xuXHRcdFx0XHRkZXNjcmlwdGlvbi5jaGlsZCgnYXBwSW5zdGFuY2VJZCcpLnNldCh1dGlscy5hcHBJbnN0YW5jZUlkKTtcblx0XHRcdH1cblxuXHRcdFx0Y29uc3Rcblx0XHRcdFx0bmF2aWdhdG9yRGF0YSA9IHt9LFxuXHRcdFx0XHRwcm9wZXJ0aWVzID0gW1xuXHRcdFx0XHRcdCdhcHBDb2RlTmFtZScsXG5cdFx0XHRcdFx0J2FwcE5hbWUnLFxuXHRcdFx0XHRcdCdhcHBWZXJzaW9uJyxcblx0XHRcdFx0XHQnYnVpbGRJRCcsXG5cdFx0XHRcdFx0J2Nvb2tpZUVuYWJsZWQnLFxuXHRcdFx0XHRcdCdsYW5ndWFnZScsXG5cdFx0XHRcdFx0J29uTGluZScsXG5cdFx0XHRcdFx0J29zY3B1Jyxcblx0XHRcdFx0XHQncGxhdGZvcm0nLFxuXHRcdFx0XHRcdCdwcm9kdWN0Jyxcblx0XHRcdFx0XHQncHJvZHVjdFN1YicsXG5cdFx0XHRcdFx0J3NlY3VyaXR5UG9saWN5Jyxcblx0XHRcdFx0XHQndXNlckFnZW50Jyxcblx0XHRcdFx0XHQndmVuZG9yJyxcblx0XHRcdFx0XHQndmVuZG9yU3ViJ1xuXHRcdFx0XHRdO1xuXHRcdFx0cHJvcGVydGllcy5mb3JFYWNoKChwcm9wZXJ0eSkgPT4ge1xuXHRcdFx0XHRpZihuYXZpZ2F0b3JbcHJvcGVydHldKSB7XG5cdFx0XHRcdFx0bmF2aWdhdG9yRGF0YVtwcm9wZXJ0eV0gPSBuYXZpZ2F0b3JbcHJvcGVydHldO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHRcdGRlc2NyaXB0aW9uLmNoaWxkKCduYXZpZ2F0b3InKS5zZXQobmF2aWdhdG9yRGF0YSk7XG5cblx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OnJlYWNoOjppbml0KWZhaWxlZCB0byBnZXQgaW5mb3JtYXRpb24gYWJvdXQgZGV2aWNlLiBlcnJvcj0ke2V9YCk7XG5cdFx0fVxuXHRcdGRhdGFyZWYuY2hpbGQoYHVzZXJMaXN0LyR7bWV9L3dhc0luc2lkZVJlYWNoYCkuc2V0KHRydWUpO1xuXHR9XG5cblx0LyoqXG5cdCAqIGNoZWNrIGlmIGEgdXNlciBpcyBjb25uZWN0ZWRcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBfdXNlcklkIC0gdGhlIHVzZXIgSWRcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIHRoZSBjYWxsYmFjayB0cmlnZ2VycyB0byByZXR1cm4gdGhlIHJlc3VsdC4gVGhlIHJlc3VsdCB3aWxsIGJlIHBhc3NlZCBpbiBwYXJhbWV0ZXIgYXMgYm9vbGVhbiA6IHRydWUgPSBjb25uZWN0ZWQgLyBmYWxzZSA9IG5vdCBjb25uZWN0ZWRcblx0ICovXG5cdGZ1bmN0aW9uIF9pc0Nvbm5lY3RlZChwX3VzZXJJZCxwX2NiKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9pc0Nvbm5lY3RlZCl1c2VySWQ6ICR7cF91c2VySWR9YCk7XG5cdFx0ZGF0YXJlZi5jaGlsZChgdXNlckxpc3QvJHtwX3VzZXJJZH0vY29ubmVjdGVkTGlzdGApLm9uY2UoJ3ZhbHVlJywgKHNuYXBzaG90KSA9PiB7XG5cdFx0XHQvLyBvblVzZXJDb25uZWN0ZWRDYi4gVXNlciBpcyBjb25uZWN0ZWQgaWYgc25hcHNob3QgdmFsdWUgaXMgbm90IG51bGxcblx0XHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0cF9jYihzbmFwc2hvdC52YWwoKSAhPT0gbnVsbCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH1cblxuXHQvKipcblx0ICogY2hlY2sgaWYgYSB1c2VyIGlzIHJlZ2lzdGVyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3VzZXJJZCAtIHRoZSB1c2VyIElkXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSB0aGUgY2FsbGJhY2sgdHJpZ2dlcnMgdG8gcmV0dXJuIHRoZSByZXN1bHQuIFRoZSByZXN1bHQgd2lsbCBiZSBwYXNzZWQgaW4gcGFyYW1ldGVyIGFzIGJvb2xlYW4gOiB0cnVlID0gcmVnaXN0ZXJlZCAvIGZhbHNlID0gbm90IHJlZ2lzdGVyZWRcblx0ICovXG5cdGZ1bmN0aW9uIF9pc1JlZ2lzdGVyZWQocF91c2VySWQscF9jYikge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfaXNSZWdpc3RlcmVkKXVzZXJJZDogJHtwX3VzZXJJZH1gKTtcblx0XHRkYXRhcmVmLmNoaWxkKGB1c2VyTGlzdC8ke3BfdXNlcklkfS93YXNJbnNpZGVSZWFjaGApLm9uY2UoJ3ZhbHVlJywgKHNuYXBzaG90KSA9PiB7XG5cdFx0XHQvLyBvblVzZXJSZWdpc3RlcmVkQ2IuIFVzZXIgaXMgcmVnaXN0ZXJlZCBpZiBzbmFwc2hvdCB2YWx1ZSBpcyBub3QgbnVsbFxuXHRcdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRwX2NiKHNuYXBzaG90LnZhbCgpICE9PSBudWxsKTtcblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBzZXQgdGhlIGRldmljZSBzdGF0dXMgKERFVklDRV9TVEFUVVNfQ09OTkVDVEVEKVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF9zdGF0dXMgLSB0aGUgbmV3IHN0YXR1c1xuXHQgKi9cblx0ZnVuY3Rpb24gX3NldENvbm5lY3RlZFN0YXR1cyhwX3N0YXR1cykge1xuXHRcdGlmIChtRGV2aWNlSWQpIHtcblx0XHRcdG1EZXZpY2VJZC5jaGlsZCgnc3RhdHVzJykuc2V0KHBfc3RhdHVzKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIGEgbmV3IHVzZXIgaXMgYWRkZWRcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFjayB0byB1c2Vcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRPblVzZXJBZGRlZChwX2NiKSB7XG5cdFx0aWYgKG9uVXNlckFkZGVkQ2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3VzZXJMaXN0Jykub2ZmKCdjaGlsZF9hZGRlZCcsIG9uVXNlckFkZGVkQ2IpO1xuXHRcdFx0b25Vc2VyQWRkZWRDYiA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdG9uVXNlckFkZGVkQ2IgPSBmdW5jdGlvbihzbmFwc2hvdCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6b25Vc2VyQWRkZWRDYikgJHtzbmFwc2hvdC5uYW1lKCl9PSR7SlNPTi5zdHJpbmdpZnkoc25hcHNob3QudmFsKCkpfWApO1xuXHRcdFx0XHRjb25zdCBvYmogPSB7fTtcblx0XHRcdFx0b2JqW3NuYXBzaG90Lm5hbWUoKV0gPSBzbmFwc2hvdC52YWwoKTtcblx0XHRcdFx0cF9jYihvYmopO1xuXHRcdFx0fTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3VzZXJMaXN0Jykub24oJ2NoaWxkX2FkZGVkJywgb25Vc2VyQWRkZWRDYik7XG5cdFx0fVxuXHR9XG5cdC8qKlxuXHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gdGhlIHVzZXIgaGFzIGNoYW5nZWRcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFjayB0byB1c2Vcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRPblVzZXJDaGFuZ2VkKHBfY2IpIHtcblx0XHRpZiAob25Vc2VyQ2hhbmdlZENiKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCd1c2VyTGlzdCcpLm9mZignY2hpbGRfY2hhbmdlZCcsIG9uVXNlckNoYW5nZWRDYik7XG5cdFx0XHRvblVzZXJDaGFuZ2VkQ2IgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRvblVzZXJDaGFuZ2VkQ2IgPSBmdW5jdGlvbihzbmFwc2hvdCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6b25Vc2VyQ2hhbmdlZENiKSAke3NuYXBzaG90Lm5hbWUoKX09JHtKU09OLnN0cmluZ2lmeShzbmFwc2hvdC52YWwoKSl9YCk7XG5cdFx0XHRcdGNvbnN0IG9iaiA9IHt9O1xuXHRcdFx0XHRvYmpbc25hcHNob3QubmFtZSgpXT1zbmFwc2hvdC52YWwoKTtcblx0XHRcdFx0cF9jYihvYmopO1xuXHRcdFx0fTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3VzZXJMaXN0Jykub24oJ2NoaWxkX2NoYW5nZWQnLCBvblVzZXJDaGFuZ2VkQ2IpO1xuXHRcdH1cblxuXHR9XG5cdC8qKlxuXHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSB1c2VyIGhhcyBiZWVuIHJlbW92ZWQuXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2sgdG8gdXNlXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0T25Vc2VyUmVtb3ZlZChwX2NiKSB7XG5cdFx0aWYgKG9uVXNlclJlbW92ZWRDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vZmYoJ2NoaWxkX3JlbW92ZWQnLG9uVXNlclJlbW92ZWRDYik7XG5cdFx0XHRvblVzZXJSZW1vdmVkQ2IgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRvblVzZXJSZW1vdmVkQ2IgPSBmdW5jdGlvbihzbmFwc2hvdCkge1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6b25Vc2VyUmVtb3ZlZENiKSAke3NuYXBzaG90Lm5hbWUoKX09JHtKU09OLnN0cmluZ2lmeShzbmFwc2hvdC52YWwoKSl9YCk7XG5cdFx0XHRcdGNvbnN0IG9iaiA9IHt9O1xuXHRcdFx0XHRvYmpbc25hcHNob3QubmFtZSgpXT1zbmFwc2hvdC52YWwoKTtcblx0XHRcdFx0cF9jYihvYmopO1xuXHRcdFx0fTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3VzZXJMaXN0Jykub24oJ2NoaWxkX3JlbW92ZWQnLG9uVXNlclJlbW92ZWRDYik7XG5cdFx0fVxuXG5cdH1cblxuXHQvKipcblx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIGEgcm9vbSBJbnZpdGUgaGFzIGJlZW4gcmVjZWl2ZWQuXG5cdCAqIE90aGVyIGNhbGxiYWNrcyB3aWxsIGJlIHRyaWdnZXJlZCBhYm91dCBJbnZpdGUgbGlzdHMuXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfb25OZXdSb29tSW52aXRlQ2IgLSBUaGUgY2FsbGJhY2sgdHJpZ2dlcnMgd2hlbiBhIEludml0ZSBpcyByZWNlaXZlZCAoc3RhdHVzID0gb24gZ29pbmcpXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0T25OZXdSb29tSW52aXRhdGlvbihwX29uTmV3Um9vbUludml0ZUNiKSB7XG5cblx0XHRpZiAobmV3SW52aXRlQ2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0LyR7bWV9YCkub2ZmKCdjaGlsZF9hZGRlZCcsbmV3SW52aXRlQ2IpO1xuXHRcdFx0bmV3SW52aXRlQ2IgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChwX29uTmV3Um9vbUludml0ZUNiICYmIHR5cGVvZiBwX29uTmV3Um9vbUludml0ZUNiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdG5ld0ludml0ZUNiID0gKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRcdGlmIChzbmFwc2hvdC52YWwoKS5zdGF0dXM9PT0gSU5WSVRBVElPTl9PTkdPSU5HKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9zZXRPbk5ld1Jvb21JbnZpdGF0aW9uKW5ldyBJbnZpdGUgcmVjZWl2ZWQsaWQpICR7c25hcHNob3QubmFtZSgpfSxjb250ZW50PSR7SlNPTi5zdHJpbmdpZnkoc25hcHNob3QudmFsKCkpfWApO1xuXHRcdFx0XHRcdGNvbnN0IGludml0YXRpb25JZCA9IHNuYXBzaG90Lm5hbWUoKTtcblx0XHRcdFx0XHRpZiAoIW1JbmNvbWluZ0ludml0YXRpb24pIHtcblx0XHRcdFx0XHRcdG1JbmNvbWluZ0ludml0YXRpb24gPSBbXTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKG1JbmNvbWluZ0ludml0YXRpb25baW52aXRhdGlvbklkXSkge1xuXHRcdFx0XHRcdFx0aWYgKG1JbmNvbWluZ0ludml0YXRpb25baW52aXRhdGlvbklkXS50aW1lb3V0KSB7XG5cdFx0XHRcdFx0XHRcdGNsZWFyVGltZW91dChtSW5jb21pbmdJbnZpdGF0aW9uW2ludml0YXRpb25JZF0udGltZW91dCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRkZWxldGUgbUluY29taW5nSW52aXRhdGlvbltpbnZpdGF0aW9uSWRdO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRtSW5jb21pbmdJbnZpdGF0aW9uW2ludml0YXRpb25JZF09e307XG5cblx0XHRcdFx0XHRjb25zdCBvYmogPSB7fTtcblx0XHRcdFx0XHRvYmpbaW52aXRhdGlvbklkXSA9IHNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRcdHBfb25OZXdSb29tSW52aXRlQ2Iob2JqKTtcblxuXHRcdFx0XHRcdGNvbnN0IGludml0YXRpb25SZWYgPSBkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdC8ke21lfS8ke2ludml0YXRpb25JZH1gKTtcblxuXHRcdFx0XHRcdGlmIChhdXRvbWF0aWNSZWplY3RUaW1lT3V0KSB7XG5cdFx0XHRcdFx0XHRtSW5jb21pbmdJbnZpdGF0aW9uW2ludml0YXRpb25JZF0udGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRpZiAoYXV0b21hdGljUmVqZWN0VGltZU91dCkge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfc2V0T25OZXdSb29tSW52aXRhdGlvbilhdXRvbWF0aWMgcmVqZWN0IG9mIEludml0ZSByZWNlaXZlZD0ke0pTT04uc3RyaW5naWZ5KHNuYXBzaG90LnZhbCgpKX1gKTtcblx0XHRcdFx0XHRcdFx0XHRpbnZpdGF0aW9uUmVmLm9uRGlzY29ubmVjdCgpLmNhbmNlbCgpO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChhdXRvbWF0aWNSZWplY3RSZWFzb24pIHtcblx0XHRcdFx0XHRcdFx0XHRcdGludml0YXRpb25SZWYudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGltZXN0YW1wX2VuZDogV2ViY29tLlNlcnZlclZhbHVlLlRJTUVTVEFNUCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0c3RhdHVzOiBJTlZJVEFUSU9OX1JFSkVDVEVELFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdGF0dXNfaW5mbzogYXV0b21hdGljUmVqZWN0UmVhc29uXG5cdFx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0aW52aXRhdGlvblJlZi51cGRhdGUoe1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aW1lc3RhbXBfZW5kOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QLFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzdGF0dXM6IElOVklUQVRJT05fUkVKRUNURURcblx0XHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fSwgYXV0b21hdGljUmVqZWN0VGltZU91dCk7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0aW52aXRhdGlvblJlZi5vbmNlKCdjaGlsZF9jaGFuZ2VkJywgKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRcdFx0XHRpZihzbmFwc2hvdCAmJiBzbmFwc2hvdC5uYW1lKCkgPT09ICdzdGF0dXMnKSB7XG5cdFx0XHRcdFx0XHRcdHNuYXBzaG90LnJlZigpLnBhcmVudCgpLm9uY2UoJ3ZhbHVlJywgKHNuYXBzaG90MikgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGxldCBjYl9pbnZpdGF0aW9uSWQsY2Jfb2JqX2NvbnRlbnQ7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKHNuYXBzaG90Mikge1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2JfaW52aXRhdGlvbklkID0gc25hcHNob3QucmVmKCkucGFyZW50KCkubmFtZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2Jfb2JqX2NvbnRlbnQ9IHNuYXBzaG90Mi52YWwoKTtcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnN0IGNiX29iaiA9IHt9O1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2Jfb2JqW2NiX2ludml0YXRpb25JZF0gPSBjYl9vYmpfY29udGVudDtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChtSW5jb21pbmdJbnZpdGF0aW9uICYmIG1JbmNvbWluZ0ludml0YXRpb25bY2JfaW52aXRhdGlvbklkXSAmJiBtSW5jb21pbmdJbnZpdGF0aW9uW2NiX2ludml0YXRpb25JZF0udGltZW91dCkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjbGVhclRpbWVvdXQobUluY29taW5nSW52aXRhdGlvbltjYl9pbnZpdGF0aW9uSWRdLnRpbWVvdXQpO1xuXHRcdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9zZXRPbk5ld1Jvb21JbnZpdGF0aW9uKUludml0ZSBjaGFuZ2VkLGlkPSkgJHtjYl9pbnZpdGF0aW9uSWR9LCBuZXcgY29udGVudD0ke0pTT04uc3RyaW5naWZ5KGNiX29ial9jb250ZW50KX1gKTtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChjYl9vYmogJiYgb25Sb29tSW52aXRlQ2hhbmdlZENiICkge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRvblJvb21JbnZpdGVDaGFuZ2VkQ2IoY2Jfb2JqKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdGRlbGV0ZSBtSW5jb21pbmdJbnZpdGF0aW9uW2NiX2ludml0YXRpb25JZF07XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0ZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3QvJHttZX1gKS5vbignY2hpbGRfYWRkZWQnLCBuZXdJbnZpdGVDYik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIHJvb20gSW52aXRlIGhhcyBiZWVuIGNoYW5nZWQuXG5cdCAqIE90aGVyIGNhbGxiYWNrcyB3aWxsIGJlIHRyaWdnZXJlZCBhYm91dCBJbnZpdGUgbGlzdHMuXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfb25Sb29tSW52aXRlQ2hhbmdlZENiIC0gVGhlIGNhbGxiYWNrIHRyaWdnZXJzIHdoZW4gdGhlIHNhdHVzIG9uIHRoZSBJbnZpdGUgcmVjZWl2ZWQgaGFzIGNoYW5nZWQgKHN0YXR1cyA9IGFjY2VwdGVkL3JlamVjdGVkL2NhbmNlbGVkKVxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE9uUm9vbUludml0YXRpb25DaGFuZ2VkKHBfb25Sb29tSW52aXRlQ2hhbmdlZENiKSB7XG5cblx0XHRpZiAob25Sb29tSW52aXRlQ2hhbmdlZENiKSB7XG5cdFx0XHRvblJvb21JbnZpdGVDaGFuZ2VkQ2IgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChwX29uUm9vbUludml0ZUNoYW5nZWRDYiAmJiB0eXBlb2YgcF9vblJvb21JbnZpdGVDaGFuZ2VkQ2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0b25Sb29tSW52aXRlQ2hhbmdlZENiID0gcF9vblJvb21JbnZpdGVDaGFuZ2VkQ2I7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIERlZmluZXMgYSB0aW1lb3V0IHRvIHJlamVjdCBhdXRvbWF0aWNhbGx5IHRoZSBpbmNvbWluZyBJbnZpdGVcblx0ICogQHBhcmFtIHtpbnRlZ2VyfSBwX3RpbWVvdXQgLSBUaGUgZGVsYXlcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBfcmVhc29uIC0gb3B0aW9uYWwgaW5mbyBhYm91dCB0aGUgcmVqZWN0XG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0TmV3Um9vbUludml0YXRpb25UaW1lb3V0KHBfdGltZW91dCxwX3JlYXNvbikge1xuXHRcdGlmIChhdXRvbWF0aWNSZWplY3RUaW1lT3V0KSB7XG5cdFx0XHRhdXRvbWF0aWNSZWplY3RUaW1lT3V0ID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKGF1dG9tYXRpY1JlamVjdFJlYXNvbikge1xuXHRcdFx0YXV0b21hdGljUmVqZWN0UmVhc29uID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocF90aW1lb3V0XHQmJiBwX3RpbWVvdXQgPT09IHBhcnNlSW50KHBfdGltZW91dCwgMTApICYmIHBfdGltZW91dD4wKSB7XG5cdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X3NldE5ld1Jvb21JbnZpdGF0aW9uVGltZW91dCl0aW1lb3V0PSR7cF90aW1lb3V0fWApO1xuXHRcdFx0YXV0b21hdGljUmVqZWN0VGltZU91dD1wX3RpbWVvdXQ7XG5cdFx0fVxuXHRcdGlmIChwX3JlYXNvbikge1xuXHRcdFx0YXV0b21hdGljUmVqZWN0UmVhc29uPXBfcmVhc29uO1xuXHRcdH1cblx0fVxuXG5cblx0LyoqXG5cdCAqIHRlc3QgaWYgcF91c2VyICBpcyBhbHJlYWR5IHByZXNlbnQgaW4gdGhlIHBhcnRpY2lwYW50IGxpc3Qgb2YgdGhlIHJvb20gcF9yb29tSWRcblx0ICpcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBfcm9vbUlkIC0gVGhlIHJvb20gdXNlZCBhcyB0aGUgbmFtZSBvZiBhIGJyYW5jaCBpcyB0aGUgZGF0YWJhc2Vcblx0ICogQHBhcmFtIHtzdHJpbmd9IHBfdXNlciAtIFRoZSB1c2VyIElkXG5cdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gdG8gdGlnZ2VyIHRvIGdldCB0aGUgcmVzdWx0LiBJdCB3aWxsIGNvbnRhaW50cyBhIHBhcmFtZXRlciA9IHRydWUgaXMgYWxyZWFkeSBwcmVzZW50LCBmYWxzZSBlaXRoZXIuXG5cdCAqL1xuXHRmdW5jdGlvbiBfaXNVc2VyUHJlc2VudEluUm9vbShwX3Jvb21JZCxwX3VzZXIscF9jYikge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfaXNVc2VyUHJlc2VudEluUm9vbSlwX3Jvb21JZD0ke3Bfcm9vbUlkfSBwX3VzZXI9JHtwX3VzZXJ9YCk7XG5cdFx0aWYgKCEocF9yb29tSWQgJiYgdHlwZW9mIHBfcm9vbUlkID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6X2lzVXNlclByZXNlbnRJblJvb20pcGFyYW1ldGVyIHBfcm9vbWlkIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmcnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCEocF91c2VyICYmIHR5cGVvZiBwX3VzZXIgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjpfaXNVc2VyUHJlc2VudEluUm9vbSlwYXJhbWV0ZXIgcF91c2VyIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmcnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCEocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6X2lzVXNlclByZXNlbnRJblJvb20pcGFyYW1ldGVyIHBfY2IgaXMgaW5jb3JyZWN0LiBpZiBkZWZpbmVkLCBleHBlY3RpbmcgYSBmdW5jdGlvbicpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRkYXRhcmVmcy5nZXRSb29tcygpLmNoaWxkKGAke3Bfcm9vbUlkfS9wYXJ0aWNpcGFudExpc3QvJHtwX3VzZXJ9L3dhc0luc2lkZVJvb21gKS5vbmNlKCd2YWx1ZScsIChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0Y29uc3Qgd2FzUHJlc2VudCA9IChzbmFwc2hvdC52YWwoKSAhPT0gbnVsbCk7XG5cdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2lzVXNlclByZXNlbnRJblJvb20pcF9yb29tSWQ9JHtwX3Jvb21JZH0scF91c2VyPSR7cF91c2VyfSxyZXN1bHQ9JHt3YXNQcmVzZW50fWApO1xuXHRcdFx0cF9jYih3YXNQcmVzZW50LCBwX3Jvb21JZCwgcF91c2VyKTtcblx0XHR9KTtcblxuXHR9XG5cblxuXHQvKipcblx0ICogQ2FuY2VscyB0aGUgSW52aXRlXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3Jvb21JZCAtIFRoZSByb29tIElkIG9mIHRoZSBJbnZpdGVcblx0ICogQHBhcmFtIHthcnJheVtzdGluZ119IHBfZ3Vlc3RJZHMgLSBvcHRpb25hbCA6IEFuIGFycmF5IHBvc3Nlc3NpbmcgdGhlIGlkZW50aWZpZXJzIG9mIHRoZSBpbnZpdGVlcy4gKGlmIHVuZGVmaW5lZCAsICBhbGwgaW52aXRlZSB3aWxsIGhhdmUgdGhlaXIgSW52aXRlIGNhbmNlbGVkKVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaW52aXRlSWQgLSBUaGUgaW52aXRlIGlkZW50aWZpZXJcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiB0aGUgb3BlcmF0aW9uIGlzIGNvbXBsZXRlIC4gdGhpcyBjYWxsYmFjayB3aWxsIGNvbnRhaW50IGFzIHBhcmFtZXRlciB0aGUgcmVsYXRlZCBndWVzdElkXG5cdCAqL1xuXHRmdW5jdGlvbiBfY2FuY2VsSW52aXRhdGlvbihwX3Jvb21JZCwgcF9ndWVzdElkcywgcF9jYikge1xuXHRcdGlmICghKHBfcm9vbUlkICYmIHR5cGVvZiBwX3Jvb21JZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Ol9jYW5jZWxJbnZpdGF0aW9uKXBhcmFtZXRlciBwX3Jvb21pZCBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChwX2d1ZXN0SWRzICYmICEgcF9ndWVzdElkcyBpbnN0YW5jZW9mIEFycmF5ICkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6X2NhbmNlbEludml0YXRpb24pcGFyYW1ldGVyIHBfZ3Vlc3RJZHMgaXMgaW5jb3JyZWN0LiBFeHBlY3RpbmcgYW4gQXJyYXknKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc29sZS5sb2coYCAoUmVhY2hTREs6OnJlYWNoOjpfY2FuY2VsSW52aXRhdGlvbilwX3Jvb21JZD0ke3Bfcm9vbUlkfSwgcF9ndWVzdElkcz0ke0pTT04uc3RyaW5naWZ5KHBfZ3Vlc3RJZHMpfWApO1xuXHRcdGlmIChtT3V0Z29pbmdJbnZpdGVzICYmIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdKSB7XG5cdFx0XHRpZiAocF9ndWVzdElkcykge1xuXHRcdFx0XHRwX2d1ZXN0SWRzLmZvckVhY2goKGd1ZXN0SWQsIGkpID0+IHtcblx0XHRcdFx0XHRpZiAoIShndWVzdElkICYmIHR5cGVvZiBndWVzdElkID09ICdzdHJpbmcnKSkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tKXBhcmFtZXRlciBwX2d1ZXN0SWRzWyR7aX1dIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmdgKTtcblx0XHRcdFx0XHR9IGVsc2UgaWYgKG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2d1ZXN0SWRdKSB7XG5cdFx0XHRcdFx0XHRpZiAobU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bZ3Vlc3RJZF0uSW52aXRlRGF0YXJlZikge1xuXHRcdFx0XHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtndWVzdElkXS5JbnZpdGVEYXRhcmVmLm9uRGlzY29ubmVjdCgpLmNhbmNlbCgpO1xuXHRcdFx0XHRcdFx0XHRpZiAobU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bZ3Vlc3RJZF0uSW52aXRlQ2hhbmdlZENiICYmIHR5cGVvZiBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtndWVzdElkXS5JbnZpdGVDaGFuZ2VkQ2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2d1ZXN0SWRdLkludml0ZURhdGFyZWYub2ZmKCdjaGlsZF9jaGFuZ2VkJywgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bZ3Vlc3RJZF0uSW52aXRlQ2hhbmdlZENiKTtcblx0XHRcdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2d1ZXN0SWRdLkludml0ZURhdGFyZWYub25jZSgndmFsdWUnLCAoZGF0YVNuYXBzaG90KSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0bGV0IGNiX3N0YXR1cywgY2JfZ3Vlc3RJZCwgY2Jfcm9vbUlkO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChkYXRhU25hcHNob3QgJiYgZGF0YVNuYXBzaG90LnZhbCgpKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYl9zdGF0dXM9IGRhdGFTbmFwc2hvdC52YWwoKS5zdGF0dXM7XG5cdFx0XHRcdFx0XHRcdFx0XHRjYl9yb29tSWQ9IGRhdGFTbmFwc2hvdC52YWwoKS5yb29tO1xuXHRcdFx0XHRcdFx0XHRcdFx0Y2JfZ3Vlc3RJZD0gZGF0YVNuYXBzaG90LnJlZigpLnBhcmVudCgpLm5hbWUoKTtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChjYl9zdGF0dXMgJiYgY2Jfc3RhdHVzPT09SU5WSVRBVElPTl9PTkdPSU5HKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXS5JbnZpdGVEYXRhcmVmLnVwZGF0ZSh7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0dGltZXN0YW1wX2VuZDogV2ViY29tLlNlcnZlclZhbHVlLlRJTUVTVEFNUCxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzdGF0dXM6IElOVklUQVRJT05fQ0FOQ0VMRURcblx0XHRcdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0uc3RhdHVzQ2hhbmdlZENiICYmIHR5cGVvZiBtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0uc3RhdHVzQ2hhbmdlZENiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0uc3RhdHVzQ2hhbmdlZENiKGNiX3Jvb21JZCwgY2JfZ3Vlc3RJZCwgSU5WSVRBVElPTl9DQU5DRUxFRCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9jYW5jZWxJbnZpdGF0aW9uKWRlbGV0aW5nIEludml0ZSB0byByb29tICR7Y2Jfcm9vbUlkfSBmb3IgaW52aXRlZSAke2NiX2d1ZXN0SWR9YCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLndhcm4oYChSZWFjaFNESzo6cmVhY2g6Ol9jYW5jZWxJbnZpdGF0aW9uKWNhbm5vdCBkZWxldGUgaW50aXZhdGlvbiB0byByb29tICR7Y2Jfcm9vbUlkfSBmb3IgZ3Vlc3QgJHtjYl9ndWVzdElkfSBJbnZpdGF0aW9uIGhhcyBiZWVuIHJlbW92ZWQvcmVqZWN0ZWQvYWNjZXB0ZWRgKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0ZGVsZXRlIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2d1ZXN0SWRdO1xuXHRcdFx0XHRcdFx0XHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiPT0nZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRwX2NiKGd1ZXN0SWQpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdGRlbGV0ZSBtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVtndWVzdElkXTtcblx0XHRcdFx0XHRcdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0XHRwX2NiKGd1ZXN0SWQpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0cF9jYihndWVzdElkKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRPYmplY3Qua2V5cyhtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXSkuZm9yRWFjaCgoaW52aXRlZSkgPT4ge1xuXHRcdFx0XHRcdF9jYW5jZWxJbnZpdGF0aW9uKHBfcm9vbUlkLCBbaW52aXRlZV0sIHBfY2IpO1xuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OnJlYWNoOjpfY2FuY2VsSW52aXRhdGlvbikgSW52aXRlIHRvIHJvb20gJHtwX3Jvb21JZH0gbm90IGZvdW5kYCk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEdhdGhlciB0aGUgaW52aXRlZXMgdG8gdGhlIHJvb20uXG5cdCAqIERlZmluZXMgYSBjYWxsYmFjayB0byB0cmlnZ2VyIGZvciBJbnZpdGUgY2hhbmdlcywgYW5kIGNhbGxzIGNhbGxiYWNrcyBmb3Igcm9vbSBpbnZpdGUgYWNjZXB0YXRpb24gb3IgcmVmdXNlLlxuXHQgKiBGb3IgZWFjaCBpbnZpdGVlIGEgbm9kZSBpcyBjcmVhdGVkIGluIHRoZSBkYXRhYmFzZSBhYm91dCB0aGUgSW52aXRlIGxpc3QuXG5cdCAqIEluIGFkZHRpb24sIGEgbm9kZSBpcyBjcmVhdGVkIHRvbyBmb3IgZWFjaCBpbnZpdGVlIGFib3V0IHRoZSBwYXJ0aWNpcGFudExpc3QuXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3Jvb21JZCAtIFRoZSByb29tIHVzZWQgYXMgdGhlIG5hbWUgb2YgYSBicmFuY2ggaXMgdGhlIGRhdGFiYXNlXG5cdCAqIEBwYXJhbSB7YXJyYXlbc3RpbmddfSBwX2d1ZXN0SWRzIC0gQW4gYXJyYXkgcG9zc2Vzc2luZyB0aGUgaWRlbnRpZmllcnMgb2YgdGhlIGludml0ZWVzXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3RvcGljIC0gY3VzdG9tIG1lc3NhZ2UgZm9yIGludml0YXRpb25cblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9zdGF0dXNDaGFuZ2VkQ2IgLSBvcHRpb25hbCA6IGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gYW4gaW52aXRlZSBhY2NlcHRzL3JlamVjdGVkL2NhbmNlbGVkIHRoZSBJbnZpdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9pbnZpdGVUb1Jvb20ocF9yb29tSWQsIHBfZ3Vlc3RJZHMsIHBfdG9waWMscF9zdGF0dXNDaGFuZ2VkQ2IpIHtcblx0XHRpZiAoIShwX3Jvb21JZCAmJiB0eXBlb2YgcF9yb29tSWQgPT0gJ3N0cmluZycpKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb20pcGFyYW1ldGVyIHBfcm9vbWlkIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmcnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCEocF90b3BpYyAmJiB0eXBlb2YgcF90b3BpYyA9PSAnc3RyaW5nJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbSlwYXJhbWV0ZXIgcF90b3BpYyBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmIChwX3N0YXR1c0NoYW5nZWRDYiAmJiB0eXBlb2YgcF9zdGF0dXNDaGFuZ2VkQ2IgIT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0Y29uc29sZS53YXJuKCcoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb20pcGFyYW1ldGVyIHBfc3RhdHVzQ2hhbmdlZENiIGlzIGluY29ycmVjdC4gaWYgZGVmaW5lZCwgZXhwZWN0aW5nIGEgZnVuY3Rpb24nKTtcblx0XHR9XG5cdFx0aWYgKCEocF9ndWVzdElkcyAmJiBwX2d1ZXN0SWRzIGluc3RhbmNlb2YgQXJyYXkgKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tKXBhcmFtZXRlciBwX2d1ZXN0SWRzIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIGFuIEFycmF5Jyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGRhdGFyZWZzLmdldFJvb21zKCkuY2hpbGQocF9yb29tSWQpLmNoaWxkKCdjb21tb25EYXRhTGlzdCcpLnVwZGF0ZSh7XG5cdFx0XHRzdGF0dXM6Uk9PTV9TVEFUVVNfT1BFTixcblx0XHRcdG93bmVyOm1lXG5cdFx0fSk7XG5cblxuXHRcdGNvbnN0IF9pc1VzZXJQcmVzZW50SW5Sb29tQ2IgPSAoaXNBbHJlYWR5UHJlc2VudCwgcF9yb29tSWQyLCBwX2d1ZXN0SWQyKSA9PiB7XG5cdFx0XHRpZiAoIWlzQWxyZWFkeVByZXNlbnQpIHtcblx0XHRcdFx0ZGF0YXJlZnMuZ2V0Um9vbXMoKS5jaGlsZChgJHtwX3Jvb21JZDJ9L3BhcnRpY2lwYW50TGlzdC8ke3BfZ3Vlc3RJZDJ9YCkudXBkYXRlKHtcblx0XHRcdFx0XHRjb25uZWN0ZWQ6IGZhbHNlLFxuXHRcdFx0XHRcdHdhc0luc2lkZVJvb206IGZhbHNlXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRjb25zdCBfSW52aXRlQ2hhbmdlZENiID0gKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tOjpfSW52aXRlQ2hhbmdlZENiKScpO1xuXHRcdFx0aWYoc25hcHNob3QgJiYgc25hcHNob3QubmFtZSgpPT09J3N0YXR1cycpIHtcblx0XHRcdFx0Y29uc3QgY2JfZ3Vlc3RJZDIgPSBzbmFwc2hvdC5yZWYoKS5wYXJlbnQoKS5wYXJlbnQoKS5uYW1lKCk7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb206Ol9JbnZpdGVDaGFuZ2VkQ2IpY2JfZ3Vlc3RJZDI9JHtjYl9ndWVzdElkMn1gKTtcblx0XHRcdFx0aWYgKG1PdXRnb2luZ0ludml0ZXMgJiYgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF0gJiYgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bY2JfZ3Vlc3RJZDJdICYmIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW2NiX2d1ZXN0SWQyXS5JbnZpdGVDaGFuZ2VkQ2IgKSB7XG5cdFx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bY2JfZ3Vlc3RJZDJdLkludml0ZURhdGFyZWYub2ZmKCdjaGlsZF9jaGFuZ2VkJywgbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bY2JfZ3Vlc3RJZDJdLkludml0ZUNoYW5nZWRDYik7XG5cdFx0XHRcdH1cblx0XHRcdFx0c25hcHNob3QucmVmKCkucGFyZW50KCkub25jZSgndmFsdWUnLChzbmFwc2hvdDIpID0+IHtcblx0XHRcdFx0XHRsZXQgY2Jfc3RhdHVzLCBjYl9ndWVzdElkLCBjYl9yb29tSWQsIGNiX3N0YXR1c19pbmZvO1xuXHRcdFx0XHRcdGlmIChzbmFwc2hvdDIpIHtcblx0XHRcdFx0XHRcdGNiX3N0YXR1cz0gc25hcHNob3QyLnZhbCgpLnN0YXR1cztcblx0XHRcdFx0XHRcdGNiX3Jvb21JZD0gc25hcHNob3QyLnZhbCgpLnJvb207XG5cdFx0XHRcdFx0XHRjYl9zdGF0dXNfaW5mbz0gc25hcHNob3QyLnZhbCgpLnN0YXR1c19pbmZvO1xuXHRcdFx0XHRcdFx0Y2JfZ3Vlc3RJZD0gc25hcHNob3QyLnJlZigpLnBhcmVudCgpLm5hbWUoKTtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb206Ol9JbnZpdGVDaGFuZ2VkQ2Ipcm9vbUlkPSR7Y2Jfcm9vbUlkfSBpbnZpdGVlPSR7Y2JfZ3Vlc3RJZH0gbmV3IGludml0YXRpb24gc3RhdHVzPSR7Y2Jfc3RhdHVzfSBzdGF0dXMgaW5mbz0ke2NiX3N0YXR1c19pbmZvfWApO1xuXHRcdFx0XHRcdFx0aWYgKG1PdXRnb2luZ0ludml0ZXMgJiYgbU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdICYmIG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXSAmJiBtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0uSW52aXRlRGF0YXJlZikge1xuXHRcdFx0XHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0uSW52aXRlRGF0YXJlZi5vbkRpc2Nvbm5lY3QoKS5jYW5jZWwoKTtcblx0XHRcdFx0XHRcdFx0Ly9pZiAobU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLkludml0ZVJlbW92ZUNiKVxuXHRcdFx0XHRcdFx0XHQvL1x0bU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdLkludml0ZURhdGFyZWYucGFyZW50KCkub2ZmKFwiY2hpbGRfcmVtb3ZlZFwiLG1PdXRnb2luZ0ludml0ZXNbY2Jfcm9vbUlkXVtjYl9ndWVzdElkXS5JbnZpdGVSZW1vdmVDYik7XG5cdFx0XHRcdFx0XHRcdGlmIChtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0uc3RhdHVzQ2hhbmdlZENiICYmIHR5cGVvZiBtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0uc3RhdHVzQ2hhbmdlZENiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW2NiX3Jvb21JZF1bY2JfZ3Vlc3RJZF0uc3RhdHVzQ2hhbmdlZENiKGNiX3Jvb21JZCxjYl9ndWVzdElkLGNiX3N0YXR1cyxjYl9zdGF0dXNfaW5mbyk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCcoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb206Ol9JbnZpdGVDaGFuZ2VkQ2IpY2Fubm90IHJldHJpZXZlIG1hdGhpbmcgcF9zdGF0dXNDaGFuZ2VkQ2InKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRkZWxldGUgbU91dGdvaW5nSW52aXRlc1tjYl9yb29tSWRdW2NiX2d1ZXN0SWRdO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0Y29uc29sZS53YXJuKCcoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb206Ol9JbnZpdGVDaGFuZ2VkQ2IpY2Fubm90IHJldHJpZXZlIG1hdGhpbmcgbU91dGdvaW5nSW52aXRlJyk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUud2FybignKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tOjpfSW52aXRlQ2hhbmdlZENiKWNhbm5vdCByZXRyaWV2ZSBpbnZpdGF0aW9uJyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9KTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0cF9ndWVzdElkcy5mb3JFYWNoKChtR3Vlc3RJZCwgaSkgPT4ge1xuXHRcdFx0aWYgKCEobUd1ZXN0SWQgJiYgdHlwZW9mIG1HdWVzdElkID09ICdzdHJpbmcnKSkge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OnJlYWNoOjppbnZpdGVUb1Jvb20pcGFyYW1ldGVyIHBfZ3Vlc3RJZHNbJHtpfV0gaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZ2ApO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbSlyb29tSWQ9JHtwX3Jvb21JZH0gaW52aXRlZT0ke21HdWVzdElkLnRvU3RyaW5nKCl9YCk7XG5cblx0XHRcdFx0aWYgKG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdICYmIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXSkge1xuXHRcdFx0XHRcdC8vaW52aXRhdGlvbiBpcyBhbHJlYWR5IGV4aXN0aW5nIC0+IGNhbmNlbCBpdFxuXHRcdFx0XHRcdC8vaWYgKG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVEYXRhcmVmICYmIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVSZW1vdmVDYikgIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVEYXRhcmVmLm9mZihcImNoaWxkX3JlbW92ZWRcIixtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlUmVtb3ZlQ2IpO1xuXHRcdFx0XHRcdC8vaWYgKG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVEYXRhcmVmICYmIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVDaGFuZ2VkQ2IpIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVEYXRhcmVmLm9mZihcImNoaWxkX2NoYW5nZWRcIixtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlQ2hhbmdlZENiKTtcblx0XHRcdFx0XHRfY2FuY2VsSW52aXRhdGlvbihwX3Jvb21JZCwgW21HdWVzdElkXSwgKHBfZ3Vlc3RJZCkgPT4ge1xuXHRcdFx0XHRcdFx0aWYgKHBfZ3Vlc3RJZCAmJiBwX2d1ZXN0SWQgPT09IG1HdWVzdElkKSB7XG5cdFx0XHRcdFx0XHRcdF9pbnZpdGVUb1Jvb20ocF9yb29tSWQsIFtwX2d1ZXN0SWRdLCBwX3RvcGljLHBfc3RhdHVzQ2hhbmdlZENiKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpZiAoIW1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdKSB7XG5cdFx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF0gPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHQvL2lmICghbU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdKSB7XG5cdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXSA9IHt9O1xuXHRcdFx0XHQvL31cblxuXHRcdFx0XHRfaXNVc2VyUHJlc2VudEluUm9vbShwX3Jvb21JZCwgbUd1ZXN0SWQsIF9pc1VzZXJQcmVzZW50SW5Sb29tQ2IpO1xuXG5cdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVEYXRhcmVmID0gZGF0YXJlZi5jaGlsZCgnaW52aXRhdGlvbkxpc3QnKS5jaGlsZChtR3Vlc3RJZCkucHVzaCh7XG5cdFx0XHRcdFx0ZnJvbTptZSxcblx0XHRcdFx0XHRyb29tOnBfcm9vbUlkLFxuXHRcdFx0XHRcdHRpbWVzdGFtcF9jcmVhdGlvbjpXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QLFxuXHRcdFx0XHRcdHRvcGljOnBfdG9waWMsXG5cdFx0XHRcdFx0c3RhdHVzOklOVklUQVRJT05fT05HT0lOR1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Omludml0ZVRvUm9vbSlJbnZpdGVEYXRhcmVmPSR7bU91dGdvaW5nSW52aXRlc1twX3Jvb21JZF1bbUd1ZXN0SWRdLkludml0ZURhdGFyZWYudG9TdHJpbmcoKX1gKTtcblxuXHRcdFx0XHQvL21PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVSZW1vdmVDYiA9IF9JbnZpdGF0aW9uUmVtb3ZlQ2I7XG5cdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVDaGFuZ2VkQ2IgPSBfSW52aXRlQ2hhbmdlZENiO1xuXHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZi5vbignY2hpbGRfY2hhbmdlZCcsIG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVDaGFuZ2VkQ2IpO1xuXHRcdFx0XHQvL21PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVEYXRhcmVmLnBhcmVudCgpLm9uKFwiY2hpbGRfcmVtb3ZlZFwiLG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5JbnZpdGVSZW1vdmVDYik7XG5cdFx0XHRcdG1PdXRnb2luZ0ludml0ZXNbcF9yb29tSWRdW21HdWVzdElkXS5zdGF0dXNDaGFuZ2VkQ2IgPSBwX3N0YXR1c0NoYW5nZWRDYjtcblxuXHRcdFx0XHQvLyBjYW5jZWxlZCBJbnZpdGUgb24gZGlzY29ubmVjdGlvblxuXHRcdFx0XHRtT3V0Z29pbmdJbnZpdGVzW3Bfcm9vbUlkXVttR3Vlc3RJZF0uSW52aXRlRGF0YXJlZi5vbkRpc2Nvbm5lY3QoKS51cGRhdGUoe1xuXHRcdFx0XHRcdHRpbWVzdGFtcF9lbmQ6IFdlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVAsXG5cdFx0XHRcdFx0c3RhdHVzOiBJTlZJVEFUSU9OX0NBTkNFTEVEXG5cdFx0XHRcdH0pO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblxuXHQvKipcblx0ICogTWFrZXMgYW4gaW52aXRlIGFjY2VwdGVkLCBhbmQgZGVmaW5lcyB0aGUgXCJhY2NlcHRlZFwiIGZsYWcgb2YgdGhpcyBpbnZpdGUgYXQgdHJ1ZSBpbiB0aGUgZGF0YWJhc2UuXG5cdCAqIEBwYXJhbSBwX2ludml0YXRpb24gLVxuXHQgKi9cblx0ZnVuY3Rpb24gX2FjY2VwdEludml0YXRpb24ocF9pbnZpdGF0aW9uKSB7XG5cdFx0Y29uc3QgaW52aXRlSWQgPSBPYmplY3Qua2V5cyhwX2ludml0YXRpb24pWzBdO1xuXHRcdGlmICghaW52aXRlSWQpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Ol9hY2NlcHRJbnZpdGF0aW9uKXBhcmFtZXRlciBwX2ludml0YXRpb24gaXMgaW5jb3JyZWN0LiBjYW5ub3QgZ2V0IGludml0YXRpb24gSWQnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKCFwX2ludml0YXRpb25baW52aXRlSWRdKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjpfYWNjZXB0SW52aXRhdGlvbilwYXJhbWV0ZXIgcF9pbnZpdGF0aW9uIGlzIGluY29ycmVjdC4gY2Fubm90IGdldCBpbnZpdGF0aW9uIGRhdGEnKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdC8ke21lfS8ke2ludml0ZUlkfWApLm9uY2UoJ3ZhbHVlJywgKGRhdGFTbmFwc2hvdCkgPT4ge1xuXHRcdFx0bGV0IGNiX3N0YXR1cyxcblx0XHRcdFx0Y2JfZ3Vlc3RJZCxcblx0XHRcdFx0Y2JfaW52aXRhdGlvbklkO1xuXG5cdFx0XHRpZiAoZGF0YVNuYXBzaG90ICYmIGRhdGFTbmFwc2hvdC52YWwoKSkge1xuXHRcdFx0XHRjYl9pbnZpdGF0aW9uSWQgPSBkYXRhU25hcHNob3QubmFtZSgpO1xuXHRcdFx0XHRjYl9zdGF0dXMgPSBkYXRhU25hcHNob3QudmFsKCkuc3RhdHVzO1xuXHRcdFx0XHRjYl9ndWVzdElkID0gZGF0YVNuYXBzaG90LnJlZigpLnBhcmVudCgpLm5hbWUoKTtcblx0XHRcdFx0aWYgKGNiX3N0YXR1cyAmJiBjYl9zdGF0dXM9PT1JTlZJVEFUSU9OX09OR09JTkcpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2FjY2VwdEludml0YXRpb24paW52aXRlSWQ9JHtpbnZpdGVJZH0sZGF0YT0ke0pTT04uc3RyaW5naWZ5KHBfaW52aXRhdGlvbltpbnZpdGVJZF0pfWApO1xuXHRcdFx0XHRcdGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0LyR7Y2JfZ3Vlc3RJZH0vJHtjYl9pbnZpdGF0aW9uSWR9YCkudXBkYXRlKHtcblx0XHRcdFx0XHRcdHRpbWVzdGFtcF9lbmQ6IFdlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVAsXG5cdFx0XHRcdFx0XHRzdGF0dXM6IElOVklUQVRJT05fQUNDRVBURURcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRjb25zb2xlLndhcm4oYChSZWFjaFNESzo6cmVhY2g6Ol9hY2NlcHRJbnZpdGF0aW9uKWludml0ZUlkPSR7Y2JfaW52aXRhdGlvbklkfSxkYXRhPSR7SlNPTi5zdHJpbmdpZnkocF9pbnZpdGF0aW9uW2ludml0ZUlkXSl9LCBjYW5ub3QgYmUgYWNjZXB0ZWQuIEl0IGhhcyBiZWVuIHJlbW92ZWQgb3IgY2FuY2VsZWRgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJlZnVzZXMgdGhlIGludml0ZSBhbmQgc2V0IHRoZSBcImFjY2VwdGVkXCIgZmxhZyBvZiB0aGlzIGludml0ZSBpbiB0aGUgZGF0YWJhc2UgdG8gZmFsc2Vcblx0ICogQHBhcmFtIHBfaW52aXRhdGlvbiAtIFRoZSBpbnZpdGUgZGF0YVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gcF9yZWFzb24gLSBvcHRpb25hbCBpbmZvIGFib3V0IHRoZSByZWplY3Rcblx0ICovXG5cdGZ1bmN0aW9uIF9yZWplY3RJbnZpdGF0aW9uKHBfaW52aXRhdGlvbixwX3JlYXNvbikge1xuXHRcdGNvbnN0IGludml0ZUlkID0gT2JqZWN0LmtleXMocF9pbnZpdGF0aW9uKVswXTtcblx0XHRpZiAoIWludml0ZUlkKSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKCcoUmVhY2hTREs6OnJlYWNoOjpfcmVqZWN0SW52aXRhdGlvbilwYXJhbWV0ZXIgcF9pbnZpdGF0aW9uIGlzIGluY29ycmVjdC4gY2Fubm90IGdldCBpbnZpdGF0aW9uIElkJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGlmICghcF9pbnZpdGF0aW9uW2ludml0ZUlkXSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6X3JlamVjdEludml0YXRpb24pcGFyYW1ldGVyIHBfaW52aXRhdGlvbiBpcyBpbmNvcnJlY3QuIGNhbm5vdCBnZXQgaW52aXRhdGlvbiBkYXRhJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0LyR7bWV9LyR7aW52aXRlSWR9YCkub25jZSgndmFsdWUnLCAoZGF0YVNuYXBzaG90KSA9PiB7XG5cdFx0XHRsZXQgY2Jfc3RhdHVzLGNiX2d1ZXN0SWQsY2JfaW52aXRhdGlvbklkO1xuXHRcdFx0aWYgKGRhdGFTbmFwc2hvdCAmJiBkYXRhU25hcHNob3QudmFsKCkpIHtcblx0XHRcdFx0Y2JfaW52aXRhdGlvbklkID0gZGF0YVNuYXBzaG90Lm5hbWUoKTtcblx0XHRcdFx0Y2Jfc3RhdHVzID0gZGF0YVNuYXBzaG90LnZhbCgpLnN0YXR1cztcblx0XHRcdFx0Y2JfZ3Vlc3RJZCA9IGRhdGFTbmFwc2hvdC5yZWYoKS5wYXJlbnQoKS5uYW1lKCk7XG5cdFx0XHRcdGlmIChjYl9zdGF0dXMgJiYgY2Jfc3RhdHVzID09PSBJTlZJVEFUSU9OX09OR09JTkcpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X3JlamVjdEludml0YXRpb24paW52aXRlSWQ9JHtpbnZpdGVJZH0sZGF0YT0ke0pTT04uc3RyaW5naWZ5KHBfaW52aXRhdGlvbltpbnZpdGVJZF0pfWApO1xuXHRcdFx0XHRcdGlmIChwX3JlYXNvbikge1xuXHRcdFx0XHRcdFx0ZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3QvJHtjYl9ndWVzdElkfS8ke2NiX2ludml0YXRpb25JZH1gKS51cGRhdGUoe1xuXHRcdFx0XHRcdFx0XHR0aW1lc3RhbXBfZW5kOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QLFxuXHRcdFx0XHRcdFx0XHRzdGF0dXNfaW5mbzogcF9yZWFzb24sXG5cdFx0XHRcdFx0XHRcdHN0YXR1czogSU5WSVRBVElPTl9SRUpFQ1RFRFxuXHRcdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0LyR7Y2JfZ3Vlc3RJZH0vJHtjYl9pbnZpdGF0aW9uSWR9YCkudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0dGltZXN0YW1wX2VuZDogV2ViY29tLlNlcnZlclZhbHVlLlRJTUVTVEFNUCxcblx0XHRcdFx0XHRcdFx0c3RhdHVzOiBJTlZJVEFUSU9OX1JFSkVDVEVEXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OnJlYWNoOjpfcmVqZWN0SW52aXRhdGlvbilpbnZpdGVJZD0ke2NiX2ludml0YXRpb25JZH0sZGF0YT0ke0pTT04uc3RyaW5naWZ5KHBfaW52aXRhdGlvbltpbnZpdGVJZF0pfSwgY2Fubm90IGJlIHJlamVjdGVkLiBJdCBoYXMgYmVlbiByZW1vdmVkIG9yIGNhbmNlbGVkYCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBjaGVjayBpZiB0aGUgcm9vbSBjb3JyZXNwb25kaW5nIHRvIHRoZSBpbnZpdGF0aW9uIGlzIGFjdGl2ZVxuXHQgKiBAcGFyYW0gcF9pbnZpdGF0aW9uIC0gVGhlIGludml0YXRpb24gRGF0YVxuXHQgKiBAcGFyYW0gcF9jYiAtIFRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHRvIGdldCB0aGUgcmVzdWx0LiB0aGlzIGNhbGxiYWNrIHdpbGwgY29udGFpbnMgdGhlIHBhcmFtZXRlciB0cnVlIGlzIHRoZSByb29tIGlzIGFjdGl2ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX2lzUm9vbUFjdGl2ZShwX2ludml0YXRpb24scF9jYikge1xuXHRcdGlmIChwX2ludml0YXRpb24gJiYgcF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRjb25zdCBpbnZpdGVJZCA9IE9iamVjdC5rZXlzKHBfaW52aXRhdGlvbilbMF07XG5cdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2lzUm9vbUFjdGl2ZSlpbnZpdGVJZD0ke2ludml0ZUlkfWApO1xuXHRcdFx0Y29uc3Qgcm9vbUlkID0gcF9pbnZpdGF0aW9uW2ludml0ZUlkXS5yb29tO1xuXG5cdFx0XHRkYXRhcmVmcy5nZXRSb29tcygpLmNoaWxkKGAke3Jvb21JZH0vY29tbW9uRGF0YUxpc3Qvc3RhdHVzYCkub25jZSgndmFsdWUnLCAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0Y29uc3Qgb3BlbmVkID0gc25hcHNob3QgJiYgc25hcHNob3QudmFsKCkgJiYgc25hcHNob3QudmFsKCkgPT09IFJPT01fU1RBVFVTX09QRU47XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfaXNSb29tQWN0aXZlKWludml0ZUlkPSR7aW52aXRlSWR9IHJlc3VsdD0ke29wZW5lZH1gKTtcblx0XHRcdFx0cF9jYihvcGVuZWQpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIG1vdmUgYWxsIHRoZSBub24gYWN0aXZlIGludml0YXRpb25zIHByb2Nlc3NlZCBvZiBhbiB1c2VyIHRvIHRoZSBpbnZpdGF0aW9uIExpc3QgSGlzdG9yeTpcblx0ICogQWxsIGludml0YXRpb25zIHdpdGggc3RhdHVzIENhbmNlbGVkIG9yIFJlamVjdGVkIHdpbGwgYmUgYXJjaGl2ZWRcblx0ICogQWxsIGludml0YXRpb24gd2l0aCBzdGF0dXMgT25nb2luZyBvciBBY2NlcHRlZCBXaWxsIGJlIGFyY2hpdmVkIGlmIHRoZSBjb3JyZXNwb25kaW5nIHJvb20gaXMgY2xvc2VkXG5cdCAqIElmIGFuIGludml0YXRpb24gd2l0aCBzdGF0dXMgXCJPbmdvaW5nXCIgaXMgYXJjaGl2ZWQsIGl0cyBzdGF0dXMgd2lsbCBiZSBzZXQgdG8gY2FuY2VsZWRcblx0ICogQHBhcmFtIHBfdXNlcklkIC0gVGhlIHVzZXIgSWRcblx0ICogQHBhcmFtIHBfY2IgLSBUaGlzIGNhbGxiYWNrIGlzIHRyaWdnZXIgd2hlbiBhcmNoaXZlIGlzIGNvbXBsZXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfYXJjaGl2ZUludml0YXRpb25zKHBfdXNlcklkLCBwX2NiKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cmVhY2g6Ol9hcmNoaXZlSW52aXRhdGlvbnMpdXNlcklkPSR7cF91c2VySWR9YCk7XG5cdFx0ZGF0YXJlZi5jaGlsZChgaW52aXRhdGlvbkxpc3QvJHttZX1gKS5vbmNlKCd2YWx1ZScsIChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0aWYgKHNuYXBzaG90ICYmIHNuYXBzaG90Lmhhc0NoaWxkcmVuKCkpIHtcblx0XHRcdFx0Y29uc3QgbmJDaGlsZHJlbiA9IHNuYXBzaG90Lm51bUNoaWxkcmVuKCk7XG5cdFx0XHRcdGxldCBuYkNoaWxkcmVuUHJvY2Vzc2VkID0gMDtcblx0XHRcdFx0c25hcHNob3QuZm9yRWFjaCgoY2hpbGRTbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRcdGlmIChjaGlsZFNuYXBzaG90ICYmIGNoaWxkU25hcHNob3QudmFsKCkpIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJlYWNoOjpfYXJjaGl2ZUludml0YXRpb25zKXVzZXJJZD0ke3BfdXNlcklkfSBpbnZpdGVJZD0ke2NoaWxkU25hcHNob3QubmFtZSgpfWApO1xuXHRcdFx0XHRcdFx0aWYgKGNoaWxkU25hcHNob3QudmFsKCkuc3RhdHVzID09PSBJTlZJVEFUSU9OX1JFSkVDVEVEIHx8IGNoaWxkU25hcHNob3QudmFsKCkuc3RhdHVzID09PSBJTlZJVEFUSU9OX0NBTkNFTEVEICkge1xuXHRcdFx0XHRcdFx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdEhpc3RvcnkvJHtwX3VzZXJJZH0vJHtjaGlsZFNuYXBzaG90Lm5hbWUoKX1gKS51cGRhdGUoY2hpbGRTbmFwc2hvdC52YWwoKSk7XG5cdFx0XHRcdFx0XHRcdGNoaWxkU25hcHNob3QucmVmKCkucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRcdG5iQ2hpbGRyZW5Qcm9jZXNzZWQrKztcblx0XHRcdFx0XHRcdFx0aWYgKG5iQ2hpbGRyZW5Qcm9jZXNzZWQ+PW5iQ2hpbGRyZW4gJiYgcF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdFx0cF9jYigpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRjb25zdCBpbnZpdGVEYXRhID0ge307XG5cdFx0XHRcdFx0XHRcdGludml0ZURhdGFbY2hpbGRTbmFwc2hvdC5uYW1lKCldID0gY2hpbGRTbmFwc2hvdC52YWwoKTtcblx0XHRcdFx0XHRcdFx0X2lzUm9vbUFjdGl2ZShpbnZpdGVEYXRhLCAoaXNBY3RpdmUpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRpZiAoaXNBY3RpdmUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdG5iQ2hpbGRyZW5Qcm9jZXNzZWQrKztcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChuYkNoaWxkcmVuUHJvY2Vzc2VkPj1uYkNoaWxkcmVuICYmIHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRwX2NiKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChjaGlsZFNuYXBzaG90LnZhbCgpLnN0YXR1cz09PUlOVklUQVRJT05fT05HT0lORykge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRjb25zdCBuZXdWYWx1ZSA9IGNoaWxkU25hcHNob3QudmFsKCk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdG5ld1ZhbHVlLnN0YXR1cyA9IElOVklUQVRJT05fQ0FOQ0VMRUQ7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRhdGFyZWYuY2hpbGQoYGludml0YXRpb25MaXN0SGlzdG9yeS8ke3BfdXNlcklkfS8ke2NoaWxkU25hcHNob3QubmFtZSgpfWApLnNldChuZXdWYWx1ZSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHRcdFx0XHRkYXRhcmVmLmNoaWxkKGBpbnZpdGF0aW9uTGlzdEhpc3RvcnkvJHtwX3VzZXJJZH0vJHtjaGlsZFNuYXBzaG90Lm5hbWUoKX1gKS5zZXQoY2hpbGRTbmFwc2hvdC52YWwoKSk7XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRjaGlsZFNuYXBzaG90LnJlZigpLnJlbW92ZSgpO1xuXHRcdFx0XHRcdFx0XHRcdFx0bmJDaGlsZHJlblByb2Nlc3NlZCsrO1xuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKG5iQ2hpbGRyZW5Qcm9jZXNzZWQ+PW5iQ2hpbGRyZW4gJiYgcF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdHBfY2IoKTtcblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRcdHBfY2IoKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0cF9jYigpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDbG9zZSB0aGUgcmVhY2ggc2VydmljZSxcblx0ICogZGlzYWJsZXMgYW5kIGRlbGV0ZXMgYW55IGxpc3RlbmVycy9jYWxsYmFjayBkZWZpbmVkLlxuXHQgKiBjYW5jZWwgYWxsIG91dGdvaW5nIGludml0ZSBub3QgYWxyZWFkeSBwcm9jZXNzZWRcblx0ICogZG8gbm90IGltcGFjdCBpbmNvbWluZyBpbnZpdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9jbG9zZSgpIHtcblx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjpyZWFjaDo6X2Nsb3NlKScpO1xuXG5cdFx0aWYgKG5ld0ludml0ZUNiKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdpbnZpdGF0aW9uTGlzdCcpLmNoaWxkKG1lKS5vZmYoJ2NoaWxkX2FkZGVkJyxuZXdJbnZpdGVDYik7XG5cdFx0XHRuZXdJbnZpdGVDYiA9IG51bGw7XG5cdFx0fVxuLy9cdFx0aWYgKG9uUm9vbUludml0ZUNoYW5nZWRDYikge1xuLy9cdFx0XHRkYXRhcmVmLmNoaWxkKFwiaW52aXRhdGlvbkxpc3RcIikuY2hpbGQobWUpLm9mZihcImNoaWxkX2NoYW5nZWRcIixJbnZpdGVDaGFuZ2VkQ2IpO1xuLy9cdFx0XHRvblJvb21JbnZpdGVDaGFuZ2VkQ2IgPSBudWxsO1xuLy9cdFx0fVxuLy9cbi8vXHRcdGlmIChtVGltZW91dE9uTmV3SW52aXRlQ2IpIHtcbi8vXHRcdFx0ZGF0YXJlZi5jaGlsZChcImludml0YXRpb25MaXN0XCIpLmNoaWxkKG1lKS5vZmYoXCJjaGlsZF9hZGRlZFwiLG1UaW1lb3V0T25OZXdJbnZpdGVDYik7XG4vL1x0XHRcdG1UaW1lb3V0T25OZXdJbnZpdGVDYiA9IG51bGw7XG4vL1x0XHR9XG4vL1x0XHRpZiAobVRpbWVvdXRPbkludml0ZUNoYW5nZWRDYikge1xuLy9cdFx0XHRkYXRhcmVmLmNoaWxkKFwiaW52aXRhdGlvbkxpc3RcIikuY2hpbGQobWUpLm9mZihcImNoaWxkX2NoYW5nZWRcIixtVGltZW91dE9uSW52aXRlQ2hhbmdlZENiKTtcbi8vXHRcdFx0bVRpbWVvdXRPbkludml0ZUNoYW5nZWRDYiA9IG51bGw7XG4vL1x0XHR9XG5cblx0XHRpZiAob25Vc2VyQWRkZWRDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vZmYoJ2NoaWxkX2FkZGVkJywgb25Vc2VyQWRkZWRDYik7XG5cdFx0XHRvblVzZXJBZGRlZENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKG9uVXNlckNoYW5nZWRDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vZmYoJ2NoaWxkX2NoYW5nZWQnLCBvblVzZXJDaGFuZ2VkQ2IpO1xuXHRcdFx0b25Vc2VyQ2hhbmdlZENiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKG9uVXNlclJlbW92ZWRDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgndXNlckxpc3QnKS5vZmYoJ2NoaWxkX3JlbW92ZWQnLCBvblVzZXJSZW1vdmVkQ2IpO1xuXHRcdFx0b25Vc2VyUmVtb3ZlZENiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAobU91dGdvaW5nSW52aXRlcykge1xuXHRcdFx0bU91dGdvaW5nSW52aXRlcy5mb3JFYWNoKChyb29tSWQpID0+IHtcblx0XHRcdFx0bU91dGdvaW5nSW52aXRlc1tyb29tSWRdLmZvckVhY2goKGludml0ZWUpID0+IHtcblx0XHRcdFx0XHRpZiAoaW52aXRlZS5JbnZpdGVEYXRhcmVmKSB7XG5cdFx0XHRcdFx0XHRpbnZpdGVlLkludml0ZURhdGFyZWYub25EaXNjb25uZWN0KCkuY2FuY2VsKCk7XG5cdFx0XHRcdFx0XHRpbnZpdGVlLkludml0ZURhdGFyZWYudXBkYXRlKHtcblx0XHRcdFx0XHRcdFx0c3RhdHVzOiBJTlZJVEFUSU9OX0NBTkNFTEVELFxuXHRcdFx0XHRcdFx0XHR0aW1lc3RhbXBfZW5kOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QXG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0pO1xuXHRcdFx0fSk7XG5cdFx0XHRtT3V0Z29pbmdJbnZpdGVzID0gW107XG5cdFx0fVxuXG5cdFx0aWYgKGF1dG9tYXRpY1JlamVjdFRpbWVPdXQpIHtcblx0XHRcdGF1dG9tYXRpY1JlamVjdFRpbWVPdXQgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAoYXV0b21hdGljUmVqZWN0UmVhc29uKSB7XG5cdFx0XHRhdXRvbWF0aWNSZWplY3RSZWFzb24gPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChtRGV2aWNlSWQpIHtcblx0XHRcdG1EZXZpY2VJZC5yZW1vdmUoKTtcblx0XHRcdG1EZXZpY2VJZCA9IG51bGw7XG5cdFx0fVxuXG5cdH1cblx0LyoqXG5cdCAqIHRlc3QgaWYgdXNlcklkIGlzIHByZXNlbnQgJiBjb25uZWN0ZWQgaW4gdGhlIHBhcnRpY2lwYW50IGxpc3Qgb2YgdGhlIHJvb20gcm9vbUlkXG5cdCAqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSByb29tSWQgLSBUaGUgcm9vbSB1c2VkIGFzIHRoZSBuYW1lIG9mIGEgYnJhbmNoIGluIHRoZSBkYXRhYmFzZVxuXHQgKiBAcGFyYW0ge3N0cmluZ30gdXNlcklkIC0gVGhlIHVzZXIgSWRcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24gdG8gdGlnZ2VyIHRvIGdldCB0aGUgcmVzdWx0LiBJdCB3aWxsIGNvbnRhaW50cyBhIHBhcmFtZXRlciA9IHRydWUgaXMgYWxyZWFkeSBwcmVzZW50ICYgY29ubmVjdGVkLCBmYWxzZSBlaXRoZXIuXG5cdCAqL1xuXHRmdW5jdGlvbiBfaXNVc2VyUHJlc2VudChyb29tSWQsdXNlcklkLGNhbGxiYWNrKXtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2lzVXNlclByZXNlbnQpIHVzZXJJZD0ke3VzZXJJZH1gKTtcblx0XHRpZiAoISh1c2VySWQgJiYgdHlwZW9mIHVzZXJJZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6cmVhY2g6Ol9pc1VzZXJQcmVzZW50KXBhcmFtZXRlciB1c2VySWQgaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZycpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdGlmICghKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6X2lzVXNlclByZXNlbnQpcGFyYW1ldGVyIGNhbGxiYWNrIGlzIGluY29ycmVjdC4gaWYgZGVmaW5lZCwgZXhwZWN0aW5nIGEgZnVuY3Rpb24nKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0XG5cdFx0ZGF0YXJlZnMuZ2V0Um9vbXMoKS5jaGlsZChgJHtyb29tSWR9L3BhcnRpY2lwYW50TGlzdC8ke3VzZXJJZH0vY29ubmVjdGVkYClcblx0XHQub25jZSgndmFsdWUnLCAoc25hcHNob3QpID0+IHtcblx0XHRcdGNvbnN0IGlzQ29ubmVjdGVkID0gc25hcHNob3QudmFsKCk7XG5cdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyZWFjaDo6X2lzVXNlclByZXNlbnQpdXNlcklkPSR7dXNlcklkfSxyZXN1bHQ9JHtpc0Nvbm5lY3RlZH1gKTtcblx0XHRcdGNhbGxiYWNrKCEhaXNDb25uZWN0ZWQpO1xuXHRcdH0pO1xuXHR9XG5cblx0aW5pdCgpO1xuXHRyZXR1cm4ge1xuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHVzZXIgaWRlbnRpZmllciB1c2VkIGluIHRoZSBkYXRhYmFzZS4gVGhpcyB2YWx1ZVxuXHRcdCAqIGlkZW50aWZpZXMgdGhlIHVzZXIgaWYgdGhlIFdlYmNvbWJhc2UuXG5cdFx0ICogQHJldHVybiB7c3RyaW5nfSAtIFRoZSB1c2VyIElEXG5cdFx0ICovXG5cdFx0Z2V0TWU6ICgpID0+IHtcblx0XHRcdHJldHVybiBtZTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIGNoZWNrIGlmIGEgdXNlciBpcyBjb25uZWN0ZWRcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcF91c2VySWQgLSB0aGUgdXNlciBJZFxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSB0aGUgY2FsbGJhY2sgdHJpZ2dlcnMgdG8gcmV0dXJuIHRoZSByZXN1bHQuIFRoZSByZXN1bHQgd2lsbCBiZSBwYXNzZWQgaW4gcGFyYW1ldGVyIGFzIGJvb2xlYW4gOiB0cnVlID0gY29ubmVjdGVkIC8gZmFsc2UgPSBub3QgY29ubmVjdGVkXG5cdFx0ICovXG5cdFx0aXNDb25uZWN0ZWQ6IF9pc0Nvbm5lY3RlZCxcblx0XHQvKipcblx0XHQgKiBjaGVjayBpZiBhIHVzZXIgaXMgcmVnaXN0ZXJcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcF91c2VySWQgLSB0aGUgdXNlciBJZFxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSB0aGUgY2FsbGJhY2sgdHJpZ2dlcnMgdG8gcmV0dXJuIHRoZSByZXN1bHQuIFRoZSByZXN1bHQgd2lsbCBiZSBwYXNzZWQgaW4gcGFyYW1ldGVyIGFzIGJvb2xlYW4gOiB0cnVlID0gcmVnaXN0ZXJlZCAvIGZhbHNlID0gbm90IHJlZ2lzdGVyZWRcblx0XHQgKi9cblx0XHRpc1JlZ2lzdGVyZWQ6IF9pc1JlZ2lzdGVyZWQsXG5cdFx0LyoqXG5cdFx0ICogc2V0IHRoZSBkZXZpY2Ugc3RhdHVzIChERVZJQ0VfU1RBVFVTX0NPTk5FQ1RFRClcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gc3RhdHVzIC0gdGhlIG5ldyBzdGF0dXNcblx0XHQgKi9cblx0XHRzZXRDb25uZWN0ZWRTdGF0dXM6IF9zZXRDb25uZWN0ZWRTdGF0dXMsXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIGEgbmV3IHVzZXIgaXMgYWRkZWRcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrIHRvIHVzZVxuXHRcdCAqL1xuXHRcdHNldE9uVXNlckFkZGVkOiBfc2V0T25Vc2VyQWRkZWQsXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyB0aGUgY2FsbGJhY2sgdG8gdHJpZ2dlciB3aGVuIHRoZSB1c2VyIGhhcyBjaGFuZ2VkXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFjayB0byB1c2Vcblx0XHQgKi9cblx0XHRzZXRPblVzZXJDaGFuZ2VkOiBfc2V0T25Vc2VyQ2hhbmdlZCxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSB1c2VyIGhhcyBiZWVuIHJlbW92ZWQuXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9jYiAtIFRoZSBjYWxsYmFjayB0byB1c2Vcblx0XHQgKi9cblx0XHRzZXRPblVzZXJSZW1vdmVkOiBfc2V0T25Vc2VyUmVtb3ZlZCxcblx0XHQvKipcblx0XHQgKiBHYXRoZXIgdGhlIGludml0ZWVzIHRvIHRoZSByb29tLlxuXHRcdCAqIERlZmluZXMgYSBjYWxsYmFjayB0byB0cmlnZ2VyIGZvciBJbnZpdGUgY2hhbmdlcywgYW5kIGNhbGxzIGNhbGxiYWNrcyBmb3Igcm9vbSBpbnZpdGUgYWNjZXB0YXRpb24gb3IgcmVmdXNlLlxuXHRcdCAqIEZvciBlYWNoIGludml0ZWUgYSBub2RlIGlzIGNyZWF0ZWQgaW4gdGhlIGRhdGFiYXNlIGFib3V0IHRoZSBJbnZpdGUgbGlzdC5cblx0XHQgKiBJbiBhZGR0aW9uLCBhIG5vZGUgaXMgY3JlYXRlZCB0b28gZm9yIGVhY2ggaW52aXRlZSBhYm91dCB0aGUgcGFydGljaXBhbnRMaXN0LlxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3Jvb21JZCAtIFRoZSByb29tIHVzZWQgYXMgdGhlIG5hbWUgb2YgYSBicmFuY2ggaXMgdGhlIGRhdGFiYXNlXG5cdFx0ICogQHBhcmFtIHthcnJheX0gcF9ndWVzdElkcyAtIEFuIGFycmF5IHBvc3Nlc3NpbmcgdGhlIGlkZW50aWZpZXJzIG9mIHRoZSBpbnZpdGVlc1xuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3RvcGljIC0gY3VzdG9tIG1lc3NhZ2UgZm9yIHRoZSBpbnZpdGF0aW9uXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gcF9zdGF0dXNDaGFuZ2VkQ2IgLSBvcHRpb25hbCA6IGNhbGxiYWNrIGZ1bmN0aW9uIHdoZW4gYW4gaW52aXRlZSBhY2NlcHRzL3JlamVjdGVkL2NhbmNlbGVkIHRoZSBJbnZpdGVcblx0XHQgKi9cblx0XHRpbnZpdGVUb1Jvb206IF9pbnZpdGVUb1Jvb20sXG5cdFx0LyoqXG5cdFx0ICogQ2FuY2VscyB0aGUgSW52aXRlXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IHBfcm9vbUlkIC0gVGhlIHJvb20gSWQgb2YgdGhlIEludml0ZVxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX2d1ZXN0SWRzIC0gb3B0aW9uYWwgOiBBbiBhcnJheSBwb3NzZXNzaW5nIHRoZSBpZGVudGlmaWVycyBvZiB0aGUgaW52aXRlZXMuIChpZiB1bmRlZmluZWQgLCAgYWxsIGludml0ZWUgd2lsbCBoYXZlIHRoZWlyIEludml0ZSBjYW5jZWxlZClcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gaW52aXRlSWQgLSBUaGUgaW52aXRlIGlkZW50aWZpZXJcblx0XHQgKi9cblx0XHRjYW5jZWxJbnZpdGF0aW9uOiBfY2FuY2VsSW52aXRhdGlvbixcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSByb29tIGludml0ZSBoYXMgYmVlbiByZWNlaXZlZC5cblx0XHQgKiBPdGhlciBjYWxsYmFja3Mgd2lsbCBiZSB0cmlnZ2VyZWQgYWJvdXQgSW52aXRlIGxpc3RzLlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uTmV3Um9vbUludml0YXRpb25DYiAtIFRoZSBjYWxsYmFjayB0cmlnZ2VycyB3aGVuIGEgSW52aXRlIGlzIHJlY2VpdmVkIChzdGF0dXMgPSBvbiBnb2luZylcblx0XHQgKi9cblx0XHRzZXRPbk5ld1Jvb21JbnZpdGF0aW9uOiBfc2V0T25OZXdSb29tSW52aXRhdGlvbixcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSByb29tIGludml0ZSBoYXMgYmVlbiByZWNlaXZlZC5cblx0XHQgKiBPdGhlciBjYWxsYmFja3Mgd2lsbCBiZSB0cmlnZ2VyZWQgYWJvdXQgSW52aXRlIGxpc3RzLlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uUm9vbUludml0YXRpb25DaGFuZ2VkQ2IgLSBUaGUgY2FsbGJhY2sgdHJpZ2dlcnMgd2hlbiB0aGUgc2F0dXMgb24gdGhlIEludml0ZSByZWNlaXZlZCBoYXMgY2hhbmdlZCAoc3RhdHVzID0gYWNjZXB0ZWQvcmVqZWN0ZWQvY2FuY2VsZWQpXG5cdFx0ICovXG5cdFx0c2V0T25Sb29tSW52aXRhdGlvbkNoYW5nZWQ6IF9zZXRPblJvb21JbnZpdGF0aW9uQ2hhbmdlZCxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIGEgdGltZW91dCB0byByZWplY3QgYXV0b21hdGljYWxseSB0aGUgSW52aXRlXG5cdFx0ICogT3RoZXIgY2FsbGJhY2tzIHdpbGwgYmUgdHJpZ2dlcmVkIGFib3V0IEludml0ZSBsaXN0cy5cblx0XHQgKiBAcGFyYW0ge2ludGVnZXJ9IHBfdGltZW91dCAtIFRoZSBkZWxheVxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3JlYXNvbiAtIG9wdGlvbmFsIGluZm8gYWJvdXQgdGhlIHJlamVjdFxuXHRcdCAqL1xuXHRcdHNldE5ld1Jvb21JbnZpdGF0aW9uVGltZW91dDogX3NldE5ld1Jvb21JbnZpdGF0aW9uVGltZW91dCxcblxuXHRcdC8qKlxuXHRcdCAqIG1vdmUgYWxsIHRoZSBub24gYWN0aXZlIGludml0YXRpb25zIHByb2Nlc3NlZCBvZiBhbiB1c2VyIHRvIHRoZSBpbnZpdGF0aW9uIExpc3QgSGlzdG9yeTpcblx0XHQgKiBBbGwgaW52aXRhdGlvbnMgd2l0aCBzdGF0dXMgQ2FuY2VsZWQgb3IgUmVqZWN0ZWQgd2lsbCBiZSBhcmNoaXZlZFxuXHRcdCAqIEFsbCBpbnZpdGF0aW9uIHdpdGggc3RhdHVzIE9uZ29pbmcgb3IgQWNjZXB0ZWQgV2lsbCBiZSBhcmNoaXZlZCBpZiB0aGUgY29ycmVzcG9uZGluZyByb29tIGlzIGNsb3NlZFxuXHRcdCAqIElmIGFuIGludml0YXRpb24gd2l0aCBzdGF0dXMgXCJPbmdvaW5nXCIgaXMgYXJjaGl2ZWQsIGl0cyBzdGF0dXMgd2lsbCBiZSBzZXQgdG8gY2FuY2VsZWRcblx0XHQgKiBAcGFyYW0gcF9jYiAtIFRoaXMgY2FsbGJhY2sgaXMgdHJpZ2dlciB3aGVuIGFyY2hpdmUgaXMgY29tcGxldGVcblx0XHQgKi9cblx0XHRhcmNoaXZlTXlJbnZpdGF0aW9uczogKHBfY2IpID0+IHtcblx0XHRcdHJldHVybiBfYXJjaGl2ZUludml0YXRpb25zKG1lLCBwX2NiKTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIE1ha2VzIGFuIGludml0ZSBhY2NlcHRlZCwgYW5kIGRlZmluZXMgdGhlIFwiYWNjZXB0ZWRcIiBmbGFnIG9mIHRoaXMgaW52aXRlIGF0IHRydWUgaW4gdGhlIGRhdGFiYXNlLlxuXHRcdCAqIEBwYXJhbSBwX2ludml0YXRpb25EYXRhIC1cblx0XHQgKi9cblx0XHRhY2NlcHRJbnZpdGF0aW9uOiBfYWNjZXB0SW52aXRhdGlvbixcblxuXHRcdC8qKlxuXHRcdCAqIFJlZnVzZXMgdGhlIGludml0ZSBhbmQgc2V0IHRoZSBcImFjY2VwdGVkXCIgZmxhZyBvZiB0aGlzIGludml0ZSBpbiB0aGUgZGF0YWJhc2UgdG8gZmFsc2Vcblx0XHQgKiBAcGFyYW0gcF9pbnZpdGF0aW9uRGF0YSAtIFRoZSBpbnZpdGUgZGF0YVxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBwX3JlYXNvbiAtIG9wdGlvbmFsIGluZm8gYWJvdXQgdGhlIHJlamVjdFxuXHRcdCAqL1xuXHRcdHJlamVjdEludml0YXRpb246IF9yZWplY3RJbnZpdGF0aW9uLFxuXG5cdFx0LyoqXG5cdFx0ICogRGVmaW5lcyBhIGNhbGxiYWNrIGZvciBhIHBhcnRpY3VsYXIgZXZlbnRcblx0XHQgKiBAcGFyYW0ge3N0cmluZ30gcF9ldnQgLSBUbyBjaG9vc2UgYmV0d2VlbiBcInJvb21JbnZpdGVcIiwgXCJyb29tSW52aXRlQWNjZXB0ZWRcIiwgXCJyb29tSW52aXRlQ2FuY2VsZWRcIiwgXCJ1c2VyXCIgYW5kIFwidXNlclJlbW92YWxcIlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2sgdG8gcmlzZVxuXHRcdCAqL1xuXHRcdG9uOiAocF9ldnQsIHBfY2IpID0+IHtcblx0XHRcdHN3aXRjaCAocF9ldnQpIHtcblx0XHRcdGNhc2UgJ25ld1Jvb21JbnZpdGF0aW9uJzpcblx0XHRcdFx0X3NldE9uTmV3Um9vbUludml0YXRpb24ocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAncm9vbUludml0YXRpb25DaGFuZ2VkJzpcblx0XHRcdFx0X3NldE9uUm9vbUludml0YXRpb25DaGFuZ2VkKHBfY2IpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3VzZXJBZGRlZCc6XG5cdFx0XHRcdF9zZXRPblVzZXJBZGRlZChwX2NiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICd1c2VyQ2hhbmdlZCc6XG5cdFx0XHRcdF9zZXRPblVzZXJDaGFuZ2VkKHBfY2IpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3VzZXJSZW1vdmVkJzpcblx0XHRcdFx0X3NldE9uVXNlclJlbW92ZWQocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0Y29uc29sZS5lcnJvcigncmVhY2guc2V0OiBubyBzdWNoIGV2ZW50Jyk7XG5cdFx0XHRcdHJldHVybiAtMTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIENsb3NlcyBhbmQgcmVtb3ZlcyBjYWxsYmFja3Ncblx0XHQgKi9cblx0XHRjbG9zZTogX2Nsb3NlLFxuXHRcdC8qKlxuXHRcdCAqIGNoZWNrcyBpZiB0aGVyZSdzIGEgdXNlciB3aXRoIHRoZSBzYW1lIElEL25hbWUgYWxyZWFkeSBwcmVzZW50IGluIHRoZSByb29tXG5cdFx0ICovXG5cdFx0aXNVc2VyUHJlc2VudDpfaXNVc2VyUHJlc2VudFxuXHR9O1xufTtcblxuZXhwb3J0IGRlZmF1bHQgcmVhY2g7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcmVhY2guanNcbiAqKi8iLCJcbi8qKlxuICogQGZpbGUgdXRpbHMuanMgLSBKUyBmaWxlIGZvciB1dGlscyBtZXRob2RzLlxuICogQGF1dGhvciBXZWJjb21cbiAqL1xuXG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZGVzY3JpcHRpb24gVGhlIHV0aWxzIGNsYXNzXG4gKi9cbmNvbnN0IHV0aWxzID0gZnVuY3Rpb24oKSB7XG5cdC8qKlxuXHQgKlxuXHQgKi9cblx0ZnVuY3Rpb24gczQoKSB7XG5cdFx0cmV0dXJuIE1hdGguZmxvb3IoKDEgKyBNYXRoLnJhbmRvbSgpKSAqIDB4MTAwMDApLnRvU3RyaW5nKDE2KS5zdWJzdHJpbmcoMSk7XG5cdH1cblx0LyoqXG5cdCAqIEdlbmVyYXRlcyBhbiBpZGVudGlmaWVyLiBUd28gY2FsbHMgb2YgdGhpcyBtZXRob2RlIG1heSBub3QgcmV0dXJuIHRoZSBzYW1lIGlkZW50aWZpZXJcblx0ICogQHJldHVybiB7c3RyaW5nfSAtIFRoZSBpZGVudGlmaWVyXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ3VpZCgpIHtcblx0XHRyZXR1cm4gYCR7czQoKX0ke3M0KCl9LSR7czQoKX0tJHtzNCgpfS0ke3M0KCl9LSR7czQoKX0ke3M0KCl9JHtzNCgpfWA7XG5cdH1cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgYXBwbGljYXRpb24gaW5zdGFuY2UgaW5kZW50aWZpZXJcblx0ICovXG5cdGNvbnN0IF9hcHBJbnN0YW5jZUlkID0gX2d1aWQoKTtcblxuXHRyZXR1cm4ge1xuXHRcdGFwcEluc3RhbmNlSWQ6IF9hcHBJbnN0YW5jZUlkXG5cdH07XG59KCk7XG5cbmV4cG9ydCBkZWZhdWx0IHV0aWxzO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3V0aWxzLmpzXG4gKiovIiwiLyoqXG4gKiBAZmlsZSByb29tLmpzIC0gSlMgZmlsZSB0byB1c2UgZm9yIHRoZSByb29tIHNlcnZpY2UuXG4gKiBAYXV0aG9yIFdlYmNvbVxuICovXG5cbi8qZXNsaW50IGNvbXBsZXhpdHk6MSwgbWF4LXN0YXRlbWVudHM6IDEsIG1heC1sZW46IDEqL1xuXG5pbXBvcnQgYWN0aW9ucyBmcm9tICcuL2FjdGlvbnMnO1xuaW1wb3J0IGxvY2Fsc3RyZWFtIGZyb20gJy4vbG9jYWxzdHJlYW0nO1xuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMnO1xuXG4vKipcbiAqIFJPT01fU1RBVFVTX0NMT1NFIHN0YXR1cyA6IHJvb20gaXMgQ0xPU0UgLyBpbmFjdGl2ZVxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBST09NX1NUQVRVU19DTE9TRSA9ICdDTE9TRSc7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZGVzY3JpcHRpb24gVGhlIHJvb20gb2JqZWN0IHdpdGggaXRzIHN0cmVhbXMsIG1lc3NhZ2VzLCBmbGFncyBhbmQgY2FsbGJhY2tzLiBUaGUgcHVibGlzaGVkIG1lZGlhIHN0cmVhbXMsIHRoZSBXZWJSVEMgc3RhY2tzLCB0aGUgaW5zdGFudCBtZXNzYWdlcywgYW5kIHRoZSBwYXJ0aWNpcGFudCBsaXN0c1xuICogYXJlIG1hbmFnZWQgaW4gdGhpcyBkYXRhIHN0cnVjdHVyZS5cbiAqIEBwYXJhbSBwX21lIC0gVGhlIHVzZXIgaWRlbnRpZmllciwgaWRlbnRpZnlpbmcgdGhlIGN1cnJlbnQgdXNlciBpbiB0aGUgZGF0YWJhc2VcbiAqIEBwYXJhbSBwX3Jvb21JZCAtIFRoZSByb29tIGlkZW50aWZpZXIsIGlkZW50aWZ5aW5nIGluIHRoZSBkYXRhYmFzZSB0aGUgcm9vbSBpbiB1c2VcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKHBfbWUsIHBfcm9vbUlkLCBkYXRhcmVmcywgd2VicnRjbW5ncikge1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHJvb20gaWRlbnRpZmllciwgaWRlbnRpZnlpbmcgYSByb29tIGluIHRoZSBkYXRhYmFzZVxuXHQgKi9cblx0Y29uc3Qgcm9vbUlkID0gcF9yb29tSWQ7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHVzZXIgaWRlbnRpZmllclxuXHQgKi9cblx0Y29uc3QgbWUgPSBwX21lO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgZGF0YXJlZiBwb2ludGVyIHBvaW50aW5nIHRvIGEgbm9kZSBpZGVudGlmaWVkIGJ5IHRoZSByb29tIGlkZW50aWZpZXIgdW5kZXIgdGhlIHJvb21zIG5vZGVcblx0ICovXG5cdGNvbnN0IGRhdGFyZWYgPSBkYXRhcmVmcy5nZXRSb29tcygpLmNoaWxkKHJvb21JZCk7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIFdlYlJUQyBzdGFja3MgdXNlZCBpbiB0aGlzIHJvb21cblx0ICovXG5cdGxldCByb29tV2VicnRjU3RhY2tzID0ge307XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGF2YWlsYWJsZSBzdHJlYW1zXG5cdCAqL1xuXHRsZXQgbUF2YWlsYWJsZVN0cmVhbXMgPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIGRhdGEgc3RydWN0dXJlcyBmb3Igc3RyZWFtcyB3aGljaCBwb3NzZXNzIGNhbGxiYWNrcyB0byB0cmlnZ2VyIGluIEpTT04gZm9ybWF0LlxuXHQgKiBUaGVzZSBjYWxsYmFja3MgYXJlIGFkZFN1YnNjcmliZXJMaXN0Q2IgYW5kIHJlbW92ZVN1YnNjcmliZXJzTGlzdENiLlxuXHQgKi9cblx0bGV0IG1TdHJlYW1zID0gW107XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIGFsbCB0aGUgc3RyZWFtIG1hcmtlZCBhcyBtdXRlZFxuXHQgKi9cblx0bGV0IG1NdXRlZFN0cmVhbXMgPSBbXTtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgY2FsbGJhY2sgdG8gdHJpZ2dlciBmb3IgdW5wdWJsaXNoZWQgcmVtb3RlIG9iamVjdHNcblx0ICovXG5cdGxldCByZW1vdGVVbnB1Ymxpc2hlZENiID0gbnVsbDtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIHRyaWdnZXJlZCB3aGVuIGEgbGlzdCBvZiBpbnN0YW50IG1lc3NhZ2VzIGhhcyBiZWVuIHJlY2VpdmVkXG5cdCAqL1xuXHRsZXQgaW5zdGFudE1lc3NhZ2VMaXN0Q2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFVzZXIncyBjYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIGxpc3Qgb2YgbWVkaWFzIGhhcyBiZWVuIHB1Ymxpc2hlZFxuXHQgKi9cblx0bGV0IHB1Ymxpc2hlZE1lZGlhTGlzdENiID0gbnVsbDtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIHJvb20ncyBjYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIGxpc3Qgb2YgbWVkaWFzIGhhcyBiZWVuIHB1Ymxpc2hlZFxuXHQgKi9cblx0bGV0IHB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiB1c2VyJ3MgY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gYSBsaXN0IG9mIG1lZGlhcyBoYXMgYmVlbiB1bnB1Ymxpc2hlZFxuXHQgKi9cblx0bGV0IHVuUHVibGlzaGVkTWVkaWFMaXN0Q2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIHJvb20ncyBjYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIGxpc3Qgb2YgbWVkaWFzIGhhcyBiZWVuIHB1Ymxpc2hlZFxuXHQgKi9cblx0bGV0IHVuUHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0gPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIHRyaWdnZXJlZCB3aGVuIGEgbGlzdCBvZiBwYXJ0aWNpcGFudHMgam9pbnMgdGhlIHJvb20gKGFkZGVkKVxuXHQgKi9cblx0bGV0IHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBDYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIGxpc3Qgb2YgcGFydGljaXBhbnRzIGpvaW5zIHRoZSByb29tIChjaGFuZ2VkKVxuXHQgKi9cblx0bGV0IHBhcnRpY2lwYW50TGlzdEpvaW5DaGFuZ2VkQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIENhbGxiYWNrIHRyaWdnZXJlZCB3aGVuIGEgbGlzdCBvZiBwYXJ0aWNpcGFudHMgbGVhdmVzIHRoZSByb29tXG5cdCAqL1xuXHRsZXQgcGFydGljaXBhbnRMaXN0TGVhdmVDYiA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEFkZHMgYW4gYXZhaWxhYmxlIHN0cmVhbVxuXHQgKiBAcGFyYW0gZGF0YSAtIFRoZSBzdHJlYW0gdG8gYWRkXG5cdCAqL1xuXHRmdW5jdGlvbiBfYWRkQXZhaWxhYmxlU3RyZWFtKGRhdGEpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9hZGRBdmFpbGFibGVTdHJlYW0pZGF0YT0ke0pTT04uc3RyaW5naWZ5KGRhdGEpfWApO1xuXHRcdG1BdmFpbGFibGVTdHJlYW1zLnB1c2goZGF0YSk7XG5cdH1cblxuXHQvKipcblx0ICogUmVtb3ZlcyBhbiBhdmFpbGFibGUgc3RyZWFtXG5cdCAqIEBwYXJhbSBzdHJlYW0gLSBUaGUgc3RyZWFtSWQgdG8gcmVtb3ZlXG5cdCAqL1xuXHRmdW5jdGlvbiBfcmVtb3ZlQXZhaWxhYmxlU3RyZWFtKHN0cmVhbUlkKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfcmVtb3ZlQXZhaWxhYmxlU3RyZWFtKXN0cmVhbUlkPSR7c3RyZWFtSWR9YCk7XG5cdFx0aWYgKG1BdmFpbGFibGVTdHJlYW1zICYmIHN0cmVhbUlkKSB7XG5cdFx0XHRmb3IgKGxldCBpID0gbUF2YWlsYWJsZVN0cmVhbXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0aWYgKG1BdmFpbGFibGVTdHJlYW1zW2ldICYmIE9iamVjdC5rZXlzKG1BdmFpbGFibGVTdHJlYW1zW2ldKVswXSAmJiBPYmplY3Qua2V5cyhtQXZhaWxhYmxlU3RyZWFtc1tpXSlbMF0gPT09IHN0cmVhbUlkKSB7XG5cdFx0XHRcdFx0ZGVsZXRlIG1BdmFpbGFibGVTdHJlYW1zW2ldO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIGEgV2ViY29tIGxpc3RlbmVyLlxuXHQgKiBEZWZpbmVzIGNhbGxiYWNrcyAoaWYgbm90IGFscmVhZHkgZGVmaW5lZCkgZm9yIDogaW5zdGFudCBtZXNzYWdlcywgbWVkaWEgbGlzdCBhbmQgcGFydGljaXBhbnRzLlxuXHQgKiBUaGVzZSBjYWxsYmFja3MgYXJlIGNhbGxlZCBpZiBhIG5ldyB2YWx1ZSBpcyBhZGRlZCBvciBpZiBhIHZhbHVlIGhhcyBiZWVuIHJlbW92ZWQgaW4gdGhlIGRhdGFiYXNlLlxuXHQgKi9cblx0ZnVuY3Rpb24gaW5pdFdlYmNvbUxpc3RlbmVyKCkge1xuXHRcdGlmICghcHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0pIHtcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtID0gZnVuY3Rpb24gKHNuYXBzaG90KSB7XG5cdFx0XHRcdGNvbnN0XG5cdFx0XHRcdFx0b2JqID0ge30sXG5cdFx0XHRcdFx0bmFtZSA9IHNuYXBzaG90Lm5hbWUoKSxcblx0XHRcdFx0XHR2YWx1ZSA9IHNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Om9uUHVibGlzaGVkU3RyZWFtRm9yQXZhaWxhYmxlU3RyZWFtKXN0cmVhbT0ke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1gKTtcblx0XHRcdFx0b2JqW25hbWVdID0gdmFsdWU7XG5cdFx0XHRcdG9ialtuYW1lXS5yb29tSWQgPSByb29tSWQ7XG5cdFx0XHRcdF9hZGRBdmFpbGFibGVTdHJlYW0ob2JqKTtcblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdwdWJsaXNoZWRNZWRpYUxpc3QnKS5vbignY2hpbGRfYWRkZWQnLCBwdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSk7XG5cdFx0fVxuXG5cdFx0aWYgKCF1blB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtKSB7XG5cdFx0XHR1blB1Ymxpc2hlZE1lZGlhTGlzdENiRm9yQXZhaWxhYmxlU3RyZWFtID0gZnVuY3Rpb24gKHNuYXBzaG90KSB7XG5cdFx0XHRcdGNvbnN0IHN0cmVhbUlkID0gc25hcHNob3QubmFtZSgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Om9uVW5QdWJsaXNoZWRTdHJlYW1Gb3JBdmFpbGFibGVTdHJlYW0pc3RyZWFtPSR7c3RyZWFtSWR9YCk7XG5cdFx0XHRcdF9yZW1vdmVBdmFpbGFibGVTdHJlYW0oc3RyZWFtSWQpO1xuXHRcdFx0fTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpLm9uKCdjaGlsZF9yZW1vdmVkJywgdW5QdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSByb29tIG9iamVjdCBieSBhZGRpbmcgYSBuZXcgdmFsdWUgaW4gYSBjaGlsZCBpZGVudGlmaWVkIGJ5IHRoZSB1c2VyIGlkZW50aWZpZXIgdW5kZXJcblx0ICogdGhlIHBhcnRpY2lwYW50TGlzdCBub2RlXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0KCkge1xuXHRcdGRhdGFyZWYuY2hpbGQoYHBhcnRpY2lwYW50TGlzdC8ke21lfWApLnVwZGF0ZSh7XG5cdFx0XHRjb25uZWN0ZWQ6IHRydWUsXG5cdFx0XHR3YXNJbnNpZGVSb29tOiB0cnVlXG5cdFx0fSk7XG5cdFx0ZGF0YXJlZi5jaGlsZChgcGFydGljaXBhbnRMaXN0LyR7bWV9L2Nvbm5lY3RlZGApLm9uRGlzY29ubmVjdCgpLnNldChmYWxzZSk7XG5cdFx0aW5pdFdlYmNvbUxpc3RlbmVyKCk7XG5cdH1cblxuXHQvKipcblx0ICogUmV0dXJuIHRoZSByb29tIGlkZW50aWZpZXJcblx0ICogQHJldHVybiB7c3RyaW5nfSAtIFRoZSByb29tIGlkZW50aWZpZXJcblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRSb29tSWQoKSB7XG5cdFx0cmV0dXJuIHJvb21JZDtcblx0fVxuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIHRoZSB1c2VyIGlkZW50aWZpZXJcblx0ICogQHJldHVybiB7c3RyaW5nfSAtIFRoZSB1c2VyIGlkZW50aWZpZXJcblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRNZSgpIHtcblx0XHRyZXR1cm4gbWU7XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIFBhcnRpY2lwYW50cyBhZGRlZCBsaXN0ZW5lci5cblx0ICogRGVmaW5lcyBjYWxsYmFjayAocmVtb3ZlIGFueSBleGlzdGluZyBvbmUpIGZvciB0aGUgcGFydGljaXBhbnRzLlxuXHQgKiBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCwgZmlyc3QgZm9yIGFueSBleGlzdGluZyBjb25uZWN0ZWQgcGFydGljaXBhbnRzLCB0aGVuIHdoZW4gYSBuZXcgcGFydGljaXBhbnQgaXMgYWRkZWQuXG5cdCAqL1xuXHRmdW5jdGlvbiBfc2V0T25QYXJ0aWNpcGFudEpvaW4ocF9jYikge1xuXHRcdGNvbnN0IHBhcnRpY2lwYW50TGlzdFJlZiA9IGRhdGFyZWYuY2hpbGQoJ3BhcnRpY2lwYW50TGlzdCcpO1xuXG5cdFx0aWYgKHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiKSB7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiKTtcblx0XHRcdHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocGFydGljaXBhbnRMaXN0Sm9pbkNoYW5nZWRDYikge1xuXHRcdFx0cGFydGljaXBhbnRMaXN0UmVmLm9mZignY2hpbGRfY2hhbmdlZCcsIHBhcnRpY2lwYW50TGlzdEpvaW5DaGFuZ2VkQ2IpO1xuXHRcdFx0cGFydGljaXBhbnRMaXN0Sm9pbkNoYW5nZWRDYiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHBfY2IgJiYgdHlwZW9mIHBfY2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0cGFydGljaXBhbnRMaXN0Sm9pbkFkZGVkQ2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0Y29uc3QgdXNlciA9IHNuYXBzaG90Lm5hbWUoKTtcblx0XHRcdFx0aWYgKHNuYXBzaG90LnZhbCgpICYmIHNuYXBzaG90LnZhbCgpLmNvbm5lY3RlZCAmJiBzbmFwc2hvdC52YWwoKS53YXNJbnNpZGVSb29tKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfc2V0T25QYXJ0aWNpcGFudEpvaW4pIHVzZXIgaGFzIGpvaW5lZDogJHt1c2VyfWApO1xuXHRcdFx0XHRcdHBfY2IodXNlcik7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RSZWYub24oJ2NoaWxkX2FkZGVkJywgcGFydGljaXBhbnRMaXN0Sm9pbkFkZGVkQ2IpO1xuXG5cdFx0XHRwYXJ0aWNpcGFudExpc3RKb2luQ2hhbmdlZENiID0gZnVuY3Rpb24gKHNuYXBzaG90KSB7XG5cdFx0XHRcdGNvbnN0IHVzZXIgPSBzbmFwc2hvdC5uYW1lKCk7XG5cdFx0XHRcdGlmIChzbmFwc2hvdC52YWwoKSAmJiAoc25hcHNob3QudmFsKCkuY29ubmVjdGVkICYmIHNuYXBzaG90LnZhbCgpLndhc0luc2lkZVJvb20pKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfc2V0T25QYXJ0aWNpcGFudEpvaW4pIHVzZXIgaGFzIGpvaW5lZDogJHt1c2VyfWApO1xuXHRcdFx0XHRcdHBfY2IodXNlcik7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RSZWYub24oJ2NoaWxkX2NoYW5nZWQnLCBwYXJ0aWNpcGFudExpc3RKb2luQ2hhbmdlZENiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9zZXRPblBhcnRpY2lwYW50Sm9pbilwYXJhbWV0ZXIgaW5jb3JyZWN0LiBFeHBlY3RlZCBmdW5jdGlvbmApO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgUGFydGljaXBhbnRzIGxlZnQgbGlzdGVuZXIuXG5cdCAqIERlZmluZXMgY2FsbGJhY2sgKHJlbW92ZSBhbnkgZXhpc3Rpbmcgb25lKSBmb3IgdGhlIHBhcnRpY2lwYW50cy5cblx0ICogVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQgd2hlbiBhIG5ldyBwYXJ0aWNpcGFudCBpcyByZW1vdmVkLlxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE9uUGFydGljaXBhbnRMZWF2ZShwX2NiKSB7XG5cblx0XHRpZiAocGFydGljaXBhbnRMaXN0TGVhdmVDYikge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgncGFydGljaXBhbnRMaXN0Jykub2ZmKCdjaGlsZF9jaGFuZ2VkJywgcGFydGljaXBhbnRMaXN0TGVhdmVDYik7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RMZWF2ZUNiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocF9jYiAmJiB0eXBlb2YgcF9jYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RMZWF2ZUNiID0gKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHVzZXIgPSBzbmFwc2hvdC5uYW1lKCk7XG5cdFx0XHRcdGlmIChzbmFwc2hvdC52YWwoKSAmJiAoIXNuYXBzaG90LnZhbCgpLmNvbm5lY3RlZCAmJiBzbmFwc2hvdC52YWwoKS53YXNJbnNpZGVSb29tKSkge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3NldE9uUGFydGljaXBhbnRMZWF2ZSkgdXNlciBoYXMgbGVmdDogJHt1c2VyfWApO1xuXHRcdFx0XHRcdHBfY2IodXNlcik7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdwYXJ0aWNpcGFudExpc3QnKS5vbignY2hpbGRfY2hhbmdlZCcsIHBhcnRpY2lwYW50TGlzdExlYXZlQ2IpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3NldE9uUGFydGljaXBhbnRMZWF2ZSlwYXJhbWV0ZXIgaW5jb3JyZWN0LiBFeHBlY3RlZCBmdW5jdGlvbmApO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTZW5kcyBhbiBpbnN0YW50IG1lc3NhZ2UgYnkgcHVzaGluZyBhbiBuZXcgZWxlbWVudCBpbiB0aGUgZGF0YWJhc2Ugd2l0aCBhIHRpbWVzdGFtcCwgdGhlIG1lc3NhZ2UgYW5kIGl0cyBhdXRob3IgKGkuZS4gdGhlIGN1cnJlbnQgdXNlcilcblx0ICogQHBhcmFtIHtzdHJpbmd9cF9tZXNzYWdlIC0gVGhlIG1lc3NhZ2UgdG8gc2VuZFxuXHQgKi9cblx0ZnVuY3Rpb24gX3NlbmRJbnN0YW50TWVzc2FnZShwX21lc3NhZ2UpIHtcblx0XHRpZiAocF9tZXNzYWdlICE9PSAnJykge1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpzZW5kSW5zdGFudE1lc3NhZ2UpbWVzc2FnZT0ke3BfbWVzc2FnZX1gKTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ2luc3RhbnRNZXNzYWdlTGlzdCcpLnB1c2goe1xuXHRcdFx0XHRmcm9tOiBtZSxcblx0XHRcdFx0bWVzc2FnZTogcF9tZXNzYWdlLFxuXHRcdFx0XHR0aW1lc3RhbXA6IFdlYmNvbS5TZXJ2ZXJWYWx1ZS5USU1FU1RBTVBcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgaW5zdGFudCBtZXNzYWdlIGxpc3RlbmVyLlxuXHQgKiBEZWZpbmVzIGNhbGxiYWNrIChyZW1vdmUgYW55IGV4aXN0aW5nIG9uZSkgZm9yIDogaW5zdGFudCBtZXNzYWdlcy5cblx0ICogVGhpcyBjYWxsYmFjayBpcyBjYWxsZWQsIGZpcnN0IGZvciBhbnkgZXhpc3RpbmcgaW5zdGFudCBtZXNzYWdlcywgdGhlbiB3aGVuIGEgbmV3IHZhbHVlIGlzIGFkZGVkIGluIHRoZSBkYXRhYmFzZS5cblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRPbkluc3RhbnRNZXNzYWdlKHBfY2IpIHtcblx0XHRpZiAoaW5zdGFudE1lc3NhZ2VMaXN0Q2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ2luc3RhbnRNZXNzYWdlTGlzdCcpLm9mZignY2hpbGRfYWRkZWQnLCBpbnN0YW50TWVzc2FnZUxpc3RDYik7XG5cdFx0XHRpbnN0YW50TWVzc2FnZUxpc3RDYiA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdGluc3RhbnRNZXNzYWdlTGlzdENiID0gZnVuY3Rpb24gKHNuYXBzaG90KSB7XG5cdFx0XHRcdGNvbnN0IG9iaiA9IHNuYXBzaG90LnZhbCgpO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9zZXRPbkluc3RhbnRNZXNzYWdlKXJlY2VpdmUgSW5zdGFudE1lc3NhZ2U9JHtKU09OLnN0cmluZ2lmeShvYmopfWApO1xuXHRcdFx0XHRwX2NiKG9iaik7XG5cdFx0XHR9O1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgnaW5zdGFudE1lc3NhZ2VMaXN0Jykub24oJ2NoaWxkX2FkZGVkJywgaW5zdGFudE1lc3NhZ2VMaXN0Q2IpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3NldE9uSW5zdGFudE1lc3NhZ2UpcGFyYW1ldGVyIGluY29ycmVjdC4gRXhwZWN0ZWQgZnVuY3Rpb25gKTtcblx0XHR9XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBQdWJsaXNoZXMgdGhlIHN0cmVhbVxuXHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgaWRlbnRpZmllciBvZiB0aGUgc3RyZWFtIHRvIHB1Ymxpc2hcblx0ICogQHBhcmFtIGxvY2FsVmlkIC0gVGhlIGxvY2FsIHZpZGVvXG5cdCAqIEBwYXJhbSBwX2FjdGlvblR5cGUgLSBBIHZhbHVlIGRldGVybWluaW5nIHRoZSB0eXBlIG9mIHN0cmVhbSBpbiB1c2UgKHZpZGVvLCBhdWRpbywgdmlkZW8gYW5kIGF1ZGlvLCBzY3JlZW4tc2hhcmluZykuXG5cdCAqIEBwYXJhbSBnZXRMb2NhbFN0cmVhbUNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgbWVkaWFzdHJlYW0gb2JqZWN0XG5cdCAqL1xuXHRmdW5jdGlvbiBfcHVibGlzaFN0cmVhbShzdHJlYW1JZCwgbG9jYWxWaWQsIHBfYWN0aW9uVHlwZSwgZ2V0TG9jYWxTdHJlYW1DYikge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6cHVibGlzaFN0cmVhbSlyb29tSWQ9JHtyb29tSWR9LHN0cmVhbUlkPSR7c3RyZWFtSWR9LG1lPSR7bWV9LGFjdGlvblR5cGU9JHtwX2FjdGlvblR5cGV9YCk7XG5cdFx0aWYgKCEoc3RyZWFtSWQgJiYgdHlwZW9mIHN0cmVhbUlkID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcignKFJlYWNoU0RLOjpyZWFjaDo6aW52aXRlVG9Sb29tKXBhcmFtZXRlciBzdHJlYW1JZCBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nJyk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnN0IGxvY2FsRGF0YVJlZiA9IGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpLmNoaWxkKHN0cmVhbUlkKTtcblx0XHRjb25zdCByZW1vdGVEYXRhUmVmID0gbG9jYWxEYXRhUmVmLmNoaWxkKCdzdWJzY3JpYmVyc0xpc3QnKTtcblxuXHRcdGNvbnN0IHB1YkFuZFN1YnNjcmliZSA9ICgpID0+IHtcblx0XHRcdC8vIHB1Ymxpc2ggdGhlIHN0cmVhbVxuXHRcdFx0bG9jYWxEYXRhUmVmLnNldCh7XG5cdFx0XHRcdGZyb206IG1lLFxuXHRcdFx0XHRhcHBJbnN0YW5jZUlkOiB1dGlscy5hcHBJbnN0YW5jZUlkLFxuXHRcdFx0XHRhY3Rpb25UeXBlOiBwX2FjdGlvblR5cGVcblx0XHRcdH0pO1xuXHRcdFx0bG9jYWxEYXRhUmVmLm9uRGlzY29ubmVjdCgpLnJlbW92ZSgpO1xuXG5cdFx0XHQvLyBzdWJzY3JpYmUgdG8gc3RyZWFtIHVwZGF0ZXMgZm9yIGFkZFxuXHRcdFx0Y29uc3QgYWRkU3Vic2NyaWJlcnNMaXN0Q2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0Y29uc3Rcblx0XHRcdFx0XHRyZW1vdGVBcHBJbnN0YW5jZUlkID0gc25hcHNob3QubmFtZSgpLFxuXHRcdFx0XHRcdGRhdGEgPSBzbmFwc2hvdC52YWwoKSxcblx0XHRcdFx0XHRfc3Vic2NyaWJlcklkID0gZGF0YS51c2VySWQsXG5cdFx0XHRcdFx0X3BlZXJjb0lkID0gZGF0YS5wZWVyY29JZCxcblx0XHRcdFx0XHRfcGVlcmNvUmVmID0gZGF0YS5wZWVyY29SZWYsXG5cdFx0XHRcdFx0aXNBdWRpb011dGUgPSBtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXSAmJiBtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXS5hdWRpbyxcblx0XHRcdFx0XHRpc1ZpZGVvTXV0ZSA9IG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdICYmIG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLnZpZGVvLFxuXHRcdFx0XHRcdHN0cmVhbVN0YWNrSWQgPSBgJHtzdHJlYW1JZH1fcHViYDtcblxuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06OnB1Ymxpc2hTdHJlYW06OmFkZFN1YnNjcmliZXJzTGlzdENiKXN1YnNjcmliZXIgJHtfc3Vic2NyaWJlcklkfSB0byBzdHJlYW0gJHtzdHJlYW1JZH0gYWRkZWQgJHtKU09OLnN0cmluZ2lmeShkYXRhKX1gKTtcblxuXHRcdFx0XHRpZiAoIXJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tJZF0pIHtcblx0XHRcdFx0XHRyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrSWRdID0gW107XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBtU3RhY2tJZCA9IHdlYnJ0Y21uZ3IuY3JlYXRlV2VicnRjKGxvY2FsVmlkLCByZW1vdGVBcHBJbnN0YW5jZUlkLCAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpwdWJsaXNoU3RyZWFtOjphZGRTdWJzY3JpYmVyc0xpc3RDYilzdWJzY3JpYmVyICR7X3N1YnNjcmliZXJJZH0gdG8gc3RyZWFtICR7c3RyZWFtSWR9IGNvbm5lY3Rpb24gbG9zdGApO1xuXHRcdFx0XHRcdC8vb25VblB1Ymxpc2hlZFN0cmVhbShsb2NhbFZpZCwgcmVtb3RlVmlkKTtcblx0XHRcdFx0fSwgdHJ1ZSwgcF9hY3Rpb25UeXBlLCBfcGVlcmNvSWQsIF9wZWVyY29SZWYsIGlzQXVkaW9NdXRlLCBpc1ZpZGVvTXV0ZSk7XG5cblx0XHRcdFx0cm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja0lkXS5wdXNoKHtcblx0XHRcdFx0XHRzdGFja0lkOiBtU3RhY2tJZCxcblx0XHRcdFx0XHRzdWJzY3JpYmVySWQ6IF9zdWJzY3JpYmVySWQsXG5cdFx0XHRcdFx0aXNQdWJsaXNoOiB0cnVlLFxuXHRcdFx0XHRcdHBlZXJjb0lkOiBfcGVlcmNvSWQsXG5cdFx0XHRcdFx0cGVlcmNvUmVmOiBfcGVlcmNvUmVmLFxuXHRcdFx0XHRcdHN0cmVhbUlkXG5cdFx0XHRcdH0pO1xuXHRcdFx0XHQvL2RlbGV0ZSByb29tV2VicnRjU3RhY2tzW3N0cmVhbUlkK1wiX3B1YlwiXTtcblx0XHRcdFx0Ly8kKFwiZGl2I3ZpZGVvQnV0dG9uX1wiK3Jvb21JZCtcIi52aWRlb0J1dHRvbiwgZGl2I21pY0J1dHRvbl9cIityb29tSWQrXCIubWljQnV0dG9uXCIpLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIik7XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBzdWJzY3JpYmUgdG8gc3RyZWFtIHVwZGF0ZXMgZm9yIHJlbW92ZVxuXHRcdFx0Y29uc3QgcmVtb3ZlU3Vic2NyaWJlcnNMaXN0Q2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0Y29uc3Rcblx0XHRcdFx0XHRzdWJzY3JpYmVySWQgPSBzbmFwc2hvdC52YWwoKS51c2VySWQsXG5cdFx0XHRcdFx0c3RyZWFtU3RhY2tzID0gcm9vbVdlYnJ0Y1N0YWNrc1tgJHtzdHJlYW1JZH1fcHViYF07XG5cblx0XHRcdFx0aWYgKHN1YnNjcmliZXJJZCAmJiBzdHJlYW1TdGFja3MpIHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06OnB1Ymxpc2hTdHJlYW06OnJlbW92ZVN1YnNjcmliZXJzTGlzdENiKXN1YnNjcmliZXIgJHtzdWJzY3JpYmVySWR9IHRvIHN0cmVhbSAke3N0cmVhbUlkfSByZW1vdmVkYCk7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IHN0cmVhbVN0YWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdFx0aWYgKHN0cmVhbVN0YWNrc1tpXS5zdWJzY3JpYmVySWQgPT09IHN1YnNjcmliZXJJZCkge1xuXHRcdFx0XHRcdFx0XHR3ZWJydGNtbmdyLmNsb3NlV2VicnRjKHN0cmVhbVN0YWNrc1tpXS5zdGFja0lkLCB0cnVlKTtcblx0XHRcdFx0XHRcdFx0cm9vbVdlYnJ0Y1N0YWNrc1tgJHtzdHJlYW1JZH1fcHViYF0uc3BsaWNlKGksMSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdC8vZGVsZXRlIHJvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3B1YmBdO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHRtU3RyZWFtc1tzdHJlYW1JZF0gPSB7XG5cdFx0XHRcdGFkZFN1YnNjcmliZXJzTGlzdENiLFxuXHRcdFx0XHRyZW1vdmVTdWJzY3JpYmVyc0xpc3RDYlxuXHRcdFx0fTtcblxuXHRcdFx0cmVtb3RlRGF0YVJlZi5vbignY2hpbGRfYWRkZWQnLCBhZGRTdWJzY3JpYmVyc0xpc3RDYik7XG5cdFx0XHRyZW1vdGVEYXRhUmVmLm9uKCdjaGlsZF9yZW1vdmVkJywgcmVtb3ZlU3Vic2NyaWJlcnNMaXN0Q2IpO1xuXHRcdH07XG5cblx0XHQvL2luaXQgbG9jYWwgc3RyZWFtXG5cdFx0aWYgKHBfYWN0aW9uVHlwZSkge1xuXHRcdFx0aWYgKHBfYWN0aW9uVHlwZSA9PT0gYWN0aW9ucy5BQ1RJT05fVFlQRV9WSURFTykge1xuXHRcdFx0XHRsb2NhbHN0cmVhbS5jb25uZWN0TG9jYWxWaWRlb1N0cmVhbShsb2NhbFZpZCwgcHViQW5kU3Vic2NyaWJlLCBnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdH0gZWxzZSBpZiAocF9hY3Rpb25UeXBlID09PSBhY3Rpb25zLkFDVElPTl9UWVBFX0FVRElPKSB7XG5cdFx0XHRcdGxvY2Fsc3RyZWFtLmNvbm5lY3RMb2NhbEF1ZGlvU3RyZWFtKGxvY2FsVmlkLCBwdWJBbmRTdWJzY3JpYmUsIGdldExvY2FsU3RyZWFtQ2IpO1xuXHRcdFx0fSBlbHNlIGlmIChwX2FjdGlvblR5cGUgPT09IGFjdGlvbnMuQUNUSU9OX1RZUEVfQVVESU9fVklERU8pIHtcblx0XHRcdFx0bG9jYWxzdHJlYW0uY29ubmVjdExvY2FsQXVkaW9WaWRlb1N0cmVhbShsb2NhbFZpZCwgcHViQW5kU3Vic2NyaWJlLCBnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIFB1Ymxpc2hlZCBNZWRpYUxpc3QgbGlzdGVuZXIuXG5cdCAqIERlZmluZXMgY2FsbGJhY2sgKHJlbW92ZSBhbnkgZXhpc3Rpbmcgb25lKSBmb3IgOiBwdWJsaXNoZWQgTWVkaWEuXG5cdCAqIFRoaXMgY2FsbGJhY2sgaXMgY2FsbGVkLCBmaXJzdCBmb3IgYW55IGV4aXN0aW5nIHB1Ymxpc2hlZCBtZWRpYSwgdGhlbiB3aGVuIGEgbmV3IHZhbHVlIGlzIGFkZGVkIGluIHRoZSBkYXRhYmFzZS5cblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRPblB1Ymxpc2hlZFN0cmVhbShwX2NiKSB7XG5cblx0XHRpZiAocHVibGlzaGVkTWVkaWFMaXN0Q2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpLm9mZignY2hpbGRfYWRkZWQnLCBwdWJsaXNoZWRNZWRpYUxpc3RDYik7XG5cdFx0XHRwdWJsaXNoZWRNZWRpYUxpc3RDYiA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdENiID0gZnVuY3Rpb24gKHNuYXBzaG90KSB7XG5cdFx0XHRcdGNvbnN0XG5cdFx0XHRcdFx0b2JqID0ge30sXG5cdFx0XHRcdFx0bmFtZSA9IHNuYXBzaG90Lm5hbWUoKTtcblx0XHRcdFx0b2JqW25hbWVdID0gc25hcHNob3QudmFsKCk7XG5cdFx0XHRcdG9ialtuYW1lXS5yb29tSWQgPSByb29tSWQ7XG5cdFx0XHRcdHBfY2Iob2JqKTtcblx0XHRcdH07XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdwdWJsaXNoZWRNZWRpYUxpc3QnKS5vbignY2hpbGRfYWRkZWQnLCBwdWJsaXNoZWRNZWRpYUxpc3RDYik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfc2V0T25QdWJsaXNoZWRTdHJlYW0pcGFyYW1ldGVyIGluY29ycmVjdC4gRXhwZWN0ZWQgZnVuY3Rpb25gKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVW5wdWJsaXNoZXMgdGhlIHN0cmVhbVxuXHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgc3RyZWFtIGlkZW50aWZpZXJcblx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBUaGUgY2FsbGJhY2sgdG8gdHJpZ2dlclxuXHQgKi9cblx0ZnVuY3Rpb24gX3VuUHVibGlzaFN0cmVhbShzdHJlYW1JZCwgY2FsbGJhY2spIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06OnVuUHVibGlzaFN0cmVhbSlzdHJlYW1JZCAke3N0cmVhbUlkfWApO1xuXHRcdGNvbnN0XG5cdFx0XHRsb2NhbERhdGFSZWYgPSBkYXRhcmVmLmNoaWxkKGBwdWJsaXNoZWRNZWRpYUxpc3QvJHtzdHJlYW1JZH1gKSxcblx0XHRcdHJlbW90ZURhdGFSZWYgPSBsb2NhbERhdGFSZWYuY2hpbGQoJ3N1YnNjcmliZXJzTGlzdCcpLFxuXHRcdFx0c3RyZWFtU3RhY2tzSWQgPSBgJHtzdHJlYW1JZH1fcHViYDtcblxuXHRcdGlmIChtU3RyZWFtc1tzdHJlYW1JZF0gJiYgbVN0cmVhbXNbc3RyZWFtSWRdLmFkZFN1YnNjcmliZXJzTGlzdENiKSB7XG5cdFx0XHRyZW1vdGVEYXRhUmVmLm9mZignY2hpbGRfYWRkZWQnLCBtU3RyZWFtc1tzdHJlYW1JZF0uYWRkU3Vic2NyaWJlcnNMaXN0Q2IpO1xuXHRcdH1cblx0XHRpZiAobVN0cmVhbXNbc3RyZWFtSWRdICYmIG1TdHJlYW1zW3N0cmVhbUlkXS5yZW1vdmVTdWJzY3JpYmVyc0xpc3RDYikge1xuXHRcdFx0cmVtb3RlRGF0YVJlZi5vZmYoJ2NoaWxkX3JlbW92ZWQnLCBtU3RyZWFtc1tzdHJlYW1JZF0ucmVtb3ZlU3Vic2NyaWJlcnNMaXN0Q2IpO1xuXHRcdH1cblxuXHRcdGRlbGV0ZSBtU3RyZWFtc1tzdHJlYW1JZF07XG5cdFx0ZGVsZXRlIG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdO1xuXG5cdFx0bG9jYWxEYXRhUmVmLm9uRGlzY29ubmVjdCgpLmNhbmNlbCgpO1xuXHRcdGxvY2FsRGF0YVJlZi5yZW1vdmUoKTtcblxuXG5cdFx0aWYgKHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdICYmIHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdLmxlbmd0aCA+IDApIHtcblx0XHRcdGxldCBuYlN0YWNrID0gcm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF0ubGVuZ3RoO1xuXHRcdFx0Y29uc3QgY2xvc2VDYiA9ICgpID0+IHtcblx0XHRcdFx0bmJTdGFjay0tO1xuXHRcdFx0XHRpZiAobmJTdGFjayA8IDEpIHtcblx0XHRcdFx0XHRkZWxldGUgcm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF07XG5cdFx0XHRcdFx0aWYgKGNhbGxiYWNrICYmIHR5cGVvZiBjYWxsYmFjayA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fTtcblx0XHRcdGZvciAobGV0IGkgPSBuYlN0YWNrIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0d2VicnRjbW5nci5jbG9zZVdlYnJ0Yyhyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXVtpXS5zdGFja0lkLCB0cnVlLCBjbG9zZUNiKTtcblx0XHRcdH1cblx0XHRcdGxvY2Fsc3RyZWFtLmNsb3NlKCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRlbGV0ZSByb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXTtcblx0XHRcdGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdH1cblxuXG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIHVuUHVibGlzaGVkIE1lZGlhTGlzdCBsaXN0ZW5lci5cblx0ICogRGVmaW5lcyBjYWxsYmFjayAocmVtb3ZlIGFueSBleGludGluZyBvbmUpIGZvciA6IHVucHVibGlzaGVkIE1lZGlhLlxuXHQgKiBUaGlzIGNhbGxiYWNrIGlzIGNhbGxlZCB3aGVuIGEgbWVkaWEgaXMgdW5wdWJsaXNoLlxuXHQgKi9cblx0ZnVuY3Rpb24gX3NldE9uVW5QdWJsaXNoZWRTdHJlYW0ocF9jYikge1xuXG5cdFx0aWYgKHVuUHVibGlzaGVkTWVkaWFMaXN0Q2IpIHtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpLm9mZignY2hpbGRfcmVtb3ZlZCcsIHVuUHVibGlzaGVkTWVkaWFMaXN0Q2IpO1xuXHRcdFx0dW5QdWJsaXNoZWRNZWRpYUxpc3RDYiA9IG51bGw7XG5cdFx0fVxuXHRcdGlmIChwX2NiICYmIHR5cGVvZiBwX2NiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdHVuUHVibGlzaGVkTWVkaWFMaXN0Q2IgPSAoc25hcHNob3QpID0+IHtcblx0XHRcdFx0cF9jYihzbmFwc2hvdC5uYW1lKCkpO1xuXHRcdFx0fTtcblx0XHRcdGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpLm9uKCdjaGlsZF9yZW1vdmVkJywgdW5QdWJsaXNoZWRNZWRpYUxpc3RDYik7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfc2V0T25VblB1Ymxpc2hlZFN0cmVhbSlwYXJhbWV0ZXIgaW5jb3JyZWN0LiBFeHBlY3RlZCBmdW5jdGlvbmApO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTdWJzY3JpYmVzIHRvIGEgc3RyZWFtIGFuZCBhZGRzIGNhbGxiYWNrcyB0byB0aGUgZGVkaWNhdGVkIG5vZGUgYWNjb3JkaW5nIHRvIHRoZSBhY3Rpb24gdHlwZSBvZiB0aGUgc3RyZWFtIGRhdGEuXG5cdCAqIEBwYXJhbSBzdHJlYW1EYXRhIC0gVGhlIHN0cmVhbSBkYXRhXG5cdCAqIEBwYXJhbSByZW1vdGVWaWQgLSBUaGUgcmVtb3RlIHZpZGVvXG5cdCAqIEBwYXJhbSBnZXRSZW1vdGVTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHQgKi9cblx0ZnVuY3Rpb24gX3N1YnNjcmliZVRvU3RyZWFtKHN0cmVhbURhdGEsIHJlbW90ZVZpZCwgZ2V0UmVtb3RlU3RyZWFtQ2IpIHtcblx0XHRjb25zdFxuXHRcdFx0c3RyZWFtSWQgPSBPYmplY3Qua2V5cyhzdHJlYW1EYXRhKVswXSxcblx0XHRcdGFjdGlvblR5cGUgPSBzdHJlYW1EYXRhW3N0cmVhbUlkXS5hY3Rpb25UeXBlO1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6c3Vic2NyaWJlVG9TdHJlYW0pc3RyZWFtSWQgJHtzdHJlYW1JZH1gKTtcblx0XHQvL3Rlc3QgaWYgc3RyZWFtIGlzIG5vdCBvdXJcblx0XHRpZiAobVN0cmVhbXMgJiYgbVN0cmVhbXNbc3RyZWFtSWRdKSB7XG5cdFx0XHQvL2l0IGlzIG91ciBzdHJlYW0gLT4gc3Vic2NyaWJlIHRvIGxvY2FsU3RyZWFtXG5cdFx0XHRpZiAoYWN0aW9uVHlwZSkge1xuXHRcdFx0XHRpZiAoYWN0aW9uVHlwZSA9PT0gYWN0aW9ucy5BQ1RJT05fVFlQRV9WSURFTykge1xuXHRcdFx0XHRcdGxvY2Fsc3RyZWFtLmNvbm5lY3RMb2NhbFZpZGVvU3RyZWFtKHJlbW90ZVZpZCwgZ2V0UmVtb3RlU3RyZWFtQ2IpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKGFjdGlvblR5cGUgPT09IGFjdGlvbnMuQUNUSU9OX1RZUEVfQVVESU8pIHtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5jb25uZWN0TG9jYWxBdWRpb1N0cmVhbShyZW1vdGVWaWQsIGdldFJlbW90ZVN0cmVhbUNiKTtcblx0XHRcdFx0fSBlbHNlIGlmIChhY3Rpb25UeXBlID09PSBhY3Rpb25zLkFDVElPTl9UWVBFX0FVRElPX1ZJREVPKSB7XG5cdFx0XHRcdFx0bG9jYWxzdHJlYW0uY29ubmVjdExvY2FsQXVkaW9WaWRlb1N0cmVhbShyZW1vdGVWaWQsIGdldFJlbW90ZVN0cmVhbUNiKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIHN0cmVhbUlkO1xuXHRcdH1cblxuXG5cdFx0Y29uc3Rcblx0XHRcdGFwcEluc3RhbmNlSWQgPSBzdHJlYW1EYXRhW3N0cmVhbUlkXS5hcHBJbnN0YW5jZUlkLFxuXHRcdFx0bG9jYWxEYXRhUmVmID0gZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0JykuY2hpbGQoc3RyZWFtSWQpLFxuXHRcdFx0cmVtb3RlRGF0YVJlZiA9IGxvY2FsRGF0YVJlZi5jaGlsZCgnc3Vic2NyaWJlcnNMaXN0JyksXG5cdFx0XHRzdHJlYW1TdGFja3NJZCA9IGAke3N0cmVhbUlkfV9zdWJgO1xuXG5cdFx0bGV0IF9wZWVyY29JZCwgX3BlZXJjb1JlZjtcblxuXHRcdGlmICghcm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF0pIHtcblx0XHRcdHJvb21XZWJydGNTdGFja3Nbc3RyZWFtU3RhY2tzSWRdID0gW107XG5cdFx0fSBlbHNlIGlmIChyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXSAmJiByb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXVswXSAmJiByb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXVswXS5wZWVyY29JZCkge1xuXHRcdFx0X3BlZXJjb0lkID0gcm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF1bMF0ucGVlcmNvSWQ7XG5cdFx0fVxuXG5cdFx0Ly8gUmV0dXJucyBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIChpbmNsdWRlZCkgYW5kIG1heCAoaW5jbHVkZWQpXG5cdFx0Ly8gVXNpbmcgTWF0aC5yb3VuZCgpIHdpbGwgZ2l2ZSB5b3UgYSBub24tdW5pZm9ybSBkaXN0cmlidXRpb24hXG5cdFx0Y29uc3QgZ2V0UmFuZG9tSW50SW5jbHVzaXZlID0gKG1pbiwgbWF4KSA9PiB7XG5cdFx0XHRyZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKG1heCAtIG1pbiArIDEpKSArIG1pbjtcblx0XHR9O1xuXG5cdFx0aWYgKCFfcGVlcmNvSWQpIHtcblx0XHRcdF9wZWVyY29JZCA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSkudG9TdHJpbmcoKSArIGdldFJhbmRvbUludEluY2x1c2l2ZSgwLCAxMDAwMDAwKTtcblx0XHR9XG5cblx0XHRfcGVlcmNvUmVmID0gZGF0YXJlZnMuZ2V0V2VicnRjKCkucHVzaCgpLm5hbWUoKTtcblxuXHRcdHJlbW90ZURhdGFSZWYuY2hpbGQodXRpbHMuYXBwSW5zdGFuY2VJZCkuc2V0KHtcblx0XHRcdHRzOiBXZWJjb20uU2VydmVyVmFsdWUuVElNRVNUQU1QLFxuXHRcdFx0dXNlcklkOiBtZSxcblx0XHRcdHBlZXJjb0lkOiBfcGVlcmNvSWQsXG5cdFx0XHRwZWVyY29SZWY6IF9wZWVyY29SZWZcblx0XHR9KTtcblxuXHRcdGNvbnN0XG5cdFx0XHRpc0F1ZGlvTXV0ZSA9IG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdICYmIG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLmF1ZGlvLFxuXHRcdFx0aXNWaWRlb011dGUgPSBtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXSAmJiBtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXS52aWRlbztcblxuXHRcdGNvbnN0IG1TdGFja0lkID0gd2VicnRjbW5nci5jcmVhdGVXZWJydGMocmVtb3RlVmlkLCBhcHBJbnN0YW5jZUlkLCAoKSA9PiB7XG5cdFx0XHQvL1x0b25VblB1Ymxpc2hlZFN0cmVhbShsb2NhbFZpZCwgcmVtb3RlVmlkKTtcblx0XHR9LCBmYWxzZSwgYWN0aW9uVHlwZSwgX3BlZXJjb0lkLCBfcGVlcmNvUmVmLCBpc0F1ZGlvTXV0ZSwgaXNWaWRlb011dGUsIGdldFJlbW90ZVN0cmVhbUNiKTtcblxuXHRcdC8vaGFuZGxlIHJlbW90ZSB1bnB1Ymxpc2hcblx0XHRpZiAoIXJlbW90ZVVucHVibGlzaGVkQ2IpIHtcblx0XHRcdHJlbW90ZVVucHVibGlzaGVkQ2IgPSBmdW5jdGlvbiAoc25hcHNob3QpIHtcblx0XHRcdFx0Y29uc3Qgc3RyZWFtSWQgPSBgJHtzbmFwc2hvdC52YWwoKS5mcm9tfS1zdHJlYW1gO1xuXHRcdFx0XHRjb25zdCByZW1vdmVkU3RyZWFtSWQgPSBgJHtzdHJlYW1JZH1fc3ViYDtcblx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpyZW1vdGVVbnB1Ymxpc2hlZENiKXN0cmVhbUlkICR7cmVtb3ZlZFN0cmVhbUlkfWApO1xuXHRcdFx0XHRpZiAocm9vbVdlYnJ0Y1N0YWNrc1tyZW1vdmVkU3RyZWFtSWRdKSB7XG5cdFx0XHRcdFx0bGV0IGkgPSAwO1xuXHRcdFx0XHRcdHdoaWxlIChpIDwgcm9vbVdlYnJ0Y1N0YWNrc1tyZW1vdmVkU3RyZWFtSWRdLmxlbmd0aCkge1xuXHRcdFx0XHRcdFx0d2VicnRjbW5nci5jbG9zZVdlYnJ0Yyhyb29tV2VicnRjU3RhY2tzW3JlbW92ZWRTdHJlYW1JZF1baV0uc3RhY2tJZCwgZmFsc2UpO1xuXHRcdFx0XHRcdFx0aSsrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkZWxldGUgcm9vbVdlYnJ0Y1N0YWNrc1tyZW1vdmVkU3RyZWFtSWRdO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgncHVibGlzaGVkTWVkaWFMaXN0Jykub24oJ2NoaWxkX3JlbW92ZWQnLCByZW1vdGVVbnB1Ymxpc2hlZENiKTtcblx0XHR9XG5cblx0XHRyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXS5wdXNoKHtcblx0XHRcdHN0YWNrSWQ6IG1TdGFja0lkLFxuXHRcdFx0aXNQdWJsaXNoOiBmYWxzZSxcblx0XHRcdHBlZXJjb0lkOiBfcGVlcmNvSWQsXG5cdFx0XHRwZWVyY29SZWY6IF9wZWVyY29SZWYsXG5cdFx0XHRzdHJlYW1JZFxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHN0cmVhbUlkO1xuXHR9XG5cblx0LyoqXG5cdCAqIFVuU3Vic2NyaWJlIGZyb20gYSBzdHJlYW1cblx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyIGZyb20gd2hpY2ggdGhlIHVuU3Vic2NyaXB0aW9uIGhhdmUgdG8gYmUgZG9uZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3VuU3Vic2NyaWJlRnJvbVN0cmVhbShzdHJlYW1JZCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6dW5TdWJzY3JpYmVGcm9tU3RyZWFtKXN0cmVhbUlkICR7c3RyZWFtSWR9YCk7XG5cdFx0Y29uc3Rcblx0XHRcdGxvY2FsRGF0YVJlZiA9IGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpLmNoaWxkKHN0cmVhbUlkKSxcblx0XHRcdHJlbW90ZURhdGFSZWYgPSBsb2NhbERhdGFSZWYuY2hpbGQoJ3N1YnNjcmliZXJzTGlzdCcpLFxuXHRcdFx0c3RyZWFtU3RhY2tzSWQgPSBgJHtzdHJlYW1JZH1fc3ViYDtcblxuXHRcdHJlbW90ZURhdGFSZWYuY2hpbGQodXRpbHMuYXBwSW5zdGFuY2VJZCkucmVtb3ZlKCk7XG5cblx0XHRpZiAocm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF0pIHtcblx0XHRcdGxldCBpID0gMDtcblx0XHRcdHdoaWxlIChpIDwgcm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF0ubGVuZ3RoKSB7XG5cdFx0XHRcdGlmIChyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXVtpXSkge1xuXHRcdFx0XHRcdHdlYnJ0Y21uZ3IuY2xvc2VXZWJydGMocm9vbVdlYnJ0Y1N0YWNrc1tzdHJlYW1TdGFja3NJZF1baV0uc3RhY2tJZCwgZmFsc2UpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGkrKztcblx0XHRcdH1cblx0XHRcdGRlbGV0ZSByb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXTtcblx0XHR9XG5cdFx0ZGVsZXRlIG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYWxsIHRoZSBhdmFpbGFibGUgc3RyZWFtc1xuXHQgKiBAcmV0dXJuIHthcnJheX1cblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRBdmFpbGFibGVTdHJlYW1zKCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X2dldEF2YWlsYWJsZVN0cmVhbXMpYCk7XG5cdFx0cmV0dXJuIG1BdmFpbGFibGVTdHJlYW1zO1xuXHR9XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYW4gYXZhaWxhYmxlIHN0cmVhbSBoYXZpbmcgdGhlIGlkZW50aWZpZXJcblx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyXG5cdCAqIEByZXR1cm4gLSBBIHN0cmVhbVxuXHQgKi9cblx0ZnVuY3Rpb24gX2dldEF2YWlsYWJsZVN0cmVhbShzdHJlYW1JZCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X2dldEF2YWlsYWJsZVN0cmVhbSlzdHJlYW1JZD0ke3N0cmVhbUlkfWApO1xuXHRcdGlmIChtQXZhaWxhYmxlU3RyZWFtcyAmJiBzdHJlYW1JZCkge1xuXHRcdFx0Zm9yIChsZXQgaSA9IG1BdmFpbGFibGVTdHJlYW1zLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG5cdFx0XHRcdGlmIChtQXZhaWxhYmxlU3RyZWFtc1tpXSAmJiBPYmplY3Qua2V5cyhtQXZhaWxhYmxlU3RyZWFtc1tpXSlbMF0gJiYgT2JqZWN0LmtleXMobUF2YWlsYWJsZVN0cmVhbXNbaV0pWzBdID09PSBzdHJlYW1JZCkge1xuXHRcdFx0XHRcdHJldHVybiBtQXZhaWxhYmxlU3RyZWFtc1tpXTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cblx0LyoqXG5cdCAqIFJlbW92ZXMgYWxsIHRoZSBzdHJlYW1zIGJ5IGRlbGV0aW5nIHRoZSBhcnJheSBjb250YWluaW5nIHRoZW0gd2l0aG91dCB0cmlnZ2VycmluZyBjYWxsYmFja3Ncblx0ICovXG5cdGZ1bmN0aW9uIF9yZW1vdmVBbGxBdmFpbGFibGVTdHJlYW1zKCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3JlbW92ZUFsbEF2YWlsYWJsZVN0cmVhbXNgKTtcblx0XHRtQXZhaWxhYmxlU3RyZWFtcyA9IFtdO1xuXHR9XG5cblx0LyoqXG5cdCAqIEF1ZGlvIG11dGUgdGhlIHN0cmVhbSBzdHJlYW1JZFxuXHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgc3RyZWFtIGlkZW50aWZpZXIgdG8gbXV0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX211dGVBdWRpb1N0cmVhbShzdHJlYW1JZCkge1xuXHRcdGlmICghKHN0cmVhbUlkICYmIHR5cGVvZiBzdHJlYW1JZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfbXV0ZUF1ZGlvU3RyZWFtKXBhcmFtZXRlciBzdHJlYW1JZCBpcyBpbmNvcnJlY3QuIEV4cGVjdGluZyBub24gZW1wdHkgc3RyaW5nYCk7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X211dGVBdWRpb1N0cmVhbSlzdHJlYW1JZD0ke3N0cmVhbUlkfWApO1xuXHRcdGlmICghbU11dGVkU3RyZWFtc1tzdHJlYW1JZF0pIHtcblx0XHRcdG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdID0ge307XG5cdFx0fVxuXHRcdG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLmF1ZGlvID0gdHJ1ZTtcblxuXHRcdGlmKHJvb21XZWJydGNTdGFja3Mpe1xuXHRcdFx0W3Jvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3B1YmBdLCByb29tV2VicnRjU3RhY2tzW2Ake3N0cmVhbUlkfV9zdWJgXV0uZm9yRWFjaCgoc3RhY2tzKSA9PiB7XG5cdFx0XHRcdGlmKHN0YWNrcyAmJiBzdGFja3MubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSBzdGFja3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHRcdHdlYnJ0Y21uZ3IubXV0ZUF1ZGlvV2VicnRjU3RhY2soc3RhY2tzW2ldLnN0YWNrSWQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEF1ZGlvIHVubXV0ZVN0cmVhbSB0aGUgc3RyZWFtIHN0cmVhbUlkXG5cdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBzdHJlYW0gaWRlbnRpZmllciB0byB1bm11dGVcblx0ICovXG5cdGZ1bmN0aW9uIF91bm11dGVBdWRpb1N0cmVhbShzdHJlYW1JZCkge1xuXHRcdGlmICghKHN0cmVhbUlkICYmIHR5cGVvZiBzdHJlYW1JZCA9PSAnc3RyaW5nJykpIHtcblx0XHRcdGNvbnNvbGUuZXJyb3IoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfdW5tdXRlQXVkaW9TdHJlYW0pcGFyYW1ldGVyIHN0cmVhbUlkIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmdgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0aWYgKG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdICYmIG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLmF1ZGlvKSB7XG5cdFx0XHRtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXS5hdWRpbyA9IGZhbHNlO1xuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol91bm11dGVBdWRpb1N0cmVhbSlzdHJlYW1JZD0ke3N0cmVhbUlkfWApO1xuXHRcdGlmKHJvb21XZWJydGNTdGFja3Mpe1xuXHRcdFx0W3Jvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3B1YmBdLCByb29tV2VicnRjU3RhY2tzW2Ake3N0cmVhbUlkfV9zdWJgXV0uZm9yRWFjaCgoc3RhY2tzKSA9PiB7XG5cdFx0XHRcdGlmKHN0YWNrcyAmJiBzdGFja3MubGVuZ3RoID4gMCkge1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSBzdGFja3MubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcblx0XHRcdFx0XHRcdHdlYnJ0Y21uZ3IudW5tdXRlQXVkaW9XZWJydGNTdGFjayhzdGFja3NbaV0uc3RhY2tJZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVmlkZW8gbXV0ZSB0aGUgc3RyZWFtIHN0cmVhbUlkXG5cdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBzdHJlYW0gaWRlbnRpZmllciB0byBtdXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfbXV0ZVZpZGVvU3RyZWFtKHN0cmVhbUlkKSB7XG5cdFx0aWYgKCEoc3RyZWFtSWQgJiYgdHlwZW9mIHN0cmVhbUlkID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol9tdXRlVmlkZW9TdHJlYW0pcGFyYW1ldGVyIHN0cmVhbUlkIGlzIGluY29ycmVjdC4gRXhwZWN0aW5nIG5vbiBlbXB0eSBzdHJpbmdgKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfbXV0ZVZpZGVvU3RyZWFtKXN0cmVhbUlkPSR7c3RyZWFtSWR9YCk7XG5cdFx0aWYgKCFtTXV0ZWRTdHJlYW1zW3N0cmVhbUlkXSkge1xuXHRcdFx0bU11dGVkU3RyZWFtc1tzdHJlYW1JZF0gPSB7fTtcblx0XHR9XG5cdFx0bU11dGVkU3RyZWFtc1tzdHJlYW1JZF0udmlkZW8gPSB0cnVlO1xuXG5cdFx0aWYocm9vbVdlYnJ0Y1N0YWNrcyl7XG5cdFx0XHRjb25zb2xlLmxvZyhyb29tV2VicnRjU3RhY2tzW2Ake3N0cmVhbUlkfV9wdWJgXSk7XG5cdFx0XHRbcm9vbVdlYnJ0Y1N0YWNrc1tgJHtzdHJlYW1JZH1fcHViYF0sIHJvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3N1YmBdXS5mb3JFYWNoKChzdGFja3MpID0+IHtcblx0XHRcdFx0aWYoc3RhY2tzICYmIHN0YWNrcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IHN0YWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdFx0d2VicnRjbW5nci5tdXRlVmlkZW9XZWJydGNTdGFjayhzdGFja3NbaV0uc3RhY2tJZCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogVmlkZW8gdW5tdXRlU3RyZWFtIHRoZSBzdHJlYW0gc3RyZWFtSWRcblx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyIHRvIHVubXV0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3VubXV0ZVZpZGVvU3RyZWFtKHN0cmVhbUlkKSB7XG5cdFx0aWYgKCEoc3RyZWFtSWQgJiYgdHlwZW9mIHN0cmVhbUlkID09ICdzdHJpbmcnKSkge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjpyb29tWyR7cm9vbUlkfV06Ol91bm11dGVWaWRlb1N0cmVhbSlwYXJhbWV0ZXIgc3RyZWFtSWQgaXMgaW5jb3JyZWN0LiBFeHBlY3Rpbmcgbm9uIGVtcHR5IHN0cmluZ2ApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpZiAobU11dGVkU3RyZWFtc1tzdHJlYW1JZF0gJiYgbU11dGVkU3RyZWFtc1tzdHJlYW1JZF0udmlkZW8pIHtcblx0XHRcdG1NdXRlZFN0cmVhbXNbc3RyZWFtSWRdLnZpZGVvID0gZmFsc2U7XG5cdFx0fVxuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OnJvb21bJHtyb29tSWR9XTo6X3VubXV0ZVZpZGVvU3RyZWFtKXN0cmVhbUlkPSR7c3RyZWFtSWR9YCk7XG5cdFx0aWYocm9vbVdlYnJ0Y1N0YWNrcyl7XG5cdFx0XHRbcm9vbVdlYnJ0Y1N0YWNrc1tgJHtzdHJlYW1JZH1fcHViYF0sIHJvb21XZWJydGNTdGFja3NbYCR7c3RyZWFtSWR9X3N1YmBdXS5mb3JFYWNoKChzdGFja3MpID0+IHtcblx0XHRcdFx0aWYoc3RhY2tzICYmIHN0YWNrcy5sZW5ndGggPiAwKSB7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IHN0YWNrcy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0XHRcdFx0d2VicnRjbW5nci51bm11dGVWaWRlb1dlYnJ0Y1N0YWNrKHN0YWNrc1tpXS5zdGFja0lkKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXG5cblx0LyoqXG5cdCAqIENsb3NlcyB0aGUgcm9vbS5cblx0ICogU2V0cyB0aGUgY29ubmVjdGVkIHN0YXR1cyBvZiB0aGUgY3VycmVudCBwYXJ0aWNpcGFudCB0byBmYWxzZSwgZGVsZXRlcyBtZWRpYXMgYW5kIGNhbGxiYWNrcywgdGhlbiBjbG9zZSBXZWJSVEMgc3RhY2tzIGluIHVzZS5cblx0ICogQHBhcmFtIHVwZGF0ZVJvb21TdGF0dXNUb0Nsb3NlIC0gdHJ1ZSBpZiB0aGUgcm9vbSBzaG91bGQgYmUgbWFya2VkIGFzIGNsb3NlZFxuXHQgKi9cblx0ZnVuY3Rpb24gX2Nsb3NlKHVwZGF0ZVJvb21TdGF0dXNUb0Nsb3NlKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpfY2xvc2Upcm9vbSAke3Jvb21JZH0sIGRldHJveVJvb209JHt1cGRhdGVSb29tU3RhdHVzVG9DbG9zZX1gKTtcblxuXHRcdGNvbnN0XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RSZWYgPSBkYXRhcmVmLmNoaWxkKCdwYXJ0aWNpcGFudExpc3QnKSxcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdFJlZiA9IGRhdGFyZWYuY2hpbGQoJ3B1Ymxpc2hlZE1lZGlhTGlzdCcpO1xuXG5cdFx0Ly8gbWFyayBhcyBkaXNjb25uZWN0ZWQgd2hlbiB0aGUgcm9vbSBpcyBsZWZ0XG5cdFx0cGFydGljaXBhbnRMaXN0UmVmLmNoaWxkKGAke21lfS9jb25uZWN0ZWRgKS5zZXQoZmFsc2UpO1xuXG5cdFx0Ly8gcmVtb3ZlIHdlYmNvbSBjYWxsYmFja3Ncblx0XHRPYmplY3Qua2V5cyhtU3RyZWFtcykuZm9yRWFjaChfdW5QdWJsaXNoU3RyZWFtKTtcblx0XHRtU3RyZWFtcyA9IFtdO1xuXG5cdFx0aWYgKGluc3RhbnRNZXNzYWdlTGlzdENiKSB7XG5cdFx0XHRkYXRhcmVmLmNoaWxkKCdpbnN0YW50TWVzc2FnZUxpc3QnKS5vZmYoJ2NoaWxkX2FkZGVkJywgaW5zdGFudE1lc3NhZ2VMaXN0Q2IpO1xuXHRcdFx0aW5zdGFudE1lc3NhZ2VMaXN0Q2IgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAocHVibGlzaGVkTWVkaWFMaXN0Q2IpIHtcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdFJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgcHVibGlzaGVkTWVkaWFMaXN0Q2IpO1xuXHRcdFx0cHVibGlzaGVkTWVkaWFMaXN0Q2IgPSBudWxsO1xuXHRcdH1cblx0XHRpZiAocHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0pIHtcblx0XHRcdHB1Ymxpc2hlZE1lZGlhTGlzdFJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgcHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0pO1xuXHRcdFx0cHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0gPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmICh1blB1Ymxpc2hlZE1lZGlhTGlzdENiKSB7XG5cdFx0XHRwdWJsaXNoZWRNZWRpYUxpc3RSZWYub2ZmKCdjaGlsZF9yZW1vdmVkJywgdW5QdWJsaXNoZWRNZWRpYUxpc3RDYik7XG5cdFx0XHR1blB1Ymxpc2hlZE1lZGlhTGlzdENiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAodW5QdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSkge1xuXHRcdFx0cHVibGlzaGVkTWVkaWFMaXN0UmVmLm9mZignY2hpbGRfcmVtb3ZlZCcsIHVuUHVibGlzaGVkTWVkaWFMaXN0Q2JGb3JBdmFpbGFibGVTdHJlYW0pO1xuXHRcdFx0dW5QdWJsaXNoZWRNZWRpYUxpc3RDYkZvckF2YWlsYWJsZVN0cmVhbSA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiKSB7XG5cdFx0XHRwYXJ0aWNpcGFudExpc3RSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiKTtcblx0XHRcdHBhcnRpY2lwYW50TGlzdEpvaW5BZGRlZENiID0gbnVsbDtcblx0XHR9XG5cblx0XHRpZiAocGFydGljaXBhbnRMaXN0Sm9pbkNoYW5nZWRDYikge1xuXHRcdFx0cGFydGljaXBhbnRMaXN0UmVmLm9mZignY2hpbGRfY2hhbmdlZCcsIHBhcnRpY2lwYW50TGlzdEpvaW5DaGFuZ2VkQ2IpO1xuXHRcdFx0cGFydGljaXBhbnRMaXN0Sm9pbkNoYW5nZWRDYiA9IG51bGw7XG5cdFx0fVxuXG5cdFx0aWYgKHBhcnRpY2lwYW50TGlzdExlYXZlQ2IpIHtcblx0XHRcdHBhcnRpY2lwYW50TGlzdFJlZi5vZmYoJ2NoaWxkX2NoYW5nZWQnLCBwYXJ0aWNpcGFudExpc3RMZWF2ZUNiKTtcblx0XHRcdHBhcnRpY2lwYW50TGlzdExlYXZlQ2IgPSBudWxsO1xuXHRcdH1cblxuXHRcdGlmIChyZW1vdGVVbnB1Ymxpc2hlZENiKSB7XG5cdFx0XHRwdWJsaXNoZWRNZWRpYUxpc3RSZWYub2ZmKCdjaGlsZF9yZW1vdmVkJywgcmVtb3RlVW5wdWJsaXNoZWRDYik7XG5cdFx0XHRyZW1vdGVVbnB1Ymxpc2hlZENiID0gbnVsbDtcblx0XHR9XG5cblx0XHQvLyBjbG9zZSBhbGwgd2VicnRjIHN0YWNrc1xuXHRcdE9iamVjdC5rZXlzKHJvb21XZWJydGNTdGFja3MpLmZvckVhY2goKHN0cmVhbVN0YWNrc0lkKSA9PiB7XG5cdFx0XHRyb29tV2VicnRjU3RhY2tzW3N0cmVhbVN0YWNrc0lkXS5mb3JFYWNoKChzdGFjaykgPT4ge1xuXHRcdFx0XHRpZiAoc3RyZWFtU3RhY2tzSWQgJiYgc3RhY2spIHtcblx0XHRcdFx0XHRjb25zdCBfc3RyZWFtSWQ9c3RhY2suc3RyZWFtSWQ7XG5cdFx0XHRcdFx0Y29uc3QgX3N0YWNrSWQ9c3RhY2suc3RhY2tJZDtcblx0XHRcdFx0XHRjb25zdCBfaXNQdWJsaXNoPXN0YWNrLmlzUHVibGlzaDtcblx0XHRcdFx0XHRpZiAoX2lzUHVibGlzaCkge1xuXHRcdFx0XHRcdFx0X3VuUHVibGlzaFN0cmVhbShfc3RyZWFtSWQpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRfdW5TdWJzY3JpYmVGcm9tU3RyZWFtKF9zdHJlYW1JZCk7XG5cdFx0XHRcdFx0fVx0ICAgIFxuXHRcdFx0XHRcdHNldFRpbWVvdXQoKCkgPT4geyBcblx0XHRcdFx0XHRcdHdlYnJ0Y21uZ3IuY2xlYXJXZWJydGNTdGFja3MoX3N0YWNrSWQpO1xuXHRcdFx0XHRcdH0sIDEwMDApO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdHJvb21XZWJydGNTdGFja3M9e307XG5cdFx0XHRtTXV0ZWRTdHJlYW1zPVtdOyAgICBcdCAgICAgICAgXG5cdFx0XHRfcmVtb3ZlQWxsQXZhaWxhYmxlU3RyZWFtcygpO1xuXHRcdH0sIDExMDApO1xuXHRcdFxuXHRcdGlmICh1cGRhdGVSb29tU3RhdHVzVG9DbG9zZSAmJiB1cGRhdGVSb29tU3RhdHVzVG9DbG9zZSA9PT0gdHJ1ZSkge1xuXHRcdFx0ZGF0YXJlZi5jaGlsZCgnY29tbW9uRGF0YUxpc3Qvc3RhdHVzJykuc2V0KFJPT01fU1RBVFVTX0NMT1NFKTtcblx0XHR9XG5cblx0XHQvLyBGb3JjZSBsb2NhbHN0cmVhbSBjbG9zZVxuXHRcdGxvY2Fsc3RyZWFtLmNsb3NlKCk7XG5cdH1cblxuXHQvKipcblx0ICogU3dpdGNoZXMgYmV0d2VlbiBjYW1lcmFzLlxuXHQgKi9cblx0ZnVuY3Rpb24gX3N3aXRjaENhbWVyYSgpe1xuXHRcdGxvY2Fsc3RyZWFtLnN3aXRjaENhbWVyYSgpO1xuXHR9XG5cdC8qKlxuXHQgKiByZXRyaWV2aW5nIGFsbCBvZiB0aGUgdmlkZW8gc291cmNlcy9jYW1lcmFzIGNvbm5lY3RlZCB0byB0aGUgZGV2aWNlICYgc2VlbiBieSB0aGUgYnJvd3NlciBcblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRBbGxWaWRlb1NvdXJjZXMoKXtcblx0XHRyZXR1cm4gbG9jYWxzdHJlYW0uZ2V0QWxsVmlkZW9Tb3VyY2VzKCk7XG5cdH1cblx0LyoqXG5cdCAqIHJldHJpZXZpbmcgdGhlIG51bWJlciBvZiB2aWRlbyBzb3VyY2VzL2NhbWVyYXMgY29ubmVjdGVkIHRvIHRoZSBjdXJyZW50IGRldmljZS5cblx0ICovXG5cdGZ1bmN0aW9uIF9nZXRWaWRlb1NvdXJjZU51bWJlcigpe1xuXHRcdHJldHVybiBsb2NhbHN0cmVhbS5nZXRWaWRlb1NvdXJjZU51bWJlcigpO1xuXHR9XG5cdGluaXQoKTtcblxuXHRyZXR1cm4ge1xuXHRcdC8qKlxuXHRcdCAqIFJldHVybiB0aGUgcm9vbSBpZGVudGlmaWVyXG5cdFx0ICogQHJldHVybiB7c3RyaW5nfSAtIFRoZSByb29tIGlkZW50aWZpZXJcblx0XHQgKi9cblx0XHRnZXRSb29tSWQ6IF9nZXRSb29tSWQsXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgdXNlciBpZGVudGlmaWVyXG5cdFx0ICogQHJldHVybiB7c3RyaW5nfSAtIFRoZSB1c2VyIGlkZW50aWZpZXJcblx0XHQgKi9cblx0XHRnZXRNZTogX2dldE1lLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhIHBhcnRpY2lwYW50IGhhcyBqb2luZWQgdGhlIHJvb21cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrXG5cdFx0ICovXG5cdFx0c2V0T25QYXJ0aWNpcGFudEpvaW46IF9zZXRPblBhcnRpY2lwYW50Sm9pbixcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSBwYXJ0aWNpcGFudCBoYXMgbGVmdCB0aGUgcm9vbVxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2tcblx0XHQgKi9cblx0XHRzZXRPblBhcnRpY2lwYW50TGVhdmU6IF9zZXRPblBhcnRpY2lwYW50TGVhdmUsXG5cdFx0LyoqXG5cdFx0ICogU2VuZHMgYW4gaW5zdGFudCBtZXNzYWdlXG5cdFx0ICogQHBhcmFtIHtzdHJpbmd9IG1lc3NhZ2UgLSBUaGUgZW1zc2FnZSB0byBzZW5kXG5cdFx0ICogQHJldHVybiBub3RoaW5nXG5cdFx0ICovXG5cdFx0c2VuZEluc3RhbnRNZXNzYWdlOiBfc2VuZEluc3RhbnRNZXNzYWdlLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgdG8gc2VuZCBhbiBpbnN0YW50IG1lc3NhZ2Vcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrXG5cdFx0ICovXG5cdFx0c2V0T25JbnN0YW50TWVzc2FnZTogX3NldE9uSW5zdGFudE1lc3NhZ2UsXG5cdFx0LyoqXG5cdFx0ICogUHVibGlzaGVzIGEgc3RyZWFtXG5cdFx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIGlkZW50aWZpZXIgb2YgdGhlIHN0cmVhbSB0byBwdWJsaXNoXG5cdFx0ICogQHBhcmFtIGxvY2FsVmlkIC0gVGhlIGxvY2FsIHZpZGVvXG5cdFx0ICogQHBhcmFtIGFjdGlvblR5cGUgLVxuXHRcdCAqIEBwYXJhbSBnZXRTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHRcdCAqIEByZXR1cm4gbm90aGluZ1xuXHRcdCAqL1xuXHRcdHB1Ymxpc2hTdHJlYW06IF9wdWJsaXNoU3RyZWFtLFxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXJ3aGVuIGEgc3RyZWFtIGhhcyBiZWVuIHB1Ymxpc2hlZFxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2tcblx0XHQgKi9cblx0XHRzZXRPblB1Ymxpc2hlZFN0cmVhbTogX3NldE9uUHVibGlzaGVkU3RyZWFtLFxuXHRcdC8qKlxuXHRcdCAqIFVucHVibGlzaGVzIHRoZSBzdHJlYW1cblx0XHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgaWRlbnRpZmllciBvZiB0aGUgc3RyZWFtIHRvIHVucHVibGlzaFxuXHRcdCAqIEBwYXJhbSBjYWxsYmFjayAtIFRoZSBjbGFsYmFjayB0byB0cmlnZ2VyIHdoZW4gdGhlIHN0cmVhbSBoYXMgYmVlbiB1bnB1Ymxpc2hlZFxuXHRcdCAqL1xuXHRcdHVuUHVibGlzaFN0cmVhbTogX3VuUHVibGlzaFN0cmVhbSxcblx0XHQvKipcblx0XHQgKiBEZWZpbmVzIHRoZSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gYSBzdHJlYW0gaGFzIGJlZW4gdW5wdWJsaXNoZWRcblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBwX2NiIC0gVGhlIGNhbGxiYWNrXG5cdFx0ICovXG5cdFx0c2V0T25VblB1Ymxpc2hlZFN0cmVhbTogX3NldE9uVW5QdWJsaXNoZWRTdHJlYW0sXG5cblx0XHQvKipcblx0XHQgKiBTdWJzY3JpYmVzIHRvIGEgc3RyZWFtXG5cdFx0ICogQHBhcmFtIHN0cmVhbURhdGEgLSBUaGUgc3RyZWFtIGRhdGFcblx0XHQgKiBAcGFyYW0gcmVtb3RlVmlkIC0gVGhlIHJlbW90ZSB2aWRlb1xuXHRcdCAqIEBwYXJhbSBnZXRTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHRcdCAqIEByZXR1cm4gbm90aGluZ1xuXHRcdCAqL1xuXHRcdHN1YnNjcmliZVRvU3RyZWFtOiBfc3Vic2NyaWJlVG9TdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogVW5zdWJjcmliZXMgZnJvbSBhIHN0cmVhbVxuXHRcdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBpZGVudGlmaWVyIG9mIHRoZSBzdHJlYW0gdG8gdW5zdWJzY3JpYmVcblx0XHQgKi9cblx0XHR1blN1YnNjcmliZUZyb21TdHJlYW06IF91blN1YnNjcmliZUZyb21TdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyBhbGwgdGhlIGF2YWlsYWJsZSBzdHJlYW1zXG5cdFx0ICogQHJldHVybiB7YXJyYXl9IC0gVGhlIGF2YWlsYWJsZSBzdHJlYW1zXG5cdFx0ICovXG5cdFx0Z2V0QXZhaWxhYmxlU3RyZWFtczogX2dldEF2YWlsYWJsZVN0cmVhbXMsXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgc3RyZWFtIG1hdGNoaW5nIHRoZSBpZGVudGlmaWVyXG5cdFx0ICogQHBhcmFtIHN0cmVhbSAtIFRoZSBzdHJlYW0gaWRlbnRpZmllclxuXHRcdCAqL1xuXHRcdGdldEF2YWlsYWJsZVN0cmVhbTogX2dldEF2YWlsYWJsZVN0cmVhbSxcblx0XHQvKipcblx0XHQgKiAgbXV0ZSBhdWRpbyB0aGUgc3RyZWFtIHN0cmVhbUlkXG5cdFx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyIHRvIG11dGVcblx0XHQgKi9cblx0XHRtdXRlQXVkaW9TdHJlYW06IF9tdXRlQXVkaW9TdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogdW5tdXRlIGF1ZGlvIHRoZSBzdHJlYW0gc3RyZWFtSWRcblx0XHQgKiBAcGFyYW0gc3RyZWFtSWQgLSBUaGUgc3RyZWFtIGlkZW50aWZpZXIgdG8gbXV0ZVxuXHRcdCAqL1xuXHRcdHVubXV0ZUF1ZGlvU3RyZWFtOiBfdW5tdXRlQXVkaW9TdHJlYW0sXG5cdFx0LyoqXG5cdFx0ICogIG11dGUgVmlkZW8gdGhlIHN0cmVhbSBzdHJlYW1JZFxuXHRcdCAqIEBwYXJhbSBzdHJlYW1JZCAtIFRoZSBzdHJlYW0gaWRlbnRpZmllciB0byBtdXRlXG5cdFx0ICovXG5cdFx0bXV0ZVZpZGVvU3RyZWFtOiBfbXV0ZVZpZGVvU3RyZWFtLFxuXHRcdC8qKlxuXHRcdCAqIHVubXV0ZSBWaWRlbyB0aGUgc3RyZWFtIHN0cmVhbUlkXG5cdFx0ICogQHBhcmFtIHN0cmVhbUlkIC0gVGhlIHN0cmVhbSBpZGVudGlmaWVyIHRvIG11dGVcblx0XHQgKi9cblx0XHR1bm11dGVWaWRlb1N0cmVhbTogX3VubXV0ZVZpZGVvU3RyZWFtLFxuXHRcdC8qKlxuXHRcdCAqIENsb3NlcyB0aGUgcm9vbS5cblx0XHQgKiBTZXRzIHRoZSBjb25uZWN0ZWQgc3RhdHVzIG9mIHRoZSBjdXJyZW50IHBhcnRpY2lwYW50IHRvIGZhbHNlLCBkZWxldGVzIG1lZGlhcyBhbmQgY2FsbGJhY2tzLCB0aGVuIGNsb3NlIFdlYlJUQyBzdGFja3MgaW4gdXNlLlxuXHRcdCAqIEBwYXJhbSB1cGRhdGVSb29tU3RhdHVzVG9DbG9zZSAtIHRydWUgaWYgdGhlIHJvb20gc2hvdWxkIGJlIG1hcmtlZCBhcyBjbG9zZWRcblx0XHQgKi9cblx0XHRjbG9zZTogX2Nsb3NlLFxuXHRcdC8qKlxuXHRcdCAqIENhbGxzIHRoZSBtYWNoaW5nIGZ1bmN0aW9uIGZvciBhIGRlZGljYXRlZCBldmVudFxuXHRcdCAqIEBwYXJhbSB7c3RyaW5nfSBldnQgLSBUaGUgZXZlbnQsIGluIFwiaW5zdGFudE1lc3NhZ2VcIiwgXCJwdWJsaXNoZWRTdHJlYW1cIiwgXCJ1blB1Ymxpc2hlZFN0cmVhbVwiLCBcInBhcnRpY2lwYW50Sm9pblwiLCBcInBhcnRpY2lwYW50TGVhdmVcIlxuXHRcdCAqIEBwYXJhbSB7ZnVuY3Rpb259IHBfY2IgLSBUaGUgY2FsbGJhY2sgdG8gY2FsbFxuXHRcdCAqL1xuXHRcdG9uOiAoZXZ0LCBwX2NiKSA9PiB7XG5cdFx0XHRzd2l0Y2ggKGV2dCkge1xuXHRcdFx0Y2FzZSAnaW5zdGFudE1lc3NhZ2UnOlxuXHRcdFx0XHRfc2V0T25JbnN0YW50TWVzc2FnZShwX2NiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdwdWJsaXNoZWRTdHJlYW0nOlxuXHRcdFx0XHRfc2V0T25QdWJsaXNoZWRTdHJlYW0ocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAndW5QdWJsaXNoZWRTdHJlYW0nOlxuXHRcdFx0XHRfc2V0T25VblB1Ymxpc2hlZFN0cmVhbShwX2NiKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRjYXNlICdwYXJ0aWNpcGFudEpvaW4nOlxuXHRcdFx0XHRfc2V0T25QYXJ0aWNpcGFudEpvaW4ocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAncGFydGljaXBhbnRMZWF2ZSc6XG5cdFx0XHRcdF9zZXRPblBhcnRpY2lwYW50TGVhdmUocF9jYik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0Y29uc29sZS5lcnIoYChSZWFjaFNESzo6cm9vbVske3Jvb21JZH1dOjpvbil1bnN1cHBvcnRlZCAke2V2dH0gZXZlbnRgKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBTd2l0Y2hlcyBiZXR3ZWVuIGNhbWVyYXMuXG5cdFx0ICovXG5cdFx0c3dpdGNoQ2FtZXJhOiBfc3dpdGNoQ2FtZXJhLFxuXHRcdC8qKlxuXHRcdCAqIGdldHRpbmcgYWxsIG9mIHZpZGVvIHNvdXJjZXMvY2FtZXJhcyBjb25uZWN0ZWQgdG8gdGhlIGN1cnJlbnQgZGV2aWNlIGFuZCBhY2Nlc3NpYmxlIGJ5IHRoZSBicm93c2VyXG5cdFx0ICovXG5cdFx0Z2V0QWxsVmlkZW9Tb3VyY2VzOiBfZ2V0QWxsVmlkZW9Tb3VyY2VzLFxuXHRcdC8qKlxuXHRcdCAqIGdldHRpbmcgdGhlIG51bWJlciBvZiB0aGUgdmlkZW8gc291cmNlcy9jYW1lcmFzIGNvbm5lY3QgdG8gdGhlIGN1cnJlbnQgZGV2aWNlXG5cdFx0ICovXG5cdFx0Z2V0VmlkZW9Tb3VyY2VOdW1iZXI6IF9nZXRWaWRlb1NvdXJjZU51bWJlclxuXHR9O1xufVxuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvcm9vbS5qc1xuICoqLyIsIi8qKlxuICogQGZpbGUgbG9jYWxzdHJlYW0uanMgLSBKUyBmaWxlIHRvIGhhbmRsZSBsb2NhbCBzdHJlYW1zLlxuICogQGRlc2NyaXB0aW9uIFByb3ZpZGVzIGRhdGEgc3RydWN0dXJlcyB0byBzdG9yZSBhbmQgaGFuZGxlIHZpZGVvLCBhdWRpbyBhbmQgdmlkZW8tYW5kLWF1ZGlvIHN0cmVhbXMuIFRoZSBhdWRpbyBhbmQgdmlkZW8gc3RyZWFtcyBhcmUgbWFuYWdlZCB0b28uXG4gKiBJbml0aWFsaXphdGlvbiBtZXRob2RzIGFyZSBwcm92aWRlZCwgc3RyZWFtIGNvbm5lY3Rpb25zIGFuZCBsaXN0ZW5lcnMgdG9vLlxuICogQGF1dGhvciBXZWJjb21cbiAqL1xuXG4vKmVzbGludCBjb21wbGV4aXR5OjEsIG1heC1zdGF0ZW1lbnRzOiAxLCBtYXgtbGVuOiAxKi9cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBkZXNjcmlwdGlvbiBUaGUgbG9jYWwgc3RyZWFtIG9iamVjdCB3aXRoIGl0cyBzdHJlYW1zLCBmbGFncyBhbmQgY2FsbGJhY2tzLiBJdCBpcyBhIHNpbmdsZXRvbi5cbiAqL1xuY29uc3QgbG9jYWxzdHJlYW0gPSAoZnVuY3Rpb24oKSB7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgbG9jYWwgdmlkZW8gc3RyZWFtcywgYXMgSFRNTCB2aWRlbyBvYmplY3RzLCBpbiBhbiBhcnJheVxuXHQgKi9cblx0Y29uc3QgbG9jYWxWaWRlb1N0cmVhbXMgPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgbG9jYWwgYXVkaW8gc3RyZWFtcywgYXMgSFRNTCB2aWRlbyBvYmplY3RzLCBpbiBhbiBhcnJheVxuXHQgKi9cblx0bGV0IGxvY2FsQXVkaW9TdHJlYW1zID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGxvY2FsIGF1ZGlvIGFuZCB2aWRlbyBzdHJlYW1zLCBhcyBIVE1MIHZpZGVvIG9iamVjdHMsIGluIGFuIGFycmF5XG5cdCAqL1xuXHRjb25zdCBsb2NhbEF1ZGlvVmlkZW9TdHJlYW1zID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHZpZGVvIHN0cmVhbSBvYmplY3Rcblx0ICovXG5cdGxldCBzdHJlYW1WaWRlbyA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGF1ZGlvIHN0cmVhbSBvYmplY3Rcblx0ICovXG5cdGxldCBzdHJlYW1BdWRpbyA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHZpZGVvIGFuZCBhdWRpbyBzdHJlYW0gb2JqZWN0XG5cdCAqL1xuXHRsZXQgc3RyZWFtQXVkaW9WaWRlbyA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyB2aWRlbyBsaXN0ZW5lcnMgYXMgZnVuY3Rpb25zLiBUaGVzZSBsaXN0ZW5lcnMgd2lsbCBiZSB0cmlnZ2VyZWQgaWYgdGhlIHZpZGVvIHN0cmVhbSBpcyBlc3RhYmxpc2hlZC5cblx0ICovXG5cdGxldCBsaXN0ZW5lcnNWaWRlbyA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIGFycmF5IGNvbnRhaW5pbmcgYXVkaW8gbGlzdGVuZXJzIGFzIGZ1bmN0aW9ucy4gVGhlc2UgbGlzdGVuZXJzIHdpbGwgYmUgdHJpZ2dlcmVkIGlmIHRoZSBhdWRpbyBzdHJlYW0gaXMgZXN0YWJsaXNoZWQuXG5cdCAqL1xuXHRsZXQgbGlzdGVuZXJzQXVkaW8gPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIGF1ZGlvIGFuZCB2aWRlbyBsaXN0ZW5lcnMgYXMgZnVuY3Rpb25zLiBUaGVzZSBsaXN0ZW5lcnMgd2lsbCBiZSB0cmlnZ2VyZWQgaWYgdGhlIHZpZGUtYW5kLWF1ZGlvIHN0cmVhbSBpcyBlc3RhYmxpc2hlZC5cblx0ICovXG5cdGxldCBsaXN0ZW5lcnNBdWRpb1ZpZGVvID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIGxvY2FsIHZpZGVvIHN0cmVhbSwgYXMgYW4gSFRNTCB2aWRlbyBlbGVtZW50XG5cdCAqL1xuXHRsZXQgbUxvY2FsU3RyZWFtVmlkZW8gPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBsb2NhbCBhdWRpbyBzdHJlYW0sIGFzIGFuIEhUTUwgdmlkZW8gZWxlbWVudFxuXHQgKi9cblx0bGV0IG1Mb2NhbFN0cmVhbUF1ZGlvID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgbG9jYWwgYXVkaW8gYW5kIHZpZGVvIHN0cmVhbSwgYXMgYW4gSFRNTCB2aWRlbyBlbGVtZW50XG5cdCAqL1xuXHRsZXQgbUxvY2FsU3RyZWFtQXVkaW9WaWRlbyA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZSB2aWRlbyBpbml0aWFsaXNhdGlvbiBpcyBpbiBwcm9ncmVzc1xuXHQgKi9cblx0bGV0IGluaXRWaWRlb1Byb2dyZXNzID0gZmFsc2U7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZSBhdWRpbyBpbml0aWFsaXNhdGlvbiBpcyBpbiBwcm9ncmVzc1xuXHQgKi9cblx0bGV0IGluaXRBdWRpb1Byb2dyZXNzID0gZmFsc2U7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZSBhdWRpbyBhbmQgdmlkZW8gaW5pdGlhbGlzYXRpb24gaXMgaW4gcHJvZ3Jlc3Ncblx0ICovXG5cdGxldCBpbml0QXVkaW9WaWRlb1Byb2dyZXNzID0gZmFsc2U7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gdmlkZW9Tb3VyY2VzIGFycmF5IGluZGljYXRpbmcgdGhlIGF2YWxpYWJsZSB2aWRlbyBzb3VyY2VzXG5cdCAqL1xuXHRsZXQgdmlkZW9Tb3VyY2VzPVtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIGN1cnJlbnRWaWRlb1NvdXJjZSBpbmRleCBpbmRpY2F0aW5nIHRoZSBjdXJyZW50bHkgdXNlZCB2aWRlbyBzb3VyY2VzXG5cdCAqL1xuXHRsZXQgY3VycmVudFZpZGVvU291cmNlPTA7XG5cdC8qKlxuXHQgKkBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIGF1ZGlvIGFuZCB2aWRlbyBsaXN0ZW5lcnMgYXMgZnVuY3Rpb25zLiBUaGVzZSBsaXN0ZW5lcnMgd2lsbCBiZSB0cmlnZ2VyZWQgaW4gY2FzZSBvZiBpbml0aWF0aW5nIHZpZGVvL2F1ZGlvIGJ5IHN3aXRjaGluZyBjYW1lcmEuXG5cdCAqL1xuXHRjb25zdCBzdHJlYW1MaXN0ZW5lcnNBdWRpb1ZpZGVvPVtdO1xuXHQvKipcblx0ICpAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyB2aWRlbyBsaXN0ZW5lcnMgYXMgZnVuY3Rpb25zLiBUaGVzZSBsaXN0ZW5lcnMgd2lsbCBiZSB0cmlnZ2VyZWQgaW4gY2FzZSBvZiBpbml0aWF0aW5nIHZpZGVvIGJ5IHN3aXRjaGluZyBjYW1lcmEuXG5cdCAqL1xuXHRjb25zdCBzdHJlYW1MaXN0ZW5lcnNWaWRlbz1bXTtcblxuXHQvKipcblx0ICogQ2FsbCBiYWNrIG1ldGhvZCBmb3IgZW51bWVyYXRlRGV2aWNlcyBcblx0ICogdGhhdCBpcyB1c2VkIHRvIGdldCB0aGUgc291cmNlcyBhdHRhY2hlZCB0byB0aGUgY3VycmVudGx5IHVzZWQgZGV2aWNlL2Jyb3dzZXJcblx0Ki9cblx0Ly8gZnVuY3Rpb24gZ290U291cmNlcyhzb3VyY2VJbmZvcykge1xuXHQvLyBcdGZvciAobGV0IGkgPSAwOyBpIDwgc291cmNlSW5mb3MubGVuZ3RoOyBpKyspIHtcblx0Ly8gXHRcdGNvbnN0IHNvdXJjZUluZm8gPSBzb3VyY2VJbmZvc1tpXTtcblx0Ly8gXHRcdGlmIChzb3VyY2VJbmZvLmtpbmQgPT09ICd2aWRlb2lucHV0Jykge1xuXHQvLyBcdFx0XHR2aWRlb1NvdXJjZXMucHVzaChzb3VyY2VJbmZvKTtcblx0Ly8gXHRcdH0gXG5cdC8vIFx0fVxuXHQvLyB9XG5cdC8qKlxuXHQgKiBhIG1ldGhvZCB0byByZXRlcml2ZSBhbGwgb2YgdGhlIHZpZGVvIHNvdXJjZXMgYXZhbGlhYmxlIGNvbm5lY3RlZCB0byB0aGUgY3VycmVudCBkZXZpY2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBfZ2V0QWxsVmlkZW9Tb3VyY2VzKCl7XG5cdFx0aWYodmlkZW9Tb3VyY2VzLmxlbmd0aCA+IDApIHtcblx0XHRcdHJldHVybiBQcm9taXNlLnJlc29sdmUodmlkZW9Tb3VyY2VzKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLnRoZW4oKHNvdXJjZUluZm9zKT0+e1xuXHRcdFx0dmlkZW9Tb3VyY2VzPSBzb3VyY2VJbmZvcy5maWx0ZXIoc291cmNlSW5mbyA9PiAvXnZpZGVvaW5wdXQkLy50ZXN0KHNvdXJjZUluZm8ua2luZCkpO1xuXHRcdFx0cmV0dXJuIHZpZGVvU291cmNlcztcblx0XHR9KTtcdFxuXHR9XG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgdmlkZW8gbG9jYWwgc3RyZWFtLlxuXHQgKiBUaGUgd2ViIGJyb3dzZXIncyB1c2VyIG1lZGlhIHdpbGwgYmUgY2FsbGVkLCBzbyB0aGUgYnJvd3NlciBpbiB1c2UgbXVzdCBiZSByZWNlbnQgKEZpcmVmb3ggMTcsIENocm9tZSAyMSwgT3BlcmEgMTggYW5kIGxhdGVyIHZlcnNpb25zKS5cblx0ICogQSB2aWRlbyBlbGVtZW50IHdpbGwgYmUgY3JlYXRlZCwgYW5kIHB1c2hlZCB0byB0aGUgbG9jYWwgc3RyZWFtcyBvYmplY3RzLiBUaGUgY2F0Y2hlZCB2aWRlbyBhbmQgYXVkaW8gc3RyZWFtIHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlIGNyZWF0ZWQgSFRNTCBlbGVtZW50LlxuXHQgKiBMaXN0ZW5lcnMgd2lsbCBhbHNvIGJlIGNhbGxlZC5cblx0ICovXG5cdGZ1bmN0aW9uIGluaXRWaWRlbyhjYWxsYmFjayl7XG5cdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6bG9jYWxzdHJlYW06OmluaXRWaWRlbyknKTtcblx0XHRpZiAoISBpbml0VmlkZW9Qcm9ncmVzcykge1xuXHRcdFx0aW5pdFZpZGVvUHJvZ3Jlc3M9dHJ1ZTtcblx0XHRcdF9nZXRBbGxWaWRlb1NvdXJjZXMoKS50aGVuKChzb3VyY2VzKT0+e1xuXHRcdFx0XHRuYXZpZ2F0b3IuZ2V0TWVkaWEgPSBnZXRVc2VyTWVkaWE7XG5cdFx0XHRcdG1Mb2NhbFN0cmVhbVZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnVklERU8nKTtcblx0XHRcdFx0bUxvY2FsU3RyZWFtVmlkZW8ubXV0ZWQ9IHRydWU7XG5cdFx0XHRcdC8vIGxvY2FsVmlkZW9TdHJlYW1zLnB1c2gobUxvY2FsU3RyZWFtVmlkZW8pO1xuXG5cdFx0XHRcdGxldCBhdWRpb1NvdXJjZTtcblx0XHRcdFx0bGV0IHZpZGVvU291cmNlO1xuXG5cdFx0XHRcdGlmKHNvdXJjZXNbY3VycmVudFZpZGVvU291cmNlXSl7XG5cdFx0XHRcdFx0dmlkZW9Tb3VyY2UgPSBzb3VyY2VzW2N1cnJlbnRWaWRlb1NvdXJjZV0uZGV2aWNlSWQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBjb25zdHJhaW50cyA9IHtcblx0XHRcdFx0XHRhdWRpbzoge2RldmljZUlkOiBhdWRpb1NvdXJjZSA/IHtleGFjdDogYXVkaW9Tb3VyY2V9IDogdW5kZWZpbmVkfSxcblx0XHRcdFx0XHR2aWRlbzoge2RldmljZUlkOiB2aWRlb1NvdXJjZSA/IHtleGFjdDogdmlkZW9Tb3VyY2V9IDogdW5kZWZpbmVkfVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGlmKHN0cmVhbVZpZGVvID09PSBudWxsIHx8IHZpZGVvU291cmNlKXtcblx0XHRcdFx0XHRuYXZpZ2F0b3IuZ2V0TWVkaWEoY29uc3RyYWludHMsXG5cdFx0XHRcdFx0XHQocykgPT4ge1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhzKTtcblx0XHRcdFx0XHRcdFx0c3RyZWFtVmlkZW8gPSBzO1xuXG5cdFx0XHRcdFx0XHRcdGxvY2FsVmlkZW9TdHJlYW1zLmZvckVhY2goKGxvY2FsVmlkZW9TdHJlYW0pID0+IHtcblx0XHRcdFx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShsb2NhbFZpZGVvU3RyZWFtLCBzdHJlYW1WaWRlbyk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0XHQvLyBsb2NhbFZpZGVvU3RyZWFtcyA9IFtdO1xuXG5cdFx0XHRcdFx0XHRcdGxpc3RlbmVyc1ZpZGVvLmZvckVhY2goKGxpc3RlbmVyVmlkZW8pID0+IHtcblx0XHRcdFx0XHRcdFx0XHRsaXN0ZW5lclZpZGVvKHN0cmVhbVZpZGVvKTtcblx0XHRcdFx0XHRcdFx0fSk7XG5cblx0XHRcdFx0XHRcdFx0c3RyZWFtTGlzdGVuZXJzVmlkZW8uZm9yRWFjaCgoc3RyZWFtTGlzdGVuZXJWaWRlbykgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdHN0cmVhbUxpc3RlbmVyVmlkZW8oc3RyZWFtVmlkZW8pO1xuXHRcdFx0XHRcdFx0XHR9KTtcblxuXHRcdFx0XHRcdFx0XHRsaXN0ZW5lcnNWaWRlbyA9IFtdO1xuXG5cdFx0XHRcdFx0XHRcdGluaXRWaWRlb1Byb2dyZXNzPWZhbHNlO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChjYWxsYmFjaykge1xuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHQoZXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5lcnJvcignRXJyb3Igb24gd2VicnRjTG9jYWxTdHJlYW0gLSB3ZWJraXRHZXRVc2VyTWVkaWEgOiBlcnJvcj0nKTtcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5kaXIoZXJyb3IpO1xuXHRcdFx0XHRcdFx0XHRpbml0VmlkZW9Qcm9ncmVzcyA9IGZhbHNlO1xuXG5cdFx0XHRcdFx0XHRcdGlmIChjYWxsYmFjaykge1xuXHRcdFx0XHRcdFx0XHRcdGNhbGxiYWNrKGVycm9yKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bG9jYWxWaWRlb1N0cmVhbXMuZm9yRWFjaCgobG9jYWxWaWRlb1N0cmVhbSkgPT4ge1xuXHRcdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0obG9jYWxWaWRlb1N0cmVhbSwgc3RyZWFtVmlkZW8pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdC8vIGxvY2FsVmlkZW9TdHJlYW1zID0gW107XG5cblx0XHRcdFx0XHRsaXN0ZW5lcnNWaWRlby5mb3JFYWNoKChsaXN0ZW5lclZpZGVvKSA9PiB7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lclZpZGVvKHN0cmVhbVZpZGVvKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRsaXN0ZW5lcnNWaWRlbyA9IFtdO1xuXG5cdFx0XHRcdFx0aW5pdFZpZGVvUHJvZ3Jlc3MgPSBmYWxzZTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSB2aWRlbyBsb2NhbCBzdHJlYW0uXG5cdCAqIFRoZSB3ZWIgYnJvd3NlcidzIHVzZXIgbWVkaWEgd2lsbCBiZSBjYWxsZWQsIHNvIHRoZSBicm93c2VyIGluIHVzZSBtdXN0IGJlIHJlY2VudCAoRmlyZWZveCAxNywgQ2hyb21lIDIxLCBPcGVyYSAxOCBhbmQgbGF0ZXIgdmVyc2lvbnMpLlxuXHQgKiBBIHZpZGVvIGVsZW1lbnQgd2lsbCBiZSBjcmVhdGVkLCBhbmQgcHVzaGVkIHRvIHRoZSBsb2NhbCBzdHJlYW1zIG9iamVjdHMuIFRoZSBjYXRjaGVkIGF1ZGlvIHN0cmVhbSB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBjcmVhdGVkIEhUTUwgZWxlbWVudC5cblx0ICogTGlzdGVuZXJzIHdpbGwgYWxzbyBiZSBjYWxsZWQuXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0QXVkaW8oY2FsbGJhY2spIHtcblx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjpsb2NhbHN0cmVhbTo6aW5pdEF1ZGlvKScpO1xuXHRcdGlmICghIGluaXRBdWRpb1Byb2dyZXNzKSB7XG5cdFx0XHRpbml0QXVkaW9Qcm9ncmVzcz10cnVlO1xuXG5cdFx0XHRuYXZpZ2F0b3IuZ2V0TWVkaWEgPSBnZXRVc2VyTWVkaWE7XG5cdFx0XHRtTG9jYWxTdHJlYW1BdWRpbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0FVRElPJyk7XG5cdFx0XHRtTG9jYWxTdHJlYW1BdWRpby5tdXRlZD0gdHJ1ZTtcblx0XHRcdGxvY2FsQXVkaW9TdHJlYW1zLnB1c2gobUxvY2FsU3RyZWFtQXVkaW8pO1xuXG5cdFx0XHRpZihzdHJlYW1BdWRpbyA9PT0gbnVsbCl7XG5cdFx0XHRcdG5hdmlnYXRvci5nZXRNZWRpYSh7YXVkaW8gOiB0cnVlLHZpZGVvIDogZmFsc2V9LFxuXHRcdFx0XHRcdChzKSA9PiB7XG5cdFx0XHRcdFx0XHRzdHJlYW1BdWRpbyA9IHM7XG5cdFx0XHRcdFx0XHRsb2NhbEF1ZGlvU3RyZWFtcy5mb3JFYWNoKChsb2NhbEF1ZGlvU3RyZWFtKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKGxvY2FsQXVkaW9TdHJlYW0sIHN0cmVhbUF1ZGlvKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0bG9jYWxBdWRpb1N0cmVhbXMgPSBbXTtcblxuXHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW8uZm9yRWFjaCgobGlzdGVuZXJBdWRpbykgPT4ge1xuXHRcdFx0XHRcdFx0XHRsaXN0ZW5lckF1ZGlvKHN0cmVhbUF1ZGlvKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW8gPSBbXTtcblxuXHRcdFx0XHRcdFx0aW5pdEF1ZGlvUHJvZ3Jlc3MgPSBmYWxzZTtcblxuXHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSxcblx0XHRcdFx0XHQoZXJyb3IpID0+IHtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG9uIHdlYnJ0Y0xvY2FsU3RyZWFtIC0gd2Via2l0R2V0VXNlck1lZGlhIDplcnJvcj0nKTtcblx0XHRcdFx0XHRcdGNvbnNvbGUuZGlyKGVycm9yKTtcblx0XHRcdFx0XHRcdGluaXRBdWRpb1Byb2dyZXNzPWZhbHNlO1xuXG5cdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soZXJyb3IpO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0KTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGxvY2FsQXVkaW9TdHJlYW1zLmZvckVhY2goKGxvY2FsQXVkaW9TdHJlYW0pID0+IHtcblx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShsb2NhbEF1ZGlvU3RyZWFtLCBzdHJlYW1BdWRpbyk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRsb2NhbEF1ZGlvU3RyZWFtcyA9IFtdO1xuXG5cdFx0XHRcdGxpc3RlbmVyc0F1ZGlvLmZvckVhY2goKGxpc3RlbmVyQXVkaW8pID0+IHtcblx0XHRcdFx0XHRsaXN0ZW5lckF1ZGlvKHN0cmVhbUF1ZGlvKTtcblx0XHRcdFx0fSk7XG5cdFx0XHRcdGxpc3RlbmVyc0F1ZGlvID0gW107XG5cblx0XHRcdFx0aW5pdEF1ZGlvUHJvZ3Jlc3MgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogSW5pdGlhbGl6ZXMgdGhlIGF1ZGlvLWFuZC12aWRlbyBsb2NhbCBzdHJlYW0uXG5cdCAqIFRoZSB3ZWIgYnJvd3NlcidzIHVzZXIgbWVkaWEgd2lsbCBiZSBjYWxsZWQsIHNvIHRoZSBicm93c2VyIGluIHVzZSBtdXN0IGJlIHJlY2VudCAoRmlyZWZveCAxNywgQ2hyb21lIDIxLCBPcGVyYSAxOCBhbmQgbGF0ZXIgdmVyc2lvbnMpLlxuXHQgKiBBIHZpZGVvIGVsZW1lbnQgd2lsbCBiZSBjcmVhdGVkLCBhbmQgcHVzaGVkIHRvIHRoZSBsb2NhbCBzdHJlYW1zIG9iamVjdHMuIFRoZSBjYXRjaGVkIGF1ZGlvIHN0cmVhbSB3aWxsIGJlIGF0dGFjaGVkIHRvIHRoZSBjcmVhdGVkIEhUTUwgZWxlbWVudC5cblx0ICogTGlzdGVuZXJzIHdpbGwgYWxzbyBiZSBjYWxsZWQuXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0QXVkaW9WaWRlbyhjYWxsYmFjaykge1xuXHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OmxvY2Fsc3RyZWFtOjppbml0QXVkaW9WaWRlbyknKTtcblx0XHRpZiAoIWluaXRBdWRpb1ZpZGVvUHJvZ3Jlc3MpIHtcblx0XHRcdGluaXRBdWRpb1ZpZGVvUHJvZ3Jlc3M9dHJ1ZTtcblx0XHRcdF9nZXRBbGxWaWRlb1NvdXJjZXMoKS50aGVuKChzb3VyY2VzKT0+e1xuXHRcdFx0XHRuYXZpZ2F0b3IuZ2V0TWVkaWEgPSBnZXRVc2VyTWVkaWE7XG5cdFx0XHRcdG1Mb2NhbFN0cmVhbUF1ZGlvVmlkZW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdBVURJT1ZJREVPJyk7XG5cdFx0XHRcdG1Mb2NhbFN0cmVhbUF1ZGlvVmlkZW8ubXV0ZWQ9IHRydWU7XG5cdFx0XHRcdC8vbG9jYWxBdWRpb1ZpZGVvU3RyZWFtcy5wdXNoKG1Mb2NhbFN0cmVhbUF1ZGlvVmlkZW8pO1xuXG5cdFx0XHRcdGxldCBhdWRpb1NvdXJjZTtcblx0XHRcdFx0bGV0IHZpZGVvU291cmNlO1xuXG5cdFx0XHRcdGlmKHNvdXJjZXNbY3VycmVudFZpZGVvU291cmNlXSl7XG5cdFx0XHRcdFx0dmlkZW9Tb3VyY2UgPSBzb3VyY2VzW2N1cnJlbnRWaWRlb1NvdXJjZV0uZGV2aWNlSWQ7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRjb25zdCBjb25zdHJhaW50cyA9IHtcblx0XHRcdFx0XHRhdWRpbzoge2RldmljZUlkOiBhdWRpb1NvdXJjZSA/IHtleGFjdDogYXVkaW9Tb3VyY2V9IDogdW5kZWZpbmVkfSxcblx0XHRcdFx0XHR2aWRlbzoge2RldmljZUlkOiB2aWRlb1NvdXJjZSA/IHtleGFjdDogdmlkZW9Tb3VyY2V9IDogdW5kZWZpbmVkfVxuXHRcdFx0XHR9O1xuXG5cdFx0XHRcdGlmKHN0cmVhbUF1ZGlvVmlkZW8gPT09IG51bGwgfHwgdmlkZW9Tb3VyY2Upe1xuXG5cdFx0XHRcdFx0bmF2aWdhdG9yLmdldE1lZGlhKGNvbnN0cmFpbnRzLFxuXHRcdFx0XHRcdFx0KHMpID0+IHtcblx0XHRcdFx0XHRcdFx0c3RyZWFtQXVkaW9WaWRlbyA9IHM7XG5cblx0XHRcdFx0XHRcdFx0bG9jYWxBdWRpb1ZpZGVvU3RyZWFtcy5mb3JFYWNoKChsb2NhbEF1ZGlvVmlkZW9TdHJlYW0pID0+IHtcblx0XHRcdFx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShsb2NhbEF1ZGlvVmlkZW9TdHJlYW0sIHN0cmVhbUF1ZGlvVmlkZW8pO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0Ly9sb2NhbEF1ZGlvVmlkZW9TdHJlYW1zID0gW107XG5cblx0XHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW9WaWRlby5mb3JFYWNoKChsaXN0ZW5lckF1ZGlvVmlkZW8pID0+IHtcblx0XHRcdFx0XHRcdFx0XHRsaXN0ZW5lckF1ZGlvVmlkZW8oc3RyZWFtQXVkaW9WaWRlbyk7XG5cdFx0XHRcdFx0XHRcdH0pO1xuXG5cdFx0XHRcdFx0XHRcdHN0cmVhbUxpc3RlbmVyc0F1ZGlvVmlkZW8uZm9yRWFjaCgoc3RyZWFtTGlzdGVuZXJBdWRpb1ZpZGVvKSA9PiB7XG5cdFx0XHRcdFx0XHRcdFx0c3RyZWFtTGlzdGVuZXJBdWRpb1ZpZGVvKHN0cmVhbUF1ZGlvVmlkZW8pO1xuXHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW9WaWRlbyA9IFtdO1xuXG5cdFx0XHRcdFx0XHRcdGluaXRBdWRpb1ZpZGVvUHJvZ3Jlc3MgPSBmYWxzZTtcblxuXHRcdFx0XHRcdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0KGVycm9yKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoJyhSZWFjaFNESzo6bG9jYWxzdHJlYW06OmluaXRBdWRpb1ZpZGVvOjpFcnJvciBvbiB3ZWJydGNMb2NhbFN0cmVhbSAtIHdlYmtpdEdldFVzZXJNZWRpYSA6IGVycm9yPScpO1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmRpcihlcnJvcik7XG5cdFx0XHRcdFx0XHRcdGluaXRBdWRpb1ZpZGVvUHJvZ3Jlc3M9ZmFsc2U7XG5cblx0XHRcdFx0XHRcdFx0aWYgKGNhbGxiYWNrKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y2FsbGJhY2soZXJyb3IpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsb2NhbEF1ZGlvVmlkZW9TdHJlYW1zLmZvckVhY2goKGxvY2FsQXVkaW9WaWRlb1N0cmVhbSkgPT4ge1xuXHRcdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0obG9jYWxBdWRpb1ZpZGVvU3RyZWFtLCBzdHJlYW1BdWRpb1ZpZGVvKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHQvL2xvY2FsQXVkaW9WaWRlb1N0cmVhbXMgPSBbXTtcblxuXHRcdFx0XHRcdGxpc3RlbmVyc0F1ZGlvVmlkZW8uZm9yRWFjaCgobGlzdGVuZXJBdWRpb1ZpZGVvKSA9PiB7XG5cdFx0XHRcdFx0XHRsaXN0ZW5lckF1ZGlvVmlkZW8oc3RyZWFtQXVkaW9WaWRlbyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW9WaWRlbyA9IFtdO1xuXG5cdFx0XHRcdFx0aW5pdEF1ZGlvVmlkZW9Qcm9ncmVzcyA9IGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9XG5cdH1cblx0LyoqXG5cdCAqIGEgZnVuY3Rpb24gdXNlZCB0byBzd2l0Y2ggY2FtZXJhIHNvdXJjZSB3aXRoIHRoZSBuZXh0IGF2YWxpYWJsZSBvbmVcblx0Ki9cblx0ZnVuY3Rpb24gX3N3aXRjaENhbWVyYSgpIHtcblx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjpsb2NhbHN0cmVhbTo6X3N3aXRjaENhbWVyYSknKTtcblx0XHRpZiAodmlkZW9Tb3VyY2VzLmxlbmd0aD4wKSB7XG5cdFx0XHRjdXJyZW50VmlkZW9Tb3VyY2UgPSArK2N1cnJlbnRWaWRlb1NvdXJjZSAlIHZpZGVvU291cmNlcy5sZW5ndGg7XG5cdFx0XHRpZiAoc3RyZWFtQXVkaW9WaWRlbykge1xuXHRcdFx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjpsb2NhbHN0cmVhbTo6X3N3aXRjaENhbWVyYSk6OnN0cmVhbUF1ZGlvVmlkZW8nKTtcblx0XHRcdFx0c3RyZWFtQXVkaW9WaWRlby5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjayk9Pntcblx0XHRcdFx0XHR0cmFjay5zdG9wKCk7XG5cdFx0XHRcdH0pO1xuXHRcdFx0XHRpbml0QXVkaW9WaWRlbygpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHN0cmVhbVZpZGVvKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OmxvY2Fsc3RyZWFtOjpfc3dpdGNoQ2FtZXJhKTo6c3RyZWFtVmlkZW8nKTtcblx0XHRcdFx0c3RyZWFtVmlkZW8uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spPT57XG5cdFx0XHRcdFx0dHJhY2suc3RvcCgpO1xuXHRcdFx0XHR9KTtcblx0XHRcdFx0aW5pdFZpZGVvKCk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENsb3NlcyBhbGwgdGhlIHN0cmVhbXMuXG5cdCAqIFNldCBhbGwgdGhlIGluaXRQcm9ncmVzcyBmbGFncyB0byBmYWxzZSwgZGV0YWNoIGFsbCB0aGUgc3RyZWFtcyBhZnRlciBzdG9wcGluZyB0aGVtLlxuXHQgKi9cblx0ZnVuY3Rpb24gY2xvc2UoKSB7XG5cdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6bG9jYWxzdHJlYW06OmNsb3NlKScpO1xuXHRcdGlmIChtTG9jYWxTdHJlYW1WaWRlbykge1xuXHRcdFx0ZGV0YWNoTWVkaWFTdHJlYW0obUxvY2FsU3RyZWFtVmlkZW8pO1xuXHRcdFx0bUxvY2FsU3RyZWFtVmlkZW89bnVsbDtcblx0XHR9XG5cdFx0aWYgKHN0cmVhbUF1ZGlvVmlkZW8pIHtcblx0XHRcdHN0cmVhbUF1ZGlvVmlkZW8uZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spPT57XG5cdFx0XHRcdHRyYWNrLnN0b3AoKTtcblx0XHRcdH0pO1xuXHRcdFx0c3RyZWFtQXVkaW9WaWRlbz1udWxsO1xuXHRcdH1cblx0XHRpZiAoc3RyZWFtVmlkZW8pIHtcblx0XHRcdHN0cmVhbVZpZGVvLmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKT0+e1xuXHRcdFx0XHR0cmFjay5zdG9wKCk7XG5cdFx0XHR9KTtcblx0XHRcdHN0cmVhbVZpZGVvID0gbnVsbDtcblx0XHR9XG5cdFx0aW5pdFZpZGVvUHJvZ3Jlc3M9ZmFsc2U7XG5cblx0XHRpZiAobUxvY2FsU3RyZWFtQXVkaW8pIHtcblx0XHRcdGRldGFjaE1lZGlhU3RyZWFtKG1Mb2NhbFN0cmVhbUF1ZGlvKTtcblx0XHRcdG1Mb2NhbFN0cmVhbUF1ZGlvPW51bGw7XG5cdFx0fVxuXHRcdGlmIChzdHJlYW1BdWRpbykge1xuXHRcdFx0c3RyZWFtQXVkaW8uc3RvcCgpO1xuXHRcdFx0c3RyZWFtQXVkaW8gPSBudWxsO1xuXHRcdH1cblxuXHRcdGluaXRBdWRpb1Byb2dyZXNzPWZhbHNlO1xuXG5cdFx0aWYgKG1Mb2NhbFN0cmVhbUF1ZGlvVmlkZW8pIHtcblx0XHRcdGRldGFjaE1lZGlhU3RyZWFtKG1Mb2NhbFN0cmVhbUF1ZGlvVmlkZW8pO1xuXHRcdFx0bUxvY2FsU3RyZWFtQXVkaW9WaWRlbz1udWxsO1xuXHRcdH1cblx0XHRpZiAoc3RyZWFtQXVkaW9WaWRlbykge1xuXHRcdFx0c3RyZWFtQXVkaW9WaWRlby5zdG9wKCk7XG5cdFx0XHRzdHJlYW1BdWRpb1ZpZGVvID0gbnVsbDtcblx0XHR9XG5cblx0XHRpbml0QXVkaW9WaWRlb1Byb2dyZXNzPWZhbHNlO1xuXHR9XG5cblxuXHRyZXR1cm4ge1xuXHRcdC8qKlxuXHRcdCAqIFJldHVybnMgdGhlIHZpZGVvIHN0cmVhbVxuXHRcdCAqL1xuXHRcdGdldFZpZGVvU3RyZWFtOiAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gc3RyZWFtVmlkZW87XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBBZGRzIGEgdmlkZW8gbGlzdGVuZXIgd2hpY2ggd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgdGhlIHZpZGVvIHN0cmVhbSBpcyBlc3RhYmxpc2hlZC5cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIFRoZSBsaXN0ZW5lciB0byBhZGRcblx0XHQgKi9cblx0XHRhZGRWaWRlb0xpc3RlbmVyOiAoY2IpID0+IHtcblx0XHRcdGxpc3RlbmVyc1ZpZGVvLnB1c2goY2IpO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZXMgdGhlIHZpZGVvIGxvY2FsIHN0cmVhbS5cblx0XHQgKiBUaGUgd2ViIGJyb3dzZXIncyB1c2VyIG1lZGlhIHdpbGwgYmUgY2FsbGVkLCBzbyB0aGUgYnJvd3NlciBpbiB1c2UgbXVzdCBiZSByZWNlbnQgKEZpcmVmb3ggMTcsIENocm9tZSAyMSwgT3BlcmEgMTggYW5kIGxhdGVyIHZlcnNpb25zKS5cblx0XHQgKiBBIHZpZGVvIGVsZW1lbnQgd2lsbCBiZSBjcmVhdGVkLCBhbmQgcHVzaGVkIHRvIHRoZSBsb2NhbCBzdHJlYW1zIG9iamVjdHMuIFRoZSBjYXRjaGVkIHZpZGVvIGFuZCBhdWRpbyBzdHJlYW0gd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgY3JlYXRlZCBIVE1MIGVsZW1lbnQuXG5cdFx0ICogTGlzdGVuZXJzIHdpbGwgYWxzbyBiZSBjYWxsZWQuXG5cdFx0ICovXG5cdFx0aW5pdFZpZGVvOiAoKSA9PiB7XG5cdFx0XHRpbml0VmlkZW8oKTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIE1ha2VzIHRoZSBjb25uZWN0aW9uIHRvIHRoZSBsb2NhbCB2aWRlbyBzdHJlYW0sIGFuZCBhdHRhY2ggdGhlIGxvY2FsIHZpZGVvIHN0cmVhbSB0byB0aGUgdmlkZW8gZWxlbWVudCBpZiBkZWZpbmVkLlxuXHRcdCAqIElmIHRoZSB2aWRlbyBlbGVtZW50IGlzIG5vdCBkZWZpbmVkLCB0aGUgdmlkZW8gbG9jYWwgc3RyZWFtIHdpbGwgYmUgaW5pdGlhbGl6ZWQgYW5kIGEgZGVkaWNhdGVkIEhUTUwgdmlkZW8gdGFnIHdpbGwgYmUgY3JlYXRlZC5cblx0XHQgKiBAcGFyYW0gdmlkZW9FbHQgLSBUaGUgdmlkZW8gZWxlbWVudCB3aGVyZSBwbGFjZSB0aGUgY29ubmVjdGVkIGxvY2FsIHZpZGVvIHN0cmVhbS4gaWYgbnVsbCwgYSBuZXcgb25lIHdpbGwgYmUgY3JlYXRlZC5cblx0XHQgKiBAcGFyYW0gZ2V0TG9jYWxTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHRcdCAqL1xuXHRcdGNvbm5lY3RMb2NhbFZpZGVvU3RyZWFtOiAodmlkZW9FbHQsIHB1Ymxpc2hTdHJlYW1DYiwgZ2V0TG9jYWxTdHJlYW1DYikgPT4ge1xuXHRcdFx0aWYgKHZpZGVvRWx0KSB7XG5cdFx0XHRcdHZpZGVvRWx0Lm11dGVkPXRydWU7XG5cdFx0XHRcdGlmIChzdHJlYW1WaWRlbykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OmxvY2Fsc3RyZWFtOjpjb25uZWN0TG9jYWxWaWRlb1N0cmVhbSl1c2UgZXhpc3Rpbmcgc3RyZWFtVmlkZW8nKTtcblx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbSh2aWRlb0VsdCxzdHJlYW1WaWRlbyk7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGdldExvY2FsU3RyZWFtQ2Ioc3RyZWFtVmlkZW8pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsb2NhbFZpZGVvU3RyZWFtcy5wdXNoKHZpZGVvRWx0KTtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0TG9jYWxTdHJlYW1DYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzVmlkZW8ucHVzaChnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aW5pdFZpZGVvKHB1Ymxpc2hTdHJlYW1DYik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICghc3RyZWFtVmlkZW8pIHtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0TG9jYWxTdHJlYW1DYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzVmlkZW8ucHVzaChnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aW5pdFZpZGVvKHB1Ymxpc2hTdHJlYW1DYik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGdldExvY2FsU3RyZWFtQ2Ioc3RyZWFtVmlkZW8pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgYXVkaW8gc3RyZWFtXG5cdFx0ICogQHJldHVybiAtIEFuIGF1ZGlvIHN0cmVhbVxuXHRcdCAqL1xuXHRcdGdldEF1ZGlvU3RyZWFtOiAoKSA9PiB7XG5cdFx0XHRyZXR1cm4gc3RyZWFtQXVkaW87XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBBZGRzIGFuIGF1ZGlvIGxpc3RlbmVyIHdoaWNoIHdpbGwgYmUgY2FsbGVkIGFmdGVyIHRoZSBhdWRpbyBzdHJlYW0gaXMgZXN0YWJsaXNoZWQuXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBUaGUgbGlzdGVuZXIgdG8gYWRkXG5cdFx0ICovXG5cdFx0YWRkQXVkaW9MaXN0ZW5lcjogKGNiKSA9PiB7XG5cdFx0XHRsaXN0ZW5lcnNBdWRpby5wdXNoKGNiKTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIEluaXRpYWxpemVzIHRoZSBhdWRpbyBsb2NhbCBzdHJlYW0uXG5cdFx0ICogVGhlIHdlYiBicm93c2VyJ3MgdXNlciBtZWRpYSB3aWxsIGJlIGNhbGxlZCwgc28gdGhlIGJyb3dzZXIgaW4gdXNlIG11c3QgYmUgcmVjZW50IChGaXJlZm94IDE3LCBDaHJvbWUgMjEsIE9wZXJhIDE4IGFuZCBsYXRlciB2ZXJzaW9ucykuXG5cdFx0ICogQSB2aWRlbyBlbGVtZW50IHdpbGwgYmUgY3JlYXRlZCwgYW5kIHB1c2hlZCB0byB0aGUgbG9jYWwgc3RyZWFtcyBvYmplY3RzLiBUaGUgY2F0Y2hlZCBhdWRpbyBzdHJlYW0gd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgY3JlYXRlZCBIVE1MIGVsZW1lbnQuXG5cdFx0ICogTGlzdGVuZXJzIHdpbGwgYWxzbyBiZSBjYWxsZWQuXG5cdFx0ICovXG5cdFx0aW5pdEF1ZGlvOiAoKSA9PiB7XG5cdFx0XHRpbml0QXVkaW8oKTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIENvbm5lY3RzIHRvIHRoZSBsb2NhbCBhdWRpbyBzdHJlYW0gYW5kIHNldHMgaXQgdG8gdGhlIGF1ZGlvIGVsZW1lbnQgaWYgZGVmaW5lZC5cblx0XHQgKiBJZiBub3QsIGEgZGVkaWNhdGVkIEhUTUwgdmlkZW8gd2lsbCBiZSBjcmVhdGVkLiBUaGUgYXVkaW8gbWVkaWEgc3RyZWFtIHdpbGwgYmUgYXR0YWNoZWQgdG8gdGhlIGVsZW1lbnQgaW4gdXNlLlxuXHRcdCAqIEBwYXJhbSBBdWRpb0VsdCAtIFRoZSBhdWRpbyBlbGVtZW50IGluIHVzZSBwb3NzZXNzaW5nIHRoZSBhdHRhY2hlZCBsb2NhbCBhdWRpbyBzdHJlYW1cblx0XHQgKiBAcGFyYW0gZ2V0TG9jYWxTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHRcdCAqL1xuXHRcdGNvbm5lY3RMb2NhbEF1ZGlvU3RyZWFtOiAoQXVkaW9FbHQsIHB1Ymxpc2hTdHJlYW1DYiwgZ2V0TG9jYWxTdHJlYW1DYikgPT4ge1xuXHRcdFx0aWYgKEF1ZGlvRWx0KSB7XG5cdFx0XHRcdEF1ZGlvRWx0Lm11dGVkPXRydWU7XG5cdFx0XHRcdGlmIChzdHJlYW1BdWRpbykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OmxvY2Fsc3RyZWFtOjpjb25uZWN0TG9jYWxBdWRpb1N0cmVhbSl1c2UgZXhpc3Rpbmcgc3RyZWFtQXVkaW8nKTtcblx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShBdWRpb0VsdCxzdHJlYW1BdWRpbyk7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGdldExvY2FsU3RyZWFtQ2Ioc3RyZWFtQXVkaW8pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsb2NhbEF1ZGlvU3RyZWFtcy5wdXNoKEF1ZGlvRWx0KTtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0TG9jYWxTdHJlYW1DYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW8ucHVzaChnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aW5pdEF1ZGlvKHB1Ymxpc2hTdHJlYW1DYik7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGlmICghc3RyZWFtQXVkaW8pIHtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0TG9jYWxTdHJlYW1DYj09J2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW8ucHVzaChnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aW5pdEF1ZGlvKHB1Ymxpc2hTdHJlYW1DYik7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2I9PSdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGdldExvY2FsU3RyZWFtQ2Ioc3RyZWFtQXVkaW8pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgYXVkaW8gdmlkZW8gc3RyZWFtXG5cdFx0ICogQHJldHVybiAtIFRoZSBhdWRpbyBhbmQgdmlkZW8gc3RyZWFtXG5cdFx0ICovXG5cdFx0Z2V0QXVkaW9WaWRlb1N0cmVhbTogKCkgPT4ge1xuXHRcdFx0cmV0dXJuIHN0cmVhbUF1ZGlvVmlkZW87XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBBZGRzIHRoZSBhdWRpby1hbmQtdmlkZW8gbGlzdGVuZXIgd2hpY2ggd2lsbCBiZSBjYWxsZWQgYWZ0ZXIgdGhlIGF1ZGktYW5kLXZpZGVvIHN0cmVhbSBpcyBlc3RhYmxpc2hlZC5cblx0XHQgKiBAcGFyYW0gY2IgLSBUaGUgYXVkaW8gYW5kIHZpZGVvIGxpc3RlbmVyIHRvIGFkZFxuXHRcdCAqL1xuXHRcdGFkZEF1ZGlvVmlkZW9MaXN0ZW5lcjogKGNiKSA9PiB7XG5cdFx0XHRsaXN0ZW5lcnNBdWRpb1ZpZGVvLnB1c2goY2IpO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogSW5pdGlhbGl6ZXMgdGhlIGF1ZGlvLWFuZC12aWRlbyBsb2NhbCBzdHJlYW0uXG5cdFx0ICogVGhlIHdlYiBicm93c2VyJ3MgdXNlciBtZWRpYSB3aWxsIGJlIGNhbGxlZCwgc28gdGhlIGJyb3dzZXIgaW4gdXNlIG11c3QgYmUgcmVjZW50IChGaXJlZm94IDE3LCBDaHJvbWUgMjEsIE9wZXJhIDE4IGFuZCBsYXRlciB2ZXJzaW9ucykuXG5cdFx0ICogQSB2aWRlbyBlbGVtZW50IHdpbGwgYmUgY3JlYXRlZCwgYW5kIHB1c2hlZCB0byB0aGUgbG9jYWwgc3RyZWFtcyBvYmplY3RzLiBUaGUgY2F0Y2hlZCBhdWRpbyBzdHJlYW0gd2lsbCBiZSBhdHRhY2hlZCB0byB0aGUgY3JlYXRlZCBIVE1MIGVsZW1lbnQuXG5cdFx0ICogTGlzdGVuZXJzIHdpbGwgYWxzbyBiZSBjYWxsZWQuXG5cdFx0ICovXG5cdFx0aW5pdEF1ZGlvVmlkZW86ICgpID0+IHtcblx0XHRcdGluaXRBdWRpb1ZpZGVvKCk7XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBDb25uZWN0cyB0aGUgbG9jYWwgYXVkaW8gYW5kIHZpZGVvIHN0cmVhbXMgYW5kIGFzc2lnbnMgdGhlbSB0byB0aGUgYXVkaW8gYW5kIHZpZGVvIGVsZW1lbnQgaWYgbmVlZGVkLlxuXHRcdCAqIElmIG5vIEhUTUwgZWxlbWVudCBpcyBwYXNzZWQgdG8gdGhlIGZ1bmN0aW9ubiBhIG5ldyBlbGVtZW50IGlzIGNyZWF0ZWRcblx0XHQgKiBAcGFyYW0gQXVkaW9WaWRlb0VsdCAtIFRoZSBlbGVtZW50IHdoZXJlIHRvIHBsYWNlIHRoZSBhdWRpbyBhbmQgdmlkZW8gbG9jYWwgc3RyZWFtc1xuXHRcdCAqIEBwYXJhbSBnZXRMb2NhbFN0cmVhbUNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgbWVkaWFzdHJlYW0gb2JqZWN0XG5cdFx0ICovXG5cdFx0Y29ubmVjdExvY2FsQXVkaW9WaWRlb1N0cmVhbTogKEF1ZGlvVmlkZW9FbHQsIHB1Ymxpc2hTdHJlYW1DYiwgZ2V0TG9jYWxTdHJlYW1DYikgPT4ge1xuXHRcdFx0aWYgKEF1ZGlvVmlkZW9FbHQpIHtcblx0XHRcdFx0QXVkaW9WaWRlb0VsdC5tdXRlZD10cnVlO1xuXHRcdFx0XHRpZiAoc3RyZWFtQXVkaW9WaWRlbykge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OmxvY2Fsc3RyZWFtOjpjb25uZWN0TG9jYWxBdWRpb1ZpZGVvU3RyZWFtKXVzZSBleGlzdGluZyBzdHJlYW1BdWRpb1ZpZGVvJyk7XG5cdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0oQXVkaW9WaWRlb0VsdCxzdHJlYW1BdWRpb1ZpZGVvKTtcblx0XHRcdFx0XHRpZiAoZ2V0TG9jYWxTdHJlYW1DYikge1xuXHRcdFx0XHRcdFx0Z2V0TG9jYWxTdHJlYW1DYihzdHJlYW1BdWRpb1ZpZGVvKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bG9jYWxBdWRpb1ZpZGVvU3RyZWFtcy5wdXNoKEF1ZGlvVmlkZW9FbHQpO1xuXHRcdFx0XHRcdGlmIChnZXRMb2NhbFN0cmVhbUNiICYmIHR5cGVvZiBnZXRMb2NhbFN0cmVhbUNiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGxpc3RlbmVyc0F1ZGlvVmlkZW8ucHVzaChnZXRMb2NhbFN0cmVhbUNiKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aW5pdEF1ZGlvVmlkZW8ocHVibGlzaFN0cmVhbUNiKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKCFzdHJlYW1BdWRpb1ZpZGVvKSB7XG5cdFx0XHRcdFx0aWYgKGdldExvY2FsU3RyZWFtQ2IgJiYgdHlwZW9mIGdldExvY2FsU3RyZWFtQ2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0bGlzdGVuZXJzQXVkaW9WaWRlby5wdXNoKGdldExvY2FsU3RyZWFtQ2IpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRpbml0QXVkaW9WaWRlbyhwdWJsaXNoU3RyZWFtQ2IpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGlmIChnZXRMb2NhbFN0cmVhbUNiKSB7XG5cdFx0XHRcdFx0XHRnZXRMb2NhbFN0cmVhbUNiKHN0cmVhbUF1ZGlvVmlkZW8pO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBEZXRhY2hlcyBzdHJlYW1zIGFuZCBkZWxldGVzIGxpc3RlbmVyc1xuXHRcdCAqL1xuXHRcdGNsb3NlOiAoKSA9PiB7XG5cdFx0XHRjbG9zZSgpO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogU3dpdGNoZXMgYmV0d2VlbiBjYW1lcmFzLlxuXHRcdCAqL1xuXHRcdHN3aXRjaENhbWVyYTogKCkgPT4ge1xuXHRcdFx0X3N3aXRjaENhbWVyYSgpO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICogQWRkcyB0aGUgYXVkaW8tYW5kLXZpZGVvIGxpc3RlbmVyIHdoaWNoIHdpbGwgYmUgY2FsbGVkIGFmdGVyIHRoZSBhdWRpby1hbmQtdmlkZW8gc3RyZWFtIGlzIGVzdGFibGlzaGVkIHVzZWQgYnkgc3dpdGNoaW5nIGNhbWVyYSBmZWF0dXJlXG5cdFx0ICogQHBhcmFtIGNiIC0gVGhlIGF1ZGlvIGFuZCB2aWRlbyBsaXN0ZW5lciB0byBhZGQgXG5cdFx0ICovXG5cdFx0YWRkU3RyZWFtQXVkaW9WaWRlb0xpc3RlbmVyOiAoY2IpID0+IHtcblx0XHRcdHN0cmVhbUxpc3RlbmVyc0F1ZGlvVmlkZW8ucHVzaChjYik7XG5cdFx0fSxcblx0XHQvKipcblx0XHQgKiBBZGRzIHRoZSB2aWRlbyBsaXN0ZW5lciB3aGljaCB3aWxsIGJlIGNhbGxlZCBhZnRlciB0aGUgdmlkZW8gc3RyZWFtIGlzIGVzdGFibGlzaGVkIHVzZWQgYnkgc3dpdGNoaW5nIGNhbWVyYSBmZWF0dXJlXG5cdFx0ICogQHBhcmFtIGNiIC0gVGhlIHZpZGVvIGxpc3RlbmVyIHRvIGFkZCBcblx0XHQgKi9cblx0XHRhZGRTdHJlYW1WaWRlb0xpc3RlbmVyOiAoY2IpID0+IHtcblx0XHRcdHN0cmVhbUxpc3RlbmVyc1ZpZGVvLnB1c2goY2IpO1xuXHRcdH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXR0aW5nIGFsbCBvZiB0aGUgdmlkZW8gc291cmNlcy9jYW1lcmFzIHRoYXQgYXJlIGNvbm5lY3RlZCB0byB0aGUgY3VycmVudCBkZXZpY2UvYnJvd3NlclxuICAgICAgICAgKi9cblx0XHRnZXRBbGxWaWRlb1NvdXJjZXM6KCkgPT57XG5cdFx0XHRyZXR1cm4gX2dldEFsbFZpZGVvU291cmNlcygpO1xuXHRcdH0sXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBnZXR0aW5nIHRoZSBudW1iZXIgb2YgYWxsIG9mIHRoZSB2aWRlbyBzb3VyY2VzL2NhbWVyYXMgdGhhdCBhcmUgY29ubmVjdGVkIHRvIHRoZSBjdXJyZW50IGRldmljZS9icm93c2VyXG4gICAgICAgICAqL1xuXHRcdGdldFZpZGVvU291cmNlTnVtYmVyOigpID0+e1xuXHRcdFx0cmV0dXJuIF9nZXRBbGxWaWRlb1NvdXJjZXMoKS50aGVuKChzb3VyY2VzKT0+e1xuXHRcdFx0XHRyZXR1cm4gc291cmNlcy5sZW5ndGg7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH07XG5cbn0pKCk7XG5cbmV4cG9ydCBkZWZhdWx0IGxvY2Fsc3RyZWFtO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL2xvY2Fsc3RyZWFtLmpzXG4gKiovIiwiLyoqXG4gKiBAZmlsZSB3ZWJydGNtbmdyLmpzIC0gSlMgZmlsZSBmb3IgYSBXZWJSVEMgbWFuYWdlclxuICogQGF1dGhvciBXZWJjb21cbiAqL1xuXG4vKmVzbGludCBjb21wbGV4aXR5OjEsIG1heC1zdGF0ZW1lbnRzOiAxLCBtYXgtbGVuOiAxLCBtYXgtcGFyYW1zOiAxKi9cblxuaW1wb3J0IHV0aWxzIGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IHdlYnJ0YyBmcm9tICcuL3dlYnJ0Yyc7XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAZGVzY3JpcHRpb24gV2ViUlRDIG1hbmFnZXIgaGFuZGxpbmcgdGhlIFdlYlJUQyBzdGFja3MgaW4gdXNlXG4gKi9cbmNvbnN0IHdlYnJ0Y21uZ3IgPSBmdW5jdGlvbihkYXRhcmVmcykge1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmcgdGhlIFdlYlJUQyBzdGFja3MgaW4gdXNlXG5cdCAqL1xuXHRjb25zdCB3ZWJydGNTdGFja3MgPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWludCB0aGUgdmlydHVhbCBXZWJSVEMgc3RhY2tzXG5cdCAqL1xuXHRjb25zdCB2aXJ0dWFsV2VicnRjU3RhY2tzID0gW107XG5cblx0LyoqXG5cdCogYSB3b3JrIGFyb3VuZCB0byBiZSBhYmxlIHRvIGdldCBhIHNlbGYgcmVmZXJlbmNlIHRocm91Z2ggc2V0dGluZyBteXNlbGYgdGhyb3VnaCB0aGUgUmVhY2ggY2xhc3Ncblx0Ki9cblx0bGV0IG13ZWJydGNtbmdyX3JlZmVyZW5jZTtcblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIFdlYlJUQyBvYmplY3Rcblx0ICogQHBhcmFtIHBfVmlkIC0gdGhlIHZpZGVvIGNvbnRhaW5lciBsaW5rZWQgdG8gdGhlIHBlZXJjb25uZWN0aW9uXG5cdCAqIEBwYXJhbSBwX3JlbW90ZUFwcEluc3RJZCAtIHRoZSByZW1vdGUgYXBwbGljYXRpb24gaW5zdGFuY2UgaWRlbnRpZmllclxuXHQgKiBAcGFyYW0gcF9vbkNsb3NlQ2IgLSBBIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWRcblx0ICogQHBhcmFtIHBfaXNQdWJsaXNoIC0gdHJ1ZSBpZiBpdCdzIGEgcGVlcmNvbm5lY3Rpb24gcmVsYXRlZCB0byBhIHB1Ymxpc2hTdHJlYW0sIGZhbHNlIGlmIGl0J3MgcmVsYXRhdGVkIHRvIGEgc3Vic2NyaWJlXG5cdCAqIEBwYXJhbSBwX2FjdGlvblR5cGUgLSBUaGUgYWN0aW9uIHR5cGUgKGF1ZGlvLCB2aWRlbywgYXVkaW8tdmlkZW8pXG5cdCAqIEBwYXJhbSBwX3BlZXJjb0lkIC0gVGhlIFBlZXJDb25uZWN0aW9uIElkXG5cdCAqIEBwYXJhbSBwX3BlZXJjb1JlZiAtIFRoZSBQZWVyQ29ubmVjdGlvbiBSZWYgaW4gdGhlIHdlYnJ0YyBub2RlXG5cdCAqIEBwYXJhbSBwX3BlZXJjb1JlZiAtIFRoZSBQZWVyQ29ubmVjdGlvbiBJZCBpbiB0aGUgd2VicnRjIG5vZGVcblx0ICogQHBhcmFtIHBfbXV0ZWRBdWRpbyAtIG9wdGlvbmFsIC0gaWYgdHJ1ZSBwZWVyY29ubmVjdGlvbiB3aWxsIGJlIGNyZWF0ZWQgbXV0ZWRcblx0ICogQHBhcmFtIHBfbXV0ZVZpZGVvIC0gb3B0aW9uYWwgLSBpZiB0cnVlIHBlZXJjb25uZWN0aW9uIHdpbGwgYmUgY3JlYXRlZCB3aXRoIHZpZGVvIG11dGVkXG5cdCAqIEBwYXJhbSBwX2dldFN0cmVhbUNiIC0gYSBjYWxsYmFjayBmdW5jdGlvbiB0byByZXRyaWV2ZSB0aGUgbWVkaWFzdHJlYW0gb2JqZWN0XG5cdCAqL1xuXHRmdW5jdGlvbiBfY3JlYXRlV2VicnRjKHBfVmlkLCBwX3JlbW90ZUFwcEluc3RJZCwgcF9vbkNsb3NlQ2IsIHBfaXNQdWJsaXNoLCBwX2FjdGlvblR5cGUsIHBfcGVlcmNvSWQsIHBfcGVlcmNvUmVmLCBwX211dGVkQXVkaW8sIHBfbXV0ZVZpZGVvLCBwX2dldFN0cmVhbUNiKSB7XG5cdFx0Y29uc3Rcblx0XHRcdHdlYnJ0Y1N0YWNrSWQgPSBwX3BlZXJjb0lkLFxuXHRcdFx0bG9jYWxEYXRhUmVmID0gZGF0YXJlZnMuZ2V0V2VicnRjKCkuY2hpbGQoYCR7cF9wZWVyY29SZWZ9LyR7dXRpbHMuYXBwSW5zdGFuY2VJZH1gKSxcblx0XHRcdHJlbW90ZURhdGFSZWYgPSBkYXRhcmVmcy5nZXRXZWJydGMoKS5jaGlsZChgJHtwX3BlZXJjb1JlZn0vJHtwX3JlbW90ZUFwcEluc3RJZH1gKTtcbi8vICAgIFx0IGlmIChwX2lzUHVibGlzaCkge1xuLy8gICAgXHRcdCB3ZWJydGNTdGFja0lkPXV0aWxzLmFwcEluc3RhbmNlSWQrXCJfXCIrcF9yZW1vdGVBcHBJbnN0SWQ7XG4vLyAgICAgICAgIH0gZWxzZSB7XG4vLyAgICAgICAgXHQgd2VicnRjU3RhY2tJZD1wX3JlbW90ZUFwcEluc3RJZCtcIl9cIit1dGlscy5hcHBJbnN0YW5jZUlkO1xuLy8gICAgICAgICB9XG5cdFx0bGV0IHZpcnR1YWxXZWJydGNTdGFjayA7XG5cdFx0Ly8gY3JlYXRlIHRoZSB2aXJ0dWFsIHdlYnJ0Y3N0YWNrXG5cdFx0aWYgKHBfaXNQdWJsaXNoKSB7XG5cdFx0XHR2aXJ0dWFsV2VicnRjU3RhY2sgPSB7XG5cdFx0XHRcdHdlYlJ0Y1N0YWNrSWQ6IHdlYnJ0Y1N0YWNrSWQsXG5cdFx0XHRcdGxvY2FsVmlkOiBwX1ZpZFxuXHRcdFx0fTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0dmlydHVhbFdlYnJ0Y1N0YWNrID0ge1xuXHRcdFx0XHR3ZWJSdGNTdGFja0lkOiB3ZWJydGNTdGFja0lkLFxuXHRcdFx0XHRyZW1vdGVWaWQ6IHBfVmlkXG5cdFx0XHR9O1xuXHRcdH1cblxuXHRcdGNvbnN0IGlkID0gdmlydHVhbFdlYnJ0Y1N0YWNrcy5wdXNoKHZpcnR1YWxXZWJydGNTdGFjaykgLSAxO1xuXG5cdFx0Ly8gY3JlYXRlIHRoZSByZWFsIHdlYnJ0Y3N0YWNrIGlmIGl0IGRvZXMgbm90IGFscmVhZHkgZXhpc3Rcblx0XHRpZiAoIXdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXSkge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZygnUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNyZWF0ZVdlYnJ0Yy0+Y3JlYXRlIGEgbmV3IHJlYWwgd2VicnRjU3RhY2snKTtcblx0XHRcdC8vIGNyZWF0ZSB0aGUgcmVhbCB3ZWJydGNzdGFja1xuXHRcdFx0Y29uc3Qgd2ViUnRjU3RhY2sgPSB3ZWJydGMobXdlYnJ0Y21uZ3JfcmVmZXJlbmNlLCBwX2lzUHVibGlzaCwgbG9jYWxEYXRhUmVmLCByZW1vdGVEYXRhUmVmLCB3ZWJydGNTdGFja0lkLCBwX2FjdGlvblR5cGUsIHBfbXV0ZWRBdWRpbywgcF9tdXRlVmlkZW8pO1xuXHRcdFx0d2ViUnRjU3RhY2suc2V0T25DbG9zZShwX29uQ2xvc2VDYik7XG5cdFx0XHRpZiAocF9pc1B1Ymxpc2gpIHtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdID0ge1xuXHRcdFx0XHRcdHN0YWNrOndlYlJ0Y1N0YWNrLFxuXHRcdFx0XHRcdGlzUHVibGlzaGVkOjEsXG5cdFx0XHRcdFx0aXNTdWJzY3JpYmVkOjBcblx0XHRcdFx0fTtcblx0XHRcdFx0d2ViUnRjU3RhY2suY29ubmVjdExvY2FsU3RyZWFtKHBfVmlkLHBfZ2V0U3RyZWFtQ2IpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdID0ge1xuXHRcdFx0XHRcdHN0YWNrOndlYlJ0Y1N0YWNrLFxuXHRcdFx0XHRcdGlzUHVibGlzaGVkOjAsXG5cdFx0XHRcdFx0aXNTdWJzY3JpYmVkOjFcblx0XHRcdFx0fTtcblx0XHRcdFx0d2ViUnRjU3RhY2suY29ubmVjdFJlbW90ZVN0cmVhbShwX1ZpZCxwX2dldFN0cmVhbUNiKTtcblx0XHRcdH1cblxuXG5cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZygnUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNyZWF0ZVdlYnJ0Yy0+dXNlIGV4aXN0aW5nIHJlYWwgd2VicnRjU3RhY2snKTtcblx0XHRcdC8vIGluY3JlbWVudCByZWYgY291bnRlclxuXHRcdFx0aWYgKHBfaXNQdWJsaXNoKSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1B1Ymxpc2hlZCsrO1xuXHRcdFx0XHR3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uc3RhY2suY29ubmVjdExvY2FsU3RyZWFtKHBfVmlkLCBwX2dldFN0cmVhbUNiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1N1YnNjcmliZWQrKztcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLnN0YWNrLmNvbm5lY3RSZW1vdGVTdHJlYW0ocF9WaWQsIHBfZ2V0U3RyZWFtQ2IpO1xuXHRcdFx0fVxuXG5cblx0XHR9XG5cdFx0Y29uc29sZS5kZWJ1ZyhgUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNyZWF0ZVdlYnJ0Yy0+d2VicnRjU3RhY2s6JHt3ZWJydGNTdGFja0lkfSBuZXcgaXNQdWJsaXNoZWQgY291bnQgPSR7d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLmlzUHVibGlzaGVkfSBuZXcgaXNTdWJzY3JpYmVkIGNvdW50ID0ke3dlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1N1YnNjcmliZWR9YCk7XG5cdFx0cmV0dXJuIGlkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENsb3NlIFdlYlJUQyBmZWF0dXJlcyA6IGRldGFjaCBtZWRpYSBzdHJlYW1zIGFuZCB1bnB1Ymxpc2ggc3RhY2tzLlxuXHQgKiBAcGFyYW0gaWQgLVxuXHQgKiBAcGFyYW0gcF9pc1VuUHVibGlzaFxuXHQgKiBAcGFyYW0gY2FsbGJhY2sgLVxuXHQgKi9cblx0ZnVuY3Rpb24gX2Nsb3NlV2VicnRjKGlkLHBfaXNVblB1Ymxpc2gsY2FsbGJhY2spIHtcblx0XHRjb25zb2xlLmRlYnVnKGBSZWFjaFNESzo6d2VicnRjbW5ncjo6Y2xvc2VXZWJydGMtPmlkPSR7aWR9YCk7XG5cdFx0aWYgKCF2aXJ0dWFsV2VicnRjU3RhY2tzW2lkXSkge1xuXHRcdFx0Y29uc29sZS53YXJuKGBSZWFjaFNESzo6d2VicnRjbW5ncjo6Y2xvc2VXZWJydGM6IHZpcnR1YWxzdGFjayAke2lkfSBub3QgZm91bmRgKTtcblx0XHRcdGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdH1cblxuXHRcdGNvbnN0IHdlYnJ0Y1N0YWNrSWQgPSB2aXJ0dWFsV2VicnRjU3RhY2tzW2lkXS53ZWJSdGNTdGFja0lkO1xuXHRcdGlmICh3ZWJydGNTdGFja0lkICYmIHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXSAgKSB7XG5cdFx0XHRpZiAocF9pc1VuUHVibGlzaCAmJiB3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNQdWJsaXNoZWQ+MCkge1xuXHRcdFx0XHR3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNQdWJsaXNoZWQtLTtcblx0XHRcdH0gZWxzZSBpZiAoIXBfaXNVblB1Ymxpc2ggJiYgd2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLmlzU3Vic2NyaWJlZD4wKSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1N1YnNjcmliZWQtLTtcblx0XHRcdH1cblx0XHRcdGlmICh3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNQdWJsaXNoZWQ8MSAmJiB3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNTdWJzY3JpYmVkPDEpIHtcblx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgUmVhY2hTREs6OndlYnJ0Y21uZ3I6OmNsb3NlV2VicnRjLT5kZXN0cm95ICByZWFsIHdlYnJ0Y1N0YWNrOiR7d2VicnRjU3RhY2tJZH1gKTtcblx0XHRcdFx0Ly8gZGVzdHJveSB0aGUgc3RhY2tcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdLnN0YWNrLmNsb3NlKGNhbGxiYWNrKTtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdID0gbnVsbDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoYFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpjbG9zZVdlYnJ0Yy0+ZGVjcmVtZW50ICByZWFsIHdlYnJ0Y1N0YWNrOiR7d2VicnRjU3RhY2tJZH0gbmV3IGlzUHVibGlzaGVkIGNvdW50ID0ke3dlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXS5pc1B1Ymxpc2hlZH0gbmV3IGlzU3Vic2NyaWJlZCBjb3VudCA9JHt3ZWJydGNTdGFja3Nbd2VicnRjU3RhY2tJZF0uaXNTdWJzY3JpYmVkfWApO1xuXHRcdFx0XHRpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRjYWxsYmFjaygpO1xuXHRcdFx0fVxuXHRcdFx0Y29uc29sZS53YXJuKCdSZWFjaFNESzo6d2VicnRjbW5ncjo6Y2xvc2VXZWJydGMgY2Fubm90IGZvdW5kIHJlYWwgc3RhY2snKTtcblx0XHR9XG5cblx0XHQvLyBpZiAodmlydHVhbFdlYnJ0Y1N0YWNrc1tpZF0ubG9jYWxWaWQpIHtcblx0XHQvLyBcdGxvY2Fsc3RyZWFtLmNsb3NlKCk7XG5cdFx0Ly8gXHRkZXRhY2hNZWRpYVN0cmVhbSh2aXJ0dWFsV2VicnRjU3RhY2tzW2lkXS5sb2NhbFZpZCk7XG5cdFx0Ly8gfVxuXHRcdGlmICh2aXJ0dWFsV2VicnRjU3RhY2tzW2lkXS5yZW1vdGVWaWQpIHsgZGV0YWNoTWVkaWFTdHJlYW0odmlydHVhbFdlYnJ0Y1N0YWNrc1tpZF0ucmVtb3RlVmlkKTt9XG5cblx0XHR2aXJ0dWFsV2VicnRjU3RhY2tzLnNwbGljZShpZCwxKTtcblxuXHRcdHJldHVybiB0cnVlO1xuXHR9XG5cblx0LyoqXG5cdCAqIENsZWFycyBhIHNwZWNpZmljYWwgV2ViUlRDIHN0YWNrIGJ5IHNldHRpbmcgaXQgdG8gbnVsbC5cblx0ICogQHBhcmFtIHdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIGNsZWFyXG5cdCAqL1xuXHRmdW5jdGlvbiBfY2xlYXJXZWJydGNTdGFja3Mod2VicnRjU3RhY2tJZCkge1xuXHRcdGNvbnNvbGUuZGVidWcoYFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpjbGVhcldlYnJ0Y1N0YWNrcyBpZD0ke3dlYnJ0Y1N0YWNrSWR9YCk7XG5cdFx0aWYgKHdlYnJ0Y1N0YWNrSWQgJiYgd2VicnRjU3RhY2tzICYmIHdlYnJ0Y1N0YWNrc1t3ZWJydGNTdGFja0lkXSkge1xuXHRcdFx0d2VicnRjU3RhY2tzW3dlYnJ0Y1N0YWNrSWRdID0gbnVsbDtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH1cblxuXHQvKipcblx0ICogQXVkaW8gbXV0ZSB0aGUgd2VicnRjIHBlZXJjb25uZWN0aW9uXG5cdCAqIEBwYXJhbSB2aXJ0dWFsV2VicnRjU3RhY2tJZCAtIFRoZSBXZWJSVEMgc3RhY2sgSUQgdG8gbXV0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX211dGVBdWRpb1dlYnJ0Y1N0YWNrKHZpcnR1YWxXZWJydGNTdGFja0lkKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjbW5ncjo6bXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9YCk7XG5cblx0XHRpZiAodmlydHVhbFdlYnJ0Y1N0YWNrcyAmJiB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXSAmJiB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXS53ZWJSdGNTdGFja0lkKSB7XG5cdFx0XHRjb25zdCB3ZWJSdGNTdGFja0lkID0gdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0ud2ViUnRjU3RhY2tJZDtcblx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Om11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfSB3ZWJSdGNTdGFja0lkPSR7d2ViUnRjU3RhY2tJZH1gKTtcblx0XHRcdGlmICh3ZWJydGNTdGFja3MgJiYgd2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdICYmIHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXS5zdGFjaykge1xuXHRcdFx0XHR3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0uc3RhY2subXV0ZUF1ZGlvKCk7XG5cdFx0XHR9ICBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Om11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB3ZWJydGNTdGFjaz0ke3dlYlJ0Y1N0YWNrSWR9IG5vdCBmb3VuZGApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYChSZWFjaFNESzo6d2VicnRjbW5ncjo6bXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9IG5vdCBmb3VuZGApO1xuXHRcdH1cblxuXG5cdH1cblxuXHQvKipcblx0ICogQXVkaW8gdW5tdXRlIHRoZSB3ZWJydGMgcGVlcmNvbm5lY3Rpb25cblx0ICogQHBhcmFtIHZpcnR1YWxXZWJydGNTdGFja0lkIC0gVGhlIFdlYlJUQyBzdGFjayBJRCB0byB1bm11dGVcblx0ICovXG5cdGZ1bmN0aW9uICBfdW5tdXRlQXVkaW9XZWJydGNTdGFjayAodmlydHVhbFdlYnJ0Y1N0YWNrSWQpIHtcblx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpfdW5tdXRlQXVkaW9XZWJydGNTdGFjaykgdmlydHVhbFdlYnJ0Y1N0YWNrSWQ9JHt2aXJ0dWFsV2VicnRjU3RhY2tJZH1gKTtcblxuXHRcdGlmICh2aXJ0dWFsV2VicnRjU3RhY2tzICYmIHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdICYmIHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdLndlYlJ0Y1N0YWNrSWQpIHtcblx0XHRcdGNvbnN0IHdlYlJ0Y1N0YWNrSWQgPSB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXS53ZWJSdGNTdGFja0lkO1xuXHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjbW5ncjo6X3VubXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9LHdlYlJ0Y1N0YWNrSWQ9JHt3ZWJSdGNTdGFja0lkfWApO1xuXHRcdFx0aWYgKHdlYnJ0Y1N0YWNrcyAmJiB3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0gJiYgd2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdLnN0YWNrKSB7XG5cdFx0XHRcdHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXS5zdGFjay51bm11dGVBdWRpbygpO1xuXHRcdFx0fSAgZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjpfdW5tdXRlQXVkaW9XZWJydGNTdGFjaykgd2VicnRjU3RhY2s9JHt3ZWJSdGNTdGFja0lkfSBub3QgZm91bmRgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Ol91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfSBub3QgZm91bmRgKTtcblx0XHR9XG5cblx0fVxuXG5cblx0LyoqXG5cdCAqIFZpZGVvIG11dGUgdGhlIHdlYnJ0YyBwZWVyY29ubmVjdGlvblxuXHQgKiBAcGFyYW0gdmlydHVhbFdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIG11dGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlVmlkZW9XZWJydGNTdGFjayh2aXJ0dWFsV2VicnRjU3RhY2tJZCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Om11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfWApO1xuXG5cdFx0aWYgKHZpcnR1YWxXZWJydGNTdGFja3MgJiYgdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0gJiYgdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0ud2ViUnRjU3RhY2tJZCkge1xuXHRcdFx0Y29uc3Qgd2ViUnRjU3RhY2tJZCA9IHZpcnR1YWxXZWJydGNTdGFja3NbdmlydHVhbFdlYnJ0Y1N0YWNrSWRdLndlYlJ0Y1N0YWNrSWQ7XG5cdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjptdXRlQXVkaW9XZWJydGNTdGFjaykgdmlydHVhbFdlYnJ0Y1N0YWNrSWQ9JHt2aXJ0dWFsV2VicnRjU3RhY2tJZH0gd2ViUnRjU3RhY2tJZD0ke3dlYlJ0Y1N0YWNrSWR9YCk7XG5cdFx0XHRpZiAod2VicnRjU3RhY2tzICYmIHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXSAmJiB3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0uc3RhY2spIHtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdLnN0YWNrLm11dGVWaWRlbygpO1xuXHRcdFx0fSAgZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUud2FybihgKFJlYWNoU0RLOjp3ZWJydGNtbmdyOjptdXRlQXVkaW9XZWJydGNTdGFjaykgd2VicnRjU3RhY2s9JHt3ZWJSdGNTdGFja0lkfSBub3QgZm91bmRgKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Om11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfSBub3QgZm91bmRgKTtcblx0XHR9XG5cblxuXHR9XG5cblx0LyoqXG5cdCAqIFZpZGVvIHVubXV0ZSB0aGUgd2VicnRjIHBlZXJjb25uZWN0aW9uXG5cdCAqIEBwYXJhbSB2aXJ0dWFsV2VicnRjU3RhY2tJZCAtIFRoZSBXZWJSVEMgc3RhY2sgSUQgdG8gdW5tdXRlXG5cdCAqL1xuXHRmdW5jdGlvbiAgX3VubXV0ZVZpZGVvV2VicnRjU3RhY2sgKHZpcnR1YWxXZWJydGNTdGFja0lkKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjbW5ncjo6X3VubXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9YCk7XG5cblx0XHRpZiAodmlydHVhbFdlYnJ0Y1N0YWNrcyAmJiB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXSAmJiB2aXJ0dWFsV2VicnRjU3RhY2tzW3ZpcnR1YWxXZWJydGNTdGFja0lkXS53ZWJSdGNTdGFja0lkKSB7XG5cdFx0XHRjb25zdCB3ZWJSdGNTdGFja0lkID0gdmlydHVhbFdlYnJ0Y1N0YWNrc1t2aXJ0dWFsV2VicnRjU3RhY2tJZF0ud2ViUnRjU3RhY2tJZDtcblx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Ol91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB2aXJ0dWFsV2VicnRjU3RhY2tJZD0ke3ZpcnR1YWxXZWJydGNTdGFja0lkfSwgd2ViUnRjU3RhY2tJZD0ke3dlYlJ0Y1N0YWNrSWR9YCk7XG5cdFx0XHRpZiAod2VicnRjU3RhY2tzICYmIHdlYnJ0Y1N0YWNrc1t3ZWJSdGNTdGFja0lkXSAmJiB3ZWJydGNTdGFja3Nbd2ViUnRjU3RhY2tJZF0uc3RhY2spIHtcblx0XHRcdFx0d2VicnRjU3RhY2tzW3dlYlJ0Y1N0YWNrSWRdLnN0YWNrLnVubXV0ZVZpZGVvKCk7XG5cdFx0XHR9ICBlbHNlIHtcblx0XHRcdFx0Y29uc29sZS53YXJuKGAoUmVhY2hTREs6OndlYnJ0Y21uZ3I6Ol91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrKSB3ZWJydGNTdGFjaz0ke3dlYlJ0Y1N0YWNrSWR9IG5vdCBmb3VuZGApO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oYChSZWFjaFNESzo6d2VicnRjbW5ncjo6X3VubXV0ZUF1ZGlvV2VicnRjU3RhY2spIHZpcnR1YWxXZWJydGNTdGFja0lkPSR7dmlydHVhbFdlYnJ0Y1N0YWNrSWR9IG5vdCBmb3VuZGApO1xuXHRcdH1cblxuXHR9XG5cdC8qKlxuXHQgKiBTZXR0aW5nIG15c2VsZiB3aXRoIHdlYnJ0YyBtYW5hZ2VyIG9iamVjdFxuXHQgKiBAcGFyYW0gd2VicnRjbW5nciAtIFRoZSBXZWJSVEMgbWFuYWdlciBvYmplY3Rcblx0ICovXG5cdGZ1bmN0aW9uIF9zZXRXZWJydGNNYW5nZXIod2VicnRjbW5ncil7XG5cdFx0bXdlYnJ0Y21uZ3JfcmVmZXJlbmNlPSB3ZWJydGNtbmdyO1xuXHR9XG5cblx0cmV0dXJuIHtcblxuXHRcdC8qKlxuXHRcdCAqIENyZWF0ZXMgYSBXZWJSVEMgb2JqZWN0XG5cdFx0ICogQHBhcmFtIHBfVmlkIC0gdGhlIHZpZGVvIGNvbnRhaW5lciBsaW5rZWQgdG8gdGhlIHBlZXJjb25uZWN0aW9uXG5cdFx0ICogQHBhcmFtIHBfcmVtb3RlQXBwSW5zdElkIC0gdGhlIHJlbW90ZSBhcHBsaWNhdGlvbiBpbnN0YW5jZSBpZGVudGlmaWVyXG5cdFx0ICogQHBhcmFtIHBfb25DbG9zZUNiIC0gQSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2VkXG5cdFx0ICogQHBhcmFtIHBfaXNQdWJsaXNoIC0gdHJ1ZSBpZiBpdCdzIGEgcGVlcmNvbm5lY3Rpb24gcmVsYXRlZCB0byBhIHB1Ymxpc2hTdHJlYW0sIGZhbHNlIGlmIGl0J3MgcmVsYXRhdGVkIHRvIGEgc3Vic2NyaWJlXG5cdFx0ICogQHBhcmFtIHBfYWN0aW9uVHlwZSAtIFRoZSBhY3Rpb24gdHlwZSAoYXVkaW8sIHZpZGVvLCBhdWRpby12aWRlbylcblx0XHQgKiBAcGFyYW0gcF9wZWVyY29JZCAtIFRoZSBQZWVyQ29ubmVjdGlvbiBJZCBpbiB0aGUgd2VicnRjIG5vZGVcblx0XHQgKi9cblx0XHRjcmVhdGVXZWJydGM6IChwX1ZpZCwgcF9yZW1vdGVBcHBJbnN0SWQsIHBfb25DbG9zZUNiLCBwX2lzUHVibGlzaCwgcF9hY3Rpb25UeXBlLCBwX3BlZXJjb0lkLHBfcGVlcmNvUmVmLCBwX211dGVkQXVkaW8sIHBfbXV0ZVZpZGVvLCBwX2dldFN0cmVhbUNiKSA9PiB7XG5cdFx0XHRyZXR1cm4gX2NyZWF0ZVdlYnJ0Yy5iaW5kKHRoaXMpKHBfVmlkLCBwX3JlbW90ZUFwcEluc3RJZCwgcF9vbkNsb3NlQ2IsIHBfaXNQdWJsaXNoLCBwX2FjdGlvblR5cGUsIHBfcGVlcmNvSWQsIHBfcGVlcmNvUmVmLHBfbXV0ZWRBdWRpbywgcF9tdXRlVmlkZW8sIHBfZ2V0U3RyZWFtQ2IpO1xuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKiBDbG9zZSBXZWJSVEMgZmVhdHVyZXMgOiBkZXRhY2ggbWVkaWEgc3RyZWFtcyBhbmQgdW5wdWJsaXNoIHN0YWNrcy5cblx0XHQgKiBAcGFyYW0gaWQgLVxuXHRcdCAqIEBwYXJhbSBwX2lzVW5QdWJsaXNoXG5cdFx0ICogQHBhcmFtIGNhbGxiYWNrIC1cblx0XHQgKi9cblx0XHRjbG9zZVdlYnJ0YzogX2Nsb3NlV2VicnRjLFxuXG5cdFx0LyoqXG5cdFx0ICogQ2xlYXJzIGEgc3BlY2lmaWNhbCBXZWJSVEMgc3RhY2sgYnkgc2V0dGluZyBpdCB0byBudWxsLlxuXHRcdCAqIEBwYXJhbSB3ZWJydGNTdGFja0lkIC0gVGhlIFdlYlJUQyBzdGFjayBJRCB0byBjbGVhclxuXHRcdCAqL1xuXHRcdGNsZWFyV2VicnRjU3RhY2tzOiBfY2xlYXJXZWJydGNTdGFja3MsXG5cdFx0LyoqXG5cdFx0ICogYXVkaW8gbXV0ZSB0aGUgd2VicnRjIHBlZXJjb25uZWN0aW9uXG5cdFx0ICogQHBhcmFtIHZpcnR1YWxXZWJydGNTdGFja0lkIC0gVGhlIFdlYlJUQyBzdGFjayBJRCB0byBtdXRlXG5cdFx0ICovXG5cdFx0bXV0ZUF1ZGlvV2VicnRjU3RhY2s6IF9tdXRlQXVkaW9XZWJydGNTdGFjayxcblx0XHQvKipcblx0XHQgKiAgYXVkaW8gdW5tdXRlIHRoZSB3ZWJydGMgcGVlcmNvbm5lY3Rpb25cblx0XHQgKiBAcGFyYW0gdmlydHVhbFdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIHVubXV0ZVxuXHRcdCAqL1xuXHRcdHVubXV0ZUF1ZGlvV2VicnRjU3RhY2s6IF91bm11dGVBdWRpb1dlYnJ0Y1N0YWNrLFxuXHRcdC8qKlxuXHRcdCAqIHZpZGVvIG11dGUgdGhlIHdlYnJ0YyBwZWVyY29ubmVjdGlvblxuXHRcdCAqIEBwYXJhbSB2aXJ0dWFsV2VicnRjU3RhY2tJZCAtIFRoZSBXZWJSVEMgc3RhY2sgSUQgdG8gbXV0ZVxuXHRcdCAqL1xuXHRcdG11dGVWaWRlb1dlYnJ0Y1N0YWNrOiBfbXV0ZVZpZGVvV2VicnRjU3RhY2ssXG5cdFx0LyoqXG5cdFx0ICogdmlkZW8gdW5tdXRlIHRoZSB3ZWJydGMgcGVlcmNvbm5lY3Rpb25cblx0XHQgKiBAcGFyYW0gdmlydHVhbFdlYnJ0Y1N0YWNrSWQgLSBUaGUgV2ViUlRDIHN0YWNrIElEIHRvIHVubXV0ZVxuXHRcdCAqL1xuXHRcdHVubXV0ZVZpZGVvV2VicnRjU3RhY2s6IF91bm11dGVWaWRlb1dlYnJ0Y1N0YWNrLFxuXG5cdFx0c2V0V2VicnRjTWFuZ2VyIDogX3NldFdlYnJ0Y01hbmdlclxuXG5cdH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCB3ZWJydGNtbmdyO1xuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vc3JjL3dlYnJ0Y21uZ3IuanNcbiAqKi8iLCIvKipcbiAqIEBmaWxlIHdlYnJ0Yy5qcyAtIEpTIGZpbGUgdXNlZCBmb3IgV2ViUlRDIGFzcGVjdHNcbiAqIEBhdXRob3IgV2ViY29tXG4gKi9cblxuLyplc2xpbnQgY29tcGxleGl0eToxLCBtYXgtc3RhdGVtZW50czogMSwgbWF4LWxlbjogMSwgbWF4LXBhcmFtczogMSwgcmVxdWlyZS1qc2RvYzogMSovXG5cbmltcG9ydCBhY3Rpb25zIGZyb20gJy4vYWN0aW9ucyc7XG5pbXBvcnQgbG9jYWxzdHJlYW0gZnJvbSAnLi9sb2NhbHN0cmVhbSc7XG5pbXBvcnQgdmFycyBmcm9tICcuL2FjdGlvbnMnO1xuXG4vKipcbiAqIElDRSBjb25uZWN0aW9uIHN0YXR1cyA6IGRpc2Nvbm5lY3RlZFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJQ0VfQ09OTkVDVElPTl9TVEFURV9ESVNDT05ORUNURUQgPSAnZGlzY29ubmVjdGVkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBjb25uZWN0ZWRcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ09OTkVDVEVEPSAnY29ubmVjdGVkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBjb21wbGV0ZWRcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ09NUExFVEVEPSAnY29tcGxldGVkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBjaGVja2luZ1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJQ0VfQ09OTkVDVElPTl9TVEFURV9DSEVDS0lORz0gJ2NoZWNraW5nJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBjbG9zZWRcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0xPU0VEPSAnY2xvc2VkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBmYWlsZWRcbiAqIEBjb25zdGFudFxuICogQHR5cGUge3N0cmluZ31cbiAqL1xuY29uc3QgSUNFX0NPTk5FQ1RJT05fU1RBVEVfRkFJTEVEPSAnZmFpbGVkJztcblxuLyoqXG4gKiBJQ0UgY29ubmVjdGlvbiBzdGF0dXMgOiBhbm90aGVyIHN0YXR1c1xuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7c3RyaW5nfVxuICovXG5jb25zdCBJQ0VfQ09OTkVDVElPTl9TVEFURV9PVEhFUj0gJ290aGVyJztcblxuXG4vKipcbiAqIFRoZSBkZWZhdWx0IElDRSBjb25maWd1cmF0aW9uIGZvciBUVVJOIGFuZCBTVFVOIHNlcnZlcnMgdG8gdXNlIGZvciBXZWJSVEMgY29tbXVuaWNhdGlvbnhcbiAqIE5CIDogdGhlc2UgY29uZmlndXJhdGlvbiB3aWxsIGJlIG92ZXJ3cml0ZW4gYnkgdGhlIGNvbmZpZ3VyYXRpb24gb24gdGhlIFdlYmNvbSBzZXJ2ZXIgaWYgcHJlc2VudFxuICogQGNvbnN0YW50XG4gKiBAdHlwZSB7anNvbn1cbiAqL1xuXG5jb25zdCBERUZBVUxUX0lDRV9DT05GSUcgPSB7XG5cdGljZVNlcnZlcnM6IFtcblx0XHR7XG5cdFx0XHR1cmw6ICd0dXJuczp0dXJuMS53ZWJjb20ub3JhbmdlLmNvbTo0NDMnLFxuXHRcdFx0dXNlcm5hbWU6ICdhZG1pbicsXG5cdFx0XHRjcmVkZW50aWFsOiAnd2ViY29tMTIzNCdcblx0XHR9LFxuXHRcdHtcblx0XHRcdHVybDogJ3R1cm46dHVybjIud2ViY29tLm9yYW5nZS5jb206NDQzJyxcblx0XHRcdHVzZXJuYW1lOiAnYWRtaW4nLFxuXHRcdFx0Y3JlZGVudGlhbDogJ3dlYmNvbTEyMzQnXG5cdFx0fSxcblx0XHR7XG5cdFx0XHR1cmw6ICd0dXJuczp0dXJuMy53ZWJjb20ub3JhbmdlLmNvbTo0NDMnLFxuXHRcdFx0dXNlcm5hbWU6ICdhZG1pbicsXG5cdFx0XHRjcmVkZW50aWFsOiAnd2ViY29tMTIzNCdcblx0XHR9XG5cdF1cbn07XG5cblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqIEBkZXNjcmlwdGlvbiBXZWJSVEMgY29ubmVjdGlvbiBvYmplY3QuIE1hbmFnZXMgYSBXZWJSVEMgY29ubmVjdGlvbiwgaS5lLiBvbmUgcGVlcmNvbm5lY3Rpb25cbiAqIEBwYXJhbSBwX3dlYnJ0Y21uZ3IgLSBSZWZlcmVuY2UgdG8gV2ViUlRDTWFuYWdlclxuICogQHBhcmFtIHBfaXNQdWJsaXNoIC0gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZXJlIGlzIGEgcGx1Ymxpc2ggYWN0aW9uXG4gKiBAcGFyYW0gcF9sb2NhbERhdGFSZWYgLSBUaGUgbG9jYWwgZGF0YSByZWZcbiAqIEBwYXJhbSBwX3JlbW90ZURhdGFSZWYgLSBUaGUgcmVtb3RlIGRhdGEgcmVmXG4gKiBAcGFyYW0gcF93ZWJydGNTdGFja0lkIC0gVGhlIHN0YWNrIElEIGluIHVzZVxuICogQHBhcmFtIHBfYWN0aW9uVHlwZSAtXG4gKiBAcGFyYW0gcF9tdXRlQXVkaW8gLSBvcHRpb25hbCAtIGlmIHRydWUgcGVlcmNvbm5lY3Rpb24gd2lsbCBiZSBjcmVhdGVkIHdpdGggYXVkaW8gbXV0ZWRcbiAqIEBwYXJhbSBwX211dGVWaWRlbyAtIG9wdGlvbmFsIC0gaWYgdHJ1ZSBwZWVyY29ubmVjdGlvbiB3aWxsIGJlIGNyZWF0ZWQgd2l0aCB2aWRlbyBtdXRlZFxuXG4gKi9cbmNvbnN0IHdlYnJ0YyA9IGZ1bmN0aW9uIChwX3dlYnJ0Y21uZ3IsIHBfaXNQdWJsaXNoLCBwX2xvY2FsRGF0YVJlZiwgcF9yZW1vdGVEYXRhUmVmLCBwX3dlYnJ0Y1N0YWNrSWQsIHBfYWN0aW9uVHlwZSwgcF9tdXRlQXVkaW8sIHBfbXV0ZVZpZGVvKSB7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBXZWJSVEMgbWFuYWdlciBvYmplY3QuIFVzZWZ1bCB0byBjbGVhciB3ZWJydGMgc3RhY2tcblx0ICovXG5cdGNvbnN0IHdlYnJ0Y21uZ3IgPSBwX3dlYnJ0Y21uZ3I7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIFdlYlJUQyBzdGFjayBpZGVudGlmaWVyLCBoZXJlIHRoZSBjdXJyZW50IHRpbWVzdGFtcFxuXHQgKi9cblx0Y29uc3Qgc3RhY2tJZCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIElmIHRoZXJlIGlzIGEgcHVibGlzaCBhY3Rpb24gb3Igbm90XG5cdCAqL1xuXHRjb25zdCBpc1B1Ymxpc2ggPSBwX2lzUHVibGlzaDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgcGVlciBjb25uZWN0aW9uXG5cdCAqL1xuXHRsZXQgcGMgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSBsb2NhbCBkYXRhIHJlZlxuXHQgKi9cblx0Y29uc3QgbG9jYWxEYXRhUmVmID0gcF9sb2NhbERhdGFSZWY7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHJlbXRvZSBkYXRhIHJlZlxuXHQgKi9cblx0Y29uc3QgcmVtb3RlRGF0YVJlZiA9IHBfcmVtb3RlRGF0YVJlZjtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlcmUgYSBsaXN0IG9mIElDRSBjYW5kaWRhdGVzIGlzIHByb3ZpZGVkXG5cdCAqL1xuXHRsZXQgaWNlQ2FuZGlkYXRlc0xpc3RDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQSBjYWxsYmFjayB0cmlnZ2VyZWQgd2hlbiBhIFNEUCBvZmZlciBoYXMgYmVlbiByZWNlaXZlZFxuXHQgKi9cblx0bGV0IHNkcE9mZmVyQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gYSBTRFAgYW5zd2VyIGhhcyBiZWVuIHJlY2VpdmVkXG5cdCAqL1xuXHRsZXQgc2RwQW5zd2VyQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgY2FsbGJhY2sgdHJpZ2dlcmVkIG9uIGEgcmVtb3RlIGRhdGFyZWYgZXZlbnRcblx0ICovXG5cdGxldCByZW1vdGVkYXRhcmVmQ2IgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgY2FsbGJhY2sgdHJpZ2dlcmVkIHdoZW4gdGhlIGNvbm5lY3Rpb24gaXMgY2xvc2luZ1xuXHQgKi9cblx0bGV0IG9uQ2xvc2VDYiA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIFdlYlJUQyBzdGFjayBJRFxuXHQgKi9cblx0Y29uc3Qgd2VicnRjU3RhY2tJZCA9IHBfd2VicnRjU3RhY2tJZDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgYWN0aW9uIHR5cGUgdG8gcHJvY2Vzc1xuXHQgKi9cblx0Y29uc3QgYWN0aW9uVHlwZSA9IHBfYWN0aW9uVHlwZTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgY29uZmlndXJhdGlvblxuXHQgKi9cblx0bGV0IGNvbmZpZyA9IG51bGw7XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBIHBlZXIgY29ubmVjdGlvbiBvYmplY3QsIGZvciBjcm9zcyBicm93c2VycyBjb21wYXRpYmlsaXRpZXNcblx0ICovXG5cdGxldCBteVBlZXJDb25uZWN0aW9uID0gbnVsbDtcblx0Ly92YXIgbXlDcmVhdGVPYmplY3RVUkwgPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIFJUQyBzZXNzaW9uIGRlc2NyaXB0aW9uLCBmb3IgY3Jvc3MgYnJvd3NlcnMgY29tcGF0aWJpbGl0aWVzXG5cdCAqL1xuXHRsZXQgbXlSVENTZXNzaW9uRGVzY3JpcHRpb24gPSBudWxsO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEFuIFJUQyBJQ0UgY2FuZGlkYXRlLCBmb3IgY3Jvc3MgYnJvd3NlcnMgY29tcGF0aWJpbGl0aWVzXG5cdCAqL1xuXHRsZXQgbXlSVENJY2VDYW5kaWRhdGUgPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyBsb2NhbCBzdHJlYW1zXG5cdCAqL1xuXHRjb25zdCBsb2NhbFN0cmVhbXMgPSBbXTtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbiBhcnJheSBjb250YWluaW5nIHJlbW90ZSBzdHJlYW1zXG5cdCAqL1xuXHRjb25zdCByZW1vdGVTdHJlYW1zID0gW107XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gQW4gYXJyYXkgY29udGFpbmluZyByZW1vdGUgc3RyZWFtcyBDQlxuXHQgKi9cblx0bGV0IHJlbW90ZVN0cmVhbXNDYiA9IFtdO1xuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIFRoZSByZWNlaXZlZCBzdHJlYW1cblx0ICovXG5cdGxldCByZWNlaXZlZFN0cmVhbSA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIHNlbnQgc3RyZWFtXG5cdCAqL1xuXHRsZXQgc2VudFN0cmVhbSA9IG51bGw7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZSBjb25uZWN0aW9uIGlzIGNsb3NlZFxuXHQgKi9cblx0bGV0IGlzQ2xvc2VkID0gZmFsc2U7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gRmxhZyBpbmRpY2F0aW5nIGlmIHRoZSBjbG9zZSBwcm9jZXNzIGlzIG9uIGdvaW5nXG5cdCAqL1xuXHRsZXQgY2xvc2VJblByb2dyZXNzID0gZmFsc2U7XG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gVGhlIElDRSBjb25uZWN0aW9uIHN0YXRlXG5cdCAqL1xuXHRsZXQgaWNlQ29ubmVjdGlvblN0YXRlID0gbnVsbDtcblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBBbm90aGVyIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgY29ubmVjdGlvbiBzaG91bGQgYmUgY2xvc2VkXG5cdCAqL1xuXHRsZXQgb25DbG9zZUNiMiA9IG51bGw7XG5cblx0bGV0IGlzQXVkaW9NdXRlID0gZmFsc2U7XG5cblx0bGV0IGlzVmlkZW9NdXRlID0gZmFsc2U7XG5cblxuXHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjp3ZWJydGM6OilzdGFja0lkPSR7c3RhY2tJZH0gaXNQdWJsaXNoPSR7aXNQdWJsaXNofSxsb2NhbERhdGFSZWY9JHtsb2NhbERhdGFSZWZ9LHJlbW90ZURhdGFSZWY9JHtyZW1vdGVEYXRhUmVmfSknKTtcblxuXHQvKipcblx0ICogQGRlc2NyaXB0aW9uIEEgRGF0YWdyYW0gVHJhbnNwb3J0IExheWVyIFNlY3VyaXR5IChEVExTKSBrZXkgYWdyZWVtZW50XG5cdCAqL1xuXHRjb25zdCBEdGxzU3J0cEtleUFncmVlbWVudCA9IHtcblx0XHREdGxzU3J0cEtleUFncmVlbWVudDogdHJ1ZVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBAZGVzY3JpcHRpb24gLSBTb21lIG9wdGlvbnNcblx0ICovXG5cdGNvbnN0IG9wdGlvbmFsID0ge1xuXHRcdG9wdGlvbmFsOiBbRHRsc1NydHBLZXlBZ3JlZW1lbnRdXG5cdH07XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgcHVibGlzaGVyIG1lZGlhIGNvbnN0cmFpbnRzIGFzIGEgSlNPTiBhcnJheVxuXHQgKi9cblx0Y29uc3QgcHVibGlzaGVyTWVkaWFDb25zdHJhaW50cyA9IHtcblx0XHQnbWFuZGF0b3J5Jzoge1xuXHRcdFx0J09mZmVyVG9SZWNlaXZlQXVkaW8nOiBmYWxzZSxcblx0XHRcdCdPZmZlclRvUmVjZWl2ZVZpZGVvJzogZmFsc2Vcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIEBkZXNjcmlwdGlvbiBUaGUgc3Vic2NyaWJlciBtZWRpYSBjb25zdHJhaW50cyBhcyBhIEpTT04gYXJyYXlcblx0ICovXG5cdGNvbnN0IHN1YnNjcmliZXJNZWRpYUNvbnN0cmFpbnRzID0ge1xuXHRcdCdtYW5kYXRvcnknOiB7XG5cdFx0XHQnT2ZmZXJUb1JlY2VpdmVBdWRpbyc6IHRydWUsXG5cdFx0XHQnT2ZmZXJUb1JlY2VpdmVWaWRlbyc6IHRydWVcblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIENhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhbiBlcnJvciBvY2N1cnNcblx0ICogQHBhcmFtIGUgLSBUaGUgZXJyb3Jcblx0ICovXG5cdGZ1bmN0aW9uIG9uRXJyb3IoZSkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6KXN0YWNrSWQ9JHtzdGFja0lkfWVycm9yPSR7ZX1gKTtcblx0XHRjb25zb2xlLmRpcihlKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBHZXRzIHRoZSBJQ0Ugc2VydmVycyBjb25maWd1cmF0aW9uXG5cdCAqIEBwYXJhbSBjYWxsYmFja09rIC0gVGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiB0aGUgY29uZmlnIHJldHJpZXZlbWVudCBpcyBkb25lXG5cdCAqIEBwYXJhbSBjYWxsYmFja0tvIC0gVGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgd2hlbiBhbiBlcnJvciBvY2N1cnNcblx0ICovXG5cdGZ1bmN0aW9uIGdldEljZVNlcnZlcnNDb25maWdGcm9tU2VydmVyKGNhbGxiYWNrT2ssIGNhbGxiYWNrS28pIHtcblx0XHRjb25zb2xlLmxvZygnUmVhY2hTREs6OndlYnJ0Yzo6Z2V0SWNlU2VydmVyc0NvbmZpZ0Zyb21TZXJ2ZXInKTtcblx0XHRpZiAobG9jYWxEYXRhUmVmKSB7XG5cdFx0XHRsb2NhbERhdGFSZWYucm9vdCgpLmNoaWxkKCdjb25maWcnKS5vbmNlKCd2YWx1ZScsIChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRjb25zdCBfY29uZmlnID0gc25hcHNob3QgPyBzbmFwc2hvdC52YWwoKSA6IG51bGw7XG5cdFx0XHRcdGlmIChfY29uZmlnKSB7XG5cdFx0XHRcdFx0aWYgKHR5cGVvZiBjYWxsYmFja09rID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrT2soX2NvbmZpZyk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFja0tvID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRjYWxsYmFja0tvKCk7XG5cdFx0XHRcdH1cblx0XHRcdH0sIChlcnJvcikgPT4ge1xuXHRcdFx0XHRpZiAodHlwZW9mIGNhbGxiYWNrS28gPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGNhbGxiYWNrS28oZXJyb3IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBjYWxsYmFja0tvID09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNhbGxiYWNrS28oKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogU3RhcnRzIHRoZSBsaXN0aW5nIHRvIGEgcmVtb3RlIElDRSBjYW5kaWRhdGUgYnkgZW5hYmxpbmcgdGhlIGRlZGljYXRlZCBjYWxsYmFja1xuXHQgKiBmb3IgdGhlIFwiY2hpbGRfYWRkZWRcIiBldmVudCBvbiB0aGUgXCJpY2VDYW5kaWRhdGVzTGlzdFwiIG5vZGUgaW4gdGhlIGRhdGFiYXNlLlxuXHQgKi9cblx0ZnVuY3Rpb24gc3RhcnRMaXN0ZW5pbmdUb1JlbW90ZUljZUNhbmRpZGF0ZSgpIHtcblx0XHRyZW1vdGVEYXRhUmVmLmNoaWxkKCdpY2VDYW5kaWRhdGVzTGlzdCcpLm9uKCdjaGlsZF9hZGRlZCcsIGljZUNhbmRpZGF0ZXNMaXN0Q2IpO1xuXHR9XG5cblx0LyoqXG5cdCAqIFN0b3BzIHRoZSBsaXN0ZW5pbmcgdG8gcmVtb3RlIElDRSBjYW5kaXNkYXRlIGJ5IGRpc2FibGluZyB0aGUgZGVkaWNhdGVkIGNhbGxiYWNrXG5cdCAqIGZvciB0aGUgXCJjaGlsZF9hZGRlZFwiIGV2ZW50IG9uIHRoZSBcImljZUNhbmRpZGF0ZXNMaXN0XCIgbm9kZSBpbiB0aGUgZGF0YWJhc2UuXG5cdCAqL1xuXHRmdW5jdGlvbiBzdG9wTGlzdGVuaW5nVG9SZW1vdGVJY2VDYW5kaWRhdGUoKSB7XG5cdFx0cmVtb3RlRGF0YVJlZi5jaGlsZCgnaWNlQ2FuZGlkYXRlc0xpc3QnKS5vZmYoJ2NoaWxkX2FkZGVkJywgaWNlQ2FuZGlkYXRlc0xpc3RDYik7XG5cdH1cblxuXHQvKipcblx0ICogRW5hYmxlL0Rpc2FibGUgdHJhY2tzXG5cdCAqIEBwYXJhbSBlbmFibGVkIHRydWUgdG8gZW5hYmxlIHRyYWNrc1xuXHQgKiBAcGFyYW0gdHJhY2tzIHRoZSB0cmFja3Ncblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlVHJhY2tzKC8qQm9vbGVhbiovZW5hYmxlZCwgLypBcnJheSovdHJhY2tzKSB7XG5cdFx0aWYodHJhY2tzKSB7XG5cdFx0XHR0cmFja3MuZm9yRWFjaCgodHJhY2spID0+IHtcblx0XHRcdFx0aWYodHJhY2spIHtcblx0XHRcdFx0XHR0cmFjay5lbmFibGVkID0gZW5hYmxlZDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIE11dGUvVW5NdXRlIGF1ZGlvIHRyYWNrc1xuXHQgKiBAcGFyYW0gbXV0ZSB0cnVlIHRvIG11dGUgdHJhY2tzXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfbXV0ZUF1ZGlvVHJhY2tzKG11dGUpIHtcblx0XHRpc0F1ZGlvTXV0ZSA9IG11dGU7XG5cdFx0Y29uc3Qgc3RyZWFtID0gaXNQdWJsaXNoICYmIHNlbnRTdHJlYW0gPyBzZW50U3RyZWFtIDogKCFpc1B1Ymxpc2ggJiYgcmVjZWl2ZWRTdHJlYW0gPyByZWNlaXZlZFN0cmVhbSA6IG51bGwpO1xuXHRcdGlmKHN0cmVhbSl7XG5cdFx0XHRfbXV0ZVRyYWNrcyghaXNBdWRpb011dGUsIHN0cmVhbS5nZXRBdWRpb1RyYWNrcygpKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTXV0ZSBhdWRpbyB0cmFja3Ncblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlQXVkaW8oKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpfbXV0ZUF1ZGlvKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdF9tdXRlQXVkaW9UcmFja3ModHJ1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogVW5tdXRlIGF1ZGlvIHRyYWNrc1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3VubXV0ZUF1ZGlvKCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6X3VubXV0ZUF1ZGlvKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdF9tdXRlQXVkaW9UcmFja3MoZmFsc2UpO1xuXHR9XG5cblx0LyoqXG5cdCAqIE11dGUvVW5NdXRlIHZpZGVvIHRyYWNrc1xuXHQgKiBAcGFyYW0gbXV0ZSB0cnVlIHRvIG11dGUgdHJhY2tzXG5cdCAqIEBwcml2YXRlXG5cdCAqL1xuXHRmdW5jdGlvbiBfbXV0ZVZpZGVvVHJhY2tzKG11dGUpIHtcblx0XHRpc1ZpZGVvTXV0ZSA9IG11dGU7XG5cdFx0Y29uc3Qgc3RyZWFtID0gaXNQdWJsaXNoICYmIHNlbnRTdHJlYW0gPyBzZW50U3RyZWFtIDogKCFpc1B1Ymxpc2ggJiYgcmVjZWl2ZWRTdHJlYW0gPyByZWNlaXZlZFN0cmVhbSA6IG51bGwpO1xuXHRcdGlmKHN0cmVhbSl7XG5cdFx0XHRfbXV0ZVRyYWNrcyghaXNWaWRlb011dGUsIHN0cmVhbS5nZXRWaWRlb1RyYWNrcygpKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogTXV0ZSB2aWRlbyB0cmFja3Ncblx0ICogQHByaXZhdGVcblx0ICovXG5cdGZ1bmN0aW9uIF9tdXRlVmlkZW8oKSB7XG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpfbXV0ZVZpZGVvKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdF9tdXRlVmlkZW9UcmFja3ModHJ1ZSk7XG5cdH1cblxuXHQvKipcblx0ICogVW5tdXRlIHZpZGVvIHRyYWNrc1xuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gX3VubXV0ZVZpZGVvKCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6X3VubXV0ZVZpZGVvKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdF9tdXRlVmlkZW9UcmFja3MoZmFsc2UpO1xuXHR9XG5cdC8qKlxuXHQgKiBQcmVwYXJlcyB0aGUgU0RQIGNhbGxiYWNrcy5cblx0ICogUmVtb3RlIGRlc2NyaXB0aW9uIHdpbGwgYnkgZGVmaW5lZCBmb3IgdGhlIHBlZXIgY29ubmVjdGlvbiBhbmQgY2FsbGJhY2tzIGFyZSBkZWZpbmVkIGZvciBTRFAgYW5zd3NlciBhbmQgcmVzcG9uc2UgbWFuYWdlbWVudC5cblx0ICogSWYgdGhlcmUgaXMgbm8gcHVibGlzaGluZywgbG9jYWwgZGVzY3JpcHRpb24gd2lsbCBiZSBkZWZpbmVkLlxuXHQgKi9cblx0ZnVuY3Rpb24gX2luaXRTZHBDYWxsYmFja3MoaXNQdWJsaXNoKSB7XG5cdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0U2RwQ2FsbGJhY2tzKXN0YWNrSWQ9JHtzdGFja0lkfWApO1xuXHRcdGlmIChzZHBPZmZlckNiKSB7XG5cdFx0XHRyZW1vdGVEYXRhUmVmLm9mZignY2hpbGRfYWRkZWQnLCBzZHBPZmZlckNiKTtcblx0XHRcdHNkcE9mZmVyQ2I9dW5kZWZpbmVkO1xuXHRcdH1cblx0XHRpZiAoc2RwQW5zd2VyQ2IpIHtcblx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHNkcEFuc3dlckNiKTtcblx0XHRcdHNkcEFuc3dlckNiPXVuZGVmaW5lZDtcblx0XHR9XG5cdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0U2RwQ2FsbGJhY2tzKWlzUHVibGlzaD0ke2lzUHVibGlzaH1gKTtcblx0XHRpZiAoaXNQdWJsaXNoKSB7XG5cdFx0XHRzZHBBbnN3ZXJDYiA9IChzbmFwc2hvdCkgPT4ge1xuXHRcdFx0XHRpZiAoIWlzQ2xvc2VkICYmIHNuYXBzaG90Lm5hbWUoKSA9PT0gJ3NkcEFuc3dlcicpIHtcblx0XHRcdFx0XHRjb25zdCBkYXRhID0gc25hcHNob3QudmFsKCk7XG5cdFx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6OnNkcEFuc3dlckNiKXN0YWNrSWQ9JHtzdGFja0lkfS1yZWNlaXZlZCBzZHBBbnN3ZXI6ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9YCk7XG5cdFx0XHRcdFx0cGMuc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IG15UlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGRhdGEpLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6c2RwQW5zd2VyQ2Ipc3RhY2tJZD0ke3N0YWNrSWR9LXJlbW90ZSBkZXNjcmlwdGlvbiBzZXRgKTtcblx0XHRcdFx0XHRcdC8vIHJlbW92ZSBzZHBBbnN3ZXIgZnJvbSB3ZWJjb21cblx0XHRcdFx0XHRcdC8vc25hcHNob3QucmVmKCkucmVtb3ZlKCk7XG5cdFx0XHRcdFx0XHRzdGFydExpc3RlbmluZ1RvUmVtb3RlSWNlQ2FuZGlkYXRlKCk7XG5cdFx0XHRcdFx0fSwgb25FcnJvcik7XG5cdFx0XHRcdFx0cmVtb3RlRGF0YVJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgc2RwQW5zd2VyQ2IpO1xuXHRcdFx0XHRcdHNkcEFuc3dlckNiPXVuZGVmaW5lZDtcblx0XHRcdFx0XHRzbmFwc2hvdC5yZWYoKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRfaW5pdFNkcENhbGxiYWNrcyhmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRyZW1vdGVEYXRhUmVmLm9uKCdjaGlsZF9hZGRlZCcsIHNkcEFuc3dlckNiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c2RwT2ZmZXJDYiA9IGZ1bmN0aW9uIChzbmFwc2hvdCkge1xuXHRcdFx0XHRpZiAoIWlzQ2xvc2VkICYmIHNuYXBzaG90Lm5hbWUoKSA9PT0gJ3NkcE9mZmVyJykge1xuXHRcdFx0XHRcdGNvbnN0IGRhdGEgPSBzbmFwc2hvdC52YWwoKTtcblx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6c2RwT2ZmZXJDYilzdGFja0lkPSR7c3RhY2tJZH0tcmVjZWl2ZWQgc2RwT2ZmZXI6ICR7SlNPTi5zdHJpbmdpZnkoZGF0YSl9YCk7XG5cdFx0XHRcdFx0cGMuc2V0UmVtb3RlRGVzY3JpcHRpb24obmV3IG15UlRDU2Vzc2lvbkRlc2NyaXB0aW9uKGRhdGEpLCAoKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6c2V0UmVtb3RlRGVzY3JpcHRpb24pYCk7XG5cdFx0XHRcdFx0XHRwYy5jcmVhdGVBbnN3ZXIoKGRlc2NyaXB0aW9uKSA9PiB7XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6c2RwT2ZmZXJDYilzdGFja0lkPSR7c3RhY2tJZH0tc2VuZGluZyBhbnN3ZXJgKTtcblx0XHRcdFx0XHRcdFx0cGMuc2V0TG9jYWxEZXNjcmlwdGlvbihkZXNjcmlwdGlvbiwgKCkgPT4ge1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpzZHBPZmZlckNiKXN0YWNrSWQ9JHtzdGFja0lkfS1zZXQgc2RwQW5zd2VyIGluIGJhc2UgOiAke0pTT04uc3RyaW5naWZ5KGRlc2NyaXB0aW9uKX1gKTtcblx0XHRcdFx0XHRcdFx0XHRsb2NhbERhdGFSZWYuY2hpbGQoJ3NkcEFuc3dlcicpLnNldChKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRlc2NyaXB0aW9uKSkpOyAvLyBkZWNvZGluZy9lbmNvZGluZyBiZWNhdXNlIG9mIEZpcmVmb3ggYnVnXG5cdFx0XHRcdFx0XHRcdFx0Ly8gcmVtb3ZlIHNkcE9mZmVyIGZyb20gd2ViY29tXG5cdFx0XHRcdFx0XHRcdFx0Ly9zbmFwc2hvdC5yZWYoKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRcdFx0XHRzdGFydExpc3RlbmluZ1RvUmVtb3RlSWNlQ2FuZGlkYXRlKCk7XG5cdFx0XHRcdFx0XHRcdH0sIG9uRXJyb3IpO1xuXHRcdFx0XHRcdFx0XHQvL1VzZWQgdG8gc29sdmUgYSBwcm9ibGVtIG9jY3VycmVkIHdoZW4gcmUtbmVnb3RpYXRpbmcgU0RQIG9mZmVyIGJldHdlZW4gY2hyb21lICYgRmlyZWZveCBhcyBhIHJlc3VsdCBvZiBzd2l0Y2ggY2FtZXJhIGJldHdlZW4gYm90aCBicm93c2Vycy5cblx0XHRcdFx0XHRcdFx0Ly9zZXRUaW1lb3V0IGlzIHVzZWQgdG8gZW5zdXJlIHRoYXQgdGhlIFNEUCBvZmZlciBhdCBDaHJvbWUgc2lkZSBoYXMgYXJyaXZlZCB3aGVuIHN3aXRjaGluZyBjYW1lcmEgZnJvbSBGaXJlZm94IHNpZGUgd2l0aG91dCBpdCB0aGUgcmUtbmVnb3RpYXRpb24gcHJvY2VzcyB3aWxsIG5vdCBiZSBjb21wbGV0ZWQgXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0Ly9zYW1lIGxvZ2ljIGFzIHBjLm9uYWRkc3RyZWFtIGFzIGl0IHdhcyBub3QgZmlyZWQgdXBvbiBTRFAgb2ZmZXIgY3JlYXRpb24uIFx0XHRcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdC8vMTEwMCBpbnRlcnZhbCBpcyB0dW5lYWJsZVxuXHRcdFx0XHRcdFx0XHRzZXRUaW1lb3V0KCgpID0+IHtcblx0XHRcdFx0XHRcdFx0XHRyZWNlaXZlZFN0cmVhbSA9IHBjLmdldFJlbW90ZVN0cmVhbXMoKVswXTtcblx0XHRcdFx0XHRcdFx0XHRpZiAoaXNBdWRpb011dGUpIHtcblx0XHRcdFx0XHRcdFx0XHRcdF9tdXRlQXVkaW8oKTtcblx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGlzVmlkZW9NdXRlKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRfbXV0ZVZpZGVvKCk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcdGlmICgocGMuaWNlQ29ubmVjdGlvblN0YXRlPT09SUNFX0NPTk5FQ1RJT05fU1RBVEVfQ09OTkVDVEVEIHx8IHBjLmljZUNvbm5lY3Rpb25TdGF0ZT09PUlDRV9DT05ORUNUSU9OX1NUQVRFX0NPTVBMRVRFRCB8fCBwYy5pY2VDb25uZWN0aW9uU3RhdGU9PT1JQ0VfQ09OTkVDVElPTl9TVEFURV9PVEhFUikgJiYgcmVjZWl2ZWRTdHJlYW0gKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRmb3IgKGxldCBpPTA7aTxyZW1vdGVTdHJlYW1zLmxlbmd0aDtpKyspIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgKHJlbW90ZVN0cmVhbXNbaV0pIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQvL2NvbnNvbGUuZGVidWcoYCh3ZWJjb21TREs6OndlYnJ0Yzo6b25hZGRzdHJlYW0pcGMub25hZGRzdHJlYW0gc3RhY2tJZD0ke3N0YWNrSWR9LXJlbmRlcmluZyByZW1vdGUgdmlkIHRvICR7cmVtb3RlU3RyZWFtc1tpXS5pZH1gKTtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbSggcmVtb3RlU3RyZWFtc1tpXSxyZWNlaXZlZFN0cmVhbSk7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0XHRcdGZvciAobGV0IGo9MDtqPHJlbW90ZVN0cmVhbXNDYi5sZW5ndGg7aisrKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIChyZW1vdGVTdHJlYW1zQ2Jbal0pIHtcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZW1vdGVTdHJlYW1zQ2Jbal0ocmVjZWl2ZWRTdHJlYW0pO1xuXHRcdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdFx0XHRyZW1vdGVTdHJlYW1zQ2I9W107XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LCAxMTAwKTtcblx0XHRcdFx0XHRcdH0sIG9uRXJyb3IsIHN1YnNjcmliZXJNZWRpYUNvbnN0cmFpbnRzKTtcblx0XHRcdFx0XHR9LCBvbkVycm9yKTtcblx0XHRcdFx0XHRyZW1vdGVEYXRhUmVmLm9mZignY2hpbGRfYWRkZWQnLCBzZHBPZmZlckNiKTtcblx0XHRcdFx0XHRzZHBPZmZlckNiPXVuZGVmaW5lZDtcblx0XHRcdFx0XHRzbmFwc2hvdC5yZWYoKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRfaW5pdFNkcENhbGxiYWNrcyhmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cdFx0XHRyZW1vdGVEYXRhUmVmLm9uKCdjaGlsZF9hZGRlZCcsIHNkcE9mZmVyQ2IpO1xuXHRcdH1cblx0fVxuXHQvKipcblx0ICogU2VuZHMgYW4gU0RQIG9mZmVyIHRocm91Z2ggdGhlIHBlZXIgY29ubmVjdGlvbi5cblx0ICogQW4gU0RQIG9mZmVyIGlzIGNyZWF0ZWQsIHdpdGggYSBsb2NhbCBkZXNjcmlwdGlvbiwgYW5kIGlzIHNlbnQuXG5cdCAqIFRoZSBkZXNjcmlwdGlvbiBpcyBib3RoIGRlY29kZWQgYW5kIGVuY29kZWQgYmVjYXVzZSBvZiBGaXJlZm94IGJ1Z3MuXG5cdCAqL1xuXHRmdW5jdGlvbiBzZW5kT2ZmZXIoKSB7XG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0Ly8gcHVibGllIGwnb2ZmcmUgaW5pdGlhbGVcblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0XHRjb25zb2xlLmxvZyhgKHdlYnJ0Yzo6c2VuZE9mZmVyKXN0YWNraWQ9JHtzdGFja0lkfS1jcmVhdGluZyBzZHBPZmZlcmApO1xuXHRcdHBjLmNyZWF0ZU9mZmVyKChkZXNjcmlwdGlvbikgPT4ge1xuXHRcdFx0cGMuc2V0TG9jYWxEZXNjcmlwdGlvbihkZXNjcmlwdGlvbiwgKCkgPT4ge1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6Y3JlYXRlT2ZmZXIpc3RhY2tJZD0ke3N0YWNrSWR9LXNldCBzZHBPZmZlciBpbiBiYXNlIDogJHtKU09OLnN0cmluZ2lmeShkZXNjcmlwdGlvbil9YCk7XG5cdFx0XHRcdGxvY2FsRGF0YVJlZi5jaGlsZCgnc2RwT2ZmZXInKS5zZXQoSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkZXNjcmlwdGlvbikpKTsgLy8gZGVjb2RpbmcvZW5jb2RpbmcgYmVjYXVzZSBvZiBGaXJlZm94IGJ1Z1xuXHRcdFx0fSwgb25FcnJvcik7XG5cdFx0fSwgb25FcnJvciwgcHVibGlzaGVyTWVkaWFDb25zdHJhaW50cyk7XG5cdH1cblx0LyoqXG5cdCAqIEluaXRpYWxpemVzIHRoZSBsb2NhbCBzdHJlYW1cblx0ICogQHBhcmFtIGNhbGxiYWNrIC0gQSBjYWxsYmFjayB0byB0cmlnZ2VyIHdoZW4gdGhlIGluaXRpYWxpc2F0aW9uIGlzIGRvbmVcblx0ICovXG5cdGZ1bmN0aW9uIF9pbml0bG9jYWxTdHJlYW0oY2FsbGJhY2spIHtcblx0XHQvLyBnZXQgbG9jYWwgdmlkZW8gc3RyZWFtIGFuZCByZW5kZXJzIHRvIGxvY2FsVmlkXG5cdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjpfaW5pdGxvY2FsU3RyZWFtKXN0YWNrSWQ9JHtzdGFja0lkfSBnZXQgbG9jYWwgdmlkZW8gc3RyZWFtIGFuZCByZW5kZXJzIHRvIGxvY2FsIHZpZGVvYCk7XG5cdFx0aWYgKGFjdGlvblR5cGUpIHtcblx0XHRcdGxldCBpbml0bG9jYWxTdHJlYW07XG5cdFx0XHRpZiAoYWN0aW9uVHlwZSA9PT0gdmFycy5BQ1RJT05fVFlQRV9WSURFTykge1xuXHRcdFx0XHRpbml0bG9jYWxTdHJlYW0gPSAoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6d2VicnRjOjpfaW5pdGxvY2FsU3RyZWFtKWluaXRsb2NhbFN0cmVhbV92aWRlbycpO1xuXHRcdFx0XHRcdC8vIGlmIChsb2NhbHN0cmVhbS5nZXRWaWRlb1N0cmVhbSgpICYmIGxvY2Fsc3RyZWFtLmdldFZpZGVvU3RyZWFtKCkuY2xvbmUgJiYgdHlwZW9mIGxvY2Fsc3RyZWFtLmdldFZpZGVvU3RyZWFtKCkuY2xvbmUgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdC8vIFx0c2VudFN0cmVhbSA9IGxvY2Fsc3RyZWFtLmdldFZpZGVvU3RyZWFtKCkuY2xvbmUoKTtcblx0XHRcdFx0XHQvLyB9IGVsc2Uge1xuXHRcdFx0XHRcdHNlbnRTdHJlYW0gPSBsb2NhbHN0cmVhbS5nZXRWaWRlb1N0cmVhbSgpO1xuXHRcdFx0XHRcdC8vIH1cblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5hZGRTdHJlYW1WaWRlb0xpc3RlbmVyKChzdHJlYW0pID0+IHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OndlYnJ0Yzo6YWRkU3RyZWFtVmlkZW9MaXN0ZW5lciknKTtcblx0XHRcdFx0XHRcdGlmIChwYykge1x0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0aWYod2VicnRjRGV0ZWN0ZWRCcm93c2VyID09PSdmaXJlZm94Jyl7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2cod2VicnRjRGV0ZWN0ZWRCcm93c2VyKTtcblx0XHRcdFx0XHRcdFx0XHRwYy5nZXRTZW5kZXJzKCkuZm9yRWFjaChzZW5kZXIgPT5cblx0XHRcdFx0XHRcdFx0XHRzZW50U3RyZWFtLmdldFRyYWNrcygpLmluY2x1ZGVzKHNlbmRlci50cmFjaykgJiYgXG5cdFx0XHRcdFx0XHRcdFx0cGMucmVtb3ZlVHJhY2soc2VuZGVyKSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0ZWxzZXtcblx0XHRcdFx0XHRcdFx0XHRwYy5yZW1vdmVTdHJlYW0oc2VudFN0cmVhbSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0c2VudFN0cmVhbT1zdHJlYW07XG5cdFx0XHRcdFx0XHRcdGlmIChpc0F1ZGlvTXV0ZSkge1xuXHRcdFx0XHRcdFx0XHRcdF9tdXRlQXVkaW8oKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRpZiAoaXNWaWRlb011dGUpIHtcblx0XHRcdFx0XHRcdFx0XHRfbXV0ZVZpZGVvKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coc3RyZWFtKTtcblx0XHRcdFx0XHRcdFx0cGMuYWRkU3RyZWFtKHN0cmVhbSk7XG5cblx0XHRcdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0cmVhbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGM6OmFkZFN0cmVhbVZpZGVvTGlzdGVuZXIpc3RhY2tJZD0ke3N0YWNrSWR9IHJlbmRlcmluZyBsb2NhbCBBdWRpb1ZpZGVvIHRvICR7bG9jYWxTdHJlYW1zW2ldLmlkfWApO1xuXHRcdFx0XHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKGxvY2FsU3RyZWFtc1tpXSwgc3RyZWFtKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0X2luaXRTZHBDYWxsYmFja3ModHJ1ZSk7XG5cdFx0XHRcdFx0XHRcdHNlbmRPZmZlcigpO1x0XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKGlzQXVkaW9NdXRlKSB7XG5cdFx0XHRcdFx0XHRfbXV0ZUF1ZGlvKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChpc1ZpZGVvTXV0ZSkge1xuXHRcdFx0XHRcdFx0X211dGVWaWRlbygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwYy5hZGRTdHJlYW0oc2VudFN0cmVhbSk7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0cmVhbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2luaXRsb2NhbFN0cmVhbSlzdGFja0lkPSR7c3RhY2tJZH0gcmVuZGVyaW5nIGxvY2FsIHZpZGVvIHRvICR7bG9jYWxTdHJlYW1zW2ldLmlkfWApO1xuXHRcdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0obG9jYWxTdHJlYW1zW2ldLCBsb2NhbHN0cmVhbS5nZXRWaWRlb1N0cmVhbSgpKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAobG9jYWxzdHJlYW0uZ2V0VmlkZW9TdHJlYW0oKSkge1xuXHRcdFx0XHRcdGluaXRsb2NhbFN0cmVhbSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxvY2Fsc3RyZWFtLmFkZFZpZGVvTGlzdGVuZXIoaW5pdGxvY2FsU3RyZWFtKTtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5pbml0VmlkZW8oKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChhY3Rpb25UeXBlID09PSB2YXJzLkFDVElPTl9UWVBFX0FVRElPKSB7XG5cdFx0XHRcdGluaXRsb2NhbFN0cmVhbSA9ICgpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0bG9jYWxTdHJlYW0paW5pdGxvY2FsU3RyZWFtX2F1ZGlvJyk7XG5cdFx0XHRcdFx0aWYgKGxvY2Fsc3RyZWFtLmdldEF1ZGlvU3RyZWFtKCkgJiYgbG9jYWxzdHJlYW0uZ2V0QXVkaW9TdHJlYW0oKS5jbG9uZSAmJiB0eXBlb2YgbG9jYWxzdHJlYW0uZ2V0QXVkaW9TdHJlYW0oKS5jbG9uZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0XHRzZW50U3RyZWFtID0gbG9jYWxzdHJlYW0uZ2V0QXVkaW9TdHJlYW0oKS5jbG9uZSgpO1xuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRzZW50U3RyZWFtID0gbG9jYWxzdHJlYW0uZ2V0QXVkaW9TdHJlYW0oKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKGlzQXVkaW9NdXRlKSB7XG5cdFx0XHRcdFx0XHRfbXV0ZUF1ZGlvKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChpc1ZpZGVvTXV0ZSkge1xuXHRcdFx0XHRcdFx0X211dGVWaWRlbygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRwYy5hZGRTdHJlYW0oc2VudFN0cmVhbSk7XG5cdFx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0cmVhbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2luaXRsb2NhbFN0cmVhbSlzdGFja0lkPSR7c3RhY2tJZH0gcmVuZGVyaW5nIGxvY2FsIEF1ZGlvIHRvICR7bG9jYWxTdHJlYW1zW2ldLmlkfWApO1xuXHRcdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0obG9jYWxTdHJlYW1zW2ldLCBsb2NhbHN0cmVhbS5nZXRBdWRpb1N0cmVhbSgpKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRpZiAoY2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRcdGNhbGxiYWNrKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAobG9jYWxzdHJlYW0uZ2V0QXVkaW9TdHJlYW0oKSkge1xuXHRcdFx0XHRcdGluaXRsb2NhbFN0cmVhbSgpO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxvY2Fsc3RyZWFtLmFkZEF1ZGlvTGlzdGVuZXIoaW5pdGxvY2FsU3RyZWFtKTtcblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5pbml0QXVkaW8oKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIGlmIChhY3Rpb25UeXBlID09PSBhY3Rpb25zLkFDVElPTl9UWVBFX0FVRElPX1ZJREVPKSB7XG5cdFx0XHRcdGluaXRsb2NhbFN0cmVhbSA9ICgpID0+IHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZygnKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0bG9jYWxTdHJlYW0paW5pdGxvY2FsU3RyZWFtX2F1ZGlvX3ZpZGVvJyk7XG5cdFx0XHRcdFx0Ly8gaWYgKGxvY2Fsc3RyZWFtLmdldEF1ZGlvVmlkZW9TdHJlYW0oKSAmJiBsb2NhbHN0cmVhbS5nZXRBdWRpb1ZpZGVvU3RyZWFtKCkuY2xvbmUgJiYgdHlwZW9mIGxvY2Fsc3RyZWFtLmdldEF1ZGlvVmlkZW9TdHJlYW0oKS5jbG9uZSA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Ly8gXHRzZW50U3RyZWFtID0gbG9jYWxzdHJlYW0uZ2V0QXVkaW9WaWRlb1N0cmVhbSgpLmNsb25lKCk7XG5cdFx0XHRcdFx0Ly8gfSBlbHNlIHtcblx0XHRcdFx0XHRzZW50U3RyZWFtID0gbG9jYWxzdHJlYW0uZ2V0QXVkaW9WaWRlb1N0cmVhbSgpO1xuXHRcdFx0XHRcdC8vIH1cblx0XHRcdFx0XHRsb2NhbHN0cmVhbS5hZGRTdHJlYW1BdWRpb1ZpZGVvTGlzdGVuZXIoKHN0cmVhbSkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6d2VicnRjOjphZGRTdHJlYW1BdWRpb1ZpZGVvTGlzdGVuZXIpJyk7XG5cdFx0XHRcdFx0XHRpZiAocGMpIHtcdFx0XHRcdFx0XG5cdFx0XHRcdFx0XHRcdGlmKHdlYnJ0Y0RldGVjdGVkQnJvd3NlciA9PT0nZmlyZWZveCcpe1xuXHRcdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHdlYnJ0Y0RldGVjdGVkQnJvd3Nlcik7XG5cdFx0XHRcdFx0XHRcdFx0cGMuZ2V0U2VuZGVycygpLmZvckVhY2goc2VuZGVyID0+XG5cdFx0XHRcdFx0XHRcdFx0c2VudFN0cmVhbS5nZXRUcmFja3MoKS5pbmNsdWRlcyhzZW5kZXIudHJhY2spICYmIFxuXHRcdFx0XHRcdFx0XHRcdHBjLnJlbW92ZVRyYWNrKHNlbmRlcikpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGVsc2V7XG5cdFx0XHRcdFx0XHRcdFx0cGMucmVtb3ZlU3RyZWFtKHNlbnRTdHJlYW0pO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdHNlbnRTdHJlYW09c3RyZWFtO1xuXHRcdFx0XHRcdFx0XHRpZiAoaXNBdWRpb011dGUpIHtcblx0XHRcdFx0XHRcdFx0XHRfbXV0ZUF1ZGlvKCk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0aWYgKGlzVmlkZW9NdXRlKSB7XG5cdFx0XHRcdFx0XHRcdFx0X211dGVWaWRlbygpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHN0cmVhbSk7XG5cdFx0XHRcdFx0XHRcdHBjLmFkZFN0cmVhbShzdHJlYW0pO1xuXG5cdFx0XHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdHJlYW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2coYChSZWFjaFNESzo6d2VicnRjOjphZGRTdHJlYW1BdWRpb1ZpZGVvTGlzdGVuZXIpc3RhY2tJZD0ke3N0YWNrSWR9IHJlbmRlcmluZyBsb2NhbCBBdWRpb1ZpZGVvIHRvICR7bG9jYWxTdHJlYW1zW2ldLmlkfWApO1xuXHRcdFx0XHRcdFx0XHRcdGF0dGFjaE1lZGlhU3RyZWFtKGxvY2FsU3RyZWFtc1tpXSwgc3RyZWFtKTtcblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHRcblx0XHRcdFx0XHRcdFx0X2luaXRTZHBDYWxsYmFja3ModHJ1ZSk7XG5cdFx0XHRcdFx0XHRcdHNlbmRPZmZlcigpO1x0XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0aWYgKGlzQXVkaW9NdXRlKSB7XG5cdFx0XHRcdFx0XHRfbXV0ZUF1ZGlvKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmIChpc1ZpZGVvTXV0ZSkge1xuXHRcdFx0XHRcdFx0X211dGVWaWRlbygpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdHBjLmFkZFN0cmVhbShzZW50U3RyZWFtKTtcblxuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbG9jYWxTdHJlYW1zLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9pbml0bG9jYWxTdHJlYW0pc3RhY2tJZD0ke3N0YWNrSWR9IHJlbmRlcmluZyBsb2NhbCBBdWRpb1ZpZGVvIHRvICR7bG9jYWxTdHJlYW1zW2ldLmlkfWApO1xuXHRcdFx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0obG9jYWxTdHJlYW1zW2ldLCBsb2NhbHN0cmVhbS5nZXRBdWRpb1ZpZGVvU3RyZWFtKCkpO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGlmIChjYWxsYmFjayAmJiB0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdFx0XHR9XG5cblxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAobG9jYWxzdHJlYW0uZ2V0QXVkaW9WaWRlb1N0cmVhbSgpKSB7XG5cdFx0XHRcdFx0aW5pdGxvY2FsU3RyZWFtKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bG9jYWxzdHJlYW0uYWRkQXVkaW9WaWRlb0xpc3RlbmVyKGluaXRsb2NhbFN0cmVhbSk7XG5cdFx0XHRcdFx0bG9jYWxzdHJlYW0uaW5pdEF1ZGlvVmlkZW8oKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRjb25zb2xlLndhcm4oJyhSZWFjaFNESzo6d2VicnRjOjpfaW5pdGxvY2FsU3RyZWFtKW5vIGFjdGlvblR5cGUgc3BlY2lmaWVkJyk7XG5cdFx0fVxuXG5cdH1cblxuXHQvKipcblx0ICogQ2xvc2VzIHRoZSBTRFAgY2FsbGJhY2tzIGJ5IGRpc2FibGluZyBjYWxsYmFja3MgZm9yIHRoZSBcImNoaWxkX2FkZGVkXCIgZXZlbnQgYW5kIGJ5IGRlZmluaW5nIHRoZW0gdG8gbnVsbC5cblx0ICovXG5cdGZ1bmN0aW9uIF9jbG9zZVNkcENhbGxiYWNrcygpIHtcblx0XHRpZiAoc2RwQW5zd2VyQ2IpIHtcblx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHNkcEFuc3dlckNiKTtcblx0XHRcdHNkcEFuc3dlckNiID0gbnVsbDtcblx0XHR9XG5cdFx0aWYgKHNkcE9mZmVyQ2IpIHtcblx0XHRcdHJlbW90ZURhdGFSZWYub2ZmKCdjaGlsZF9hZGRlZCcsIHNkcE9mZmVyQ2IpO1xuXHRcdFx0c2RwT2ZmZXJDYiA9IG51bGw7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIENsb3NlcyB0aGUgY29ubmVjdGlvbiBhbmQgdHJpZ2dlcnMgdGhlIGNhbGxiYWNrIHdoZW4gdGhlIG9wZXJhdGlvbiBpcyBkb25lXG5cdCAqIEBwYXJhbSBjYWxsYmFja1xuXHQgKi9cblx0ZnVuY3Rpb24gX2Nsb3NlKGNhbGxiYWNrKSB7XG5cblx0XHRpZiAoIWNsb3NlSW5Qcm9ncmVzcyAmJiAhaXNDbG9zZWQpIHtcblx0XHRcdGNsb3NlSW5Qcm9ncmVzcyA9IHRydWU7XG5cdFx0XHRvbkNsb3NlQ2IyID0gY2FsbGJhY2s7XG5cdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1jbG9zaW5nIHdlYnJ0YyBzdGFja2ApO1xuXHRcdFx0aWYgKHBjKSB7XG5cdFx0XHRcdHBjLmNsb3NlKCk7XG5cblx0XHRcdH1cblxuXHRcdFx0Ly8gcmVtb3ZlIHdlYmNvbSBjYWxsYmFja3Ncblx0XHRcdGlmIChyZW1vdGVkYXRhcmVmQ2IpIHtcblx0XHRcdFx0cmVtb3RlRGF0YVJlZi5vZmYoJ2NoaWxkX2FkZGVkJywgcmVtb3RlZGF0YXJlZkNiKTtcblx0XHRcdFx0cmVtb3RlZGF0YXJlZkNiID0gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGljZUNhbmRpZGF0ZXNMaXN0Q2IpIHtcblx0XHRcdFx0c3RvcExpc3RlbmluZ1RvUmVtb3RlSWNlQ2FuZGlkYXRlKCk7XG5cdFx0XHRcdGljZUNhbmRpZGF0ZXNMaXN0Q2IgPSBudWxsO1xuXHRcdFx0fVxuXHRcdFx0X2Nsb3NlU2RwQ2FsbGJhY2tzKCk7XG5cblx0XHRcdC8vIHJlbW92ZSB3ZWJjb20gZGF0YVxuLy9cdFx0XHRsb2NhbERhdGFSZWYucGFyZW50KCkub25EaXNjb25uZWN0KCkuY2FuY2VsKCk7XG4vL1x0XHRcdGxvY2FsRGF0YVJlZi5wYXJlbnQoKS5vbkRpc2Nvbm5lY3QoKS5yZW1vdmUoKTtcblx0XHRcdC8vcmVtb3RlRGF0YVJlZi5yZW1vdmUoKTtcblxuXHRcdFx0Ly8gc3RvcCB2aWRlb1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsb2NhbFN0cmVhbXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0aWYgKGxvY2FsU3RyZWFtc1tpXSkge1xuXHRcdFx0XHRcdC8vbG9jYWxTdHJlYW1zW2ldLnNyYz1cIlwiOyBub3Qgc3VwcG9ydGVkIGJ5IEZpcmVmb3hcblx0XHRcdFx0XHRkZXRhY2hNZWRpYVN0cmVhbShsb2NhbFN0cmVhbXNbaV0pO1xuXHRcdFx0XHRcdC8vbG9jYWxTdHJlYW1zW2ldLnJlbW92ZUF0dHJpYnV0ZShcInNyY1wiKTtcblx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1zdG9wcGluZyBsb2NhbCB2aWRlbyB0byAke2xvY2FsU3RyZWFtc1tpXS5pZH1gKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0Zm9yIChsZXQgaiA9IDA7IGogPCByZW1vdGVTdHJlYW1zLmxlbmd0aDsgaisrKSB7XG5cdFx0XHRcdGlmIChyZW1vdGVTdHJlYW1zW2pdKSB7XG5cdFx0XHRcdFx0Ly9yZW1vdGVTdHJlYW1zW2pdLnNyYz1cIlwiOyBub3Qgc3VwcG9ydGVkIGJ5IEZpcmVmb3hcblx0XHRcdFx0XHRkZXRhY2hNZWRpYVN0cmVhbShyZW1vdGVTdHJlYW1zW2pdKTtcblx0XHRcdFx0XHQvL3JlbW90ZVN0cmVhbXNbal0ucmVtb3ZlQXR0cmlidXRlKFwic3JjXCIpO1xuXHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpfY2xvc2Upc3RhY2tJZD0ke3N0YWNrSWR9LXN0b3BwaW5nIHJlbW90ZSB2aWQgdG8gJHtyZW1vdGVTdHJlYW1zW2pdLmlkfWApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblxuXHRcdFx0aXNDbG9zZWQgPSB0cnVlO1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9jbG9zZSlzdGFja0lkPSR7c3RhY2tJZH0tY2xvc2luZyB3ZWJydGMgc3RhY2sgLT4gd2FpdGluZyBmb3IgSUNFX0NPTk5FQ1RJT05fU1RBVEVfRElTQ09OTkVDVEVEYCk7XG5cdFx0XHRpZiAoaXNDbG9zZWQgJiYgKGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRElTQ09OTkVDVEVEIHx8IGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0xPU0VEIHx8IGljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRkFJTEVEKSkge1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1jbG9zZWQgd2VicnRjIHN0YWNrIGNvbXBsZXRlYCk7XG5cdFx0XHRcdHBjID0gbnVsbDtcblx0XHRcdFx0Y2xvc2VJblByb2dyZXNzID0gZmFsc2U7XG5cdFx0XHRcdHdlYnJ0Y21uZ3IuY2xlYXJXZWJydGNTdGFja3Mod2VicnRjU3RhY2tJZCk7XG5cdFx0XHRcdGlmIChvbkNsb3NlQ2IyICYmIHR5cGVvZiBvbkNsb3NlQ2IyID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRvbkNsb3NlQ2IyKCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9jbG9zZSlzdGFja0lkPSR7c3RhY2tJZH0tY2xvc2luZyB3ZWJydGMgc3RhY2sgYWxyZWFkeSBpbiBwcm9ncmVzc2ApO1xuXHRcdH1cblx0fVxuXG5cdGZ1bmN0aW9uIF9jb25uZWN0TG9jYWxTdHJlYW0odmlkZW9FbHQsIGdldFN0cmVhbUNiKSB7XG5cdFx0aWYgKGFjdGlvblR5cGUpIHtcblx0XHRcdGlmIChhY3Rpb25UeXBlID09PSBhY3Rpb25zLkFDVElPTl9UWVBFX1ZJREVPKSB7XG5cdFx0XHRcdGxvY2Fsc3RyZWFtLmNvbm5lY3RMb2NhbFZpZGVvU3RyZWFtKHZpZGVvRWx0LCBnZXRTdHJlYW1DYik7XG5cdFx0XHR9IGVsc2UgaWYgKGFjdGlvblR5cGUgPT09IGFjdGlvbnMuQUNUSU9OX1RZUEVfQVVESU8pIHtcblx0XHRcdFx0bG9jYWxzdHJlYW0uY29ubmVjdExvY2FsQXVkaW9TdHJlYW0odmlkZW9FbHQsIGdldFN0cmVhbUNiKTtcblx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uVHlwZSA9PT0gYWN0aW9ucy5BQ1RJT05fVFlQRV9BVURJT19WSURFTykge1xuXHRcdFx0XHRsb2NhbHN0cmVhbS5jb25uZWN0TG9jYWxBdWRpb1ZpZGVvU3RyZWFtKHZpZGVvRWx0LCBnZXRTdHJlYW1DYik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0ZnVuY3Rpb24gX2Nvbm5lY3RSZW1vdGVTdHJlYW0odmlkZW9FbHQsIGdldFN0cmVhbUNiKSB7XG5cdFx0aWYgKHZpZGVvRWx0KSB7XG5cdFx0XHRpZiAocmVjZWl2ZWRTdHJlYW0pIHtcblx0XHRcdFx0YXR0YWNoTWVkaWFTdHJlYW0odmlkZW9FbHQsIHJlY2VpdmVkU3RyZWFtKTtcblx0XHRcdFx0aWYgKGdldFN0cmVhbUNiICYmIHR5cGVvZiBnZXRTdHJlYW1DYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0Z2V0U3RyZWFtQ2IocmVjZWl2ZWRTdHJlYW0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZW1vdGVTdHJlYW1zLnB1c2godmlkZW9FbHQpO1xuXHRcdFx0XHRpZiAoZ2V0U3RyZWFtQ2IgJiYgdHlwZW9mIGdldFN0cmVhbUNiID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRyZW1vdGVTdHJlYW1zQ2IucHVzaChnZXRTdHJlYW1DYik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0aWYgKHJlY2VpdmVkU3RyZWFtKSB7XG5cdFx0XHRcdGlmIChnZXRTdHJlYW1DYiAmJiB0eXBlb2YgZ2V0U3RyZWFtQ2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGdldFN0cmVhbUNiKHJlY2VpdmVkU3RyZWFtKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0aWYgKGdldFN0cmVhbUNiICYmIHR5cGVvZiBnZXRTdHJlYW1DYiA9PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRcdFx0cmVtb3RlU3RyZWFtc0NiLnB1c2goZ2V0U3RyZWFtQ2IpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHR9XG5cdH1cblxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgcGVlciBjb25uZWN0aW9uXG5cdCAqL1xuXHRmdW5jdGlvbiBpbml0X3BjKCkge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6aW5pdF9wYylzdGFja0lkPSR7c3RhY2tJZH1fY29uZmlnPWAsIEpTT04uc3RyaW5naWZ5KGNvbmZpZykpO1xuXHRcdC8vIFRPRE8gdGVzdCBpcyBjb25maWcgaXMgbWFsZm9ybWF0ZWQgb3IgZW1wdHlcblx0XHRwYyA9IG5ldyBteVBlZXJDb25uZWN0aW9uKGNvbmZpZywgb3B0aW9uYWwpO1xuXG5cblx0XHQvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblx0XHQvLyBSZWNlaXZlZCBJY2UgY2FuZGlkYXRlIGZyb20gdGhlIHN0YWNrOiBzZW5kIGl0IHRvIHRoZSBwZWVyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0cGMub25pY2VjYW5kaWRhdGUgPSBmdW5jdGlvbiAoZSkge1xuXHRcdFx0aWYgKGUuY2FuZGlkYXRlKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6cGMub25pY2VjYW5kaWRhdGUpc3RhY2tJZD0ke3N0YWNrSWR9IHNlbmQgaWNlIGNhbmRpZGF0ZT0ke0pTT04uc3RyaW5naWZ5KGUuY2FuZGlkYXRlKX1gKTtcblx0XHRcdFx0bG9jYWxEYXRhUmVmLmNoaWxkKCdpY2VDYW5kaWRhdGVzTGlzdCcpLnB1c2goe1xuXHRcdFx0XHRcdGxhYmVsOiBlLmNhbmRpZGF0ZS5zZHBNTGluZUluZGV4LFxuXHRcdFx0XHRcdGlkOiBlLmNhbmRpZGF0ZS5zZHBNaWQsXG5cdFx0XHRcdFx0Y2FuZGlkYXRlOiBlLmNhbmRpZGF0ZS5jYW5kaWRhdGVcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG5cdFx0fTtcblxuXHRcdC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXHRcdC8vIFJlY2VpdmVkIGEgcmVtb3RlIHN0cmVhbSBmcm9tIHRoZSBzdGFjazogcGxheSBpdCBvbiB0aGUgdmlkZW8gcGxheWVyXG5cdFx0Ly8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cdFx0cGMub25hZGRzdHJlYW0gPSBmdW5jdGlvbiAoZSkge1xuXHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Om9uYWRkc3RyZWFtKXN0YWNrSWQ9JHtzdGFja0lkfS1zdHJlYW06JHtKU09OLnN0cmluZ2lmeShlLnN0cmVhbSl9YCk7XG5cdFx0XHRpZiAoZSAmJiBlLnN0cmVhbSkge1xuXHRcdFx0XHRyZWNlaXZlZFN0cmVhbSA9IGUuc3RyZWFtO1xuXHRcdFx0XHRpZiAoaXNBdWRpb011dGUpIHtcblx0XHRcdFx0XHRfbXV0ZUF1ZGlvKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKGlzVmlkZW9NdXRlKSB7XG5cdFx0XHRcdFx0X211dGVWaWRlbygpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRpZiAoKHBjLmljZUNvbm5lY3Rpb25TdGF0ZT09PUlDRV9DT05ORUNUSU9OX1NUQVRFX0NPTk5FQ1RFRCB8fCBwYy5pY2VDb25uZWN0aW9uU3RhdGU9PT1JQ0VfQ09OTkVDVElPTl9TVEFURV9DT01QTEVURUQgfHwgcGMuaWNlQ29ubmVjdGlvblN0YXRlPT09SUNFX0NPTk5FQ1RJT05fU1RBVEVfT1RIRVIpICYmIHJlY2VpdmVkU3RyZWFtICkge1xuXHRcdFx0XHRmb3IgKGxldCBpPTA7aTxyZW1vdGVTdHJlYW1zLmxlbmd0aDtpKyspIHtcblx0XHRcdFx0XHRpZiAocmVtb3RlU3RyZWFtc1tpXSkge1xuXHRcdFx0XHRcdFx0Ly9jb25zb2xlLmRlYnVnKGAod2ViY29tU0RLOjp3ZWJydGM6Om9uYWRkc3RyZWFtKXBjLm9uYWRkc3RyZWFtIHN0YWNrSWQ9JHtzdGFja0lkfS1yZW5kZXJpbmcgcmVtb3RlIHZpZCB0byAke3JlbW90ZVN0cmVhbXNbaV0uaWR9YCk7XG5cdFx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbSggcmVtb3RlU3RyZWFtc1tpXSxyZWNlaXZlZFN0cmVhbSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdGZvciAobGV0IGo9MDtqPHJlbW90ZVN0cmVhbXNDYi5sZW5ndGg7aisrKSB7XG5cdFx0XHRcdFx0aWYgKHJlbW90ZVN0cmVhbXNDYltqXSkge1xuXHRcdFx0XHRcdFx0cmVtb3RlU3RyZWFtc0NiW2pdKHJlY2VpdmVkU3RyZWFtKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmVtb3RlU3RyZWFtc0NiPVtdO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRwYy5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSA9ICgpID0+IHtcblxuXHRcdFx0aWYgKCEhcGMgJiYgcGMuaWNlQ29ubmVjdGlvblN0YXRlID09PSBJQ0VfQ09OTkVDVElPTl9TVEFURV9DSEVDS0lORykge1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6b25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2Upc3RhY2tJZD0ke3N0YWNrSWR9LWNoZWNraW5nYCk7XG5cdFx0XHRcdGljZUNvbm5lY3Rpb25TdGF0ZSA9IElDRV9DT05ORUNUSU9OX1NUQVRFX0NIRUNLSU5HO1xuXHRcdFx0fSBlbHNlIGlmICghIXBjICYmIHBjLmljZUNvbm5lY3Rpb25TdGF0ZSA9PT0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ09OTkVDVEVEKSB7XG5cdFx0XHRcdGljZUNvbm5lY3Rpb25TdGF0ZSA9IElDRV9DT05ORUNUSU9OX1NUQVRFX0NPTk5FQ1RFRDtcblx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Om9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKXN0YWNrSWQ9JHtzdGFja0lkfS1jb25uZWN0ZWRgKTtcblx0XHRcdFx0aWYgKHJlY2VpdmVkU3RyZWFtKSB7XG5cdFx0XHRcdFx0cmVtb3RlU3RyZWFtcy5mb3JFYWNoKChyZW1vdGVTdHJlYW0pID0+IHtcblx0XHRcdFx0XHRcdGlmKHJlbW90ZVN0cmVhbSkge1xuXHRcdFx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6b25hZGRzdHJlYW0pcGMub25hZGRzdHJlYW0gc3RhY2tJZD0ke3N0YWNrSWR9LXJlbmRlcmluZyByZW1vdGUgdmlkIHRvICR7cmVtb3RlU3RyZWFtLmlkfWApO1xuXHRcdFx0XHRcdFx0XHRhdHRhY2hNZWRpYVN0cmVhbShyZW1vdGVTdHJlYW0sIHJlY2VpdmVkU3RyZWFtKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRyZW1vdGVTdHJlYW1zQ2IuZm9yRWFjaCgocmVtb3RlU3RyZWFtQ2IpID0+IHtcblx0XHRcdFx0XHRcdGlmKHJlbW90ZVN0cmVhbUNiKSB7XG5cdFx0XHRcdFx0XHRcdHJlbW90ZVN0cmVhbUNiKHJlY2VpdmVkU3RyZWFtKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRyZW1vdGVTdHJlYW1zQ2IgPSBbXTtcblx0XHRcdFx0fVxuXHRcdFx0XHRzdG9wTGlzdGVuaW5nVG9SZW1vdGVJY2VDYW5kaWRhdGUoKTtcblx0XHRcdH0gZWxzZSBpZiAoISFwYyAmJiBwYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0NPTVBMRVRFRCkge1xuXHRcdFx0XHRpY2VDb25uZWN0aW9uU3RhdGUgPSBJQ0VfQ09OTkVDVElPTl9TVEFURV9DT01QTEVURUQ7XG5cdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSlzdGFja0lkPSR7c3RhY2tJZH0tJHtJQ0VfQ09OTkVDVElPTl9TVEFURV9DT01QTEVURUR9YCk7XG5cdFx0XHRcdHN0b3BMaXN0ZW5pbmdUb1JlbW90ZUljZUNhbmRpZGF0ZSgpO1xuXHRcdFx0fVxuXHRcdFx0aWYgKCEhcGMgJiYgcGMuaWNlQ29ubmVjdGlvblN0YXRlID09PSBJQ0VfQ09OTkVDVElPTl9TVEFURV9ESVNDT05ORUNURUQpIHtcblx0XHRcdFx0aWNlQ29ubmVjdGlvblN0YXRlID0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfRElTQ09OTkVDVEVEO1xuXHRcdFx0XHRjb25zb2xlLmxvZyhgKFJlYWNoU0RLOjp3ZWJydGM6Om9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKXN0YWNrSWQ9JHtzdGFja0lkfS1yZW1vdGUgZGlzY29ubmVjdGlvbiwgY2xvc2luZyBwZWVyIGNvbm5lY3Rpb25gKTtcblx0XHRcdFx0Ly8gX2Nsb3NlKCk7XG5cdFx0XHR9IGVsc2UgaWYgKCEhcGMgJiYgcGMuaWNlQ29ubmVjdGlvblN0YXRlID09PSBJQ0VfQ09OTkVDVElPTl9TVEFURV9DTE9TRUQpIHtcblx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Om9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlKXN0YWNrSWQ9JHtzdGFja0lkfS1jbG9zZWRgKTtcblx0XHRcdFx0aWNlQ29ubmVjdGlvblN0YXRlID0gSUNFX0NPTk5FQ1RJT05fU1RBVEVfQ0xPU0VEO1xuXHRcdFx0XHRfY2xvc2UoKTtcblx0XHRcdH0gZWxzZSBpZiAoISFwYyAmJiBwYy5pY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0ZBSUxFRCkge1xuXHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6b25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2Upc3RhY2tJZD0ke3N0YWNrSWR9LWZhaWxlZGApO1xuXHRcdFx0XHRpY2VDb25uZWN0aW9uU3RhdGUgPSBJQ0VfQ09OTkVDVElPTl9TVEFURV9GQUlMRUQ7XG5cdFx0XHRcdC8vX2Nsb3NlKCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRpZiAocGMpIHtcblx0XHRcdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6b25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2Upc3RhY2tJZD0ke3N0YWNrSWR9LSR7cGMuaWNlQ29ubmVjdGlvblN0YXRlfWApO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGNvbnNvbGUuZGVidWcoYChSZWFjaFNESzo6d2VicnRjOjpvbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZSlzdGFja0lkPSR7c3RhY2tJZH0tcGMgPSBudWxsYCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRpY2VDb25uZWN0aW9uU3RhdGUgPSBJQ0VfQ09OTkVDVElPTl9TVEFURV9PVEhFUjtcblx0XHRcdH1cblxuXHRcdFx0aWYgKGlzQ2xvc2VkICYmIChpY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0RJU0NPTk5FQ1RFRCB8fCBpY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0NMT1NFRCB8fCBpY2VDb25uZWN0aW9uU3RhdGUgPT09IElDRV9DT05ORUNUSU9OX1NUQVRFX0ZBSUxFRCkpIHtcblx0XHRcdFx0Y29uc29sZS5kZWJ1ZyhgKFJlYWNoU0RLOjp3ZWJydGM6Ol9jbG9zZSlzdGFja0lkPSR7c3RhY2tJZH0tY2xvc2VkIHdlYnJ0YyBzdGFjayBjb21wbGV0ZWApO1xuXHRcdFx0XHRwYyA9IG51bGw7XG5cdFx0XHRcdGNsb3NlSW5Qcm9ncmVzcyA9IGZhbHNlO1xuXHRcdFx0XHR3ZWJydGNtbmdyLmNsZWFyV2VicnRjU3RhY2tzKHdlYnJ0Y1N0YWNrSWQpO1xuXHRcdFx0XHRpZiAob25DbG9zZUNiICYmIHR5cGVvZiBvbkNsb3NlQ2IgPT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdG9uQ2xvc2VDYigpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChvbkNsb3NlQ2IyICYmIHR5cGVvZiBvbkNsb3NlQ2IyID09ICdmdW5jdGlvbicpIHtcblx0XHRcdFx0XHRvbkNsb3NlQ2IyKCk7XG5cdFx0XHRcdH1cblxuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvLyBzdWJzY3JpYmUgdG8gcmVtb3RlIGRhdGFcblx0XHRpY2VDYW5kaWRhdGVzTGlzdENiID0gKHNuYXBzaG90KSA9PiB7XG5cdFx0XHRjb25zdFxuXHRcdFx0XHRkYXRhID0gc25hcHNob3QudmFsKCksXG5cdFx0XHRcdGNhbmRpZGF0ZSA9IG5ldyBteVJUQ0ljZUNhbmRpZGF0ZSh7XG5cdFx0XHRcdFx0c2RwTUxpbmVJbmRleDogZGF0YS5sYWJlbCxcblx0XHRcdFx0XHRjYW5kaWRhdGU6IGRhdGEuY2FuZGlkYXRlLFxuXHRcdFx0XHRcdHNkcE1pZDogZGF0YS5pZFxuXHRcdFx0XHR9KTtcblx0XHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6aWNlQ2FuZGlkYXRlc0xpc3RDYilzdGFja0lkPSR7c3RhY2tJZH1yZWNlaXZlZCBpY2UgY2FuZGlkYXRlPSR7SlNPTi5zdHJpbmdpZnkoY2FuZGlkYXRlKX1gKTtcblxuXHRcdFx0cGMuYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSk7XG5cdFx0XHQvLyByZW1vdmUgY2FuZGlkYXRlIGZyb20gd2ViY29tXG5cdFx0XHQvL3NuYXBzaG90LnJlZigpLnJlbW92ZSgpO1xuXHRcdH07XG5cblx0XHRpZiAoaXNQdWJsaXNoKSB7XG5cdFx0XHRfaW5pdGxvY2FsU3RyZWFtKCgpID0+IHtcblx0XHRcdFx0X2luaXRTZHBDYWxsYmFja3MoaXNQdWJsaXNoKTtcblx0XHRcdFx0c2VuZE9mZmVyKCk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0X2luaXRTZHBDYWxsYmFja3MoZmFsc2UpO1xuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBJbml0aWFsaXplcyB0aGUgb2JqZWN0XG5cdCAqL1xuXHQoKCkgPT4ge1xuXHRcdGNvbnNvbGUubG9nKGAoUmVhY2hTREs6OndlYnJ0Yzo6aW5pdClzdGFja0lkPSR7c3RhY2tJZH1gKTtcblx0XHQvLyBwZWVyY29ubmVjdGlvblxuXHRcdGlmICh0eXBlb2YoUlRDUGVlckNvbm5lY3Rpb24pID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRteVBlZXJDb25uZWN0aW9uID0gUlRDUGVlckNvbm5lY3Rpb247XG5cdFx0fVxuXHRcdGVsc2Uge1xuXHRcdFx0Y29uc29sZS5lcnJvcihgKFJlYWNoU0RLOjp3ZWJydGM6OmluaXQpc3RhY2tJZD0ke3N0YWNrSWR9IGVycm9yPVdlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhYCk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1dlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZihSVENTZXNzaW9uRGVzY3JpcHRpb24pID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRteVJUQ1Nlc3Npb25EZXNjcmlwdGlvbiA9IFJUQ1Nlc3Npb25EZXNjcmlwdGlvbjtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OndlYnJ0Yzo6aW5pdClzdGFja0lkPSR7c3RhY2tJZH0gZXJyb3IyPVdlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhYCk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1dlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHR5cGVvZihSVENJY2VDYW5kaWRhdGUpID09PSAnZnVuY3Rpb24nKSB7XG5cdFx0XHRteVJUQ0ljZUNhbmRpZGF0ZSA9IFJUQ0ljZUNhbmRpZGF0ZTtcblx0XHR9XG5cdFx0ZWxzZSB7XG5cdFx0XHRjb25zb2xlLmVycm9yKGAoUmVhY2hTREs6OndlYnJ0Yzo6aW5pdClzdGFja0lkPSR7c3RhY2tJZH0gZXJyb3IzPVdlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhYCk7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1dlYnJ0YyBpcyBub3Qgc3VwcG9ydGVkIG9uIHRoaXMgYnJvd3NlciAhJyk7XG5cdFx0fVxuXG5cdFx0aWYgKHBfbXV0ZUF1ZGlvKSB7XG5cdFx0XHRpc0F1ZGlvTXV0ZSA9IHRydWU7XG5cdFx0fVxuXHRcdGlmIChwX211dGVWaWRlbykge1xuXHRcdFx0aXNWaWRlb011dGUgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGdldEljZVNlcnZlcnNDb25maWdGcm9tU2VydmVyKChfY29uZmlnKSA9PiB7XG5cdFx0XHRjb25maWcgPSBfY29uZmlnO1xuXHRcdFx0Y29uc29sZS5sb2coJyhSZWFjaFNESzo6d2VicnRjOjopIHVzZSBzZXJ2ZXIgY29uZmlnPScsIEpTT04uc3RyaW5naWZ5KGNvbmZpZykpO1xuXHRcdFx0aW5pdF9wYygpO1xuXHRcdH0sICgpID0+IHtcblx0XHRcdGlmICh0eXBlb2YgREVGQVVMVF9JQ0VfQ09ORklHICE9PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRjb25maWcgPSBERUZBVUxUX0lDRV9DT05GSUc7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OndlYnJ0Yzo6KSB1c2UgREVGQVVMVF9JQ0VfQ09ORklHIGNvbmZpZz0nLCBKU09OLnN0cmluZ2lmeShjb25maWcpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKCcoUmVhY2hTREs6OndlYnJ0Yzo6KSBubyBpY2UgIGNvbmZpZycpO1xuXHRcdFx0fVxuXHRcdFx0aW5pdF9wYygpO1xuXHRcdH0pO1xuXG5cdH0pKCk7XG5cblx0Ly9pbml0KCk7XG5cblx0cmV0dXJuIHtcblxuXHRcdC8qKlxuXHRcdCAqIERlZmluZXMgdGhlIGNhbGxiYWNrIHRvIHRyaWdnZXIgc28gYXMgdG8gY2xvc2UgdGhlIGNvbW11bmljYXRpb25cblx0XHQgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYiAtIFRoZSBjYWxsYmFjayB0byB0cmlnZ2VyXG5cdFx0ICovXG5cdFx0c2V0T25DbG9zZTogKGNiKSA9PiB7XG5cdFx0XHRvbkNsb3NlQ2IgPSBjYjtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqIENsb3NlcyBhIGNhbGxiYWNrXG5cdFx0ICogQHBhcmFtIHtmdW5jdGlvbn0gY2IgLSBUaGUgY2FsbGJhY2sgdG8gY2xvc2Vcblx0XHQgKi9cblx0XHRjbG9zZTogKGNiKSA9PiB7XG5cdFx0XHRjb25zb2xlLmRlYnVnKGAoUmVhY2hTREs6OndlYnJ0Yzo6X2Nsb3NlKXN0YWNrSWQ9JHtzdGFja0lkfS1jbG9zZSByZXF1ZXN0ZWRgKTtcblx0XHRcdF9jbG9zZShjYik7XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqIENvbm5lY3QgYSBsb2NhbCBzdHJlYW0gdG8gYW4gZWxlbWVudCBhY2NvcmRpbmcgdG8gdGhlIGFjdGlvbiB0eXBlIGluIHVzZSAoQUNUSU9OX1RZUEVfVklERU8sIEFDVElPTl9UWVBFX0FVRElPLCBBQ1RJT05fVFlQRV9BVURJT19WSURFTylcblx0XHQgKiBAcGFyYW0gdmlkZW9FbHQgLSBUaGUgdmlkZW8gZWxlbWVudFxuXHRcdCAqIEBwYXJhbSBnZXRTdHJlYW1DYiAtIGEgY2FsbGJhY2sgZnVuY3Rpb24gdG8gcmV0cmlldmUgdGhlIG1lZGlhc3RyZWFtIG9iamVjdFxuXHRcdCAqL1xuXHRcdGNvbm5lY3RMb2NhbFN0cmVhbTogX2Nvbm5lY3RMb2NhbFN0cmVhbSxcblx0XHQvKipcblx0XHQgKiBDb25uZWN0IGEgcmVtb3RlIHN0cmVhbSB0byBhbiBlbGVtZW50XG5cdFx0ICogQHBhcmFtIHZpZGVvRWx0IC0gVGhlIHZpZGVvIGVsZW1lbnRcblx0XHQgKiBAcGFyYW0gZ2V0U3RyZWFtQ2IgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHJldHJpZXZlIHRoZSBtZWRpYXN0cmVhbSBvYmplY3Rcblx0XHQgKi9cblx0XHRjb25uZWN0UmVtb3RlU3RyZWFtOiBfY29ubmVjdFJlbW90ZVN0cmVhbSxcblx0XHQvKipcblx0XHQgKiBtdXRlIEF1ZGlvXG5cdFx0ICovXG5cdFx0bXV0ZUF1ZGlvOiBfbXV0ZUF1ZGlvLFxuXHRcdC8qKlxuXHRcdCAqIHVubXV0ZSBBdWRpb1xuXHRcdCAqL1xuXHRcdHVubXV0ZUF1ZGlvOiBfdW5tdXRlQXVkaW8sXG5cdFx0LyoqXG5cdFx0ICogbXV0ZSBWaWRlb1xuXHRcdCAqL1xuXHRcdG11dGVWaWRlbzogX211dGVWaWRlbyxcblx0XHQvKipcblx0XHQgKiB1bm11dGUgVmlkZW9cblx0XHQgKi9cblx0XHR1bm11dGVWaWRlbzogX3VubXV0ZVZpZGVvXG5cdH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCB3ZWJydGM7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9zcmMvd2VicnRjLmpzXG4gKiovIl0sInNvdXJjZVJvb3QiOiIifQ==